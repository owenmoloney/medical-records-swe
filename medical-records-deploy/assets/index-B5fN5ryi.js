(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function o1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vm={exports:{}},Yl={};var fE;function l1(){if(fE)return Yl;fE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Yl.Fragment=e,Yl.jsx=n,Yl.jsxs=n,Yl}var dE;function u1(){return dE||(dE=1,Vm.exports=l1()),Vm.exports}var A=u1(),km={exports:{}},be={};var mE;function c1(){if(mE)return be;mE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function N(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,P={};function $(V,te,oe){this.props=V,this.context=te,this.refs=P,this.updater=oe||U}$.prototype.isReactComponent={},$.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},$.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function W(){}W.prototype=$.prototype;function ie(V,te,oe){this.props=V,this.context=te,this.refs=P,this.updater=oe||U}var ue=ie.prototype=new W;ue.constructor=ie,G(ue,$.prototype),ue.isPureReactComponent=!0;var ye=Array.isArray;function se(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(V,te,oe){var he=oe.ref;return{$$typeof:r,type:V,key:te,ref:he!==void 0?he:null,props:oe}}function k(V,te){return C(V.type,te,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function z(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return te[oe]})}var D=/\/+/g;function Ke(V,te){return typeof V=="object"&&V!==null&&V.key!=null?z(""+V.key):te.toString(36)}function yt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(se,se):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,te,oe,he,Te){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case v:return Ue=V._init,X(Ue(V._payload),te,oe,he,Te)}}if(Ue)return Te=Te(V),Ue=he===""?"."+Ke(V,0):he,ye(Te)?(oe="",Ue!=null&&(oe=Ue.replace(D,"$&/")+"/"),X(Te,te,oe,"",function(xs){return xs})):Te!=null&&(O(Te)&&(Te=k(Te,oe+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+Ue)),te.push(Te)),1;Ue=0;var kt=he===""?".":he+":";if(ye(V))for(var at=0;at<V.length;at++)he=V[at],Ce=kt+Ke(he,at),Ue+=X(he,te,oe,Ce,Te);else if(at=N(V),typeof at=="function")for(V=at.call(V),at=0;!(he=V.next()).done;)he=he.value,Ce=kt+Ke(he,at++),Ue+=X(he,te,oe,Ce,Te);else if(Ce==="object"){if(typeof V.then=="function")return X(yt(V),te,oe,he,Te);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ae(V,te,oe){if(V==null)return V;var he=[],Te=0;return X(V,he,"","",function(Ce){return te.call(oe,Ce,Te++)}),he}function ge(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Qe={map:ae,forEach:function(V,te,oe){ae(V,function(){te.apply(this,arguments)},oe)},count:function(V){var te=0;return ae(V,function(){te++}),te},toArray:function(V){return ae(V,function(te){return te})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return be.Activity=T,be.Children=Qe,be.Component=$,be.Fragment=n,be.Profiler=o,be.PureComponent=ie,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,be.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},be.cache=function(V){return function(){return V.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(V,te,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var he=G({},V.props),Te=V.key;if(te!=null)for(Ce in te.key!==void 0&&(Te=""+te.key),te)!R.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(he[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)he.children=oe;else if(1<Ce){for(var Ue=Array(Ce),kt=0;kt<Ce;kt++)Ue[kt]=arguments[kt+2];he.children=Ue}return C(V.type,Te,he)},be.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},be.createElement=function(V,te,oe){var he,Te={},Ce=null;if(te!=null)for(he in te.key!==void 0&&(Ce=""+te.key),te)R.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=te[he]);var Ue=arguments.length-2;if(Ue===1)Te.children=oe;else if(1<Ue){for(var kt=Array(Ue),at=0;at<Ue;at++)kt[at]=arguments[at+2];Te.children=kt}if(V&&V.defaultProps)for(he in Ue=V.defaultProps,Ue)Te[he]===void 0&&(Te[he]=Ue[he]);return C(V,Ce,Te)},be.createRef=function(){return{current:null}},be.forwardRef=function(V){return{$$typeof:m,render:V}},be.isValidElement=O,be.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ge}},be.memo=function(V,te){return{$$typeof:g,type:V,compare:te===void 0?null:te}},be.startTransition=function(V){var te=I.T,oe={};I.T=oe;try{var he=V(),Te=I.S;Te!==null&&Te(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(se,je)}catch(Ce){je(Ce)}finally{te!==null&&oe.types!==null&&(te.types=oe.types),I.T=te}},be.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},be.use=function(V){return I.H.use(V)},be.useActionState=function(V,te,oe){return I.H.useActionState(V,te,oe)},be.useCallback=function(V,te){return I.H.useCallback(V,te)},be.useContext=function(V){return I.H.useContext(V)},be.useDebugValue=function(){},be.useDeferredValue=function(V,te){return I.H.useDeferredValue(V,te)},be.useEffect=function(V,te){return I.H.useEffect(V,te)},be.useEffectEvent=function(V){return I.H.useEffectEvent(V)},be.useId=function(){return I.H.useId()},be.useImperativeHandle=function(V,te,oe){return I.H.useImperativeHandle(V,te,oe)},be.useInsertionEffect=function(V,te){return I.H.useInsertionEffect(V,te)},be.useLayoutEffect=function(V,te){return I.H.useLayoutEffect(V,te)},be.useMemo=function(V,te){return I.H.useMemo(V,te)},be.useOptimistic=function(V,te){return I.H.useOptimistic(V,te)},be.useReducer=function(V,te,oe){return I.H.useReducer(V,te,oe)},be.useRef=function(V){return I.H.useRef(V)},be.useState=function(V){return I.H.useState(V)},be.useSyncExternalStore=function(V,te,oe){return I.H.useSyncExternalStore(V,te,oe)},be.useTransition=function(){return I.H.useTransition()},be.version="19.2.0",be}var pE;function Vp(){return pE||(pE=1,km.exports=c1()),km.exports}var j=Vp(),Pm={exports:{}},Xl={},Um={exports:{}},Lm={};var gE;function h1(){return gE||(gE=1,(function(r){function e(X,ae){var ge=X.length;X.push(ae);e:for(;0<ge;){var je=ge-1>>>1,Qe=X[je];if(0<o(Qe,ae))X[je]=ae,X[ge]=Qe,ge=je;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ae=X[0],ge=X.pop();if(ge!==ae){X[0]=ge;e:for(var je=0,Qe=X.length,V=Qe>>>1;je<V;){var te=2*(je+1)-1,oe=X[te],he=te+1,Te=X[he];if(0>o(oe,ge))he<Qe&&0>o(Te,oe)?(X[je]=Te,X[he]=ge,je=he):(X[je]=oe,X[te]=ge,je=te);else if(he<Qe&&0>o(Te,ge))X[je]=Te,X[he]=ge,je=he;else break e}}return ae}function o(X,ae){var ge=X.sortIndex-ae.sortIndex;return ge!==0?ge:X.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,T=null,w=3,N=!1,U=!1,G=!1,P=!1,$=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ue(X){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=X)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function ye(X){if(G=!1,ue(X),!U)if(n(p)!==null)U=!0,se||(se=!0,z());else{var ae=n(g);ae!==null&&yt(ye,ae.startTime-X)}}var se=!1,I=-1,R=5,C=-1;function k(){return P?!0:!(r.unstable_now()-C<R)}function O(){if(P=!1,se){var X=r.unstable_now();C=X;var ae=!0;try{e:{U=!1,G&&(G=!1,W(I),I=-1),N=!0;var ge=w;try{t:{for(ue(X),T=n(p);T!==null&&!(T.expirationTime>X&&k());){var je=T.callback;if(typeof je=="function"){T.callback=null,w=T.priorityLevel;var Qe=je(T.expirationTime<=X);if(X=r.unstable_now(),typeof Qe=="function"){T.callback=Qe,ue(X),ae=!0;break t}T===n(p)&&s(p),ue(X)}else s(p);T=n(p)}if(T!==null)ae=!0;else{var V=n(g);V!==null&&yt(ye,V.startTime-X),ae=!1}}break e}finally{T=null,w=ge,N=!1}ae=void 0}}finally{ae?z():se=!1}}}var z;if(typeof ie=="function")z=function(){ie(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ke=D.port2;D.port1.onmessage=O,z=function(){Ke.postMessage(null)}}else z=function(){$(O,0)};function yt(X,ae){I=$(function(){X(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(X){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var ge=w;w=ae;try{return X()}finally{w=ge}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=w;w=X;try{return ae()}finally{w=ge}},r.unstable_scheduleCallback=function(X,ae,ge){var je=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,X){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ge+Qe,X={id:v++,callback:ae,priorityLevel:X,startTime:ge,expirationTime:Qe,sortIndex:-1},ge>je?(X.sortIndex=ge,e(g,X),n(p)===null&&X===n(g)&&(G?(W(I),I=-1):G=!0,yt(ye,ge-je))):(X.sortIndex=Qe,e(p,X),U||N||(U=!0,se||(se=!0,z()))),X},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(X){var ae=w;return function(){var ge=w;w=ae;try{return X.apply(this,arguments)}finally{w=ge}}}})(Lm)),Lm}var yE;function f1(){return yE||(yE=1,Um.exports=h1()),Um.exports}var jm={exports:{}},Zt={};var _E;function d1(){if(_E)return Zt;_E=1;var r=Vp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},Zt.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:N}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var vE;function m1(){if(vE)return jm.exports;vE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jm.exports=d1(),jm.exports}var EE;function p1(){if(EE)return Xl;EE=1;var r=f1(),e=Vp(),n=m1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case $:return"Profiler";case P:return"StrictMode";case ye:return"Suspense";case se:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case ie:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:Ke(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Ke(t(i))}catch{}}return null}var yt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],Qe=-1;function V(t){return{current:t}}function te(t){0>Qe||(t.current=je[Qe],je[Qe]=null,Qe--)}function oe(t,i){Qe++,je[Qe]=t.current,t.current=i}var he=V(null),Te=V(null),Ce=V(null),Ue=V(null);function kt(t,i){switch(oe(Ce,i),oe(Te,t),oe(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?kv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=kv(i),t=Pv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(he),oe(he,t)}function at(){te(he),te(Te),te(Ce)}function xs(t){t.memoizedState!==null&&oe(Ue,t);var i=he.current,a=Pv(i,t.type);i!==a&&(oe(Te,t),oe(he,a))}function Ra(t){Te.current===t&&(te(he),te(Te)),Ue.current===t&&(te(Ue),Hl._currentValue=ge)}var Ca,Ia;function ci(t){if(Ca===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ca=i&&i[1]||"",Ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ca+t+Ia}var Ho=!1;function Ns(t,i){if(!t||Ho)return"";Ho=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var H=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){H=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){H=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var x=_.split(`
`),F=S.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===F.length)for(l=x.length-1,f=F.length-1;1<=l&&0<=f&&x[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==F[f]){var Y=`
`+x[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Ho=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ci(a):""}function Go(t,i){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return t.child!==i&&i!==null?ci("Suspense Fallback"):ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Ns(t.type,!1);case 11:return Ns(t.type.render,!1);case 1:return Ns(t.type,!0);case 31:return ci("Activity");default:return""}}function Ko(t){try{var i="",a=null;do i+=Go(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Pt=r.unstable_scheduleCallback,Dr=r.unstable_cancelCallback,Pf=r.unstable_shouldYield,zu=r.unstable_requestPaint,sn=r.unstable_now,Os=r.unstable_getCurrentPriorityLevel,Qo=r.unstable_ImmediatePriority,Yo=r.unstable_UserBlockingPriority,xr=r.unstable_NormalPriority,Uf=r.unstable_LowPriority,Bu=r.unstable_IdlePriority,qu=r.log,Fu=r.unstable_setDisableYieldValue,Xn=null,Ft=null;function Vn(t){if(typeof qu=="function"&&Fu(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Xn,t)}catch{}}var _t=Math.clz32?Math.clz32:Gu,Hu=Math.log,Da=Math.LN2;function Gu(t){return t>>>=0,t===0?32:31-(Hu(t)/Da|0)|0}var hi=256,Ms=262144,At=4194304;function fi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=fi(l):(_&=S,_!==0?f=fi(_):a||(a=S&~t,a!==0&&(f=fi(a))))):(S=l&~d,S!==0?f=fi(S):_!==0?f=fi(_):a||(a=l&~t,a!==0&&(f=fi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function $n(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Lf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ku(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function mi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Vs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,x=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-_t(a),Z=1<<Y;S[Y]=0,x[Y]=-1;var H=F[Y];if(H!==null)for(F[Y]=null,Y=0;Y<H.length;Y++){var Q=H[Y];Q!==null&&(Q.lane&=-536870913)}a&=~Z}l!==0&&ks(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ks(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-_t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Xo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-_t(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function $o(t,i){var a=i&-i;return a=(a&42)!==0?1:Ps(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:sE(t.type))}function Wn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Jn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Jn,jt="__reactProps$"+Jn,pi="__reactContainer$"+Jn,xa="__reactEvents$"+Jn,zf="__reactListeners$"+Jn,Yu="__reactHandles$"+Jn,Xu="__reactResources$"+Jn,gi="__reactMarker$"+Jn;function Na(t){delete t[wt],delete t[jt],delete t[xa],delete t[zf],delete t[Yu]}function yi(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[pi]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Fv(t);t!==null;){if(a=t[wt])return a;t=Fv(t)}return i}t=a,a=t.parentNode}return null}function kn(t){if(t=t[wt]||t[pi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Sn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function _i(t){var i=t[Xu];return i||(i=t[Xu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Rt(t){t[gi]=!0}var Wo=new Set,Jo={};function vi(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(Jo[t]=i,t=0;t<i.length;t++)Wo.add(i[t])}var Zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),el={},tl={};function $u(t){return bt.call(tl,t)?!0:bt.call(el,t)?!1:Zo.test(t)?tl[t]=!0:(el[t]=!0,!1)}function Oa(t,i,a){if($u(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function bn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ct(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function nl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=Nr(t)?"checked":"value";t._valueTracker=nl(t,i,""+t[i])}}function Us(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Nr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ls=/[\n"\\]/g;function cn(t){return t.replace(Ls,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ma(t,i,a,l,f,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?il(t,_,zt(i)):a!=null?il(t,_,zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+zt(S):t.removeAttribute("name")}function Wu(t,i,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function il(t,i,a){i==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Or(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Ju(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function Mr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(yt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function hn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Zu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function sl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&rl(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&rl(t,d,i[d])}function Va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(t){return Vr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var al=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kr=null,Si=null;function js(t){var i=kn(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ma(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[jt]||null;if(!f)throw Error(s(90));Ma(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Us(l)}break e;case"textarea":Ju(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Or(t,!!a.multiple,i,!1)}}}var Pa=!1;function Pr(t,i,a){if(Pa)return t(i,a);Pa=!0;try{var l=t(i);return l}finally{if(Pa=!1,(kr!==null||Si!==null)&&(Qc(),kr&&(i=kr,t=Si,Si=kr=null,js(i),t)))for(i=0;i<t.length;i++)js(t[i])}}function ei(t,i){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(Un)try{var We={};Object.defineProperty(We,"passive",{get:function(){zs=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{zs=!1}var bi=null,ol=null,Bs=null;function ll(){if(Bs)return Bs;var t,i=ol,a=i.length,l,f="value"in bi?bi.value:bi.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Bs=f.slice(t,1<l?1-l:void 0)}function qs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function ti(){return!1}function Ht(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xi:ti,this.isPropagationStopped=ti,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),i}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Ht($i),Ur=T({},$i,{view:0,detail:0}),ul=Ht(Ur),Lr,Ua,wi,La=T({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Lr=t.screenX-wi.screenX,Ua=t.screenY-wi.screenY):Ua=Lr=0,wi=t),Lr)},movementY:function(t){return"movementY"in t?t.movementY:Ua}}),cl=Ht(La),Fs=T({},La,{dataTransfer:0}),tc=Ht(Fs),nc=T({},Ur,{relatedTarget:0}),Hs=Ht(nc),hl=T({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),ic=Ht(hl),ja=T({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rc=Ht(ja),sc=T({},$i,{data:0}),Ri=Ht(sc),ac={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=lc[t])?!!i[t]:!1}function jr(){return uc}var an=T({},Ur,{key:function(t){if(t.key){var i=ac[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(t){return t.type==="keypress"?qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cc=Ht(an),hc=T({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Ht(hc),c=T({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),y=Ht(c),E=T({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ht(E),B=T({},La,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ht(B),re=T({},$i,{newState:0,oldState:0}),we=Ht(re),vt=[9,13,27,32],qe=Un&&"CompositionEvent"in window,ot=null;Un&&"documentMode"in document&&(ot=document.documentMode);var Ln=Un&&"TextEvent"in window&&!ot,Ci=Un&&(!qe||ot&&8<ot&&11>=ot),ni=" ",ii=!1;function Gs(t,i){switch(t){case"keyup":return vt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function za(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ba=!1;function NA(t,i){switch(t){case"compositionend":return za(i);case"keypress":return i.which!==32?null:(ii=!0,ni);case"textInput":return t=i.data,t===ni&&ii?null:t;default:return null}}function OA(t,i){if(Ba)return t==="compositionend"||!qe&&Gs(t,i)?(t=ll(),Bs=ol=bi=null,Ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ci&&i.locale!=="ko"?null:i.data;default:return null}}var MA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!MA[t.type]:i==="textarea"}function Qg(t,i,a,l){kr?Si?Si.push(l):Si=[l]:kr=l,i=eh(i,"onChange"),0<i.length&&(a=new Ai("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var fl=null,dl=null;function VA(t){Dv(t,0)}function fc(t){var i=Sn(t);if(Us(i))return t}function Yg(t,i){if(t==="change")return i}var Xg=!1;if(Un){var Bf;if(Un){var qf="oninput"in document;if(!qf){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),qf=typeof $g.oninput=="function"}Bf=qf}else Bf=!1;Xg=Bf&&(!document.documentMode||9<document.documentMode)}function Wg(){fl&&(fl.detachEvent("onpropertychange",Jg),dl=fl=null)}function Jg(t){if(t.propertyName==="value"&&fc(dl)){var i=[];Qg(i,dl,t,Pn(t)),Pr(VA,i)}}function kA(t,i,a){t==="focusin"?(Wg(),fl=i,dl=a,fl.attachEvent("onpropertychange",Jg)):t==="focusout"&&Wg()}function PA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fc(dl)}function UA(t,i){if(t==="click")return fc(i)}function LA(t,i){if(t==="input"||t==="change")return fc(i)}function jA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var An=typeof Object.is=="function"?Object.is:jA;function ml(t,i){if(An(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bt.call(i,f)||!An(t[f],i[f]))return!1}return!0}function Zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ey(t,i){var a=Zg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zg(a)}}function ty(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ty(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ny(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ti(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ti(t.document)}return i}function Ff(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var zA=Un&&"documentMode"in document&&11>=document.documentMode,qa=null,Hf=null,pl=null,Gf=!1;function iy(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gf||qa==null||qa!==Ti(l)||(l=qa,"selectionStart"in l&&Ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&ml(pl,l)||(pl=l,l=eh(Hf,"onSelect"),0<l.length&&(i=new Ai("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=qa)))}function Ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Fa={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Kf={},ry={};Un&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Qs(t){if(Kf[t])return Kf[t];if(!Fa[t])return t;var i=Fa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ry)return Kf[t]=i[a];return t}var sy=Qs("animationend"),ay=Qs("animationiteration"),oy=Qs("animationstart"),BA=Qs("transitionrun"),qA=Qs("transitionstart"),FA=Qs("transitioncancel"),ly=Qs("transitionend"),uy=new Map,Qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qf.push("scrollEnd");function ri(t,i){uy.set(t,i),vi(i,[t])}var dc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Ha=0,Yf=0;function mc(){for(var t=Ha,i=Yf=Ha=0;i<t;){var a=jn[i];jn[i++]=null;var l=jn[i];jn[i++]=null;var f=jn[i];jn[i++]=null;var d=jn[i];if(jn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&cy(a,f,d)}}function pc(t,i,a,l){jn[Ha++]=t,jn[Ha++]=i,jn[Ha++]=a,jn[Ha++]=l,Yf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xf(t,i,a,l){return pc(t,i,a,l),gc(t)}function Ys(t,i){return pc(t,null,null,i),gc(t)}function cy(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-_t(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function gc(t){if(50<Ul)throw Ul=0,rm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ga={};function HA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,i,a,l){return new HA(t,i,a,l)}function $f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,i){var a=t.alternate;return a===null?(a=wn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function hy(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function yc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")$f(t)&&(_=1);else if(typeof t=="string")_=Xw(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=wn(31,a,i,f),t.elementType=C,t.lanes=d,t;case G:return Xs(a.children,f,d,i);case P:_=8,f|=24;break;case $:return t=wn(12,a,i,f|2),t.elementType=$,t.lanes=d,t;case ye:return t=wn(13,a,i,f),t.elementType=ye,t.lanes=d,t;case se:return t=wn(19,a,i,f),t.elementType=se,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case W:_=9;break e;case ue:_=11;break e;case I:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=wn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Xs(t,i,a,l){return t=wn(7,t,l,i),t.lanes=a,t}function Wf(t,i,a){return t=wn(6,t,null,i),t.lanes=a,t}function fy(t){var i=wn(18,null,null,0);return i.stateNode=t,i}function Jf(t,i,a){return i=wn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var dy=new WeakMap;function zn(t,i){if(typeof t=="object"&&t!==null){var a=dy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ko(i)},dy.set(t,i),i)}return{value:t,source:i,stack:Ko(i)}}var Ka=[],Qa=0,_c=null,gl=0,Bn=[],qn=0,zr=null,Ii=1,Di="";function Zi(t,i){Ka[Qa++]=gl,Ka[Qa++]=_c,_c=t,gl=i}function my(t,i,a){Bn[qn++]=Ii,Bn[qn++]=Di,Bn[qn++]=zr,zr=t;var l=Ii;t=Di;var f=32-_t(l)-1;l&=~(1<<f),a+=1;var d=32-_t(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ii=1<<32-_t(i)+f|a<<f|l,Di=d+t}else Ii=1<<d|a<<f|l,Di=t}function Zf(t){t.return!==null&&(Zi(t,1),my(t,1,0))}function ed(t){for(;t===_c;)_c=Ka[--Qa],Ka[Qa]=null,gl=Ka[--Qa],Ka[Qa]=null;for(;t===zr;)zr=Bn[--qn],Bn[qn]=null,Di=Bn[--qn],Bn[qn]=null,Ii=Bn[--qn],Bn[qn]=null}function py(t,i){Bn[qn++]=Ii,Bn[qn++]=Di,Bn[qn++]=zr,Ii=i.id,Di=i.overflow,zr=t}var Gt=null,it=null,Pe=!1,Br=null,Fn=!1,td=Error(s(519));function qr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(zn(i,t)),td}function gy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[jt]=l,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<jl.length;a++)xe(jl[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),Wu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),Mr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Mv(i.textContent,a)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=Zn),i=!0):i=!1,i||qr(t,!0)}function yy(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Gt=Gt.return}}function Ya(t){if(t!==Gt)return!1;if(!Pe)return yy(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||vm(t.type,t.memoizedProps)),a=!a),a&&it&&qr(t),yy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=qv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=qv(t)}else i===27?(i=it,ns(t.type)?(t=Am,Am=null,it=t):it=i):it=Gt?Gn(t.stateNode.nextSibling):null;return!0}function $s(){it=Gt=null,Pe=!1}function nd(){var t=Br;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Br=null),t}function yl(t){Br===null?Br=[t]:Br.push(t)}var id=V(null),Ws=null,er=null;function Fr(t,i,a){oe(id,i._currentValue),i._currentValue=a}function tr(t){t._currentValue=id.current,te(id)}function rd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function sd(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var x=0;x<i.length;x++)if(S.context===i[x]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),rd(d.return,a,t),l||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),rd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Xa(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;An(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}f=f.return}t!==null&&sd(i,t,a,l),i.flags|=262144}function vc(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Js(t){Ws=t,er=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return _y(Ws,t)}function Ec(t,i){return Ws===null&&Js(t),_y(t,i)}function _y(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},er===null){if(t===null)throw Error(s(308));er=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else er=er.next=i;return a}var GA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},KA=r.unstable_scheduleCallback,QA=r.unstable_NormalPriority,It={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ad(){return{controller:new GA,data:new Map,refCount:0}}function _l(t){t.refCount--,t.refCount===0&&KA(QA,function(){t.controller.abort()})}var vl=null,od=0,$a=0,Wa=null;function YA(t,i){if(vl===null){var a=vl=[];od=0,$a=cm(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return od++,i.then(vy,vy),i}function vy(){if(--od===0&&vl!==null){Wa!==null&&(Wa.status="fulfilled");var t=vl;vl=null,$a=0,Wa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function XA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ey=X.S;X.S=function(t,i){iv=sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&YA(t,i),Ey!==null&&Ey(t,i)};var Zs=V(null);function ld(){var t=Zs.current;return t!==null?t:tt.pooledCache}function Tc(t,i){i===null?oe(Zs,Zs.current):oe(Zs,i.pool)}function Ty(){var t=ld();return t===null?null:{parent:It._currentValue,pool:t}}var Ja=Error(s(460)),ud=Error(s(474)),Sc=Error(s(542)),bc={then:function(){}};function Sy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function by(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Zn,Zn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wy(t),t;default:if(typeof i.status=="string")i.then(Zn,Zn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,wy(t),t}throw ta=i,Ja}}function ea(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Ja):a}}var ta=null;function Ay(){if(ta===null)throw Error(s(459));var t=ta;return ta=null,t}function wy(t){if(t===Ja||t===Sc)throw Error(s(483))}var Za=null,El=0;function Ac(t){var i=El;return El+=1,Za===null&&(Za=[]),by(Za,t,i)}function Tl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function wc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ry(t){function i(L,M){if(t){var q=L.deletions;q===null?(L.deletions=[M],L.flags|=16):q.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function f(L,M){return L=Ji(L,M),L.index=0,L.sibling=null,L}function d(L,M,q){return L.index=q,t?(q=L.alternate,q!==null?(q=q.index,q<M?(L.flags|=67108866,M):q):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,M,q,J){return M===null||M.tag!==6?(M=Wf(q,L.mode,J),M.return=L,M):(M=f(M,q),M.return=L,M)}function x(L,M,q,J){var me=q.type;return me===G?Y(L,M,q.props.children,J,q.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&ea(me)===M.type)?(M=f(M,q.props),Tl(M,q),M.return=L,M):(M=yc(q.type,q.key,q.props,null,L.mode,J),Tl(M,q),M.return=L,M)}function F(L,M,q,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Jf(q,L.mode,J),M.return=L,M):(M=f(M,q.children||[]),M.return=L,M)}function Y(L,M,q,J,me){return M===null||M.tag!==7?(M=Xs(q,L.mode,J,me),M.return=L,M):(M=f(M,q),M.return=L,M)}function Z(L,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Wf(""+M,L.mode,q),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case N:return q=yc(M.type,M.key,M.props,null,L.mode,q),Tl(q,M),q.return=L,q;case U:return M=Jf(M,L.mode,q),M.return=L,M;case R:return M=ea(M),Z(L,M,q)}if(yt(M)||z(M))return M=Xs(M,L.mode,q,null),M.return=L,M;if(typeof M.then=="function")return Z(L,Ac(M),q);if(M.$$typeof===ie)return Z(L,Ec(L,M),q);wc(L,M)}return null}function H(L,M,q,J){var me=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return me!==null?null:S(L,M,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case N:return q.key===me?x(L,M,q,J):null;case U:return q.key===me?F(L,M,q,J):null;case R:return q=ea(q),H(L,M,q,J)}if(yt(q)||z(q))return me!==null?null:Y(L,M,q,J,null);if(typeof q.then=="function")return H(L,M,Ac(q),J);if(q.$$typeof===ie)return H(L,M,Ec(L,q),J);wc(L,q)}return null}function Q(L,M,q,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(q)||null,S(M,L,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case N:return L=L.get(J.key===null?q:J.key)||null,x(M,L,J,me);case U:return L=L.get(J.key===null?q:J.key)||null,F(M,L,J,me);case R:return J=ea(J),Q(L,M,q,J,me)}if(yt(J)||z(J))return L=L.get(q)||null,Y(M,L,J,me,null);if(typeof J.then=="function")return Q(L,M,q,Ac(J),me);if(J.$$typeof===ie)return Q(L,M,q,Ec(M,J),me);wc(M,J)}return null}function fe(L,M,q,J){for(var me=null,ze=null,de=M,Ie=M=0,Oe=null;de!==null&&Ie<q.length;Ie++){de.index>Ie?(Oe=de,de=null):Oe=de.sibling;var Be=H(L,de,q[Ie],J);if(Be===null){de===null&&(de=Oe);break}t&&de&&Be.alternate===null&&i(L,de),M=d(Be,M,Ie),ze===null?me=Be:ze.sibling=Be,ze=Be,de=Oe}if(Ie===q.length)return a(L,de),Pe&&Zi(L,Ie),me;if(de===null){for(;Ie<q.length;Ie++)de=Z(L,q[Ie],J),de!==null&&(M=d(de,M,Ie),ze===null?me=de:ze.sibling=de,ze=de);return Pe&&Zi(L,Ie),me}for(de=l(de);Ie<q.length;Ie++)Oe=Q(de,L,Ie,q[Ie],J),Oe!==null&&(t&&Oe.alternate!==null&&de.delete(Oe.key===null?Ie:Oe.key),M=d(Oe,M,Ie),ze===null?me=Oe:ze.sibling=Oe,ze=Oe);return t&&de.forEach(function(os){return i(L,os)}),Pe&&Zi(L,Ie),me}function _e(L,M,q,J){if(q==null)throw Error(s(151));for(var me=null,ze=null,de=M,Ie=M=0,Oe=null,Be=q.next();de!==null&&!Be.done;Ie++,Be=q.next()){de.index>Ie?(Oe=de,de=null):Oe=de.sibling;var os=H(L,de,Be.value,J);if(os===null){de===null&&(de=Oe);break}t&&de&&os.alternate===null&&i(L,de),M=d(os,M,Ie),ze===null?me=os:ze.sibling=os,ze=os,de=Oe}if(Be.done)return a(L,de),Pe&&Zi(L,Ie),me;if(de===null){for(;!Be.done;Ie++,Be=q.next())Be=Z(L,Be.value,J),Be!==null&&(M=d(Be,M,Ie),ze===null?me=Be:ze.sibling=Be,ze=Be);return Pe&&Zi(L,Ie),me}for(de=l(de);!Be.done;Ie++,Be=q.next())Be=Q(de,L,Ie,Be.value,J),Be!==null&&(t&&Be.alternate!==null&&de.delete(Be.key===null?Ie:Be.key),M=d(Be,M,Ie),ze===null?me=Be:ze.sibling=Be,ze=Be);return t&&de.forEach(function(a1){return i(L,a1)}),Pe&&Zi(L,Ie),me}function et(L,M,q,J){if(typeof q=="object"&&q!==null&&q.type===G&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case N:e:{for(var me=q.key;M!==null;){if(M.key===me){if(me=q.type,me===G){if(M.tag===7){a(L,M.sibling),J=f(M,q.props.children),J.return=L,L=J;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&ea(me)===M.type){a(L,M.sibling),J=f(M,q.props),Tl(J,q),J.return=L,L=J;break e}a(L,M);break}else i(L,M);M=M.sibling}q.type===G?(J=Xs(q.props.children,L.mode,J,q.key),J.return=L,L=J):(J=yc(q.type,q.key,q.props,null,L.mode,J),Tl(J,q),J.return=L,L=J)}return _(L);case U:e:{for(me=q.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(L,M.sibling),J=f(M,q.children||[]),J.return=L,L=J;break e}else{a(L,M);break}else i(L,M);M=M.sibling}J=Jf(q,L.mode,J),J.return=L,L=J}return _(L);case R:return q=ea(q),et(L,M,q,J)}if(yt(q))return fe(L,M,q,J);if(z(q)){if(me=z(q),typeof me!="function")throw Error(s(150));return q=me.call(q),_e(L,M,q,J)}if(typeof q.then=="function")return et(L,M,Ac(q),J);if(q.$$typeof===ie)return et(L,M,Ec(L,q),J);wc(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(L,M.sibling),J=f(M,q),J.return=L,L=J):(a(L,M),J=Wf(q,L.mode,J),J.return=L,L=J),_(L)):a(L,M)}return function(L,M,q,J){try{El=0;var me=et(L,M,q,J);return Za=null,me}catch(de){if(de===Ja||de===Sc)throw de;var ze=wn(29,de,null,L.mode);return ze.lanes=J,ze.return=L,ze}finally{}}}var na=Ry(!0),Cy=Ry(!1),Hr=!1;function cd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Kr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=gc(t),cy(t,null,a),i}return pc(t,l,i,a),gc(t)}function Sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Xo(t,a)}}function fd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var dd=!1;function bl(){if(dd){var t=Wa;if(t!==null)throw t}}function Al(t,i,a,l){dd=!1;var f=t.updateQueue;Hr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var x=S,F=x.next;x.next=null,_===null?d=F:_.next=F,_=x;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==_&&(S===null?Y.firstBaseUpdate=F:S.next=F,Y.lastBaseUpdate=x))}if(d!==null){var Z=f.baseState;_=0,Y=F=x=null,S=d;do{var H=S.lane&-536870913,Q=H!==S.lane;if(Q?(Ne&H)===H:(l&H)===H){H!==0&&H===$a&&(dd=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=t,_e=S;H=i;var et=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){Z=fe.call(et,Z,H);break e}Z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,H=typeof fe=="function"?fe.call(et,Z,H):fe,H==null)break e;Z=T({},Z,H);break e;case 2:Hr=!0}}H=S.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(F=Y=Q,x=Z):Y=Y.next=Q,_|=H;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Y===null&&(x=Z),f.baseState=x,f.firstBaseUpdate=F,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),Wr|=_,t.lanes=_,t.memoizedState=Z}}function Iy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Dy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Iy(a[t],i)}var eo=V(null),Rc=V(0);function xy(t,i){t=cr,oe(Rc,t),oe(eo,i),cr=t|i.baseLanes}function md(){oe(Rc,cr),oe(eo,eo.current)}function pd(){cr=Rc.current,te(eo),te(Rc)}var Rn=V(null),Hn=null;function Qr(t){var i=t.alternate;oe(Et,Et.current&1),oe(Rn,t),Hn===null&&(i===null||eo.current!==null||i.memoizedState!==null)&&(Hn=t)}function gd(t){oe(Et,Et.current),oe(Rn,t),Hn===null&&(Hn=t)}function Ny(t){t.tag===22?(oe(Et,Et.current),oe(Rn,t),Hn===null&&(Hn=t)):Yr()}function Yr(){oe(Et,Et.current),oe(Rn,Rn.current)}function Cn(t){te(Rn),Hn===t&&(Hn=null),te(Et)}var Et=V(0);function Cc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sm(a)||bm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var nr=0,Re=null,Je=null,Dt=null,Ic=!1,to=!1,ia=!1,Dc=0,wl=0,no=null,$A=0;function mt(){throw Error(s(321))}function yd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!An(t[a],i[a]))return!1;return!0}function _d(t,i,a,l,f,d){return nr=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?m_:Md,ia=!1,d=a(l,f),ia=!1,to&&(d=My(i,a,l,f)),Oy(t),d}function Oy(t){X.H=Il;var i=Je!==null&&Je.next!==null;if(nr=0,Dt=Je=Re=null,Ic=!1,wl=0,no=null,i)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&vc(t)&&(xt=!0))}function My(t,i,a,l){Re=t;var f=0;do{if(to&&(no=null),wl=0,to=!1,25<=f)throw Error(s(301));if(f+=1,Dt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=p_,d=i(a,l)}while(to);return d}function WA(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?Rl(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Re.flags|=1024),i}function vd(){var t=Dc!==0;return Dc=0,t}function Ed(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Td(t){if(Ic){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ic=!1}nr=0,Dt=Je=Re=null,to=!1,wl=Dc=0,no=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Re.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function Tt(){if(Je===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=Dt===null?Re.memoizedState:Dt.next;if(i!==null)Dt=i,Je=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Dt===null?Re.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var i=wl;return wl+=1,no===null&&(no=[]),t=by(no,t,i),i=Re,(Dt===null?i.memoizedState:Dt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?m_:Md),t}function Nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===ie)return Kt(t)}throw Error(s(438,String(t)))}function Sd(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=xc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function ir(t,i){return typeof i=="function"?i(t):i}function Oc(t){var i=Tt();return bd(i,Je,t)}function bd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=_=null,x=null,F=i,Y=!1;do{var Z=F.lane&-536870913;if(Z!==F.lane?(Ne&Z)===Z:(nr&Z)===Z){var H=F.revertLane;if(H===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),Z===$a&&(Y=!0);else if((nr&H)===H){F=F.next,H===$a&&(Y=!0);continue}else Z={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(S=x=Z,_=d):x=x.next=Z,Re.lanes|=H,Wr|=H;Z=F.action,ia&&a(d,Z),d=F.hasEagerState?F.eagerState:a(d,Z)}else H={lane:Z,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(S=x=H,_=d):x=x.next=H,Re.lanes|=Z,Wr|=Z;F=F.next}while(F!==null&&F!==i);if(x===null?_=d:x.next=S,!An(d,t.memoizedState)&&(xt=!0,Y&&(a=Wa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ad(t){var i=Tt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);An(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Vy(t,i,a){var l=Re,f=Tt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!An((Je||f).memoizedState,a);if(_&&(f.memoizedState=a,xt=!0),f=f.queue,Cd(Uy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,io(9,{destroy:void 0},Py.bind(null,l,f,a,i),null),tt===null)throw Error(s(349));d||(nr&127)!==0||ky(l,i,a)}return a}function ky(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=xc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Py(t,i,a,l){i.value=a,i.getSnapshot=l,Ly(i)&&jy(t)}function Uy(t,i,a){return a(function(){Ly(i)&&jy(t)})}function Ly(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!An(t,a)}catch{return!0}}function jy(t){var i=Ys(t,2);i!==null&&gn(i,t,2)}function wd(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),ia){Vn(!0);try{a()}finally{Vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:t},i}function zy(t,i,a,l){return t.baseState=a,bd(t,Je,typeof l=="function"?l:ir)}function JA(t,i,a,l,f){if(kc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,By(i,d)):(d.next=a.next,i.pending=a.next=d)}}function By(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var S=a(f,l),x=X.S;x!==null&&x(_,S),qy(t,i,S)}catch(F){Rd(t,i,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),qy(t,i,d)}catch(F){Rd(t,i,F)}}function qy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fy(t,i,l)},function(l){return Rd(t,i,l)}):Fy(t,i,a)}function Fy(t,i,a){i.status="fulfilled",i.value=a,Hy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,By(t,a)))}function Rd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Hy(i),i=i.next;while(i!==l)}t.action=null}function Hy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Gy(t,i){return i}function Ky(t,i){if(Pe){var a=tt.formState;if(a!==null){e:{var l=Re;if(Pe){if(it){t:{for(var f=it,d=Fn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Gn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){it=Gn(f.nextSibling),l=f.data==="F!";break e}}qr(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gy,lastRenderedState:i},a.queue=l,a=h_.bind(null,Re,l),l.dispatch=a,l=wd(!1),d=Od.bind(null,Re,!1,l.queue),l=on(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=JA.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Qy(t){var i=Tt();return Yy(i,Je,t)}function Yy(t,i,a){if(i=bd(t,i,Gy)[0],t=Oc(ir)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Rl(i)}catch(_){throw _===Ja?Sc:_}else l=i;i=Tt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,io(9,{destroy:void 0},ZA.bind(null,f,a),null)),[l,d,t]}function ZA(t,i){t.action=i}function Xy(t){var i=Tt(),a=Je;if(a!==null)return Yy(i,a,t);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function io(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=xc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function $y(){return Tt().memoizedState}function Mc(t,i,a,l){var f=on();Re.flags|=t,f.memoizedState=io(1|i,{destroy:void 0},a,l===void 0?null:l)}function Vc(t,i,a,l){var f=Tt();l=l===void 0?null:l;var d=f.memoizedState.inst;Je!==null&&l!==null&&yd(l,Je.memoizedState.deps)?f.memoizedState=io(i,d,a,l):(Re.flags|=t,f.memoizedState=io(1|i,d,a,l))}function Wy(t,i){Mc(8390656,8,t,i)}function Cd(t,i){Vc(2048,8,t,i)}function ew(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=xc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Jy(t){var i=Tt().memoizedState;return ew({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Zy(t,i){return Vc(4,2,t,i)}function e_(t,i){return Vc(4,4,t,i)}function t_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function n_(t,i,a){a=a!=null?a.concat([t]):null,Vc(4,4,t_.bind(null,i,t),a)}function Id(){}function i_(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&yd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function r_(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&yd(i,l[1]))return l[0];if(l=t(),ia){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,i],l}function Dd(t,i,a){return a===void 0||(nr&1073741824)!==0&&(Ne&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=sv(),Re.lanes|=t,Wr|=t,a)}function s_(t,i,a,l){return An(a,i)?a:eo.current!==null?(t=Dd(t,a,l),An(t,i)||(xt=!0),t):(nr&42)===0||(nr&1073741824)!==0&&(Ne&261930)===0?(xt=!0,t.memoizedState=a):(t=sv(),Re.lanes|=t,Wr|=t,i)}function a_(t,i,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=X.T,S={};X.T=S,Od(t,!1,i,a);try{var x=f(),F=X.S;if(F!==null&&F(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Y=XA(x,l);Cl(t,i,Y,xn(t))}else Cl(t,i,l,xn(t))}catch(Z){Cl(t,i,{then:function(){},status:"rejected",reason:Z},xn())}finally{ae.p=d,_!==null&&S.types!==null&&(_.types=S.types),X.T=_}}function tw(){}function xd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=o_(t).queue;a_(t,f,i,ge,a===null?tw:function(){return l_(t),a(l)})}function o_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function l_(t){var i=o_(t);i.next===null&&(i=t.alternate.memoizedState),Cl(t,i.next.queue,{},xn())}function Nd(){return Kt(Hl)}function u_(){return Tt().memoizedState}function c_(){return Tt().memoizedState}function nw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();t=Gr(a);var l=Kr(i,t,a);l!==null&&(gn(l,i,a),Sl(l,i,a)),i={cache:ad()},t.payload=i;return}i=i.return}}function iw(t,i,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kc(t)?f_(i,a):(a=Xf(t,i,a,l),a!==null&&(gn(a,t,l),d_(a,i,l)))}function h_(t,i,a){var l=xn();Cl(t,i,a,l)}function Cl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(kc(t))f_(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,An(S,_))return pc(t,i,f,0),tt===null&&mc(),!1}catch{}finally{}if(a=Xf(t,i,f,l),a!==null)return gn(a,t,l),d_(a,i,l),!0}return!1}function Od(t,i,a,l){if(l={lane:2,revertLane:cm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},kc(t)){if(i)throw Error(s(479))}else i=Xf(t,a,l,2),i!==null&&gn(i,t,2)}function kc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function f_(t,i){to=Ic=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function d_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Xo(t,a)}}var Il={readContext:Kt,use:Nc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Il.useEffectEvent=mt;var m_={readContext:Kt,use:Nc,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:Wy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Mc(4194308,4,t_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Mc(4194308,4,t,i)},useInsertionEffect:function(t,i){Mc(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(ia){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var f=a(i);if(ia){Vn(!0);try{a(i)}finally{Vn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=iw.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=wd(t);var i=t.queue,a=h_.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Id,useDeferredValue:function(t,i){var a=on();return Dd(a,t,i)},useTransition:function(){var t=wd(!1);return t=a_.bind(null,Re,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=on();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Ne&127)!==0||ky(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Wy(Uy.bind(null,l,d,t),[t]),l.flags|=2048,io(9,{destroy:void 0},Py.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=tt.identifierPrefix;if(Pe){var a=Di,l=Ii;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Dc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=$A++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Nd,useFormState:Ky,useActionState:Ky,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Od.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Sd,useCacheRefresh:function(){return on().memoizedState=nw.bind(null,Re)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Md={readContext:Kt,use:Nc,useCallback:i_,useContext:Kt,useEffect:Cd,useImperativeHandle:n_,useInsertionEffect:Zy,useLayoutEffect:e_,useMemo:r_,useReducer:Oc,useRef:$y,useState:function(){return Oc(ir)},useDebugValue:Id,useDeferredValue:function(t,i){var a=Tt();return s_(a,Je.memoizedState,t,i)},useTransition:function(){var t=Oc(ir)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:Rl(t),i]},useSyncExternalStore:Vy,useId:u_,useHostTransitionStatus:Nd,useFormState:Qy,useActionState:Qy,useOptimistic:function(t,i){var a=Tt();return zy(a,Je,t,i)},useMemoCache:Sd,useCacheRefresh:c_};Md.useEffectEvent=Jy;var p_={readContext:Kt,use:Nc,useCallback:i_,useContext:Kt,useEffect:Cd,useImperativeHandle:n_,useInsertionEffect:Zy,useLayoutEffect:e_,useMemo:r_,useReducer:Ad,useRef:$y,useState:function(){return Ad(ir)},useDebugValue:Id,useDeferredValue:function(t,i){var a=Tt();return Je===null?Dd(a,t,i):s_(a,Je.memoizedState,t,i)},useTransition:function(){var t=Ad(ir)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:Rl(t),i]},useSyncExternalStore:Vy,useId:u_,useHostTransitionStatus:Nd,useFormState:Xy,useActionState:Xy,useOptimistic:function(t,i){var a=Tt();return Je!==null?zy(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Sd,useCacheRefresh:c_};p_.useEffectEvent=Jy;function Vd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var kd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=xn(),f=Gr(l);f.payload=i,a!=null&&(f.callback=a),i=Kr(t,f,l),i!==null&&(gn(i,t,l),Sl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=xn(),f=Gr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Kr(t,f,l),i!==null&&(gn(i,t,l),Sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=xn(),l=Gr(a);l.tag=2,i!=null&&(l.callback=i),i=Kr(t,l,a),i!==null&&(gn(i,t,a),Sl(i,t,a))}};function g_(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ml(a,l)||!ml(f,d):!0}function y_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&kd.enqueueReplaceState(i,i.state,null)}function ra(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function __(t){dc(t)}function v_(t){console.error(t)}function E_(t){dc(t)}function Pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function T_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Pd(t,i,a){return a=Gr(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(t,i)},a}function S_(t){return t=Gr(t),t.tag=3,t}function b_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){T_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){T_(i,a,l),typeof f!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function rw(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Xa(i,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?Yc():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===bc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),om(t,l,f)),!1;case 22:return a.flags|=65536,l===bc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),om(t,l,f)),!1}throw Error(s(435,a.tag))}return om(t,l,f),Yc(),!1}if(Pe)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==td&&(t=Error(s(422),{cause:l}),yl(zn(t,a)))):(l!==td&&(i=Error(s(423),{cause:l}),yl(zn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=zn(l,a),f=Pd(t.stateNode,l,f),fd(t,f),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=zn(d,a),Pl===null?Pl=[d]:Pl.push(d),pt!==4&&(pt=2),i===null)return!0;l=zn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Pd(a.stateNode,l,t),fd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Jr===null||!Jr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=S_(f),b_(f,t,a,l),fd(a,f),!1}a=a.return}while(a!==null);return!1}var Ud=Error(s(461)),xt=!1;function Qt(t,i,a,l){i.child=t===null?Cy(i,null,a,l):na(i,t.child,a,l)}function A_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Js(i),l=_d(t,i,a,_,d,f),S=vd(),t!==null&&!xt?(Ed(t,i,f),rr(t,i,f)):(Pe&&S&&Zf(i),i.flags|=1,Qt(t,i,l,f),i.child)}function w_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!$f(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,R_(t,i,d,l,f)):(t=yc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Gd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(_,l)&&t.ref===i.ref)return rr(t,i,f)}return i.flags|=1,t=Ji(d,l),t.ref=i.ref,t.return=i,i.child=t}function R_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(ml(d,l)&&t.ref===i.ref)if(xt=!1,i.pendingProps=l=d,Gd(t,f))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,rr(t,i,f)}return Ld(t,i,a,l,f)}function C_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return I_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tc(i,d!==null?d.cachePool:null),d!==null?xy(i,d):md(),Ny(i);else return l=i.lanes=536870912,I_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Tc(i,d.cachePool),xy(i,d),Yr(),i.memoizedState=null):(t!==null&&Tc(i,null),md(),Yr());return Qt(t,i,f,a),i.child}function Dl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function I_(t,i,a,l,f){var d=ld();return d=d===null?null:{parent:It._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Tc(i,null),md(),Ny(i),t!==null&&Xa(t,i,l,!0),i.childLanes=f,null}function Uc(t,i){return i=jc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function D_(t,i,a){return na(i,t.child,null,a),t=Uc(i,i.pendingProps),t.flags|=2,Cn(i),i.memoizedState=null,t}function sw(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Uc(i,l),i.lanes=536870912,Dl(null,t);if(gd(i),(t=it)?(t=Bv(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zr!==null?{id:Ii,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=fy(t),a.return=i,i.child=a,Gt=i,it=null)):t=null,t===null)throw qr(i);return i.lanes=536870912,null}return Uc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(gd(i),f)if(i.flags&256)i.flags&=-257,i=D_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(xt||Xa(t,i,a,!1),f=(a&t.childLanes)!==0,xt||f){if(l=tt,l!==null&&(_=$o(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ys(t,_),gn(l,t,_),Ud;Yc(),i=D_(t,i,a)}else t=d.treeContext,it=Gn(_.nextSibling),Gt=i,Pe=!0,Br=null,Fn=!1,t!==null&&py(i,t),i=Uc(i,l),i.flags|=4096;return i}return t=Ji(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Lc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Ld(t,i,a,l,f){return Js(i),a=_d(t,i,a,l,void 0,f),l=vd(),t!==null&&!xt?(Ed(t,i,f),rr(t,i,f)):(Pe&&l&&Zf(i),i.flags|=1,Qt(t,i,a,f),i.child)}function x_(t,i,a,l,f,d){return Js(i),i.updateQueue=null,a=My(i,l,a,f),Oy(t),l=vd(),t!==null&&!xt?(Ed(t,i,d),rr(t,i,d)):(Pe&&l&&Zf(i),i.flags|=1,Qt(t,i,a,d),i.child)}function N_(t,i,a,l,f){if(Js(i),i.stateNode===null){var d=Ga,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},cd(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Ga,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Vd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&kd.enqueueReplaceState(d,d.state,null),Al(i,l,d,f),bl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,x=ra(a,S);d.props=x;var F=d.context,Y=a.contextType;_=Ga,typeof Y=="object"&&Y!==null&&(_=Kt(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||F!==_)&&y_(i,d,l,_),Hr=!1;var H=i.memoizedState;d.state=H,Al(i,l,d,f),bl(),F=i.memoizedState,S||H!==F||Hr?(typeof Z=="function"&&(Vd(i,a,Z,l),F=i.memoizedState),(x=Hr||g_(i,a,x,l,H,F,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,hd(t,i),_=i.memoizedProps,Y=ra(a,_),d.props=Y,Z=i.pendingProps,H=d.context,F=a.contextType,x=Ga,typeof F=="object"&&F!==null&&(x=Kt(F)),S=a.getDerivedStateFromProps,(F=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||H!==x)&&y_(i,d,l,x),Hr=!1,H=i.memoizedState,d.state=H,Al(i,l,d,f),bl();var Q=i.memoizedState;_!==Z||H!==Q||Hr||t!==null&&t.dependencies!==null&&vc(t.dependencies)?(typeof S=="function"&&(Vd(i,a,S,l),Q=i.memoizedState),(Y=Hr||g_(i,a,Y,l,H,Q,x)||t!==null&&t.dependencies!==null&&vc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=x,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Lc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=na(i,t.child,null,f),i.child=na(i,null,a,f)):Qt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=rr(t,i,f),t}function O_(t,i,a,l){return $s(),i.flags|=256,Qt(t,i,a,l),i.child}var jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zd(t){return{baseLanes:t,cachePool:Ty()}}function Bd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Dn),t}function M_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(f?Qr(i):Yr(),(t=it)?(t=Bv(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zr!==null?{id:Ii,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=fy(t),a.return=i,i.child=a,Gt=i,it=null)):t=null,t===null)throw qr(i);return bm(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Yr(),f=i.mode,S=jc({mode:"hidden",children:S},f),l=Xs(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=zd(a),l.childLanes=Bd(t,_,a),i.memoizedState=jd,Dl(null,l)):(Qr(i),qd(i,S))}var x=t.memoizedState;if(x!==null&&(S=x.dehydrated,S!==null)){if(d)i.flags&256?(Qr(i),i.flags&=-257,i=Fd(t,i,a)):i.memoizedState!==null?(Yr(),i.child=t.child,i.flags|=128,i=null):(Yr(),S=l.fallback,f=i.mode,l=jc({mode:"visible",children:l.children},f),S=Xs(S,f,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,na(i,t.child,null,a),l=i.child,l.memoizedState=zd(a),l.childLanes=Bd(t,_,a),i.memoizedState=jd,i=Dl(null,l));else if(Qr(i),bm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,yl({value:l,source:null,stack:null}),i=Fd(t,i,a)}else if(xt||Xa(t,i,a,!1),_=(a&t.childLanes)!==0,xt||_){if(_=tt,_!==null&&(l=$o(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Ys(t,l),gn(_,t,l),Ud;Sm(S)||Yc(),i=Fd(t,i,a)}else Sm(S)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,it=Gn(S.nextSibling),Gt=i,Pe=!0,Br=null,Fn=!1,t!==null&&py(i,t),i=qd(i,l.children),i.flags|=4096);return i}return f?(Yr(),S=l.fallback,f=i.mode,x=t.child,F=x.sibling,l=Ji(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,F!==null?S=Ji(F,S):(S=Xs(S,f,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Dl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=zd(a):(f=S.cachePool,f!==null?(x=It._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=Ty(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Bd(t,_,a),i.memoizedState=jd,Dl(t.child,l)):(Qr(i),a=t.child,t=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function qd(t,i){return i=jc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function jc(t,i){return t=wn(22,t,null,i),t.lanes=0,t}function Fd(t,i,a){return na(i,t.child,null,a),t=qd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function V_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),rd(t.return,i,a)}function Hd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function k_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Et.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,oe(Et,_),Qt(t,i,l,a),l=Pe?gl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&V_(t,a,i);else if(t.tag===19)V_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Cc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Hd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Cc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Hd(i,!0,a,null,d,l);break;case"together":Hd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function rr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Wr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Xa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Gd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&vc(t)))}function aw(t,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Fr(i,It,t.memoizedState.cache),$s();break;case 27:case 5:xs(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Fr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,gd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Qr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?M_(t,i,a):(Qr(i),t=rr(t,i,a),t!==null?t.sibling:null);Qr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Xa(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return k_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(Et,Et.current),l)break;return null;case 22:return i.lanes=0,C_(t,i,a,i.pendingProps);case 24:Fr(i,It,t.memoizedState.cache)}return rr(t,i,a)}function P_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!Gd(t,a)&&(i.flags&128)===0)return xt=!1,aw(t,i,a);xt=(t.flags&131072)!==0}else xt=!1,Pe&&(i.flags&1048576)!==0&&my(i,gl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ea(i.elementType),i.type=t,typeof t=="function")$f(t)?(l=ra(t,l),i.tag=1,i=N_(null,i,t,l,a)):(i.tag=0,i=Ld(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ue){i.tag=11,i=A_(null,i,t,l,a);break e}else if(f===I){i.tag=14,i=w_(null,i,t,l,a);break e}}throw i=Ke(t)||t,Error(s(306,i,""))}}return i;case 0:return Ld(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=ra(l,i.pendingProps),N_(t,i,l,f,a);case 3:e:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,hd(t,i),Al(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Fr(i,It,l),l!==d.cache&&sd(i,[It],a,!0),bl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=O_(t,i,l,a);break e}else if(l!==f){f=zn(Error(s(424)),i),yl(f),i=O_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Gn(t.firstChild),Gt=i,Pe=!0,Br=null,Fn=!0,a=Cy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($s(),l===f){i=rr(t,i,a);break e}Qt(t,i,l,a)}i=i.child}return i;case 26:return Lc(t,i),t===null?(a=Qv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=th(Ce.current).createElement(a),l[wt]=i,l[jt]=t,Yt(l,a,t),Rt(l),i.stateNode=l):i.memoizedState=Qv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return xs(i),t===null&&Pe&&(l=i.stateNode=Hv(i.type,i.pendingProps,Ce.current),Gt=i,Fn=!0,f=it,ns(i.type)?(Am=f,it=Gn(l.firstChild)):it=f),Qt(t,i,i.pendingProps.children,a),Lc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((f=l=it)&&(l=Pw(l,i.type,i.pendingProps,Fn),l!==null?(i.stateNode=l,Gt=i,it=Gn(l.firstChild),Fn=!1,f=!0):f=!1),f||qr(i)),xs(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,vm(f,d)?l=null:_!==null&&vm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=_d(t,i,WA,null,null,a),Hl._currentValue=f),Lc(t,i),Qt(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=it)&&(a=Uw(a,i.pendingProps,Fn),a!==null?(i.stateNode=a,Gt=i,it=null,t=!0):t=!1),t||qr(i)),null;case 13:return M_(t,i,a);case 4:return kt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=na(i,null,l,a):Qt(t,i,l,a),i.child;case 11:return A_(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Fr(i,i.type,l.value),Qt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Js(i),f=Kt(f),l=l(f),i.flags|=1,Qt(t,i,l,a),i.child;case 14:return w_(t,i,i.type,i.pendingProps,a);case 15:return R_(t,i,i.type,i.pendingProps,a);case 19:return k_(t,i,a);case 31:return sw(t,i,a);case 22:return C_(t,i,a,i.pendingProps);case 24:return Js(i),l=Kt(It),t===null?(f=ld(),f===null&&(f=tt,d=ad(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},cd(i),Fr(i,It,f)):((t.lanes&a)!==0&&(hd(t,i),Al(i,null,null,a),bl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Fr(i,It,l)):(l=d.cache,Fr(i,It,l),l!==f.cache&&sd(i,[It],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function sr(t){t.flags|=4}function Kd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(uv())t.flags|=8192;else throw ta=bc,ud}else t.flags&=-16777217}function U_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Jv(i))if(uv())t.flags|=8192;else throw ta=bc,ud}function zc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ku():536870912,t.lanes|=i,oo|=i)}function xl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function ow(t,i,a){var l=i.pendingProps;switch(ed(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),tr(It),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ya(i)?sr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,nd())),rt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(sr(i),d!==null?(rt(i),U_(i,d)):(rt(i),Kd(i,f,null,l,a))):d?d!==t.memoizedState?(sr(i),rt(i),U_(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&sr(i),rt(i),Kd(i,f,t,l,a)),null;case 27:if(Ra(i),a=Ce.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&sr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=he.current,Ya(i)?gy(i):(t=Hv(f,l,a),i.stateNode=t,sr(i))}return rt(i),null;case 5:if(Ra(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&sr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(d=he.current,Ya(i))gy(i);else{var _=th(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[wt]=i,d[jt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Yt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&sr(i)}}return rt(i),Kd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&sr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Ya(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Mv(t.nodeValue,a)),t||qr(i,!0)}else t=th(t).createTextNode(l),t[wt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ya(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=i}else $s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=nd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Cn(i),i):(Cn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ya(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[wt]=i}else $s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else f=nd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Cn(i),i):(Cn(i),null)}return Cn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),zc(i,i.updateQueue),rt(i),null);case 4:return at(),t===null&&mm(i.stateNode.containerInfo),rt(i),null;case 10:return tr(i.type),rt(i),null;case 19:if(te(Et),l=i.memoizedState,l===null)return rt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)xl(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Cc(t),d!==null){for(i.flags|=128,xl(l,!1),t=d.updateQueue,i.updateQueue=t,zc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)hy(a,t),a=a.sibling;return oe(Et,Et.current&1|2),Pe&&Zi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&sn()>Gc&&(i.flags|=128,f=!0,xl(l,!1),i.lanes=4194304)}else{if(!f)if(t=Cc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,zc(i,t),xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return rt(i),null}else 2*sn()-l.renderingStartTime>Gc&&a!==536870912&&(i.flags|=128,f=!0,xl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=Et.current,oe(Et,f?a&1|2:a&1),Pe&&Zi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return Cn(i),pd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&zc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(Zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),tr(It),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function lw(t,i){switch(ed(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return tr(It),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ra(i),null;case 31:if(i.memoizedState!==null){if(Cn(i),i.alternate===null)throw Error(s(340));$s()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Cn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));$s()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(Et),null;case 4:return at(),null;case 10:return tr(i.type),null;case 22:case 23:return Cn(i),pd(),t!==null&&te(Zs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return tr(It),null;case 25:return null;default:return null}}function L_(t,i){switch(ed(i),i.tag){case 3:tr(It),at();break;case 26:case 27:case 5:Ra(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Cn(i);break;case 13:Cn(i);break;case 19:te(Et);break;case 10:tr(i.type);break;case 22:case 23:Cn(i),pd(),t!==null&&te(Zs);break;case 24:tr(It)}}function Nl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){$e(i,i.return,S)}}function Xr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var x=a,F=S;try{F()}catch(Y){$e(f,x,Y)}}}l=l.next}while(l!==d)}}catch(Y){$e(i,i.return,Y)}}function j_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Dy(i,a)}catch(l){$e(t,t.return,l)}}}function z_(t,i,a){a.props=ra(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function Ol(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){$e(t,i,f)}}function xi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$e(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$e(t,i,f)}else a.current=null}function B_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$e(t,t.return,f)}}function Qd(t,i,a){try{var l=t.stateNode;xw(l,t.type,a,i),l[jt]=i}catch(f){$e(t,t.return,f)}}function q_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ns(t.type)||t.tag===4}function Yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||q_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Zn));else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Xd(t,i,a),t=t.sibling;t!==null;)Xd(t,i,a),t=t.sibling}function Bc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Bc(t,i,a),t=t.sibling;t!==null;)Bc(t,i,a),t=t.sibling}function F_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Yt(i,l,a),i[wt]=t,i[jt]=a}catch(d){$e(t,t.return,d)}}var ar=!1,Nt=!1,$d=!1,H_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function uw(t,i){if(t=t.containerInfo,ym=lh,t=ny(t),Ff(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,x=-1,F=0,Y=0,Z=t,H=null;t:for(;;){for(var Q;Z!==a||f!==0&&Z.nodeType!==3||(S=_+f),Z!==d||l!==0&&Z.nodeType!==3||(x=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)H=Z,Z=Q;for(;;){if(Z===t)break t;if(H===a&&++F===f&&(S=_),H===d&&++Y===l&&(x=_),(Q=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=Q}a=S===-1||x===-1?null:{start:S,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(_m={focusedElem:t,selectionRange:a},lh=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=ra(a.type,f);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){$e(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Tm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Tm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function G_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:lr(t,a),l&4&&Nl(5,a);break;case 1:if(lr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var f=ra(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&j_(a),l&512&&Ol(a,a.return);break;case 3:if(lr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Dy(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&l&4&&F_(a);case 26:case 5:lr(t,a),i===null&&l&4&&B_(a),l&512&&Ol(a,a.return);break;case 12:lr(t,a);break;case 31:lr(t,a),l&4&&Y_(t,a);break;case 13:lr(t,a),l&4&&X_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_w.bind(null,a),Lw(t,a))));break;case 22:if(l=a.memoizedState!==null||ar,!l){i=i!==null&&i.memoizedState!==null||Nt,f=ar;var d=Nt;ar=l,(Nt=i)&&!d?ur(t,a,(a.subtreeFlags&8772)!==0):lr(t,a),ar=f,Nt=d}break;case 30:break;default:lr(t,a)}}function K_(t){var i=t.alternate;i!==null&&(t.alternate=null,K_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Na(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,fn=!1;function or(t,i,a){for(a=a.child;a!==null;)Q_(t,i,a),a=a.sibling}function Q_(t,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Nt||xi(a,i),or(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||xi(a,i);var l=lt,f=fn;ns(a.type)&&(lt=a.stateNode,fn=!1),or(t,i,a),Bl(a.stateNode),lt=l,fn=f;break;case 5:Nt||xi(a,i);case 6:if(l=lt,f=fn,lt=null,or(t,i,a),lt=l,fn=f,lt!==null)if(fn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:lt!==null&&(fn?(t=lt,jv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),go(t)):jv(lt,a.stateNode));break;case 4:l=lt,f=fn,lt=a.stateNode.containerInfo,fn=!0,or(t,i,a),lt=l,fn=f;break;case 0:case 11:case 14:case 15:Xr(2,a,i),Nt||Xr(4,a,i),or(t,i,a);break;case 1:Nt||(xi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&z_(a,i,l)),or(t,i,a);break;case 21:or(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,or(t,i,a),Nt=l;break;default:or(t,i,a)}}function Y_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{go(t)}catch(a){$e(i,i.return,a)}}}function X_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{go(t)}catch(a){$e(i,i.return,a)}}function cw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new H_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new H_),i;default:throw Error(s(435,t.tag))}}function qc(t,i){var a=cw(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=vw.bind(null,t,l);l.then(f,f)}})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(ns(S.type)){lt=S.stateNode,fn=!1;break e}break;case 5:lt=S.stateNode,fn=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,fn=!0;break e}S=S.return}if(lt===null)throw Error(s(160));Q_(d,_,f),lt=null,fn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)$_(i,t),i=i.sibling}var si=null;function $_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(Xr(3,t,t.return),Nl(3,t),Xr(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(Nt||a===null||xi(a,a.return)),l&64&&ar&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=si;if(dn(i,t),mn(t),l&512&&(Nt||a===null||xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gi]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Yt(d,l,a),d[wt]=t,Rt(d),l=d;break e;case"link":var _=$v("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=$v("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,Rt(d),l=d}t.stateNode=l}else Wv(f,t.type,t.stateNode);else t.stateNode=Xv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Wv(f,t.type,t.stateNode):Xv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qd(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(Nt||a===null||xi(a,a.return)),a!==null&&l&4&&Qd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(Nt||a===null||xi(a,a.return)),t.flags&32){f=t.stateNode;try{hn(f,"")}catch(fe){$e(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Qd(t,f,a!==null?a.memoizedProps:f)),l&1024&&($d=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){$e(t,t.return,fe)}}break;case 3:if(rh=null,f=si,si=nh(i.containerInfo),dn(i,t),si=f,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{go(i.containerInfo)}catch(fe){$e(t,t.return,fe)}$d&&($d=!1,W_(t));break;case 4:l=si,si=nh(t.stateNode.containerInfo),dn(i,t),mn(t),si=l;break;case 12:dn(i,t),mn(t);break;case 31:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hc=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 22:f=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,F=ar,Y=Nt;if(ar=F||f,Nt=Y||x,dn(i,t),Nt=Y,ar=F,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||x||ar||Nt||sa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=x.stateNode;var Z=x.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(fe){$e(x,x.return,fe)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(fe){$e(x,x.return,fe)}}}else if(i.tag===18){if(a===null){x=i;try{var Q=x.stateNode;f?zv(Q,!0):zv(x.stateNode,!1)}catch(fe){$e(x,x.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,qc(t,a))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(q_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Yd(t);Bc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var S=Yd(t);Bc(t,S,_);break;case 3:case 4:var x=a.stateNode.containerInfo,F=Yd(t);Xd(t,F,x);break;default:throw Error(s(161))}}catch(Y){$e(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function W_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;W_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function lr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)G_(t,i.alternate,i),i=i.sibling}function sa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Xr(4,i,i.return),sa(i);break;case 1:xi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&z_(i,i.return,a),sa(i);break;case 27:Bl(i.stateNode);case 26:case 5:xi(i,i.return),sa(i);break;case 22:i.memoizedState===null&&sa(i);break;case 30:sa(i);break;default:sa(i)}t=t.sibling}}function ur(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ur(f,d,a),Nl(4,d);break;case 1:if(ur(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){$e(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Iy(x[f],S)}catch(F){$e(l,l.return,F)}}a&&_&64&&j_(d),Ol(d,d.return);break;case 27:F_(d);case 26:case 5:ur(f,d,a),a&&l===null&&_&4&&B_(d),Ol(d,d.return);break;case 12:ur(f,d,a);break;case 31:ur(f,d,a),a&&_&4&&Y_(f,d);break;case 13:ur(f,d,a),a&&_&4&&X_(f,d);break;case 22:d.memoizedState===null&&ur(f,d,a),Ol(d,d.return);break;case 30:break;default:ur(f,d,a)}i=i.sibling}}function Wd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&_l(a))}function Jd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&_l(t))}function ai(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)J_(t,i,a,l),i=i.sibling}function J_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,a,l),f&2048&&Nl(9,i);break;case 1:ai(t,i,a,l);break;case 3:ai(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&_l(t)));break;case 12:if(f&2048){ai(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){$e(i,i.return,x)}}else ai(t,i,a,l);break;case 31:ai(t,i,a,l);break;case 13:ai(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ai(t,i,a,l):Ml(t,i):d._visibility&2?ai(t,i,a,l):(d._visibility|=2,ro(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Wd(_,i);break;case 24:ai(t,i,a,l),f&2048&&Jd(i.alternate,i);break;default:ai(t,i,a,l)}}function ro(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,x=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:ro(d,_,S,x,f),Nl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?ro(d,_,S,x,f):Ml(d,_):(Y._visibility|=2,ro(d,_,S,x,f)),f&&F&2048&&Wd(_.alternate,_);break;case 24:ro(d,_,S,x,f),f&&F&2048&&Jd(_.alternate,_);break;default:ro(d,_,S,x,f)}i=i.sibling}}function Ml(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Ml(a,l),f&2048&&Wd(l.alternate,l);break;case 24:Ml(a,l),f&2048&&Jd(l.alternate,l);break;default:Ml(a,l)}i=i.sibling}}var Vl=8192;function so(t,i,a){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)Z_(t,i,a),t=t.sibling}function Z_(t,i,a){switch(t.tag){case 26:so(t,i,a),t.flags&Vl&&t.memoizedState!==null&&$w(a,si,t.memoizedState,t.memoizedProps);break;case 5:so(t,i,a);break;case 3:case 4:var l=si;si=nh(t.stateNode.containerInfo),so(t,i,a),si=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Vl,Vl=16777216,so(t,i,a),Vl=l):so(t,i,a));break;default:so(t,i,a)}}function ev(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function kl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,nv(l,t)}ev(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tv(t),t=t.sibling}function tv(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&Xr(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Fc(t)):kl(t);break;default:kl(t)}}function Fc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,nv(l,t)}ev(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Xr(8,i,i.return),Fc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Fc(i));break;default:Fc(i)}t=t.sibling}}function nv(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Xr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(K_(l),l===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var hw={getCacheForType:function(t){var i=Kt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Kt(It).controller.signal}},fw=typeof WeakMap=="function"?WeakMap:Map,Fe=0,tt=null,De=null,Ne=0,Xe=0,In=null,$r=!1,ao=!1,Zd=!1,cr=0,pt=0,Wr=0,aa=0,em=0,Dn=0,oo=0,Pl=null,pn=null,tm=!1,Hc=0,iv=0,Gc=1/0,Kc=null,Jr=null,Ut=0,Zr=null,lo=null,hr=0,nm=0,im=null,rv=null,Ul=0,rm=null;function xn(){return(Fe&2)!==0&&Ne!==0?Ne&-Ne:X.T!==null?cm():Qu()}function sv(){if(Dn===0)if((Ne&536870912)===0||Pe){var t=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),Dn=t}else Dn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Dn}function gn(t,i,a){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(uo(t,0),es(t,Ne,Dn,!1)),Vs(t,a),((Fe&2)===0||t!==tt)&&(t===tt&&((Fe&2)===0&&(aa|=a),pt===4&&es(t,Ne,Dn,!1)),Ni(t))}function av(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||$n(t,i),f=l?pw(t,i):am(t,i,!0),d=l;do{if(f===0){ao&&!l&&es(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!dw(a)){f=am(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;f=Pl;var x=S.current.memoizedState.isDehydrated;if(x&&(uo(S,_).flags|=256),_=am(S,_,!1),_!==2){if(Zd&&!x){S.errorRecoveryDisabledLanes|=d,aa|=d,f=4;break e}d=pn,pn=f,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){uo(t,0),es(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:es(l,i,Dn,!$r);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Hc+300-sn(),10<f)){if(es(l,i,Dn,!$r),di(l,0,!0)!==0)break e;hr=i,l.timeoutHandle=Uv(ov.bind(null,l,a,pn,Kc,tm,i,Dn,aa,oo,$r,d,"Throttled",-0,0),f);break e}ov(l,a,pn,Kc,tm,i,Dn,aa,oo,$r,d,null,-0,0)}}break}while(!0);Ni(t)}function ov(t,i,a,l,f,d,_,S,x,F,Y,Z,H,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Z_(i,d,Z);var fe=(d&62914560)===d?Hc-sn():(d&4194048)===d?iv-sn():0;if(fe=Ww(Z,fe),fe!==null){hr=d,t.cancelPendingCommit=fe(pv.bind(null,t,i,d,a,l,f,_,S,x,Y,Z,null,H,Q)),es(t,d,_,!F);return}}pv(t,i,d,a,l,f,_,S,x)}function dw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!An(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function es(t,i,a,l){i&=~em,i&=~aa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-_t(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&ks(t,a,i)}function Qc(){return(Fe&6)===0?(Ll(0),!1):!0}function sm(){if(De!==null){if(Xe===0)var t=De.return;else t=De,er=Ws=null,Td(t),Za=null,El=0,t=De;for(;t!==null;)L_(t.alternate,t),t=t.return;De=null}}function uo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Mw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hr=0,sm(),tt=t,De=a=Ji(t.current,null),Ne=i,Xe=0,In=null,$r=!1,ao=$n(t,i),Zd=!1,oo=Dn=em=aa=Wr=pt=0,pn=Pl=null,tm=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-_t(l),d=1<<f;i|=t[f],l&=~d}return cr=i,mc(),a}function lv(t,i){Re=null,X.H=Il,i===Ja||i===Sc?(i=Ay(),Xe=3):i===ud?(i=Ay(),Xe=4):Xe=i===Ud?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,De===null&&(pt=1,Pc(t,zn(i,t.current)))}function uv(){var t=Rn.current;return t===null?!0:(Ne&4194048)===Ne?Hn===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?t===Hn:!1}function cv(){var t=X.H;return X.H=Il,t===null?Il:t}function hv(){var t=X.A;return X.A=hw,t}function Yc(){pt=4,$r||(Ne&4194048)!==Ne&&Rn.current!==null||(ao=!0),(Wr&134217727)===0&&(aa&134217727)===0||tt===null||es(tt,Ne,Dn,!1)}function am(t,i,a){var l=Fe;Fe|=2;var f=cv(),d=hv();(tt!==t||Ne!==i)&&(Kc=null,uo(t,i)),i=!1;var _=pt;e:do try{if(Xe!==0&&De!==null){var S=De,x=In;switch(Xe){case 8:sm(),_=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var F=Xe;if(Xe=0,In=null,co(t,S,x,F),a&&ao){_=0;break e}break;default:F=Xe,Xe=0,In=null,co(t,S,x,F)}}mw(),_=pt;break}catch(Y){lv(t,Y)}while(!0);return i&&t.shellSuspendCounter++,er=Ws=null,Fe=l,X.H=f,X.A=d,De===null&&(tt=null,Ne=0,mc()),_}function mw(){for(;De!==null;)fv(De)}function pw(t,i){var a=Fe;Fe|=2;var l=cv(),f=hv();tt!==t||Ne!==i?(Kc=null,Gc=sn()+500,uo(t,i)):ao=$n(t,i);e:do try{if(Xe!==0&&De!==null){i=De;var d=In;t:switch(Xe){case 1:Xe=0,In=null,co(t,i,d,1);break;case 2:case 9:if(Sy(d)){Xe=0,In=null,dv(i);break}i=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),Ni(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Sy(d)?(Xe=0,In=null,dv(i)):(Xe=0,In=null,co(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var S=De;if(_?Jv(_):S.stateNode.complete){Xe=0,In=null;var x=S.sibling;if(x!==null)De=x;else{var F=S.return;F!==null?(De=F,Xc(F)):De=null}break t}}Xe=0,In=null,co(t,i,d,5);break;case 6:Xe=0,In=null,co(t,i,d,6);break;case 8:sm(),pt=6;break e;default:throw Error(s(462))}}gw();break}catch(Y){lv(t,Y)}while(!0);return er=Ws=null,X.H=l,X.A=f,Fe=a,De!==null?0:(tt=null,Ne=0,mc(),pt)}function gw(){for(;De!==null&&!Pf();)fv(De)}function fv(t){var i=P_(t.alternate,t,cr);t.memoizedProps=t.pendingProps,i===null?Xc(t):De=i}function dv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=x_(a,i,i.pendingProps,i.type,void 0,Ne);break;case 11:i=x_(a,i,i.pendingProps,i.type.render,i.ref,Ne);break;case 5:Td(i);default:L_(a,i),i=De=hy(i,cr),i=P_(a,i,cr)}t.memoizedProps=t.pendingProps,i===null?Xc(t):De=i}function co(t,i,a,l){er=Ws=null,Td(i),Za=null,El=0;var f=i.return;try{if(rw(t,f,i,a,Ne)){pt=1,Pc(t,zn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;pt=1,Pc(t,zn(a,t.current)),De=null;return}i.flags&32768?(Pe||l===1?t=!0:ao||(Ne&536870912)!==0?t=!1:($r=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),mv(i,t)):Xc(i)}function Xc(t){var i=t;do{if((i.flags&32768)!==0){mv(i,$r);return}t=i.return;var a=ow(i.alternate,i,cr);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);pt===0&&(pt=5)}function mv(t,i){do{var a=lw(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);pt=6,De=null}function pv(t,i,a,l,f,d,_,S,x){t.cancelPendingCommit=null;do $c();while(Ut!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Yf,jf(t,a,d,_,S,x),t===tt&&(De=tt=null,Ne=0),lo=i,Zr=t,hr=a,nm=d,im=f,rv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ew(xr,function(){return Ev(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=ae.p,ae.p=2,_=Fe,Fe|=4;try{uw(t,i,a)}finally{Fe=_,ae.p=f,X.T=l}}Ut=1,gv(),yv(),_v()}}function gv(){if(Ut===1){Ut=0;var t=Zr,i=lo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var f=Fe;Fe|=4;try{$_(i,t);var d=_m,_=ny(t.containerInfo),S=d.focusedElem,x=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&ty(S.ownerDocument.documentElement,S)){if(x!==null&&Ff(S)){var F=x.start,Y=x.end;if(Y===void 0&&(Y=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(Y,S.value.length);else{var Z=S.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var Q=H.getSelection(),fe=S.textContent.length,_e=Math.min(x.start,fe),et=x.end===void 0?_e:Math.min(x.end,fe);!Q.extend&&_e>et&&(_=et,et=_e,_e=_);var L=ey(S,_e),M=ey(S,et);if(L&&M&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var q=Z.createRange();q.setStart(L.node,L.offset),Q.removeAllRanges(),_e>et?(Q.addRange(q),Q.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),Q.addRange(q))}}}}for(Z=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var J=Z[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}lh=!!ym,_m=ym=null}finally{Fe=f,ae.p=l,X.T=a}}t.current=i,Ut=2}}function yv(){if(Ut===2){Ut=0;var t=Zr,i=lo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var f=Fe;Fe|=4;try{G_(t,i.alternate,i)}finally{Fe=f,ae.p=l,X.T=a}}Ut=3}}function _v(){if(Ut===4||Ut===3){Ut=0,zu();var t=Zr,i=lo,a=hr,l=rv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,lo=Zr=null,vv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Jr=null),Yi(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Xn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=ae.p,ae.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{X.T=i,ae.p=f}}(hr&3)!==0&&$c(),Ni(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===rm?Ul++:(Ul=0,rm=t):Ul=0,Ll(0)}}function vv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,_l(i)))}function $c(){return gv(),yv(),_v(),Ev()}function Ev(){if(Ut!==5)return!1;var t=Zr,i=nm;nm=0;var a=Yi(hr),l=X.T,f=ae.p;try{ae.p=32>a?32:a,X.T=null,a=im,im=null;var d=Zr,_=hr;if(Ut=0,lo=Zr=null,hr=0,(Fe&6)!==0)throw Error(s(331));var S=Fe;if(Fe|=4,tv(d.current),J_(d,d.current,_,a),Fe=S,Ll(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{ae.p=f,X.T=l,vv(t,i)}}function Tv(t,i,a){i=zn(a,i),i=Pd(t.stateNode,i,2),t=Kr(t,i,2),t!==null&&(Vs(t,2),Ni(t))}function $e(t,i,a){if(t.tag===3)Tv(t,t,a);else for(;i!==null;){if(i.tag===3){Tv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Jr===null||!Jr.has(l))){t=zn(a,t),a=S_(2),l=Kr(i,a,2),l!==null&&(b_(a,l,i,t),Vs(l,2),Ni(l));break}}i=i.return}}function om(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new fw;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Zd=!0,f.add(a),t=yw.bind(null,t,i,a),i.then(t,t))}function yw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Ne&a)===a&&(pt===4||pt===3&&(Ne&62914560)===Ne&&300>sn()-Hc?(Fe&2)===0&&uo(t,0):em|=a,oo===Ne&&(oo=0)),Ni(t)}function Sv(t,i){i===0&&(i=Ku()),t=Ys(t,i),t!==null&&(Vs(t,i),Ni(t))}function _w(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Sv(t,a)}function vw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Sv(t,a)}function Ew(t,i){return Pt(t,i)}var Wc=null,ho=null,lm=!1,Jc=!1,um=!1,ts=0;function Ni(t){t!==ho&&t.next===null&&(ho===null?Wc=ho=t:ho=ho.next=t),Jc=!0,lm||(lm=!0,Sw())}function Ll(t,i){if(!um&&Jc){um=!0;do for(var a=!1,l=Wc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-_t(42|t)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Rv(l,d))}else d=Ne,d=di(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||$n(l,d)||(a=!0,Rv(l,d));l=l.next}while(a);um=!1}}function Tw(){bv()}function bv(){Jc=lm=!1;var t=0;ts!==0&&Ow()&&(t=ts);for(var i=sn(),a=null,l=Wc;l!==null;){var f=l.next,d=Av(l,i);d===0?(l.next=null,a===null?Wc=f:a.next=f,f===null&&(ho=a)):(a=l,(t!==0||(d&3)!==0)&&(Jc=!0)),l=f}Ut!==0&&Ut!==5||Ll(t),ts!==0&&(ts=0)}function Av(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-_t(d),S=1<<_,x=f[_];x===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Lf(S,i)):x<=i&&(t.expiredLanes|=S),d&=~S}if(i=tt,a=Ne,a=di(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Dr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$n(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Dr(l),Yi(a)){case 2:case 8:a=Yo;break;case 32:a=xr;break;case 268435456:a=Bu;break;default:a=xr}return l=wv.bind(null,t),a=Pt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Dr(l),t.callbackPriority=2,t.callbackNode=null,2}function wv(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if($c()&&t.callbackNode!==a)return null;var l=Ne;return l=di(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(av(t,l,i),Av(t,sn()),t.callbackNode!=null&&t.callbackNode===a?wv.bind(null,t):null)}function Rv(t,i){if($c())return null;av(t,i,!0)}function Sw(){Vw(function(){(Fe&6)!==0?Pt(Qo,Tw):bv()})}function cm(){if(ts===0){var t=$a;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),ts=t}return ts}function Cv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ka(""+t)}function Iv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function bw(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=Cv((f[jt]||null).action),_=l.submitter;_&&(i=(i=_[jt]||null)?Cv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ai("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ts!==0){var x=_?Iv(f,_):new FormData(f);xd(a,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(S.preventDefault(),x=_?Iv(f,_):new FormData(f),xd(a,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var hm=0;hm<Qf.length;hm++){var fm=Qf[hm],Aw=fm.toLowerCase(),ww=fm[0].toUpperCase()+fm.slice(1);ri(Aw,"on"+ww)}ri(sy,"onAnimationEnd"),ri(ay,"onAnimationIteration"),ri(oy,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(BA,"onTransitionRun"),ri(qA,"onTransitionStart"),ri(FA,"onTransitionCancel"),ri(ly,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function Dv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],x=S.instance,F=S.currentTarget;if(S=S.listener,x!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=F;try{d(f)}catch(Y){dc(Y)}f.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(S=l[_],x=S.instance,F=S.currentTarget,S=S.listener,x!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=F;try{d(f)}catch(Y){dc(Y)}f.currentTarget=null,d=x}}}}function xe(t,i){var a=i[xa];a===void 0&&(a=i[xa]=new Set);var l=t+"__bubble";a.has(l)||(xv(i,t,2,!1),a.add(l))}function dm(t,i,a){var l=0;i&&(l|=4),xv(a,t,l,i)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function mm(t){if(!t[Zc]){t[Zc]=!0,Wo.forEach(function(a){a!=="selectionchange"&&(Rw.has(a)||dm(a,!1,t),dm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Zc]||(i[Zc]=!0,dm("selectionchange",!1,i))}}function xv(t,i,a,l){switch(sE(i)){case 2:var f=e1;break;case 8:f=t1;break;default:f=Dm}a=f.bind(null,i,a,t),f=void 0,!zs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function pm(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=yi(S),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Pr(function(){var F=d,Y=Pn(a),Z=[];e:{var H=uy.get(t);if(H!==void 0){var Q=Ai,fe=t;switch(t){case"keypress":if(qs(a)===0)break e;case"keydown":case"keyup":Q=cc;break;case"focusin":fe="focus",Q=Hs;break;case"focusout":fe="blur",Q=Hs;break;case"beforeblur":case"afterblur":Q=Hs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case sy:case ay:case oy:Q=ic;break;case ly:Q=b;break;case"scroll":case"scrollend":Q=ul;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=rc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Wi;break;case"toggle":case"beforetoggle":Q=we}var _e=(i&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),L=_e?H!==null?H+"Capture":null:H;_e=[];for(var M=F,q;M!==null;){var J=M;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||L===null||(J=ei(M,L),J!=null&&_e.push(zl(M,J,q))),et)break;M=M.return}0<_e.length&&(H=new Q(H,fe,null,a,Y),Z.push({event:H,listeners:_e}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&a!==al&&(fe=a.relatedTarget||a.fromElement)&&(yi(fe)||fe[pi]))break e;if((Q||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=F,fe=fe?yi(fe):null,fe!==null&&(et=u(fe),_e=fe.tag,fe!==et||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(Q=null,fe=F),Q!==fe)){if(_e=cl,J="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Wi,J="onPointerLeave",L="onPointerEnter",M="pointer"),et=Q==null?H:Sn(Q),q=fe==null?H:Sn(fe),H=new _e(J,M+"leave",Q,a,Y),H.target=et,H.relatedTarget=q,J=null,yi(Y)===F&&(_e=new _e(L,M+"enter",fe,a,Y),_e.target=q,_e.relatedTarget=et,J=_e),et=J,Q&&fe)t:{for(_e=Cw,L=Q,M=fe,q=0,J=L;J;J=_e(J))q++;J=0;for(var me=M;me;me=_e(me))J++;for(;0<q-J;)L=_e(L),q--;for(;0<J-q;)M=_e(M),J--;for(;q--;){if(L===M||M!==null&&L===M.alternate){_e=L;break t}L=_e(L),M=_e(M)}_e=null}else _e=null;Q!==null&&Nv(Z,H,Q,_e,!1),fe!==null&&et!==null&&Nv(Z,et,fe,_e,!0)}}e:{if(H=F?Sn(F):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var ze=Yg;else if(Kg(H))if(Xg)ze=LA;else{ze=PA;var de=kA}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&Va(F.elementType)&&(ze=Yg):ze=UA;if(ze&&(ze=ze(t,F))){Qg(Z,ze,a,Y);break e}de&&de(t,H,F),t==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&il(H,"number",H.value)}switch(de=F?Sn(F):window,t){case"focusin":(Kg(de)||de.contentEditable==="true")&&(qa=de,Hf=F,pl=null);break;case"focusout":pl=Hf=qa=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,iy(Z,a,Y);break;case"selectionchange":if(zA)break;case"keydown":case"keyup":iy(Z,a,Y)}var Ie;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ba?Gs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ci&&a.locale!=="ko"&&(Ba||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ba&&(Ie=ll()):(bi=Y,ol="value"in bi?bi.value:bi.textContent,Ba=!0)),de=eh(F,Oe),0<de.length&&(Oe=new Ri(Oe,t,null,a,Y),Z.push({event:Oe,listeners:de}),Ie?Oe.data=Ie:(Ie=za(a),Ie!==null&&(Oe.data=Ie)))),(Ie=Ln?NA(t,a):OA(t,a))&&(Oe=eh(F,"onBeforeInput"),0<Oe.length&&(de=new Ri("onBeforeInput","beforeinput",null,a,Y),Z.push({event:de,listeners:Oe}),de.data=Ie)),bw(Z,t,F,a,Y)}Dv(Z,i)})}function zl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function eh(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ei(t,a),f!=null&&l.unshift(zl(t,f,d)),f=ei(t,i),f!=null&&l.push(zl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Cw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Nv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,x=S.alternate,F=S.stateNode;if(S=S.tag,x!==null&&x===l)break;S!==5&&S!==26&&S!==27||F===null||(x=F,f?(F=ei(a,d),F!=null&&_.unshift(zl(a,F,x))):f||(F=ei(a,d),F!=null&&_.push(zl(a,F,x)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Iw=/\r\n?/g,Dw=/\u0000|\uFFFD/g;function Ov(t){return(typeof t=="string"?t:""+t).replace(Iw,`
`).replace(Dw,"")}function Mv(t,i){return i=Ov(i),Ov(t)===i}function Ze(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(t,""+l);break;case"className":bn(t,"class",l);break;case"tabIndex":bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,a,l);break;case"style":sl(t,l,d);break;case"data":if(i!=="object"){bn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ka(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",f.name,f,null),Ze(t,i,"formEncType",f.formEncType,f,null),Ze(t,i,"formMethod",f.formMethod,f,null),Ze(t,i,"formTarget",f.formTarget,f,null)):(Ze(t,i,"encType",f.encType,f,null),Ze(t,i,"method",f.method,f,null),Ze(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ka(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ka(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),Oa(t,"popover",l);break;case"xlinkActuate":Ct(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ct(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ct(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ct(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ct(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ct(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Oa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ec.get(a)||a,Oa(t,a,l))}}function gm(t,i,a,l,f,d){switch(a){case"style":sl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Oa(t,a,l)}}}function Yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}f&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var S=d=_=f=null,x=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":x=Y;break;case"defaultChecked":F=Y;break;case"value":d=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Ze(t,i,l,Y,a,null)}}Wu(t,d,S,x,F,_,f,!1);return;case"select":xe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Ze(t,i,f,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Or(t,!!l,i,!1):a!=null&&Or(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ze(t,i,_,S,a,null)}Mr(t,l,f,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,x,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)xe(jl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,F,l,a,null)}return;default:if(Va(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&gm(t,i,Y,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ze(t,i,S,l,a,null))}function xw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,x=null,F=null,Y=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":x=Z;default:l.hasOwnProperty(Q)||Ze(t,i,Q,null,l,Z)}}for(var H in l){var Q=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(Q!=null||Z!=null))switch(H){case"type":d=Q;break;case"name":f=Q;break;case"checked":F=Q;break;case"defaultChecked":Y=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==Z&&Ze(t,i,H,Q,l,Z)}}Ma(t,_,S,x,F,Y,d,f);return;case"select":Q=_=S=H=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":Q=x;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,x)}for(f in l)if(d=l[f],x=a[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":H=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==x&&Ze(t,i,f,d,l,x)}i=S,a=_,l=Q,H!=null?Or(t,!!a,H,!1):!!l!=!!a&&(i!=null?Or(t,!!a,i,!0):Or(t,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(t,i,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":H=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(t,i,_,f,l,d)}Ju(t,H,Q);return;case"option":for(var fe in a)if(H=a[fe],a.hasOwnProperty(fe)&&H!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Ze(t,i,fe,null,l,H)}for(x in l)if(H=l[x],Q=a[x],l.hasOwnProperty(x)&&H!==Q&&(H!=null||Q!=null))switch(x){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ze(t,i,x,H,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&Ze(t,i,_e,null,l,H);for(F in l)if(H=l[F],Q=a[F],l.hasOwnProperty(F)&&H!==Q&&(H!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Ze(t,i,F,H,l,Q)}return;default:if(Va(i)){for(var et in a)H=a[et],a.hasOwnProperty(et)&&H!==void 0&&!l.hasOwnProperty(et)&&gm(t,i,et,void 0,l,H);for(Y in l)H=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||H===Q||H===void 0&&Q===void 0||gm(t,i,Y,H,l,Q);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Ze(t,i,L,null,l,H);for(Z in l)H=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||H===Q||H==null&&Q==null||Ze(t,i,Z,H,l,Q)}function Vv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&Vv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var x=a[l],F=x.startTime;if(F>S)break;var Y=x.transferSize,Z=x.initiatorType;Y&&Vv(Z)&&(x=x.responseEnd,_+=Y*(x<S?1:(S-F)/(x-F)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ym=null,_m=null;function th(t){return t.nodeType===9?t:t.ownerDocument}function kv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function vm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Em=null;function Ow(){var t=window.event;return t&&t.type==="popstate"?t===Em?!1:(Em=t,!0):(Em=null,!1)}var Uv=typeof setTimeout=="function"?setTimeout:void 0,Mw=typeof clearTimeout=="function"?clearTimeout:void 0,Lv=typeof Promise=="function"?Promise:void 0,Vw=typeof queueMicrotask=="function"?queueMicrotask:typeof Lv<"u"?function(t){return Lv.resolve(null).then(t).catch(kw)}:Uv;function kw(t){setTimeout(function(){throw t})}function ns(t){return t==="head"}function jv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),go(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Bl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Bl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[gi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Bl(t.ownerDocument.body);a=f}while(a);go(i)}function zv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Tm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tm(a),Na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Pw(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function Uw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function Bv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Gn(t.nextSibling),t===null))return null;return t}function Sm(t){return t.data==="$?"||t.data==="$~"}function bm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Lw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Am=null;function qv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Gn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Fv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Hv(t,i,a){switch(i=th(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Na(t)}var Kn=new Map,Gv=new Set;function nh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fr=ae.d;ae.d={f:jw,r:zw,D:Bw,C:qw,L:Fw,m:Hw,X:Kw,S:Gw,M:Qw};function jw(){var t=fr.f(),i=Qc();return t||i}function zw(t){var i=kn(t);i!==null&&i.tag===5&&i.type==="form"?l_(i):fr.r(t)}var fo=typeof document>"u"?null:document;function Kv(t,i,a){var l=fo;if(l&&typeof i=="string"&&i){var f=cn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Gv.has(f)||(Gv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Yt(i,"link",t),Rt(i),l.head.appendChild(i)))}}function Bw(t){fr.D(t),Kv("dns-prefetch",t,null)}function qw(t,i){fr.C(t,i),Kv("preconnect",t,i)}function Fw(t,i,a){fr.L(t,i,a);var l=fo;if(l&&t&&i){var f='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+cn(a.imageSizes)+'"]')):f+='[href="'+cn(t)+'"]';var d=f;switch(i){case"style":d=mo(t);break;case"script":d=po(t)}Kn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Kn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(ql(d))||i==="script"&&l.querySelector(Fl(d))||(i=l.createElement("link"),Yt(i,"link",t),Rt(i),l.head.appendChild(i)))}}function Hw(t,i){fr.m(t,i);var a=fo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=po(t)}if(!Kn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Kn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(d)))return}l=a.createElement("link"),Yt(l,"link",t),Rt(l),a.head.appendChild(l)}}}function Gw(t,i,a){fr.S(t,i,a);var l=fo;if(l&&t){var f=_i(l).hoistableStyles,d=mo(t);i=i||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(ql(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Kn.get(d))&&wm(t,a);var x=_=l.createElement("link");Rt(x),Yt(x,"link",t),x._p=new Promise(function(F,Y){x.onload=F,x.onerror=Y}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ih(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function Kw(t,i){fr.X(t,i);var a=fo;if(a&&t){var l=_i(a).hoistableScripts,f=po(t),d=l.get(f);d||(d=a.querySelector(Fl(f)),d||(t=T({src:t,async:!0},i),(i=Kn.get(f))&&Rm(t,i),d=a.createElement("script"),Rt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Qw(t,i){fr.M(t,i);var a=fo;if(a&&t){var l=_i(a).hoistableScripts,f=po(t),d=l.get(f);d||(d=a.querySelector(Fl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Kn.get(f))&&Rm(t,i),d=a.createElement("script"),Rt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Qv(t,i,a,l){var f=(f=Ce.current)?nh(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=mo(a.href),a=_i(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=mo(a.href);var d=_i(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(ql(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(t,a),d||Yw(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=po(a),a=_i(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function mo(t){return'href="'+cn(t)+'"'}function ql(t){return'link[rel="stylesheet"]['+t+"]"}function Yv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Yw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Yt(i,"link",a),Rt(i),t.head.appendChild(i))}function po(t){return'[src="'+cn(t)+'"]'}function Fl(t){return"script[async]"+t}function Xv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return i.instance=l,Rt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Rt(l),Yt(l,"style",f),ih(l,a.precedence,t),i.instance=l;case"stylesheet":f=mo(a.href);var d=t.querySelector(ql(f));if(d)return i.state.loading|=4,i.instance=d,Rt(d),d;l=Yv(a),(f=Kn.get(f))&&wm(l,f),d=(t.ownerDocument||t).createElement("link"),Rt(d);var _=d;return _._p=new Promise(function(S,x){_.onload=S,_.onerror=x}),Yt(d,"link",l),i.state.loading|=4,ih(d,a.precedence,t),i.instance=d;case"script":return d=po(a.src),(f=t.querySelector(Fl(d)))?(i.instance=f,Rt(f),f):(l=a,(f=Kn.get(d))&&(l=T({},a),Rm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Rt(f),Yt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ih(l,a.precedence,t));return i.instance}function ih(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function wm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var rh=null;function $v(t,i,a){if(rh===null){var l=new Map,f=rh=new Map;f.set(a,l)}else f=rh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[gi]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Wv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Xw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Jv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $w(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=mo(l.href),d=i.querySelector(ql(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=sh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Rt(d);return}d=i.ownerDocument||i,l=Yv(l),(f=Kn.get(f))&&wm(l,f),d=d.createElement("link"),Rt(d);var _=d;_._p=new Promise(function(S,x){_.onload=S,_.onerror=x}),Yt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=sh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Cm=0;function Ww(t,i){return t.stylesheets&&t.count===0&&oh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Cm===0&&(Cm=62500*Nw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Cm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ah=null;function oh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ah=new Map,i.forEach(Jw,t),ah=null,sh.call(t))}function Jw(t,i){if(!(i.state.loading&4)){var a=ah.get(t);if(a)var l=a.get(null);else{a=new Map,ah.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=sh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Hl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function Zw(t,i,a,l,f,d,_,S,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Zv(t,i,a,l,f,d,_,S,x,F,Y,Z){return t=new Zw(t,i,a,_,x,F,Y,Z,S),i=1,d===!0&&(i|=24),d=wn(3,null,null,i),t.current=d,d.stateNode=t,i=ad(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},cd(d),t}function eE(t){return t?(t=Ga,t):Ga}function tE(t,i,a,l,f,d){f=eE(f),l.context===null?l.context=f:l.pendingContext=f,l=Gr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Kr(t,l,i),a!==null&&(gn(a,t,i),Sl(a,t,i))}function nE(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Im(t,i){nE(t,i),(t=t.alternate)&&nE(t,i)}function iE(t){if(t.tag===13||t.tag===31){var i=Ys(t,67108864);i!==null&&gn(i,t,67108864),Im(t,67108864)}}function rE(t){if(t.tag===13||t.tag===31){var i=xn();i=Ps(i);var a=Ys(t,i);a!==null&&gn(a,t,i),Im(t,i)}}var lh=!0;function e1(t,i,a,l){var f=X.T;X.T=null;var d=ae.p;try{ae.p=2,Dm(t,i,a,l)}finally{ae.p=d,X.T=f}}function t1(t,i,a,l){var f=X.T;X.T=null;var d=ae.p;try{ae.p=8,Dm(t,i,a,l)}finally{ae.p=d,X.T=f}}function Dm(t,i,a,l){if(lh){var f=xm(l);if(f===null)pm(t,i,l,uh,a),aE(t,l);else if(i1(f,t,i,a,l))l.stopPropagation();else if(aE(t,l),i&4&&-1<n1.indexOf(t)){for(;f!==null;){var d=kn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=fi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var x=1<<31-_t(_);S.entanglements[1]|=x,_&=~x}Ni(d),(Fe&6)===0&&(Gc=sn()+500,Ll(0))}}break;case 31:case 13:S=Ys(d,2),S!==null&&gn(S,d,2),Qc(),Im(d,2)}if(d=xm(l),d===null&&pm(t,i,l,uh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else pm(t,i,l,null,a)}}function xm(t){return t=Pn(t),Nm(t)}var uh=null;function Nm(t){if(uh=null,t=yi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return uh=t,null}function sE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Os()){case Qo:return 2;case Yo:return 8;case xr:case Uf:return 32;case Bu:return 268435456;default:return 32}default:return 32}}var Om=!1,is=null,rs=null,ss=null,Gl=new Map,Kl=new Map,as=[],n1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aE(t,i){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(i.pointerId)}}function Ql(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=kn(i),i!==null&&iE(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function i1(t,i,a,l,f){switch(i){case"focusin":return is=Ql(is,t,i,a,l,f),!0;case"dragenter":return rs=Ql(rs,t,i,a,l,f),!0;case"mouseover":return ss=Ql(ss,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Gl.set(d,Ql(Gl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Kl.set(d,Ql(Kl.get(d)||null,t,i,a,l,f)),!0}return!1}function oE(t){var i=yi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Wn(t.priority,function(){rE(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Wn(t.priority,function(){rE(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=xm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);al=l,a.target.dispatchEvent(l),al=null}else return i=kn(a),i!==null&&iE(i),t.blockedOn=a,!1;i.shift()}return!0}function lE(t,i,a){ch(t)&&a.delete(i)}function r1(){Om=!1,is!==null&&ch(is)&&(is=null),rs!==null&&ch(rs)&&(rs=null),ss!==null&&ch(ss)&&(ss=null),Gl.forEach(lE),Kl.forEach(lE)}function hh(t,i){t.blockedOn===i&&(t.blockedOn=null,Om||(Om=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,r1)))}var fh=null;function uE(t){fh!==t&&(fh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fh===t&&(fh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Nm(l||a)===null)continue;break}var d=kn(a);d!==null&&(t.splice(i,3),i-=3,xd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function go(t){function i(x){return hh(x,t)}is!==null&&hh(is,t),rs!==null&&hh(rs,t),ss!==null&&hh(ss,t),Gl.forEach(i),Kl.forEach(i);for(var a=0;a<as.length;a++){var l=as[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<as.length&&(a=as[0],a.blockedOn===null);)oE(a),a.blockedOn===null&&as.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[jt]||null;if(typeof d=="function")_||uE(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[jt]||null)S=_.formAction;else if(Nm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),uE(a)}}}function cE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Mm(t){this._internalRoot=t}dh.prototype.render=Mm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xn();tE(a,l,t,i,null,null)},dh.prototype.unmount=Mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;tE(t.current,2,null,t,null,null),Qc(),i[pi]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Qu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<as.length&&i!==0&&i<as[a].priority;a++);as.splice(a,0,t),a===0&&oE(t)}};var hE=e.version;if(hE!=="19.2.0")throw Error(s(527,hE,"19.2.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var s1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{Xn=mh.inject(s1),Ft=mh}catch{}}return Xl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=__,d=v_,_=E_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Zv(t,1,!1,null,null,a,l,null,f,d,_,cE),t[pi]=i.current,mm(t),new Mm(i)},Xl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=__,_=v_,S=E_,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=Zv(t,1,!0,i,a??null,l,f,x,d,_,S,cE),i.context=eE(null),a=i.current,l=xn(),l=Ps(l),f=Gr(l),f.callback=null,Kr(a,f,l),a=l,i.current.lanes=a,Vs(i,a),Ni(i),t[pi]=i.current,mm(t),new dh(i)},Xl.version="19.2.0",Xl}var TE;function g1(){if(TE)return Pm.exports;TE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pm.exports=p1(),Pm.exports}var y1=g1();const _1=o1(y1);var SE="popstate";function v1(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return rp("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:hu(o)}return T1(e,n,null,r)}function ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Fi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function E1(){return Math.random().toString(36).substring(2,10)}function bE(r,e){return{usr:r.state,key:r.key,idx:e}}function rp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ko(e):e,state:n,key:e&&e.key||s||E1()}}function hu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ko(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function T1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let P=v(),$=P==null?null:P-g;g=P,p&&p({action:m,location:G.location,delta:$})}function w(P,$){m="PUSH";let W=rp(G.location,P,$);g=v()+1;let ie=bE(W,g),ue=G.createHref(W);try{h.pushState(ie,"",ue)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;o.location.assign(ue)}u&&p&&p({action:m,location:G.location,delta:1})}function N(P,$){m="REPLACE";let W=rp(G.location,P,$);g=v();let ie=bE(W,g),ue=G.createHref(W);h.replaceState(ie,"",ue),u&&p&&p({action:m,location:G.location,delta:0})}function U(P){return S1(P)}let G={get action(){return m},get location(){return r(o,h)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(SE,T),p=P,()=>{o.removeEventListener(SE,T),p=null}},createHref(P){return e(o,P)},createURL:U,encodeLocation(P){let $=U(P);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:N,go(P){return h.go(P)}};return G}function S1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:hu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function b0(r,e,n="/"){return b1(r,e,n,!1)}function b1(r,e,n,s){let o=typeof e=="string"?ko(e):e,u=vr(o.pathname||"/",n);if(u==null)return null;let h=A0(r);A1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=k1(u);m=M1(h[p],g,s)}return m}function A0(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;ht(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=pr([s,v.relativePath]),w=n.concat(v);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),A0(h.children,e,w,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:N1(T,h.index),routesMeta:w})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of w0(h.path))u(h,m,!0,p)}),e}function w0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=w0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function A1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:O1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var w1=/^:[\w-]+$/,R1=3,C1=2,I1=1,D1=10,x1=-2,AE=r=>r==="*";function N1(r,e){let n=r.split("/"),s=n.length;return n.some(AE)&&(s+=x1),e&&(s+=C1),n.filter(o=>!AE(o)).reduce((o,u)=>o+(w1.test(u)?R1:u===""?I1:D1),s)}function O1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function M1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=Ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:pr([u,T.pathname]),pathnameBase:j1(pr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=pr([u,T.pathnameBase]))}return h}function Ph(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=V1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},w)=>{if(v==="*"){let U=m[w]||"";h=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const N=m[w];return T&&!N?g[v]=void 0:g[v]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function V1(r,e=!1,n=!0){Fi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function k1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function vr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function P1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ko(r):r;return{pathname:n?n.startsWith("/")?n:U1(n,e):e,search:z1(s),hash:B1(o)}}function U1(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function zm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function R0(r){let e=L1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function C0(r,e,n,s=!1){let o;typeof r=="string"?o=ko(r):(o={...r},ht(!o.pathname||!o.pathname.includes("?"),zm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),zm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),zm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=P1(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var pr=r=>r.join("/").replace(/\/\/+/g,"/"),j1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),z1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,B1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function q1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var I0=["POST","PUT","PATCH","DELETE"];new Set(I0);var F1=["GET",...I0];new Set(F1);var Po=j.createContext(null);Po.displayName="DataRouter";var af=j.createContext(null);af.displayName="DataRouterState";j.createContext(!1);var D0=j.createContext({isTransitioning:!1});D0.displayName="ViewTransition";var H1=j.createContext(new Map);H1.displayName="Fetchers";var G1=j.createContext(null);G1.displayName="Await";var Ki=j.createContext(null);Ki.displayName="Navigation";var Su=j.createContext(null);Su.displayName="Location";var Rr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var kp=j.createContext(null);kp.displayName="RouteError";function K1(r,{relative:e}={}){ht(bu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Ki),{hash:o,pathname:u,search:h}=Au(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:pr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function bu(){return j.useContext(Su)!=null}function Ea(){return ht(bu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Su).location}var x0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N0(r){j.useContext(Ki).static||j.useLayoutEffect(r)}function of(){let{isDataRoute:r}=j.useContext(Rr);return r?sR():Q1()}function Q1(){ht(bu(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(Po),{basename:e,navigator:n}=j.useContext(Ki),{matches:s}=j.useContext(Rr),{pathname:o}=Ea(),u=JSON.stringify(R0(s)),h=j.useRef(!1);return N0(()=>{h.current=!0}),j.useCallback((p,g={})=>{if(Fi(h.current,x0),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=C0(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:pr([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}j.createContext(null);function Au(r,{relative:e}={}){let{matches:n}=j.useContext(Rr),{pathname:s}=Ea(),o=JSON.stringify(R0(n));return j.useMemo(()=>C0(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Y1(r,e){return O0(r,e)}function O0(r,e,n,s,o){ht(bu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(Ki),{matches:h}=j.useContext(Rr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let W=T&&T.path||"";M0(g,!T||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=Ea(),N;if(e){let W=typeof e=="string"?ko(e):e;ht(v==="/"||W.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),N=W}else N=w;let U=N.pathname||"/",G=U;if(v!=="/"){let W=v.replace(/^\//,"").split("/");G="/"+U.replace(/^\//,"").split("/").slice(W.length).join("/")}let P=b0(r,{pathname:G});Fi(T||P!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Fi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=Z1(P&&P.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:pr([v,u.encodeLocation?u.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:pr([v,u.encodeLocation?u.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),h,n,s,o);return e&&$?j.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},$):$}function X1(){let r=rR(),e=q1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,h)}var $1=j.createElement(X1,null),W1=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?j.createElement(Rr.Provider,{value:this.props.routeContext},j.createElement(kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function J1({routeContext:r,match:e,children:n}){let s=j.useContext(Po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Rr.Provider,{value:r},n)}function Z1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let g=u.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);ht(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:T,errors:w}=n,N=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||N){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,v,T)=>{let w,N=!1,U=null,G=null;n&&(w=h&&v.route.id?h[v.route.id]:void 0,U=v.route.errorElement||$1,m&&(p<0&&T===0?(M0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,G=null):p===T&&(N=!0,G=v.route.hydrateFallbackElement||null)));let P=e.concat(u.slice(0,T+1)),$=()=>{let W;return w?W=U:N?W=G:v.route.Component?W=j.createElement(v.route.Component,null):v.route.element?W=v.route.element:W=g,j.createElement(J1,{match:v,routeContext:{outlet:g,matches:P,isDataRoute:n!=null},children:W})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?j.createElement(W1,{location:n.location,revalidation:n.revalidation,component:U,error:w,children:$(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:s}):$()},null)}function Pp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eR(r){let e=j.useContext(Po);return ht(e,Pp(r)),e}function tR(r){let e=j.useContext(af);return ht(e,Pp(r)),e}function nR(r){let e=j.useContext(Rr);return ht(e,Pp(r)),e}function Up(r){let e=nR(r),n=e.matches[e.matches.length-1];return ht(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function iR(){return Up("useRouteId")}function rR(){let r=j.useContext(kp),e=tR("useRouteError"),n=Up("useRouteError");return r!==void 0?r:e.errors?.[n]}function sR(){let{router:r}=eR("useNavigate"),e=Up("useNavigate"),n=j.useRef(!1);return N0(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{Fi(n.current,x0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var wE={};function M0(r,e,n){!e&&!wE[r]&&(wE[r]=!0,Fi(!1,n))}j.memo(aR);function aR({routes:r,future:e,state:n,unstable_onError:s}){return O0(r,void 0,n,s,e)}function oa(r){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oR({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ht(!bu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=ko(n));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:w="default"}=n,N=j.useMemo(()=>{let U=vr(p,h);return U==null?null:{location:{pathname:U,search:g,hash:v,state:T,key:w},navigationType:s}},[h,p,g,v,T,w,s]);return Fi(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:j.createElement(Ki.Provider,{value:m},j.createElement(Su.Provider,{children:e,value:N}))}function lR({children:r,location:e}){return Y1(sp(r),e)}function sp(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,sp(s.props.children,u));return}ht(s.type===oa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=sp(s.props.children,u)),n.push(h)}),n}var Ah="get",wh="application/x-www-form-urlencoded";function lf(r){return r!=null&&typeof r.tagName=="string"}function uR(r){return lf(r)&&r.tagName.toLowerCase()==="button"}function cR(r){return lf(r)&&r.tagName.toLowerCase()==="form"}function hR(r){return lf(r)&&r.tagName.toLowerCase()==="input"}function fR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function dR(r,e){return r.button===0&&(!e||e==="_self")&&!fR(r)}var ph=null;function mR(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var pR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bm(r){return r!=null&&!pR.has(r)?(Fi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):r}function gR(r,e){let n,s,o,u,h;if(cR(r)){let m=r.getAttribute("action");s=m?vr(m,e):null,n=r.getAttribute("method")||Ah,o=Bm(r.getAttribute("enctype"))||wh,u=new FormData(r)}else if(uR(r)||hR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?vr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Ah,o=Bm(r.getAttribute("formenctype"))||Bm(m.getAttribute("enctype"))||wh,u=new FormData(m,r),!mR()){let{name:g,type:v,value:T}=r;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(lf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ah,s=null,o=wh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yR(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&vr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function _R(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ER(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await _R(u,n);return h.links?h.links():[]}return[]}));return AR(s.flat(1).filter(vR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function RE(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function TR(r,e,{includeHydrateFallback:n}={}){return SR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function SR(r){return[...new Set(r)]}function bR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function AR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(bR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function V0(){let r=j.useContext(Po);return Lp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function wR(){let r=j.useContext(af);return Lp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var jp=j.createContext(void 0);jp.displayName="FrameworkContext";function k0(){let r=j.useContext(jp);return Lp(r,"You must render this element inside a <HydratedRouter> element"),r}function RR(r,e){let n=j.useContext(jp),[s,o]=j.useState(!1),[u,h]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,w=j.useRef(null);j.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let G=$=>{$.forEach(W=>{h(W.isIntersecting)})},P=new IntersectionObserver(G,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[r]),j.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let N=()=>{o(!0)},U=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:$l(m,N),onBlur:$l(p,U),onMouseEnter:$l(g,N),onMouseLeave:$l(v,U),onTouchStart:$l(T,N)}]:[!1,w,{}]}function $l(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function CR({page:r,...e}){let{router:n}=V0(),s=j.useMemo(()=>b0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(DR,{page:r,matches:s,...e}):null}function IR(r){let{manifest:e,routeModules:n}=k0(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return ER(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function DR({page:r,matches:e,...n}){let s=Ea(),{manifest:o,routeModules:u}=k0(),{basename:h}=V0(),{loaderData:m,matches:p}=wR(),g=j.useMemo(()=>RE(r,e,p,o,s,"data"),[r,e,p,o,s]),v=j.useMemo(()=>RE(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,G=!1;if(e.forEach($=>{let W=o.routes[$.route.id];!W||!W.hasLoader||(!g.some(ie=>ie.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||W.hasClientLoader?G=!0:U.add($.route.id))}),U.size===0)return[];let P=yR(r,h,"data");return G&&U.size>0&&P.searchParams.set("_routes",e.filter($=>U.has($.route.id)).map($=>$.route.id).join(",")),[P.pathname+P.search]},[h,m,s,o,g,e,r,u]),w=j.useMemo(()=>TR(v,o),[v,o]),N=IR(v);return j.createElement(j.Fragment,null,T.map(U=>j.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),w.map(U=>j.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),N.map(({key:U,link:G})=>j.createElement("link",{key:U,nonce:n.nonce,...G})))}function xR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var P0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{P0&&(window.__reactRouterVersion="7.9.5")}catch{}function NR({basename:r,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=v1({window:n,v5Compat:!0}));let o=s.current,[u,h]=j.useState({action:o.action,location:o.location}),m=j.useCallback(p=>{j.startTransition(()=>h(p))},[h]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(oR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var U0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uh=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,...w},N){let{basename:U}=j.useContext(Ki),G=typeof g=="string"&&U0.test(g),P,$=!1;if(typeof g=="string"&&G&&(P=g,P0))try{let C=new URL(window.location.href),k=g.startsWith("//")?new URL(C.protocol+g):new URL(g),O=vr(k.pathname,U);k.origin===C.origin&&O!=null?g=O+k.search+k.hash:$=!0}catch{Fi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=K1(g,{relative:o}),[ie,ue,ye]=RR(s,w),se=kR(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T});function I(C){e&&e(C),C.defaultPrevented||se(C)}let R=j.createElement("a",{...w,...ye,href:P||W,onClick:$||u?e:I,ref:xR(N,ue),target:p,"data-discover":!G&&n==="render"?"true":void 0});return ie&&!G?j.createElement(j.Fragment,null,R,j.createElement(CR,{page:W})):R});Uh.displayName="Link";var OR=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let T=Au(h,{relative:g.relative}),w=Ea(),N=j.useContext(af),{navigator:U,basename:G}=j.useContext(Ki),P=N!=null&&zR(T)&&m===!0,$=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,W=w.pathname,ie=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(W=W.toLowerCase(),ie=ie?ie.toLowerCase():null,$=$.toLowerCase()),ie&&G&&(ie=vr(ie,G)||ie);const ue=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ye=W===$||!o&&W.startsWith($)&&W.charAt(ue)==="/",se=ie!=null&&(ie===$||!o&&ie.startsWith($)&&ie.charAt($.length)==="/"),I={isActive:ye,isPending:se,isTransitioning:P},R=ye?e:void 0,C;typeof s=="function"?C=s(I):C=[s,ye?"active":null,se?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(I):u;return j.createElement(Uh,{...g,"aria-current":R,className:C,ref:v,style:k,to:h,viewTransition:m},typeof p=="function"?p(I):p)});OR.displayName="NavLink";var MR=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Ah,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...w},N)=>{let U=LR(),G=jR(m,{relative:g}),P=h.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&U0.test(m),W=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let ue=ie.nativeEvent.submitter,ye=ue?.getAttribute("formmethod")||h;U(ue||ie.currentTarget,{fetcherKey:e,method:ye,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return j.createElement("form",{ref:N,method:P,action:G,onSubmit:s?p:W,...w,"data-discover":!$&&r==="render"?"true":void 0})});MR.displayName="Form";function VR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L0(r){let e=j.useContext(Po);return ht(e,VR(r)),e}function kR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=of(),p=Ea(),g=Au(r,{relative:u});return j.useCallback(v=>{if(dR(v,e)){v.preventDefault();let T=n!==void 0?n:hu(p)===hu(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,r,o,u,h])}var PR=0,UR=()=>`__${String(++PR)}__`;function LR(){let{router:r}=L0("useSubmit"),{basename:e}=j.useContext(Ki),n=iR();return j.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=gR(s,e);if(o.navigate===!1){let v=o.fetcherKey||UR();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function jR(r,{relative:e}={}){let{basename:n}=j.useContext(Ki),s=j.useContext(Rr);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Au(r||".",{relative:e})},h=Ea();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:pr([n,u.pathname])),hu(u)}function zR(r,{relative:e}={}){let n=j.useContext(D0);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=L0("useViewTransitionState"),o=Au(r,{relative:e});if(!n.isTransitioning)return!1;let u=vr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=vr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ph(o.pathname,h)!=null||Ph(o.pathname,u)!=null}const BR=()=>{};var CE={};const j0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},z0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,N=g&63;p||(N=64,h||(w=64)),s.push(n[v],n[T],n[w],n[N])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(j0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):qR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new FR;const w=u<<2|m>>4;if(s.push(w),g!==64){const N=m<<4&240|g>>2;if(s.push(N),T!==64){const U=g<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HR=function(r){const e=j0(r);return z0.encodeByteArray(e,!0)},Lh=function(r){return HR(r).replace(/\./g,"")},B0=function(r){try{return z0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function GR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const KR=()=>GR().__FIREBASE_DEFAULTS__,QR=()=>{if(typeof process>"u"||typeof CE>"u")return;const r=CE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},YR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&B0(r[1]);return e&&JSON.parse(e)},uf=()=>{try{return BR()||KR()||QR()||YR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},q0=r=>uf()?.emulatorHosts?.[r],F0=r=>{const e=q0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},H0=()=>uf()?.config,G0=r=>uf()?.[`_${r}`];class XR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Rs(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zp(r){return(await fetch(r,{credentials:"include"})).ok}function K0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Lh(JSON.stringify(n)),Lh(JSON.stringify(h)),""].join(".")}const ru={};function $R(){const r={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?r.emulator.push(e):r.prod.push(e);return r}function WR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let IE=!1;function Bp(r,e){if(typeof window>"u"||typeof document>"u"||!Rs(window.location.host)||ru[r]===e||ru[r]||IE)return;ru[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=$R().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,N){w.setAttribute("width","24"),w.setAttribute("id",N),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{IE=!0,h()},w}function v(w,N){w.setAttribute("id",N),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=WR(s),N=n("text"),U=document.getElementById(N)||document.createElement("span"),G=n("learnmore"),P=document.getElementById(G)||document.createElement("a"),$=n("preprendIcon"),W=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ie=w.element;m(ie),v(P,G);const ue=g();p(W,$),ie.append(W,U,P,ue),document.body.appendChild(ie)}u?(U.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function ZR(){const r=uf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iC(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rC(){return!ZR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sC(){try{return typeof indexedDB=="object"}catch{return!1}}function aC(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const oC="FirebaseError";class Qi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=oC,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?lC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Qi(o,m,s)}}function lC(r,e){return r.replace(uC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const uC=/\{\$([^}]+)}/g;function cC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function da(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(DE(u)&&DE(h)){if(!da(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function DE(r){return r!==null&&typeof r=="object"}function Ru(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Zl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function hC(r,e){const n=new fC(r,e);return n.subscribe.bind(n)}class fC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=qm),o.error===void 0&&(o.error=qm),o.complete===void 0&&(o.complete=qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function qm(){}function ct(r){return r&&r._delegate?r._delegate:r}class vs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class mC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new XR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gC(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pC(r){return r===la?void 0:r}function gC(r){return r.instantiationMode==="EAGER"}class yC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const _C={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},vC=Me.INFO,EC={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},TC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=EC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qp{constructor(e){this.name=e,this._logLevel=vC,this._logHandler=TC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_C[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const SC=(r,e)=>e.some(n=>r instanceof n);let xE,NE;function bC(){return xE||(xE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AC(){return NE||(NE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q0=new WeakMap,ap=new WeakMap,Y0=new WeakMap,Fm=new WeakMap,Fp=new WeakMap;function wC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ps(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Q0.set(n,r)}).catch(()=>{}),Fp.set(e,r),e}function RC(r){if(ap.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});ap.set(r,e)}let op={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ap.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Y0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function CC(r){op=r(op)}function IC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Hm(this),e,...n);return Y0.set(s,e.sort?e.sort():[e]),ps(s)}:AC().includes(r)?function(...e){return r.apply(Hm(this),e),ps(Q0.get(this))}:function(...e){return ps(r.apply(Hm(this),e))}}function DC(r){return typeof r=="function"?IC(r):(r instanceof IDBTransaction&&RC(r),SC(r,bC())?new Proxy(r,op):r)}function ps(r){if(r instanceof IDBRequest)return wC(r);if(Fm.has(r))return Fm.get(r);const e=DC(r);return e!==r&&(Fm.set(r,e),Fp.set(e,r)),e}const Hm=r=>Fp.get(r);function xC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ps(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ps(h.result),p.oldVersion,p.newVersion,ps(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const NC=["get","getKey","getAll","getAllKeys","count"],OC=["put","add","delete","clear"],Gm=new Map;function OE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gm.get(e))return Gm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=OC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||NC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Gm.set(e,u),u}CC(r=>({...r,get:(e,n,s)=>OE(e,n)||r.get(e,n,s),has:(e,n)=>!!OE(e,n)||r.has(e,n)}));class MC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VC(r){return r.getComponent()?.type==="VERSION"}const lp="@firebase/app",ME="0.14.5";const Er=new qp("@firebase/app"),kC="@firebase/app-compat",PC="@firebase/analytics-compat",UC="@firebase/analytics",LC="@firebase/app-check-compat",jC="@firebase/app-check",zC="@firebase/auth",BC="@firebase/auth-compat",qC="@firebase/database",FC="@firebase/data-connect",HC="@firebase/database-compat",GC="@firebase/functions",KC="@firebase/functions-compat",QC="@firebase/installations",YC="@firebase/installations-compat",XC="@firebase/messaging",$C="@firebase/messaging-compat",WC="@firebase/performance",JC="@firebase/performance-compat",ZC="@firebase/remote-config",eI="@firebase/remote-config-compat",tI="@firebase/storage",nI="@firebase/storage-compat",iI="@firebase/firestore",rI="@firebase/ai",sI="@firebase/firestore-compat",aI="firebase",oI="12.5.0";const up="[DEFAULT]",lI={[lp]:"fire-core",[kC]:"fire-core-compat",[UC]:"fire-analytics",[PC]:"fire-analytics-compat",[jC]:"fire-app-check",[LC]:"fire-app-check-compat",[zC]:"fire-auth",[BC]:"fire-auth-compat",[qC]:"fire-rtdb",[FC]:"fire-data-connect",[HC]:"fire-rtdb-compat",[GC]:"fire-fn",[KC]:"fire-fn-compat",[QC]:"fire-iid",[YC]:"fire-iid-compat",[XC]:"fire-fcm",[$C]:"fire-fcm-compat",[WC]:"fire-perf",[JC]:"fire-perf-compat",[ZC]:"fire-rc",[eI]:"fire-rc-compat",[tI]:"fire-gcs",[nI]:"fire-gcs-compat",[iI]:"fire-fst",[sI]:"fire-fst-compat",[rI]:"fire-vertex","fire-js":"fire-js",[aI]:"fire-js-all"};const jh=new Map,uI=new Map,cp=new Map;function VE(r,e){try{r.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ma(r){const e=r.name;if(cp.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;cp.set(e,r);for(const n of jh.values())VE(n,r);for(const n of uI.values())VE(n,r);return!0}function cf(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Nn(r){return r==null?!1:r.settings!==void 0}const cI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new wu("app","Firebase",cI);class hI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}const Ta=oI;function X0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:up,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw gs.create("bad-app-name",{appName:String(o)});if(n||(n=H0()),!n)throw gs.create("no-options");const u=jh.get(o);if(u){if(da(n,u.options)&&da(s,u.config))return u;throw gs.create("duplicate-app",{appName:o})}const h=new yC(o);for(const p of cp.values())h.addComponent(p);const m=new hI(n,s,h);return jh.set(o,m),m}function Hp(r=up){const e=jh.get(r);if(!e&&r===up&&H0())return X0();if(!e)throw gs.create("no-app",{appName:r});return e}function Pi(r,e,n){let s=lI[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(h.join(" "));return}ma(new vs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const fI="firebase-heartbeat-database",dI=1,fu="firebase-heartbeat-store";let Km=null;function $0(){return Km||(Km=xC(fI,dI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(r=>{throw gs.create("idb-open",{originalErrorMessage:r.message})})),Km}async function mI(r){try{const n=(await $0()).transaction(fu),s=await n.objectStore(fu).get(W0(r));return await n.done,s}catch(e){if(e instanceof Qi)Er.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e?.message});Er.warn(n.message)}}}async function kE(r,e){try{const s=(await $0()).transaction(fu,"readwrite");await s.objectStore(fu).put(e,W0(r)),await s.done}catch(n){if(n instanceof Qi)Er.warn(n.message);else{const s=gs.create("idb-set",{originalErrorMessage:n?.message});Er.warn(s.message)}}}function W0(r){return`${r.name}!${r.options.appId}`}const pI=1024,gI=30;class yI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>gI){const o=EI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Er.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=PE(),{heartbeatsToSend:n,unsentEntries:s}=_I(this._heartbeatsCache.heartbeats),o=Lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Er.warn(e),""}}}function PE(){return new Date().toISOString().substring(0,10)}function _I(r,e=pI){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),UE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),UE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class vI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sC()?aC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return kE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return kE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function UE(r){return Lh(JSON.stringify({version:2,heartbeats:r})).length}function EI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function TI(r){ma(new vs("platform-logger",e=>new MC(e),"PRIVATE")),ma(new vs("heartbeat",e=>new yI(e),"PRIVATE")),Pi(lp,ME,r),Pi(lp,ME,"esm2020"),Pi("fire-js","")}TI("");var SI="firebase",bI="12.5.0";Pi(SI,bI,"app");var LE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ys,J0;(function(){var r;function e(I,R){function C(){}C.prototype=R.prototype,I.F=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(k,O,z){for(var D=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)D[Ke-2]=arguments[Ke];return R.prototype[O].apply(k,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,C){C||(C=0);const k=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)k[O]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(O=0;O<16;++O)k[O]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],O=I.g[2];let z=I.g[3],D;D=R+(z^C&(O^z))+k[0]+3614090360&4294967295,R=C+(D<<7&4294967295|D>>>25),D=z+(O^R&(C^O))+k[1]+3905402710&4294967295,z=R+(D<<12&4294967295|D>>>20),D=O+(C^z&(R^C))+k[2]+606105819&4294967295,O=z+(D<<17&4294967295|D>>>15),D=C+(R^O&(z^R))+k[3]+3250441966&4294967295,C=O+(D<<22&4294967295|D>>>10),D=R+(z^C&(O^z))+k[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=z+(O^R&(C^O))+k[5]+1200080426&4294967295,z=R+(D<<12&4294967295|D>>>20),D=O+(C^z&(R^C))+k[6]+2821735955&4294967295,O=z+(D<<17&4294967295|D>>>15),D=C+(R^O&(z^R))+k[7]+4249261313&4294967295,C=O+(D<<22&4294967295|D>>>10),D=R+(z^C&(O^z))+k[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=z+(O^R&(C^O))+k[9]+2336552879&4294967295,z=R+(D<<12&4294967295|D>>>20),D=O+(C^z&(R^C))+k[10]+4294925233&4294967295,O=z+(D<<17&4294967295|D>>>15),D=C+(R^O&(z^R))+k[11]+2304563134&4294967295,C=O+(D<<22&4294967295|D>>>10),D=R+(z^C&(O^z))+k[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=z+(O^R&(C^O))+k[13]+4254626195&4294967295,z=R+(D<<12&4294967295|D>>>20),D=O+(C^z&(R^C))+k[14]+2792965006&4294967295,O=z+(D<<17&4294967295|D>>>15),D=C+(R^O&(z^R))+k[15]+1236535329&4294967295,C=O+(D<<22&4294967295|D>>>10),D=R+(O^z&(C^O))+k[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=z+(C^O&(R^C))+k[6]+3225465664&4294967295,z=R+(D<<9&4294967295|D>>>23),D=O+(R^C&(z^R))+k[11]+643717713&4294967295,O=z+(D<<14&4294967295|D>>>18),D=C+(z^R&(O^z))+k[0]+3921069994&4294967295,C=O+(D<<20&4294967295|D>>>12),D=R+(O^z&(C^O))+k[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=z+(C^O&(R^C))+k[10]+38016083&4294967295,z=R+(D<<9&4294967295|D>>>23),D=O+(R^C&(z^R))+k[15]+3634488961&4294967295,O=z+(D<<14&4294967295|D>>>18),D=C+(z^R&(O^z))+k[4]+3889429448&4294967295,C=O+(D<<20&4294967295|D>>>12),D=R+(O^z&(C^O))+k[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=z+(C^O&(R^C))+k[14]+3275163606&4294967295,z=R+(D<<9&4294967295|D>>>23),D=O+(R^C&(z^R))+k[3]+4107603335&4294967295,O=z+(D<<14&4294967295|D>>>18),D=C+(z^R&(O^z))+k[8]+1163531501&4294967295,C=O+(D<<20&4294967295|D>>>12),D=R+(O^z&(C^O))+k[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=z+(C^O&(R^C))+k[2]+4243563512&4294967295,z=R+(D<<9&4294967295|D>>>23),D=O+(R^C&(z^R))+k[7]+1735328473&4294967295,O=z+(D<<14&4294967295|D>>>18),D=C+(z^R&(O^z))+k[12]+2368359562&4294967295,C=O+(D<<20&4294967295|D>>>12),D=R+(C^O^z)+k[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=z+(R^C^O)+k[8]+2272392833&4294967295,z=R+(D<<11&4294967295|D>>>21),D=O+(z^R^C)+k[11]+1839030562&4294967295,O=z+(D<<16&4294967295|D>>>16),D=C+(O^z^R)+k[14]+4259657740&4294967295,C=O+(D<<23&4294967295|D>>>9),D=R+(C^O^z)+k[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=z+(R^C^O)+k[4]+1272893353&4294967295,z=R+(D<<11&4294967295|D>>>21),D=O+(z^R^C)+k[7]+4139469664&4294967295,O=z+(D<<16&4294967295|D>>>16),D=C+(O^z^R)+k[10]+3200236656&4294967295,C=O+(D<<23&4294967295|D>>>9),D=R+(C^O^z)+k[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=z+(R^C^O)+k[0]+3936430074&4294967295,z=R+(D<<11&4294967295|D>>>21),D=O+(z^R^C)+k[3]+3572445317&4294967295,O=z+(D<<16&4294967295|D>>>16),D=C+(O^z^R)+k[6]+76029189&4294967295,C=O+(D<<23&4294967295|D>>>9),D=R+(C^O^z)+k[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=z+(R^C^O)+k[12]+3873151461&4294967295,z=R+(D<<11&4294967295|D>>>21),D=O+(z^R^C)+k[15]+530742520&4294967295,O=z+(D<<16&4294967295|D>>>16),D=C+(O^z^R)+k[2]+3299628645&4294967295,C=O+(D<<23&4294967295|D>>>9),D=R+(O^(C|~z))+k[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=z+(C^(R|~O))+k[7]+1126891415&4294967295,z=R+(D<<10&4294967295|D>>>22),D=O+(R^(z|~C))+k[14]+2878612391&4294967295,O=z+(D<<15&4294967295|D>>>17),D=C+(z^(O|~R))+k[5]+4237533241&4294967295,C=O+(D<<21&4294967295|D>>>11),D=R+(O^(C|~z))+k[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=z+(C^(R|~O))+k[3]+2399980690&4294967295,z=R+(D<<10&4294967295|D>>>22),D=O+(R^(z|~C))+k[10]+4293915773&4294967295,O=z+(D<<15&4294967295|D>>>17),D=C+(z^(O|~R))+k[1]+2240044497&4294967295,C=O+(D<<21&4294967295|D>>>11),D=R+(O^(C|~z))+k[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=z+(C^(R|~O))+k[15]+4264355552&4294967295,z=R+(D<<10&4294967295|D>>>22),D=O+(R^(z|~C))+k[6]+2734768916&4294967295,O=z+(D<<15&4294967295|D>>>17),D=C+(z^(O|~R))+k[13]+1309151649&4294967295,C=O+(D<<21&4294967295|D>>>11),D=R+(O^(C|~z))+k[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=z+(C^(R|~O))+k[11]+3174756917&4294967295,z=R+(D<<10&4294967295|D>>>22),D=O+(R^(z|~C))+k[2]+718787259&4294967295,O=z+(D<<15&4294967295|D>>>17),D=C+(z^(O|~R))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+z&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const C=R-this.blockSize,k=this.C;let O=this.h,z=0;for(;z<R;){if(O==0)for(;z<=C;)o(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<R;)if(k[O++]=I.charCodeAt(z++),O==this.blockSize){o(this,k),O=0;break}}else for(;z<R;)if(k[O++]=I[z++],O==this.blockSize){o(this,k),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)I[R++]=this.g[C]>>>k&255;return I};function u(I,R){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function h(I,R){this.h=R;const C=[];let k=!0;for(let O=I.length-1;O>=0;O--){const z=I[O]|0;k&&z==R||(C[O]=z,k=!1)}this.g=C}var m={};function p(I){return-128<=I&&I<128?u(I,function(R){return new h([R|0],R<0?-1:0)}):new h([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return P(g(-I));const R=[];let C=1;for(let k=0;I>=C;k++)R[k]=I/C|0,C*=4294967296;return new h(R,0)}function v(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return P(v(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let k=T;for(let z=0;z<I.length;z+=8){var O=Math.min(8,I.length-z);const D=parseInt(I.substring(z,z+O),R);O<8?(O=g(Math.pow(R,O)),k=k.j(O).add(g(D))):(k=k.j(C),k=k.add(g(D)))}return k}var T=p(0),w=p(1),N=p(16777216);r=h.prototype,r.m=function(){if(G(this))return-P(this).m();let I=0,R=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);I+=(k>=0?k:4294967296+k)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(U(this))return"0";if(G(this))return"-"+P(this).toString(I);const R=g(Math.pow(I,6));var C=this;let k="";for(;;){const O=ue(C,R).g;C=$(C,O.j(R));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=O,U(C))return z+k;for(;z.length<6;)z="0"+z;k=z+k}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function U(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function G(I){return I.h==-1}r.l=function(I){return I=$(this,I),G(I)?-1:U(I)?0:1};function P(I){const R=I.g.length,C=[];for(let k=0;k<R;k++)C[k]=~I.g[k];return new h(C,~I.h).add(w)}r.abs=function(){return G(this)?P(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),C=[];let k=0;for(let O=0;O<=R;O++){let z=k+(this.i(O)&65535)+(I.i(O)&65535),D=(z>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);k=D>>>16,z&=65535,D&=65535,C[O]=D<<16|z}return new h(C,C[C.length-1]&-2147483648?-1:0)};function $(I,R){return I.add(P(R))}r.j=function(I){if(U(this)||U(I))return T;if(G(this))return G(I)?P(this).j(P(I)):P(P(this).j(I));if(G(I))return P(this.j(P(I)));if(this.l(N)<0&&I.l(N)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,C=[];for(var k=0;k<2*R;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<I.g.length;O++){const z=this.i(k)>>>16,D=this.i(k)&65535,Ke=I.i(O)>>>16,yt=I.i(O)&65535;C[2*k+2*O]+=D*yt,W(C,2*k+2*O),C[2*k+2*O+1]+=z*yt,W(C,2*k+2*O+1),C[2*k+2*O+1]+=D*Ke,W(C,2*k+2*O+1),C[2*k+2*O+2]+=z*Ke,W(C,2*k+2*O+2)}for(I=0;I<R;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=R;I<2*R;I++)C[I]=0;return new h(C,0)};function W(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function ie(I,R){this.g=I,this.h=R}function ue(I,R){if(U(R))throw Error("division by zero");if(U(I))return new ie(T,T);if(G(I))return R=ue(P(I),R),new ie(P(R.g),P(R.h));if(G(R))return R=ue(I,P(R)),new ie(P(R.g),R.h);if(I.g.length>30){if(G(I)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,k=R;k.l(I)<=0;)C=ye(C),k=ye(k);var O=se(C,1),z=se(k,1);for(k=se(k,2),C=se(C,2);!U(k);){var D=z.add(k);D.l(I)<=0&&(O=O.add(C),z=D),k=se(k,1),C=se(C,1)}return R=$(I,O.j(R)),new ie(O,R)}for(O=T;I.l(R)>=0;){for(C=Math.max(1,Math.floor(I.m()/R.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),z=g(C),D=z.j(R);G(D)||D.l(I)>0;)C-=k,z=g(C),D=z.j(R);U(z)&&(z=w),O=O.add(z),I=$(I,D)}return new ie(O,I)}r.B=function(I){return ue(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)&I.i(k);return new h(C,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)|I.i(k);return new h(C,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)^I.i(k);return new h(C,this.h^I.h)};function ye(I){const R=I.g.length+1,C=[];for(let k=0;k<R;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new h(C,I.h)}function se(I,R){const C=R>>5;R%=32;const k=I.g.length-C,O=[];for(let z=0;z<k;z++)O[z]=R>0?I.i(z+C)>>>R|I.i(z+C+1)<<32-R:I.i(z+C);return new h(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,J0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,ys=h}).apply(typeof LE<"u"?LE:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Z0,eu,eS,Rh,hp,tS,nS,iS;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var B=c[b];if(!(B in E))break e;E=E[B]}c=c[c.length-1],b=E[c],y=y(b),y!=b&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&E.push([b,y[b]]);return E}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function v(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function T(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(b,B,K){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return y.prototype[B].apply(b,re)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function N(c){const y=c.length;if(y>0){const E=Array(y);for(let b=0;b<y;b++)E[b]=c[b];return E}return[]}function U(c,y){for(let b=1;b<arguments.length;b++){const B=arguments[b];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=c.length||0;const K=B.length||0;c.length=E+K;for(let re=0;re<K;re++)c[E+re]=B[re]}else c.push(B)}}class G{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(c){h.setTimeout(()=>{throw c},0)}function $(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,E){const b=ie.get();b.set(y,E),this.h?this.h.next=b:this.g=b,this.h=b}}var ie=new G(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,se=!1,I=new W,R=()=>{const c=Promise.resolve(void 0);ye=()=>{c.then(C)}};function C(){for(var c;c=$();){try{c.h.call(c.g)}catch(E){P(E)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}se=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function Ke(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Ke,O),Ke.prototype.init=function(c,y){const E=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),X=0;function ae(c,y,E,b,B){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!b,this.ha=B,this.key=++X,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,E){for(const b in c)y.call(E,c[b],b,c)}function Qe(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function V(c){const y={};for(const E in c)y[E]=c[E];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let E,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(E in b)c[E]=b[E];for(let K=0;K<te.length;K++)E=te[K],Object.prototype.hasOwnProperty.call(b,E)&&(c[E]=b[E])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,y,E,b,B){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const re=Ce(c,y,b,B);return re>-1?(y=c[re],E||(y.fa=!1)):(y=new ae(y,this.src,K,!!b,B),y.fa=E,c.push(y)),y};function Te(c,y){const E=y.type;if(E in c.g){var b=c.g[E],B=Array.prototype.indexOf.call(b,y,void 0),K;(K=B>=0)&&Array.prototype.splice.call(b,B,1),K&&(ge(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ce(c,y,E,b){for(let B=0;B<c.length;++B){const K=c[B];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==b)return B}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),kt={};function at(c,y,E,b,B){if(Array.isArray(y)){for(let K=0;K<y.length;K++)at(c,y[K],E,b,B);return null}return E=Ko(E),c&&c[yt]?c.J(y,E,m(b)?!!b.capture:!1,B):xs(c,y,E,!1,b,B)}function xs(c,y,E,b,B,K){if(!y)throw Error("Invalid event type");const re=m(B)?!!B.capture:!!B;let we=Ns(c);if(we||(c[Ue]=we=new he(c)),E=we.add(y,E,b,re,K),E.proxy)return E;if(b=Ra(),E.proxy=b,b.src=c,b.listener=E,c.addEventListener)z||(B=re),B===void 0&&(B=!1),c.addEventListener(y.toString(),b,B);else if(c.attachEvent)c.attachEvent(ci(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ra(){function c(E){return y.call(c.src,c.listener,E)}const y=Ho;return c}function Ca(c,y,E,b,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ca(c,y[K],E,b,B);else b=m(b)?!!b.capture:!!b,E=Ko(E),c&&c[yt]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],E=Ce(y,E,b,B),E>-1&&(ge(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Ns(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,E,b,B)),(E=c>-1?y[c]:null)&&Ia(E))}function Ia(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[yt])Te(y.i,c);else{var E=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(E,b,c.capture):y.detachEvent?y.detachEvent(ci(E),b):y.addListener&&y.removeListener&&y.removeListener(b),(E=Ns(y))?(Te(E,c),E.h==0&&(E.src=null,y[Ue]=null)):ge(c)}}}function ci(c){return c in kt?kt[c]:kt[c]="on"+c}function Ho(c,y){if(c.da)c=!0;else{y=new Ke(y,this);const E=c.listener,b=c.ha||c.src;c.fa&&Ia(c),c=E.call(b,y)}return c}function Ns(c){return c=c[Ue],c instanceof he?c:null}var Go="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ko(c){return typeof c=="function"?c:(c[Go]||(c[Go]=function(y){return c.handleEvent(y)}),c[Go])}function bt(){k.call(this),this.i=new he(this),this.M=this,this.G=null}T(bt,k),bt.prototype[yt]=!0,bt.prototype.removeEventListener=function(c,y,E,b){Ca(this,c,y,E,b)};function Pt(c,y){var E,b=c.G;if(b)for(E=[];b;b=b.G)E.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var B=y;y=new O(b,c),oe(y,B)}B=!0;let K,re;if(E)for(re=E.length-1;re>=0;re--)K=y.g=E[re],B=Dr(K,b,!0,y)&&B;if(K=y.g=c,B=Dr(K,b,!0,y)&&B,B=Dr(K,b,!1,y)&&B,E)for(re=0;re<E.length;re++)K=y.g=E[re],B=Dr(K,b,!1,y)&&B}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let b=0;b<E.length;b++)ge(E[b]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,E,b){return this.i.add(String(c),y,!1,E,b)},bt.prototype.K=function(c,y,E,b){return this.i.add(String(c),y,!0,E,b)};function Dr(c,y,E,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let K=0;K<y.length;++K){const re=y[K];if(re&&!re.da&&re.capture==E){const we=re.listener,vt=re.ha||re.src;re.fa&&Te(c.i,re),B=we.call(vt,b)!==!1&&B}}return B&&!b.defaultPrevented}function Pf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function zu(c){c.g=Pf(()=>{c.g=null,c.i&&(c.i=!1,zu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sn extends k{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(c){k.call(this),this.h=c,this.g={}}T(Os,k);var Qo=[];function Yo(c){je(c.g,function(y,E){this.g.hasOwnProperty(E)&&Ia(y)},c),c.g={}}Os.prototype.N=function(){Os.Z.N.call(this),Yo(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=h.JSON.stringify,Uf=h.JSON.parse,Bu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function qu(){}function Fu(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){O.call(this,"d")}T(Ft,O);function Vn(){O.call(this,"c")}T(Vn,O);var _t={},Hu=null;function Da(){return Hu=Hu||new bt}_t.Ia="serverreachability";function Gu(c){O.call(this,_t.Ia,c)}T(Gu,O);function hi(c){const y=Da();Pt(y,new Gu(y))}_t.STAT_EVENT="statevent";function Ms(c,y){O.call(this,_t.STAT_EVENT,c),this.stat=y}T(Ms,O);function At(c){const y=Da();Pt(y,new Ms(y,c))}_t.Ja="timingevent";function fi(c,y){O.call(this,_t.Ja,c),this.size=y}T(fi,O);function di(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Lf(c,y,E,b,B,K){c.info(function(){if(c.g)if(K){var re="",we=K.split("&");for(let qe=0;qe<we.length;qe++){var vt=we[qe].split("=");if(vt.length>1){const ot=vt[0];vt=vt[1];const Ln=ot.split("_");re=Ln.length>=2&&Ln[1]=="type"?re+(ot+"="+vt+"&"):re+(ot+"=redacted&")}}}else re=null;else re=K;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+y+`
`+E+`
`+re})}function Ku(c,y,E,b,B,K,re){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+y+`
`+E+`
`+K+" "+re})}function mi(c,y,E,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+jf(c,E)+(b?" "+b:"")})}function Vs(c,y){c.info(function(){return"TIMEOUT: "+y})}$n.prototype.info=function(){};function jf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var E=K[c];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var B=b[0];if(B!="noop"&&B!="stop"&&B!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return xr(K)}catch{return y}}var ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$o;function Ps(){}T(Ps,qu),Ps.prototype.g=function(){return new XMLHttpRequest},$o=new Ps;function Yi(c){return encodeURIComponent(String(c))}function Qu(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Wn(c,y,E,b){this.j=c,this.i=y,this.l=E,this.S=b||1,this.V=new Os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var wt={},jt={};function pi(c,y,E){c.M=1,c.A=Us(Ct(y)),c.u=E,c.R=!0,xa(c,null)}function xa(c,y){c.F=Date.now(),gi(c),c.B=Ct(c.A);var E=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),Va(E.i,"t",b),c.C=0,E=c.j.L,c.h=new Jn,c.g=lc(c.j,E?y:null,!c.u),c.P>0&&(c.O=new sn(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,b=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Qo[0]=B.toString()),B=Qo);for(let K=0;K<B.length;K++){const re=at(E,B[K],b||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),hi(),Lf(c.i,c.v,c.B,c.l,c.S,c.u)}Wn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ti(c)==3?y.j():this.Y(c)},Wn.prototype.Y=function(c){try{if(c==this.g)e:{const we=ti(this.g),vt=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||we!=4||vt==7||(vt==8||qe<=0?hi(3):hi(2)),yi(this);var y=this.g.ca();this.X=y;var E=zf(this);if(this.o=y==200,Ku(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,B=this.g;if((b=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(b)){var K=b;break t}}K=null}if(c=K)mi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,c);else{this.o=!1,this.m=3,At(12),Sn(this),kn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=Xu(this,E),ot==jt){we==4&&(this.m=4,At(14),c=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==wt){this.m=4,At(15),mi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else mi(this.i,this.l,ot,null),_i(this,ot);if(Yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||E.length!=0||this.h.h||(this.m=1,At(16),c=!1),this.o=this.o&&c,!c)mi(this.i,this.l,E,"[Invalid Chunked Response]"),Sn(this),kn(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),hl(re),re.P=!0,At(11))}}else mi(this.i,this.l,E,null),_i(this,E);we==4&&Sn(this),this.o&&!this.K&&(we==4?rc(this.j,this):(this.o=!1,gi(this)))}else $i(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Sn(this),kn(this)}}}catch{}finally{}};function zf(c){if(!Yu(c))return c.g.la();const y=Ht(c.g);if(y==="")return"";let E="";const b=y.length,B=ti(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Sn(c),kn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<b;K++)c.h.h=!0,E+=c.h.i.decode(y[K],{stream:!(B&&K==b-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Yu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Xu(c,y){var E=c.C,b=y.indexOf(`
`,E);return b==-1?jt:(E=Number(y.substring(E,b)),isNaN(E)?wt:(b+=1,b+E>y.length?jt:(y=y.slice(b,b+E),c.C=b+E,y)))}Wn.prototype.cancel=function(){this.K=!0,Sn(this)};function gi(c){c.T=Date.now()+c.H,Na(c,c.H)}function Na(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=di(g(c.aa,c),y)}function yi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Wn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Vs(this.i,this.B),this.M!=2&&(hi(),At(17)),Sn(this),this.m=2,kn(this)):Na(this,this.T-c)};function kn(c){c.j.I==0||c.K||rc(c.j,c)}function Sn(c){yi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Yo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function _i(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||Ei(E.h,c))){if(!c.L&&Ei(E.h,c)&&E.I==3){try{var b=E.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)ja(E),Lr(E);else break e;Hs(E),At(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=di(g(E.Va,E),6e3));vi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ri(E,11)}else if((c.L||E.g==c)&&ja(E),!D(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let qe=B[y];const ot=qe[0];if(!(ot<=E.K))if(E.K=ot,qe=qe[1],E.I==2)if(qe[0]=="c"){E.M=qe[1],E.ba=qe[2];const Ln=qe[3];Ln!=null&&(E.ka=Ln,E.j.info("VER="+E.ka));const Ci=qe[4];Ci!=null&&(E.za=Ci,E.j.info("SVER="+E.za));const ni=qe[5];ni!=null&&typeof ni=="number"&&ni>0&&(b=1.5*ni,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const ii=c.g;if(ii){const Gs=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var K=b.h;K.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Zo(K,K.h),K.h=null))}if(b.G){const za=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(b.wa=za,Ye(b.J,b.G,za))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var re=c;if(b.na=oc(b,b.L?b.ba:null,b.W),re.L){el(b.h,re);var we=re,vt=b.O;vt&&(we.H=vt),we.D&&(yi(we),gi(we)),b.g=re}else nc(b);E.i.length>0&&wi(E)}else qe[0]!="stop"&&qe[0]!="close"||Ri(E,7);else E.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ri(E,7):ul(E):qe[0]!="noop"&&E.l&&E.l.qa(qe),E.A=0)}}hi(4)}catch{}}var Rt=class{constructor(c,y){this.g=c,this.map=y}};function Wo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vi(c){return c.h?1:c.g?c.g.size:0}function Ei(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Zo(c,y){c.g?c.g.add(y):c.h=y}function el(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Wo.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return N(c.i)}var $u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oa(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const b=c[E].indexOf("=");let B,K=null;b>=0?(B=c[E].substring(0,b),K=c[E].substring(b+1)):B=c[E],y(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof bn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,Nr(this,c.u),this.h=c.h,nl(this,ec(c.i)),this.m=c.m):c&&(y=String(c).match($u))?(this.l=!1,zt(this,y[1]||"",!0),this.o=Ti(y[2]||""),this.g=Ti(y[3]||"",!0),Nr(this,y[4]),this.h=Ti(y[5]||"",!0),nl(this,y[6]||"",!0),this.m=Ti(y[7]||"")):(this.l=!1,this.i=new Mr(null,this.l))}bn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ls(y,Ma,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ls(y,Ma,!0),"@"),c.push(Yi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ls(E,E.charAt(0)=="/"?il:Wu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ls(E,Ju)),c.join("")},bn.prototype.resolve=function(c){const y=Ct(this);let E=!!c.j;E?zt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var b=c.h;if(E)Nr(y,c.u);else if(E=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var B=y.h.lastIndexOf("/");B!=-1&&(b=y.h.slice(0,B+1)+b)}if(B=b,B==".."||B==".")b="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){b=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let re=0;re<B.length;){const we=B[re++];we=="."?b&&re==B.length&&K.push(""):we==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),b&&re==B.length&&K.push("")):(K.push(we),b=!0)}b=K.join("/")}else b=B}return E?y.h=b:E=c.i.toString()!=="",E?nl(y,ec(c.i)):E=!!c.m,E&&(y.m=c.m),y};function Ct(c){return new bn(c)}function zt(c,y,E){c.j=E?Ti(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Nr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function nl(c,y,E){y instanceof Mr?(c.i=y,ka(c.i,c.l)):(E||(y=Ls(y,Or)),c.i=new Mr(y,c.l))}function Ye(c,y,E){c.i.set(y,E)}function Us(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ls(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,cn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ma=/[#\/\?@]/g,Wu=/[#\?:]/g,il=/[#\?]/g,Or=/[#\?@]/g,Ju=/#/g;function Mr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function hn(c){c.g||(c.g=new Map,c.h=0,c.i&&Oa(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=Mr.prototype,r.add=function(c,y){hn(this),this.i=null,c=Vr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Zu(c,y){hn(c),y=Vr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function rl(c,y){return hn(c),y=Vr(c,y),c.g.has(y)}r.forEach=function(c,y){hn(this),this.g.forEach(function(E,b){E.forEach(function(B){c.call(y,B,b,this)},this)},this)};function sl(c,y){hn(c);let E=[];if(typeof y=="string")rl(c,y)&&(E=E.concat(c.g.get(Vr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return hn(this),this.i=null,c=Vr(this,c),rl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=sl(this,c),c.length>0?String(c[0]):y):y};function Va(c,y,E){Zu(c,y),E.length>0&&(c.i=null,c.g.set(Vr(c,y),N(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var E=y[b];const B=Yi(E);E=sl(this,E);for(let K=0;K<E.length;K++){let re=B;E[K]!==""&&(re+="="+Yi(E[K])),c.push(re)}}return this.i=c.join("&")};function ec(c){const y=new Mr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Vr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ka(c,y){y&&!c.j&&(hn(c),c.i=null,c.g.forEach(function(E,b){const B=b.toLowerCase();b!=B&&(Zu(this,b),Va(this,B,E))},c)),c.j=y}function Zn(c,y){const E=new $n;if(h.Image){const b=new Image;b.onload=v(Pn,E,"TestLoadImage: loaded",!0,y,b),b.onerror=v(Pn,E,"TestLoadImage: error",!1,y,b),b.onabort=v(Pn,E,"TestLoadImage: abort",!1,y,b),b.ontimeout=v(Pn,E,"TestLoadImage: timeout",!1,y,b),h.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function al(c,y){const E=new $n,b=new AbortController,B=setTimeout(()=>{b.abort(),Pn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(K=>{clearTimeout(B),K.ok?Pn(E,"TestPingServer: ok",!0,y):Pn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Pn(E,"TestPingServer: error",!1,y)})}function Pn(c,y,E,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(E)}catch{}}function kr(){this.g=new Bu}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Si,qu),Si.prototype.g=function(){return new js(this.i,this.h)};function js(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(js,bt),r=js.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ei(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Pr(this):ei(this),this.readyState==3&&Pa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Pr(this))},r.Na=function(c){this.g&&(this.response=c,Pr(this))},r.ga=function(){this.g&&Pr(this)};function Pr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ei(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Un(c){let y="";return je(c,function(E,b){y+=b,y+=":",y+=E,y+=`\r
`}),y}function zs(c,y,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=Un(E),typeof c=="string"?E!=null&&Yi(E):Ye(c,y,E))}function We(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(We,bt);var bi=/^https?$/i,ol=["POST","PUT"];r=We.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$o.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Bs(this,K);return}if(c=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)E.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())E.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(ol,y,void 0)>=0)||b||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,re]of E)this.g.setRequestHeader(K,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Bs(this,K)}};function Bs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,ll(c),Xi(c)}function ll(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Pt(this,"complete"),Pt(this,"abort"),Xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),We.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},r.Xa=function(){qs(this)};function qs(c){if(c.h&&typeof u<"u"){if(c.v&&ti(c)==4)setTimeout(c.Ca.bind(c),0);else if(Pt(c,"readystatechange"),ti(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var b;if(b=K===0){let re=String(c.D).match($u)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),b=!bi.test(re?re.toLowerCase():"")}E=b}if(E)Pt(c,"complete"),Pt(c,"success");else{c.o=6;try{var B=ti(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",ll(c)}}finally{Xi(c)}}}}function Xi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Pt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ti(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Uf(y)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(c){const y={};c=(c.g&&ti(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(D(c[b]))continue;var E=Qu(c[b]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[B]||[];y[B]=K,K.push(E)}Qe(y,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Ur(c){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,c),this.Za=Ai("retryDelaySeedMs",1e4,c),this.Ta=Ai("forwardChannelMaxRetries",2,c),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Wo(c&&c.concurrentRequestLimit),this.Ba=new kr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ur.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,b){At(0),this.W=c,this.H=y||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=oc(this,null,this.W),wi(this)};function ul(c){if(Ua(c),c.I==3){var y=c.V++,E=Ct(c.J);if(Ye(E,"SID",c.M),Ye(E,"RID",y),Ye(E,"TYPE","terminate"),Fs(c,E),y=new Wn(c,c.j,y),y.M=2,y.A=Us(Ct(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=lc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),gi(y)}ac(c)}function Lr(c){c.g&&(hl(c),c.g.cancel(),c.g=null)}function Ua(c){Lr(c),c.v&&(h.clearTimeout(c.v),c.v=null),ja(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function wi(c){if(!Jo(c.h)&&!c.m){c.m=!0;var y=c.Ea;ye||R(),se||(ye(),se=!0),I.add(y,c),c.D=0}}function La(c,y){return vi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=di(g(c.Ea,c,y),sc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Wn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=V(K),oe(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=tc(this,B,y),E=Ct(this.J),Ye(E,"RID",c),Ye(E,"CVER",22),this.G&&Ye(E,"X-HTTP-Session-Id",this.G),Fs(this,E),K&&(this.R?y="headers="+Yi(Un(K))+"&"+y:this.u&&zs(E,this.u,K)),Zo(this.h,B),this.Ra&&Ye(E,"TYPE","init"),this.S?(Ye(E,"$req",y),Ye(E,"SID","null"),B.U=!0,pi(B,E,null)):pi(B,E,y),this.I=2}}else this.I==3&&(c?cl(this,c):this.i.length==0||Jo(this.h)||cl(this))};function cl(c,y){var E;y?E=y.l:E=c.V++;const b=Ct(c.J);Ye(b,"SID",c.M),Ye(b,"RID",E),Ye(b,"AID",c.K),Fs(c,b),c.u&&c.o&&zs(b,c.u,c.o),E=new Wn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=tc(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Zo(c.h,E),pi(E,b,y)}function Fs(c,y){c.H&&je(c.H,function(E,b){Ye(y,b,E)}),c.l&&je({},function(E,b){Ye(y,b,E)})}function tc(c,y,E){E=Math.min(c.i.length,E);const b=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let we=-1;for(;;){const vt=["count="+E];we==-1?E>0?(we=B[0].g,vt.push("ofs="+we)):we=0:vt.push("ofs="+we);let qe=!0;for(let ot=0;ot<E;ot++){var K=B[ot].g;const Ln=B[ot].map;if(K-=we,K<0)we=Math.max(0,B[ot].g-100),qe=!1;else try{K="req"+K+"_"||"";try{var re=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ci,ni]of re){let ii=ni;m(ni)&&(ii=xr(ni)),vt.push(K+Ci+"="+encodeURIComponent(ii))}}catch(Ci){throw vt.push(K+"type="+encodeURIComponent("_badmap")),Ci}}catch{b&&b(Ln)}}if(qe){re=vt.join("&");break e}}re=void 0}return c=c.i.splice(0,E),y.G=c,re}function nc(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ye||R(),se||(ye(),se=!0),I.add(y,c),c.A=0}}function Hs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=di(g(c.Da,c),sc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,ic(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=di(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Lr(this),ic(this))};function hl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function ic(c){c.g=new Wn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Ct(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),Fs(c,y),c.u&&c.o&&zs(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Us(Ct(y)),E.u=null,E.R=!0,xa(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Lr(this),Hs(this),At(19))};function ja(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function rc(c,y){var E=null;if(c.g==y){ja(c),hl(c),c.g=null;var b=2}else if(Ei(c.h,y))E=y.G,el(c.h,y),b=1;else return;if(c.I!=0){if(y.o)if(b==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;b=Da(),Pt(b,new fi(b,E)),wi(c)}else nc(c);else if(B=y.m,B==3||B==0&&y.X>0||!(b==1&&La(c,y)||b==2&&Hs(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),B){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function sc(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Ri(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),b=c.Ua;const B=!b;b=new bn(b||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(b,"https"),Us(b),B?Zn(b.toString(),E):al(b.toString(),E)}else At(2);c.I=0,c.l&&c.l.pa(y),ac(c),Ua(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function ac(c){if(c.I=0,c.ja=[],c.l){const y=tl(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ja,y),U(c.ja,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.oa()}}function oc(c,y,E){var b=E instanceof bn?Ct(E):new bn(E);if(b.g!="")y&&(b.g=y+"."+b.g),Nr(b,b.u);else{var B=h.location;b=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const K=new bn(null);b&&zt(K,b),y&&(K.g=y),B&&Nr(K,B),E&&(K.h=E),b=K}return E=c.G,y=c.wa,E&&y&&Ye(b,E,y),Ye(b,"VER",c.ka),Fs(c,b),b}function lc(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new We(new Si({ab:E})):new We(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function uc(){}r=uc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function jr(){}jr.prototype.g=function(c,y){return new an(c,y)};function an(c,y){bt.call(this),this.g=new Ur(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!D(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Wi(this)}T(an,bt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){ul(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=xr(c),c=E);y.i.push(new Rt(y.Ya++,c)),y.I==3&&wi(y)},an.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,an.Z.N.call(this)};function cc(c){Ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(cc,Ft);function hc(){Vn.call(this),this.status=1}T(hc,Vn);function Wi(c){this.g=c}T(Wi,uc),Wi.prototype.ra=function(){Pt(this.g,"a")},Wi.prototype.qa=function(c){Pt(this.g,new cc(c))},Wi.prototype.pa=function(c){Pt(this.g,new hc)},Wi.prototype.oa=function(){Pt(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,iS=function(){return new jr},nS=function(){return Da()},tS=_t,hp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,Rh=ks,Xo.COMPLETE="complete",eS=Xo,Fu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,eu=Fu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,Z0=We}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const jE="@firebase/firestore",zE="4.9.2";class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Uo="12.3.0";const pa=new qp("@firebase/firestore");function vo(){return pa.logLevel}function ce(r,...e){if(pa.logLevel<=Me.DEBUG){const n=e.map(Gp);pa.debug(`Firestore (${Uo}): ${r}`,...n)}}function Tr(r,...e){if(pa.logLevel<=Me.ERROR){const n=e.map(Gp);pa.error(`Firestore (${Uo}): ${r}`,...n)}}function Do(r,...e){if(pa.logLevel<=Me.WARN){const n=e.map(Gp);pa.warn(`Firestore (${Uo}): ${r}`,...n)}}function Gp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,rS(r,s,n)}function rS(r,e,n){let s=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Tr(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||rS(e,o,s)}function Ae(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class sS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class wI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RI{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new sS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class CI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class II{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new CI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class BE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new BE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=xI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function fp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Qm(o)===Qm(u)?Ve(o,u):Qm(o)?1:-1}return Ve(r.length,e.length)}const NI=55296,OI=57343;function Qm(r){const e=r.charCodeAt(0);return e>=NI&&e<=OI}function xo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const qE="__name__";class Vi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Vi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Vi.isNumericId(e),o=Vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):fp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class nt extends Vi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const MI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Vi{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return MI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qE}static keyField(){return new $t([qE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new le(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}function aS(r,e,n){if(!n)throw new le(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function VI(r,e,n,s){if(e===!0&&s===!0)throw new le(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function FE(r){if(!pe.isDocumentKey(r))throw new le(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function HE(r){if(pe.isDocumentKey(r))throw new le(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function oS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function hf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Tn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(r);throw new le(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Vt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Cu(r,e){if(!oS(r))throw new le(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(ee.INVALID_ARGUMENT,n);return!0}const GE=-62135596800,KE=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*KE);return new He(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<GE)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-GE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:Vt("string",He._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new He(0,0))}static max(){return new Se(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const du=-1;function kI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new He(n+1,0):new He(n,s));return new Es(o,pe.empty(),e)}function PI(r){return new Es(r.readTime,r.key,du)}class Es{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Es(Se.min(),pe.empty(),du)}static max(){return new Es(Se.max(),pe.empty(),du)}}function UI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const LI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==LI)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((v=>{h[g]=v,++m,m===u&&s(h)}),(v=>o(v)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function zI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(r){return r.name==="IndexedDbTransactionError"}class ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ff.ce=-1;const Qp=-1;function df(r){return r==null}function zh(r){return r===0&&1/r==-1/0}function BI(r){return typeof r=="number"&&Number.isInteger(r)&&!zh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const lS="";function qI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=QE(e)),e=FI(r.get(n),e);return QE(e)}function FI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case lS:n+="";break;default:n+=u}}return n}function QE(r){return r+lS+""}function YE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function uS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Xt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(e){return new XE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class XE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new On([])}unionWith(e){let n=new Lt($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class cS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cS("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const HI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=HI.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(r.seconds),nanos:St(r.nanos)}}function St(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ss(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}const hS="server_timestamp",fS="__type__",dS="__previous_value__",mS="__local_write_time__";function Yp(r){return(r?.mapValue?.fields||{})[fS]?.stringValue===hS}function mf(r){const e=r.mapValue.fields[dS];return Yp(e)?mf(e):e}function mu(r){const e=Ts(r.mapValue.fields[mS].timestampValue);return new He(e.seconds,e.nanos)}class GI{constructor(e,n,s,o,u,h,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Bh="(default)";class pu{constructor(e,n){this.projectId=e,this.database=n||Bh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}const pS="__type__",KI="__max__",_h={mapValue:{}},gS="__vector__",qh="value";function bs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yp(r)?4:YI(r)?9007199254740991:QI(r)?10:11:Ee(28295,{value:r})}function Hi(r,e){if(r===e)return!0;const n=bs(r);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return mu(r).isEqual(mu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ts(o.timestampValue),m=Ts(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ss(o.bytesValue).isEqual(Ss(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return St(o.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return St(o.integerValue)===St(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=St(o.doubleValue),m=St(u.doubleValue);return h===m?zh(h)===zh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return xo(r.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(YE(h)!==YE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Hi(h[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function gu(r,e){return(r.values||[]).find((n=>Hi(n,e)))!==void 0}function No(r,e){if(r===e)return 0;const n=bs(r),s=bs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=St(u.integerValue||u.doubleValue),p=St(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return $E(r.timestampValue,e.timestampValue);case 4:return $E(mu(r),mu(e));case 5:return fp(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=Ss(u),p=Ss(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ve(m[g],p[g]);if(v!==0)return v}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(St(u.latitude),St(h.latitude));return m!==0?m:Ve(St(u.longitude),St(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return WE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[qh]?.arrayValue,v=p[qh]?.arrayValue,T=Ve(g?.values?.length||0,v?.values?.length||0);return T!==0?T:WE(g,v)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===_h.mapValue&&h===_h.mapValue)return 0;if(u===_h.mapValue)return 1;if(h===_h.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const w=fp(p[T],v[T]);if(w!==0)return w;const N=No(m[p[T]],g[v[T]]);if(N!==0)return N}return Ve(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function $E(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=Ts(r),s=Ts(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function WE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=No(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function Oo(r){return dp(r)}function dp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ts(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ss(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=dp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${dp(n.fields[h])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function Ch(r){switch(bs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(r);return e?16+Ch(e):16;case 5:return 2*r.stringValue.length;case 6:return Ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ch(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Cs(s.fields,((u,h)=>{o+=u.length+Ch(h)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function JE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function mp(r){return!!r&&"integerValue"in r}function Xp(r){return!!r&&"arrayValue"in r}function ZE(r){return!!r&&"nullValue"in r}function eT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ih(r){return!!r&&"mapValue"in r}function QI(r){return(r?.mapValue?.fields||{})[pS]?.stringValue===gS}function su(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Cs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=su(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(r.arrayValue.values[n]);return e}return{...r}}function YI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KI}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=su(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Cs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new vn(su(this.value))}}function yS(r){const e=[];return Cs(r.fields,((n,s)=>{const o=new $t([n]);if(Ih(s)){const u=yS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new On(e)}class nn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Se.min(),Se.min(),Se.min(),vn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Se.min(),Se.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Se.min(),Se.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fh{constructor(e,n){this.position=e,this.inclusive=n}}function tT(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),n.key):s=No(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function nT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Hi(r.position[n],e.position[n]))return!1;return!0}class Hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function XI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class _S{}class Mt extends _S{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new WI(e,n,s):n==="array-contains"?new e2(e,s):n==="in"?new t2(e,s):n==="not-in"?new n2(e,s):n==="array-contains-any"?new i2(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new JI(e,s):new ZI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(No(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends _S{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new li(e,n)}matches(e){return vS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vS(r){return r.op==="and"}function ES(r){return $I(r)&&vS(r)}function $I(r){for(const e of r.filters)if(e instanceof li)return!1;return!0}function pp(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+Oo(r.value);if(ES(r))return r.filters.map((e=>pp(e))).join(",");{const e=r.filters.map((n=>pp(n))).join(",");return`${r.op}(${e})`}}function TS(r,e){return r instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Hi(s.value,o.value)})(r,e):r instanceof li?(function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&TS(h,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function SS(r){return r instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`})(r):r instanceof li?(function(n){return n.op.toString()+" {"+n.getFilters().map(SS).join(" ,")+"}"})(r):"Filter"}class WI extends Mt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class JI extends Mt{constructor(e,n){super(e,"in",n),this.keys=bS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ZI extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=bS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bS(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class e2 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xp(n)&&gu(n.arrayValue,this.value)}}class t2 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class n2 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gu(this.value.arrayValue,n)}}class i2 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>gu(this.value.arrayValue,s)))}}class r2{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function iT(r,e=null,n=[],s=[],o=null,u=null,h=null){return new r2(r,e,n,s,o,u,h)}function $p(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>pp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),df(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Oo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Oo(s))).join(",")),e.Te=n}return e.Te}function Wp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!XI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!TS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!nT(r.startAt,e.startAt)&&nT(r.endAt,e.endAt)}function gp(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Iu{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function s2(r,e,n,s,o,u,h,m){return new Iu(r,e,n,s,o,u,h,m)}function pf(r){return new Iu(r)}function rT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function AS(r){return r.collectionGroup!==null}function au(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Lt($t.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Hh(u,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new Hh($t.keyField(),s))}return e.Ie}function Ui(r){const e=Ae(r);return e.Ee||(e.Ee=a2(e,au(r))),e.Ee}function a2(r,e){if(r.limitType==="F")return iT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Hh(o.field,u)}));const n=r.endAt?new Fh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Fh(r.startAt.position,r.startAt.inclusive):null;return iT(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function yp(r,e){const n=r.filters.concat([e]);return new Iu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function _p(r,e,n){return new Iu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function gf(r,e){return Wp(Ui(r),Ui(e))&&r.limitType===e.limitType}function wS(r){return`${$p(Ui(r))}|lt:${r.limitType}`}function Eo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>SS(o))).join(", ")}]`),df(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Oo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Oo(o))).join(",")),`Target(${s})`})(Ui(r))}; limitType=${r.limitType})`}function yf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=tT(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,au(s),o)||s.endAt&&!(function(h,m,p){const g=tT(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,au(s),o))})(r,e)}function o2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function RS(r){return(e,n)=>{let s=!1;for(const o of au(r)){const u=l2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function l2(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?No(p,g):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class Sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return uS(this.inner)}size(){return this.innerSize}}const u2=new ft(pe.comparator);function Sr(){return u2}const CS=new ft(pe.comparator);function tu(...r){let e=CS;for(const n of r)e=e.insert(n.key,n);return e}function IS(r){let e=CS;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ua(){return ou()}function DS(){return ou()}function ou(){return new Sa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const c2=new ft(pe.comparator),h2=new Lt(pe.comparator);function ke(...r){let e=h2;for(const n of r)e=e.add(n);return e}const f2=new Lt(Ve);function d2(){return f2}function Jp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function xS(r){return{integerValue:""+r}}function m2(r,e){return BI(e)?xS(e):Jp(r,e)}class _f{constructor(){this._=void 0}}function p2(r,e,n){return r instanceof yu?(function(o,u){const h={fields:{[fS]:{stringValue:hS},[mS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Yp(u)&&(u=mf(u)),u&&(h.fields[dS]=u),{mapValue:h}})(n,e):r instanceof _u?OS(r,e):r instanceof vu?MS(r,e):(function(o,u){const h=NS(o,u),m=sT(h)+sT(o.Ae);return mp(h)&&mp(o.Ae)?xS(m):Jp(o.serializer,m)})(r,e)}function g2(r,e,n){return r instanceof _u?OS(r,e):r instanceof vu?MS(r,e):n}function NS(r,e){return r instanceof Gh?(function(s){return mp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class yu extends _f{}class _u extends _f{constructor(e){super(),this.elements=e}}function OS(r,e){const n=VS(e);for(const s of r.elements)n.some((o=>Hi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class vu extends _f{constructor(e){super(),this.elements=e}}function MS(r,e){let n=VS(e);for(const s of r.elements)n=n.filter((o=>!Hi(o,s)));return{arrayValue:{values:n}}}class Gh extends _f{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sT(r){return St(r.integerValue||r.doubleValue)}function VS(r){return Xp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class y2{constructor(e,n){this.field=e,this.transform=n}}function _2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof _u&&o instanceof _u||s instanceof vu&&o instanceof vu?xo(s.elements,o.elements,Hi):s instanceof Gh&&o instanceof Gh?Hi(s.Ae,o.Ae):s instanceof yu&&o instanceof yu})(r.transform,e.transform)}class v2{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class vf{}function kS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Zp(r.key,Yn.none()):new Du(r.key,r.data,Yn.none());{const n=r.data,s=vn.empty();let o=new Lt($t.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Is(r.key,s,new On(o.toArray()),Yn.none())}}function E2(r,e,n){r instanceof Du?(function(o,u,h){const m=o.value.clone(),p=oT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Is?(function(o,u,h){if(!Dh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=oT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(PS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function lu(r,e,n,s){return r instanceof Du?(function(u,h,m,p){if(!Dh(u.precondition,h))return m;const g=u.value.clone(),v=lT(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Is?(function(u,h,m,p){if(!Dh(u.precondition,h))return m;const g=lT(u.fieldTransforms,p,h),v=h.data;return v.setAll(PS(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return Dh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function T2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=NS(s.transform,o||null);u!=null&&(n===null&&(n=vn.empty()),n.set(s.field,u))}return n||null}function aT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&xo(s,o,((u,h)=>_2(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Du extends vf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Is extends vf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function PS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function oT(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,g2(h,m,n[o]))}return s}function lT(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,p2(u,h,e))}return s}class Zp extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S2 extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class b2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&E2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=DS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=kS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,((n,s)=>aT(n,s)))&&xo(this.baseMutations,e.baseMutations,((n,s)=>aT(n,s)))}}class eg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return c2})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new eg(e,n,s,o)}}class A2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class w2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ot,Le;function R2(r){switch(r){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function US(r){if(r===void 0)return Tr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Ot.OK:return ee.OK;case Ot.CANCELLED:return ee.CANCELLED;case Ot.UNKNOWN:return ee.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ee.INTERNAL;case Ot.UNAVAILABLE:return ee.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ee.NOT_FOUND;case Ot.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ot.ABORTED:return ee.ABORTED;case Ot.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ot.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:r})}}(Le=Ot||(Ot={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function C2(){return new TextEncoder}const I2=new ys([4294967295,4294967295],0);function uT(r){const e=C2().encode(r),n=new J0;return n.update(e),new Uint8Array(n.digest())}function cT(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ys([n,s],0),new ys([o,u],0)]}class tg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ys.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ys.fromNumber(s)));return o.compare(I2)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uT(e),[s,o]=cT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new tg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=uT(e),[s,o]=cT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ef{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ef(Se.min(),o,new ft(Ve),Sr(),ke())}}class xu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new xu(s,n,ke(),ke(),ke())}}class xh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class LS{constructor(e,n){this.targetId=e,this.Ce=n}}class jS{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class hT{constructor(){this.ve=0,this.Fe=fT(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new xu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=fT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class D2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sr(),this.Je=vh(),this.He=vh(),this.Ye=new ft(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(gp(u))if(s===0){const h=new pe(u.path);this.et(n,h,nn.newNoDocument(h,Se.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Ss(s).toUint8Array()}catch(p){if(p instanceof cS)return Do("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new tg(h,o,u)}catch(p){return Do(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&gp(m.target)){const p=new pe(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,nn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Ef(e,n,this.Ye,this.je,s);return this.je=Sr(),this.Je=vh(),this.He=vh(),this.Ye=new ft(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new hT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function vh(){return new ft(pe.comparator)}function fT(){return new ft(pe.comparator)}const x2={asc:"ASCENDING",desc:"DESCENDING"},N2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O2={and:"AND",or:"OR"};class M2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vp(r,e){return r.useProto3Json||df(e)?e:{value:e}}function Kh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function V2(r,e){return Kh(r,e.toTimestamp())}function Li(r){return Ge(!!r,49232),Se.fromTimestamp((function(n){const s=Ts(n);return new He(s.seconds,s.nanos)})(r))}function ng(r,e){return Ep(r,e).canonicalString()}function Ep(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function BS(r){const e=nt.fromString(r);return Ge(KS(e),10190,{key:e.toString()}),e}function Tp(r,e){return ng(r.databaseId,e.path)}function Ym(r,e){const n=BS(e);if(n.get(1)!==r.databaseId.projectId)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(FS(n))}function qS(r,e){return ng(r.databaseId,e)}function k2(r){const e=BS(r);return e.length===4?nt.emptyPath():FS(e)}function Sp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function FS(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function dT(r,e,n){return{name:Tp(r,e),fields:n.value.mapValue.fields}}function P2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Ge(v===void 0||typeof v=="string",58123),Jt.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Jt.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const v=g.code===void 0?ee.UNKNOWN:US(g.code);return new le(v,g.message||"")})(h);n=new jS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ym(r,s.document.name),u=Li(s.document.updateTime),h=s.document.createTime?Li(s.document.createTime):Se.min(),m=new vn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new xh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ym(r,s.document),u=s.readTime?Li(s.readTime):Se.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new xh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ym(r,s.document),u=s.removedTargetIds||[];n=new xh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new w2(o,u),m=s.targetId;n=new LS(m,h)}}return n}function U2(r,e){let n;if(e instanceof Du)n={update:dT(r,e.key,e.value)};else if(e instanceof Zp)n={delete:Tp(r,e.key)};else if(e instanceof Is)n={update:dT(r,e.key,e.data),updateMask:K2(e.fieldMask)};else{if(!(e instanceof S2))return Ee(16599,{Vt:e.type});n={verify:Tp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof yu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _u)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Gh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:V2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function L2(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Li(o.updateTime):Li(u);return h.isEqual(Se.min())&&(h=Li(u)),new v2(h,o.transformResults||[])})(n,e)))):[]}function j2(r,e){return{documents:[qS(r,e.path)]}}function z2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=qS(r,o);const u=(function(g){if(g.length!==0)return GS(li.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:To(w.field),direction:F2(w.dir)}})(v)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=vp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function B2(r){let e=k2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const w=HS(T);return w instanceof li&&ES(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((w=>(function(U){return new Hh(So(U.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,df(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,N=T.values||[];return new Fh(N,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,N=T.values||[];return new Fh(N,w)})(n.endAt)),s2(e,o,h,u,m,"F",p,g)}function q2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=So(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=So(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=So(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=So(n.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Mt.create(So(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return li.create(n.compositeFilter.filters.map((s=>HS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function F2(r){return x2[r]}function H2(r){return N2[r]}function G2(r){return O2[r]}function To(r){return{fieldPath:r.canonicalString()}}function So(r){return $t.fromServerFormat(r.fieldPath)}function GS(r){return r instanceof Mt?(function(n){if(n.op==="=="){if(eT(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(ZE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eT(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(ZE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:H2(n.op),value:n.value}}})(r):r instanceof li?(function(n){const s=n.getFilters().map((o=>GS(o)));return s.length===1?s[0]:{compositeFilter:{op:G2(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function K2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ms{constructor(e,n,s,o,u=Se.min(),h=Se.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Q2{constructor(e){this.yt=e}}function Y2(r){const e=B2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_p(e,e.limit,"L"):e}class X2{constructor(){this.Cn=new $2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Es.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class $2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(nt.comparator)).toArray()}}const mT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QS=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(QS,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class Mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mo(0)}static cr(){return new Mo(-1)}}const pT="LruGarbageCollector",W2=1048576;function gT([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class J2{constructor(e){this.Ir=e,this.buffer=new Lt(gT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Z2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(pT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?ce(pT,"Ignoring IndexedDB error during garbage collection: ",n):await Lo(n)}await this.Vr(3e5)}))}}class eD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(ff.ce);const s=new J2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(mT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),vo()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function tD(r,e){return new eD(r,e)}class nD{constructor(){this.changes=new Sa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class rD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&lu(s.mutation,o,On.empty(),He.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=ua();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=tu();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ua();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Sr();const h=ou(),m=(function(){return ou()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Is)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),lu(v.mutation,g,v.mutation.getFieldMask(),He.now())):h.set(g.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>h.set(g,v))),n.forEach(((g,v)=>m.set(g,new iD(v,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=ou();let o=new ft(((h,m)=>h-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||On.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=DS();v.forEach((w=>{if(!u.has(w)){const N=kS(n.get(w),s.get(w));N!==null&&T.set(w,N),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(ua());let m=du,p=u;return h.next((g=>ne.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{p=p.insert(v,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ke()))).next((v=>({batchId:m,changes:IS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=tu();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(T,w){return new Iu(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((T,w)=>{h=h.insert(T,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,nn.newInvalidDocument(v)))}));let m=tu();return h.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&lu(v.mutation,g,On.empty(),He.now()),yf(n,g)&&(m=m.insert(p,g))})),m}))}}class sD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:Y2(o.bundledQuery),readTime:Li(o.readTime)}})(n)),ne.resolve()}}class aD{constructor(){this.overlays=new ft(pe.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ua();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ua(),u=n.length+1,h=new pe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ua(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ua(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new A2(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class oD{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class ig{constructor(){this.Qr=new Lt(qt.$r),this.Ur=new Lt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new nt([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new nt([])),s=new qt(n,e),o=new qt(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class lD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(qt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new b2(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Qp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(Ve);return n.forEach((o=>{const u=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new qt(new pe(u),0);let m=new Lt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new qt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class uD{constructor(e){this.ri=e,this.docs=(function(){return new ft(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=Sr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Sr();const h=n.path,m=new pe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||UI(PI(v),s)<=0||(o.has(v.key)||yf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new cD(this)}getSize(e){return ne.resolve(this.size)}}class cD extends nD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class hD{constructor(e){this.persistence=e,this.si=new Sa((n=>$p(n)),Wp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new ig,this.targetCount=0,this.ai=Mo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class YS{constructor(e,n){this.ui={},this.overlays={},this.ci=new ff(0),this.li=!1,this.li=!0,this.hi=new oD,this.referenceDelegate=e(this),this.Pi=new hD(this),this.indexManager=new X2,this.remoteDocumentCache=(function(o){return new uD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Q2(n),this.Ii=new sD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new lD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new fD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class fD extends jI{constructor(e){super(),this.currentSequenceNumber=e}}class rg{constructor(e){this.persistence=e,this.Ri=new ig,this.Vi=null}static mi(e){return new rg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Qh{constructor(e,n){this.persistence=e,this.pi=new Sa((s=>qI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=tD(this,n)}static mi(e,n){return new Qh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ch(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new sg(e,n.fromCache,s,o)}}class dD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rC()?8:zI(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new dD;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(vo()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(vo()<=Me.DEBUG&&ce("QueryEngine","Query:",Eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(vo()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):ne.resolve())}ys(e,n){if(rT(n))return ne.resolve(null);let s=Ui(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=_p(n,null,"F"),s=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=ke(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,_p(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return rT(n)||o.isEqual(Se.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(vo()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(n)),this.vs(e,h,n,kI(o,du)).next((m=>m)))}))}Ds(e,n){let s=new Lt(RS(e));return n.forEach(((o,u)=>{yf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return vo()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.ps.getDocumentsMatchingQuery(e,n,Es.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const ag="LocalStore",pD=3e8;class gD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Ve),this.xs=new Sa((u=>$p(u)),Wp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function yD(r,e,n,s){return new gD(r,e,n,s)}async function XS(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=ke();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function _D(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,w=T.keys();let N=ne.resolve();return w.forEach((U=>{N=N.next((()=>v.getEntry(p,U))).next((G=>{const P=g.docVersions.get(U);Ge(P!==null,48541),G.version.compareTo(P)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),v.addEntry(G)))}))})),N.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function $S(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function vD(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((v,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,T))));let N=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Jt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,s)),o=o.insert(T,N),(function(G,P,$){return G.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=pD?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(w,N,v)&&m.push(n.Pi.updateTargetData(u,N))}));let p=Sr(),g=ke();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(ED(u,h,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Se.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function ED(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Sr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(ag,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function TD(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Qp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function SD(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ms(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function bp(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!jo(h))throw h;ce(ag,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function yT(r,e,n){const s=Ae(r);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,v){const T=Ae(p),w=T.xs.get(v);return w!==void 0?ne.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,v)})(s,h,Ui(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?u:ke()))).next((m=>(bD(s,o2(e),m),{documents:m,Qs:u})))))}function bD(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class _T{constructor(){this.activeTargetIds=d2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AD{constructor(){this.Mo=new _T,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _T,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wD{Oo(e){}shutdown(){}}const vT="ConnectivityMonitor";class ET{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(vT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(vT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Eh=null;function Ap(){return Eh===null?Eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eh++,"0x"+Eh.toString(16)}const Xm="RestConnection",RD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Ap(),m=this.zo(e,n.toUriEncodedString());ce(Xm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=Rs(g);return this.Jo(e,m,p,s,v).then((T=>(ce(Xm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Do(Xm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=RD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class ID{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const en="WebChannelConnection";class DD extends CD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Ap();return new Promise(((m,p)=>{const g=new Z0;g.setWithCredentials(!0),g.listenOnce(eS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Rh.NO_ERROR:const T=g.getResponseJson();ce(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Rh.TIMEOUT:ce(en,`RPC '${e}' ${h} timed out`),p(new le(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const w=g.getStatus();if(ce(en,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const U=N?.error;if(U&&U.status&&U.message){const G=(function($){const W=$.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(W)>=0?W:ee.UNKNOWN})(U.status);p(new le(G,U.message))}else p(new le(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(en,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);ce(en,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=Ap(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=iS(),m=nS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ce(en,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=h.createWebChannel(v,p);this.I_(T);let w=!1,N=!1;const U=new ID({Yo:P=>{N?ce(en,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(w||(ce(en,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ce(en,`RPC '${e}' stream ${o} sending:`,P),T.send(P))},Zo:()=>T.close()}),G=(P,$,W)=>{P.listen($,(ie=>{try{W(ie)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return G(T,eu.EventType.OPEN,(()=>{N||(ce(en,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),G(T,eu.EventType.CLOSE,(()=>{N||(N=!0,ce(en,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(T))})),G(T,eu.EventType.ERROR,(P=>{N||(N=!0,Do(en,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),U.a_(new le(ee.UNAVAILABLE,"The operation could not be completed")))})),G(T,eu.EventType.MESSAGE,(P=>{if(!N){const $=P.data[0];Ge(!!$,16349);const W=$,ie=W?.error||W[0]?.error;if(ie){ce(en,`RPC '${e}' stream ${o} received error:`,ie);const ue=ie.status;let ye=(function(R){const C=Ot[R];if(C!==void 0)return US(C)})(ue),se=ie.message;ye===void 0&&(ye=ee.INTERNAL,se="Unknown error status: "+ue+" with message "+ie.message),N=!0,U.a_(new le(ye,se)),T.close()}else ce(en,`RPC '${e}' stream ${o} received:`,$),U.u_($)}})),G(m,tS.STAT_EVENT,(P=>{P.stat===hp.PROXY?ce(en,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===hp.NOPROXY&&ce(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function $m(){return typeof document<"u"?document:null}function Tf(r){return new M2(r,!0)}class WS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const TT="PersistentStream";class JS{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(TT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(TT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xD extends JS{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=P2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?Li(h.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Sp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=gp(p)?{documents:j2(u,p)}:{query:z2(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=zS(u,h.resumeToken);const g=vp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Kh(u,h.snapshotVersion.toTimestamp());const g=vp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=q2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Sp(this.serializer),n.removeTarget=e,this.q_(n)}}class ND extends JS{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=L2(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Sp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>U2(this.serializer,s)))};this.q_(n)}}class OD{}class MD extends OD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Ep(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Ep(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ga="RemoteStore";class kD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ba(this)&&(ce(ga,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await Nu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Sf(g)})(this))}))})),this.Ra=new VD(s,o)}}async function Sf(r){if(ba(r))for(const e of r.da)await e(!0)}async function Nu(r){for(const e of r.da)await e(!1)}function ZS(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cg(n)?ug(n):zo(n).O_()&&lg(n,e))}function og(r,e){const n=Ae(r),s=zo(n);n.Ia.delete(e),s.O_()&&eb(n,e),n.Ia.size===0&&(s.O_()?s.L_():ba(n)&&n.Ra.set("Unknown"))}function lg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(r).Y_(e)}function eb(r,e){r.Va.Ue(e),zo(r).Z_(e)}function ug(r){r.Va=new D2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),zo(r).start(),r.Ra.ua()}function cg(r){return ba(r)&&!zo(r).x_()&&r.Ia.size>0}function ba(r){return Ae(r).Ea.size===0}function tb(r){r.Va=void 0}async function PD(r){r.Ra.set("Online")}async function UD(r){r.Ia.forEach(((e,n)=>{lg(r,e)}))}async function LD(r,e){tb(r),cg(r)?(r.Ra.ha(e),ug(r)):r.Ra.set("Unknown")}async function jD(r,e,n){if(r.Ra.set("Online"),e instanceof jS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Yh(r,s)}else if(e instanceof xh?r.Va.Ze(e):e instanceof LS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await $S(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Jt.EMPTY_BYTE_STRING,v.snapshotVersion)),eb(u,p);const T=new ms(v.target,p,g,v.sequenceNumber);lg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(ga,"Failed to raise snapshot:",s),await Yh(r,s)}}async function Yh(r,e,n){if(!jo(e))throw e;r.Ea.add(1),await Nu(r),r.Ra.set("Offline"),n||(n=()=>$S(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(ga,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Sf(r)}))}function nb(r,e){return e().catch((n=>Yh(r,n,e)))}async function bf(r){const e=Ae(r),n=As(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qp;for(;zD(e);)try{const o=await TD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,BD(e,o)}catch(o){await Yh(e,o)}ib(e)&&rb(e)}function zD(r){return ba(r)&&r.Ta.length<10}function BD(r,e){r.Ta.push(e);const n=As(r);n.O_()&&n.X_&&n.ea(e.mutations)}function ib(r){return ba(r)&&!As(r).x_()&&r.Ta.length>0}function rb(r){As(r).start()}async function qD(r){As(r).ra()}async function FD(r){const e=As(r);for(const n of r.Ta)e.ea(n.mutations)}async function HD(r,e,n){const s=r.Ta.shift(),o=eg.from(s,e,n);await nb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await bf(r)}async function GD(r,e){e&&As(r).X_&&await(async function(s,o){if((function(h){return R2(h)&&h!==ee.ABORTED})(o.code)){const u=s.Ta.shift();As(s).B_(),await nb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await bf(s)}})(r,e),ib(r)&&rb(r)}async function ST(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ce(ga,"RemoteStore received new credentials");const s=ba(n);n.Ea.add(3),await Nu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sf(n)}async function KD(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Sf(n)):e||(n.Ea.add(2),await Nu(n),n.Ra.set("Unknown"))}function zo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new xD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:PD.bind(null,r),t_:UD.bind(null,r),r_:LD.bind(null,r),H_:jD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),cg(r)?ug(r):r.Ra.set("Unknown")):(await r.ma.stop(),tb(r))}))),r.ma}function As(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new ND(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:qD.bind(null,r),r_:GD.bind(null,r),ta:FD.bind(null,r),na:HD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await bf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(ga,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class hg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new hg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(r,e){if(Tr("AsyncQueue",`${e}: ${r}`),jo(r))return new le(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class bT{constructor(){this.ga=new ft(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Vo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Vo(e,n,wo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class QD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class YD{constructor(){this.queries=AT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=AT(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(ee.ABORTED,"Firestore shutting down"))}}function AT(){return new Sa((r=>wS(r)),gf)}async function dg(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new QD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=fg(h,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&pg(n)}async function mg(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function XD(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&pg(n)}function $D(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function pg(r){r.Ca.forEach((e=>{e.next()}))}var wp,wT;(wT=wp||(wp={})).Ma="default",wT.Cache="cache";class gg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wp.Cache}}class sb{constructor(e){this.key=e}}class ab{constructor(e){this.key=e}}class WD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=RS(e),this.tu=new wo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new bT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const w=o.get(v),N=yf(this.query,T)?T:null,U=!!w&&this.mutatedKeys.has(w.key),G=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let P=!1;w&&N?w.data.isEqual(N.data)?U!==G&&(s.track({type:3,doc:N}),P=!0):this.su(w,N)||(s.track({type:2,doc:N}),P=!0,(p&&this.eu(N,p)>0||g&&this.eu(N,g)<0)&&(m=!0)):!w&&N?(s.track({type:0,doc:N}),P=!0):w&&!N&&(s.track({type:1,doc:w}),P=!0,(p||g)&&(m=!0)),P&&(N?(h=h.add(N),u=G?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,T)=>(function(N,U){const G=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:P})}};return G(N)-G(U)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Vo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new ab(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new sb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yg="SyncEngine";class JD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ZD{constructor(e){this.key=e,this.hu=!1}}class ex{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Sa((m=>wS(m)),gf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(pe.comparator),this.Au=new Map,this.Ru=new ig,this.Vu={},this.mu=new Map,this.fu=Mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tx(r,e,n=!0){const s=fb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ob(s,e,n,!0),o}async function nx(r,e){const n=fb(r);await ob(n,e,!0,!1)}async function ob(r,e,n,s){const o=await SD(r.localStore,Ui(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ix(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&ZS(r.remoteStore,o),m}async function ix(r,e,n,s,o){r.pu=(T,w,N)=>(async function(G,P,$,W){let ie=P.view.ru($);ie.Cs&&(ie=await yT(G.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,ie))));const ue=W&&W.targetChanges.get(P.targetId),ye=W&&W.targetMismatches.get(P.targetId)!=null,se=P.view.applyChanges(ie,G.isPrimaryClient,ue,ye);return CT(G,P.targetId,se.au),se.snapshot})(r,T,w,N);const u=await yT(r.localStore,e,!0),h=new WD(e,u.Qs),m=h.ru(u.documents),p=xu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);CT(r,n,g.au);const v=new JD(e,n,h);return r.Tu.set(e,v),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function rx(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!gf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await bp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&og(s.remoteStore,o.targetId),Rp(s,o.targetId)})).catch(Lo)):(Rp(s,o.targetId),await bp(s.localStore,o.targetId,!0))}async function sx(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),og(n.remoteStore,s.targetId))}async function ax(r,e,n){const s=dx(r);try{const o=await(function(h,m){const p=Ae(h),g=He.now(),v=m.reduce(((N,U)=>N.add(U.key)),ke());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let U=Sr(),G=ke();return p.Ns.getEntries(N,v).next((P=>{U=P,U.forEach((($,W)=>{W.isValidDocument()||(G=G.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,U))).next((P=>{T=P;const $=[];for(const W of m){const ie=T2(W,T.get(W.key).overlayedDocument);ie!=null&&$.push(new Is(W.key,ie,yS(ie.value.mapValue),Yn.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,$,m)})).next((P=>{w=P;const $=P.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(N,P.batchId,$)}))})).then((()=>({batchId:w.batchId,changes:IS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ft(Ve)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Ou(s,o.changes),await bf(s.remoteStore)}catch(o){const u=fg(o,"Failed to persist write");n.reject(u)}}async function lb(r,e){const n=Ae(r);try{const s=await vD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await Ou(n,s,e)}catch(s){await Lo(s)}}function RT(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&pg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ox(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ft(pe.comparator);h=h.insert(u,nn.newNoDocument(u,Se.min()));const m=ke().add(u),p=new Ef(Se.min(),new Map,new ft(Ve),h,m);await lb(s,p),s.du=s.du.remove(u),s.Au.delete(e),_g(s)}else await bp(s.localStore,e,!1).then((()=>Rp(s,e,n))).catch(Lo)}async function lx(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await _D(n.localStore,e);cb(n,s,null),ub(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(n,o)}catch(o){await Lo(o)}}async function ux(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ge(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);cb(s,e,n),ub(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ou(s,o)}catch(o){await Lo(o)}}function ub(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function cb(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Rp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||hb(r,s)}))}function hb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(og(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),_g(r))}function CT(r,e,n){for(const s of n)s instanceof sb?(r.Ru.addReference(s.key,e),cx(r,s)):s instanceof ab?(ce(yg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||hb(r,s.key)):Ee(19791,{wu:s})}function cx(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(yg,"New document in limbo: "+n),r.Eu.add(s),_g(r))}function _g(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new ZD(n)),r.du=r.du.insert(n,s),ZS(r.remoteStore,new ms(Ui(pf(n.path)),s,"TargetPurposeLimboResolution",ff.ce))}}async function Ou(r,e,n){const s=Ae(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=sg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const v=Ae(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(w=>ne.forEach(w.Es,(N=>v.persistence.referenceDelegate.addReference(T,w.targetId,N))).next((()=>ne.forEach(w.ds,(N=>v.persistence.referenceDelegate.removeReference(T,w.targetId,N)))))))))}catch(T){if(!jo(T))throw T;ce(ag,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const N=v.Ms.get(w),U=N.snapshotVersion,G=N.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(w,G)}}})(s.localStore,u))}async function hx(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ce(yg,"User change. New user:",e.toKey());const s=await XS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(ee.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ou(n,s.Ls)}}function fx(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function fb(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=lb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ox.bind(null,e),e.Pu.H_=XD.bind(null,e.eventManager),e.Pu.yu=$D.bind(null,e.eventManager),e}function dx(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ux.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return yD(this.persistence,new mD,e.initialUser,this.serializer)}Cu(e){return new YS(rg.mi,this.serializer)}Du(e){return new AD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class mx extends Xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Z2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new YS((s=>Qh.mi(s,n)),this.serializer)}}class Cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>RT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hx.bind(null,this.syncEngine),await KD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YD})()}createDatastore(e){const n=Tf(e.databaseInfo.databaseId),s=(function(u){return new DD(u)})(e.databaseInfo);return(function(u,h,m,p){return new MD(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new kD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>RT(this.syncEngine,n,0)),(function(){return ET.v()?new ET:new wD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,v){const T=new ex(o,u,h,m,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);ce(ga,"RemoteStore shutting down."),s.Ea.add(5),await Nu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cp.provider={build:()=>new Cp};class vg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ws="FirestoreClient";class px{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ce(ws,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(ws,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=fg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Wm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(ws,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await XS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function IT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await gx(r);ce(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>ST(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>ST(e.remoteStore,o))),r._onlineComponents=e}async function gx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(ws,"Using user provided OfflineComponentProvider");try{await Wm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await Wm(r,new Xh)}}else ce(ws,"Using default OfflineComponentProvider"),await Wm(r,new mx(void 0));return r._offlineComponents}async function db(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(ws,"Using user provided OnlineComponentProvider"),await IT(r,r._uninitializedComponentsProvider._online)):(ce(ws,"Using default OnlineComponentProvider"),await IT(r,new Cp))),r._onlineComponents}function yx(r){return db(r).then((e=>e.syncEngine))}async function $h(r){const e=await db(r),n=e.eventManager;return n.onListen=tx.bind(null,e.syncEngine),n.onUnlisten=rx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sx.bind(null,e.syncEngine),n}function _x(r,e,n={}){const s=new gr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new vg({next:w=>{v.Nu(),h.enqueueAndForget((()=>mg(u,T)));const N=w.docs.has(m);!N&&w.fromCache?g.reject(new le(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&w.fromCache&&p&&p.source==="server"?g.reject(new le(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new gg(pf(m.path),v,{includeMetadataChanges:!0,qa:!0});return dg(u,T)})(await $h(r),r.asyncQueue,e,n,s))),s.promise}function vx(r,e,n={}){const s=new gr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new vg({next:w=>{v.Nu(),h.enqueueAndForget((()=>mg(u,T))),w.fromCache&&p.source==="server"?g.reject(new le(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new gg(m,v,{includeMetadataChanges:!0,qa:!0});return dg(u,T)})(await $h(r),r.asyncQueue,e,n,s))),s.promise}function mb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const DT=new Map;const pb="firestore.googleapis.com",xT=!0;class NT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pb,this.ssl=xT}else this.host=e.host,this.ssl=e.ssl??xT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W2)throw new le(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Af{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new AI;switch(s.type){case"firstParty":return new II(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=DT.get(n);s&&(ce("ComponentProvider","Removing Datastore"),DT.delete(n),s.terminate())})(this),Promise.resolve()}}function Ex(r,e,n,s={}){r=Tn(r,Af);const o=Rs(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(zp(`https://${m}`),Bp("Firestore",!0)),u.host!==pb&&u.host!==m&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!da(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=tn.MOCK_USER;else{g=K0(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new le(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new tn(T)}r._authCredentials=new wI(new sS(g,v))}}class Aa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Aa(this.firestore,e,this._query)}}class gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Cu(n,gt._jsonSchema))return new gt(e,s||null,new pe(nt.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Vt("string",gt._jsonSchemaVersion),referencePath:Vt("string")};class _s extends Aa{constructor(e,n,s){super(e,n,pf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new pe(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function Wt(r,e,...n){if(r=ct(r),aS("collection","path",e),r instanceof Af){const s=nt.fromString(e,...n);return HE(s),new _s(r,null,s)}{if(!(r instanceof gt||r instanceof _s))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return HE(s),new _s(r.firestore,null,s)}}function Ds(r,e,...n){if(r=ct(r),arguments.length===1&&(e=Kp.newId()),aS("doc","path",e),r instanceof Af){const s=nt.fromString(e,...n);return FE(s),new gt(r,null,new pe(s))}{if(!(r instanceof gt||r instanceof _s))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return FE(s),new gt(r.firestore,r instanceof _s?r.converter:null,new pe(s))}}const OT="AsyncQueue";class MT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WS(this,"async_queue_retry"),this._c=()=>{const s=$m();s&&ce(OT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=$m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;ce(OT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",VT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=hg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:VT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function kT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class br extends Af{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new MT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MT(e),this._firestoreClient=void 0,await e}}}function Tx(r,e){const n=typeof r=="object"?r:Hp(),s=typeof r=="string"?r:Bh,o=cf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=F0("firestore");u&&Ex(o,...u)}return o}function wf(r){if(r._terminated)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Sx(r),r._firestoreClient}function Sx(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new GI(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,mb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new px(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(Jt.fromBase64String(e))}catch(n){throw new le(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Vt("string",Qn._jsonSchemaVersion),bytes:Vt("string")};class Rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cf{constructor(e){this._methodName=e}}class ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Vt("string",ji._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new zi(e.vectorValues);throw new le(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Vt("string",zi._jsonSchemaVersion),vectorValues:Vt("object")};const bx=/^__.*__$/;class Ax{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Du(e,this.data,n,this.fieldTransforms)}}class gb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class Eg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Eg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yb(this.Ac)&&bx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Tf(e)}Cc(e,n,s,o=!1){return new Eg({Ac:e,methodName:n,Dc:s,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function If(r){const e=r._freezeSettings(),n=Tf(r._databaseId);return new wx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function _b(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Sg("Data must be an object, but it was:",h,s);const m=vb(s,h);let p,g;if(u.merge)p=new On(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const w=Ip(e,T,n);if(!h.contains(w))throw new le(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Tb(v,w)||v.push(w)}p=new On(v),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new Ax(new vn(m),p,g)}class Df extends Cf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Df}}class Tg extends Cf{_toFieldTransform(e){return new y2(e.path,new yu)}isEqual(e){return e instanceof Tg}}function Rx(r,e,n,s){const o=r.Cc(1,e,n);Sg("Data must be an object, but it was:",o,s);const u=[],h=vn.empty();Cs(s,((p,g)=>{const v=bg(e,p,n);g=ct(g);const T=o.yc(v);if(g instanceof Df)u.push(v);else{const w=Mu(g,T);w!=null&&(u.push(v),h.set(v,w))}}));const m=new On(u);return new gb(h,m,o.fieldTransforms)}function Cx(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[Ip(e,s,n)],p=[o];if(u.length%2!=0)throw new le(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Ip(e,u[w])),p.push(u[w+1]);const g=[],v=vn.empty();for(let w=m.length-1;w>=0;--w)if(!Tb(g,m[w])){const N=m[w];let U=p[w];U=ct(U);const G=h.yc(N);if(U instanceof Df)g.push(N);else{const P=Mu(U,G);P!=null&&(g.push(N),v.set(N,P))}}const T=new On(g);return new gb(v,T,h.fieldTransforms)}function Ix(r,e,n,s=!1){return Mu(n,r.Cc(s?4:3,e))}function Mu(r,e){if(Eb(r=ct(r)))return Sg("Unsupported field value:",e,r),vb(r,e);if(r instanceof Cf)return(function(s,o){if(!yb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Mu(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=ct(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return m2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=He.fromDate(s);return{timestampValue:Kh(o.serializer,u)}}if(s instanceof He){const u=new He(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kh(o.serializer,u)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:zS(o.serializer,s._byteString)};if(s instanceof gt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ng(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof zi)return(function(h,m){return{mapValue:{fields:{[pS]:{stringValue:gS},[qh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Jp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${hf(s)}`)})(r,e)}function vb(r,e){const n={};return uS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(r,((s,o)=>{const u=Mu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Eb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof He||r instanceof ji||r instanceof Qn||r instanceof gt||r instanceof Cf||r instanceof zi)}function Sg(r,e,n){if(!Eb(n)||!oS(n)){const s=hf(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Ip(r,e,n){if((e=ct(e))instanceof Rf)return e._internalPath;if(typeof e=="string")return bg(r,e);throw Wh("Field path arguments must be of type string or ",r,!1,void 0,n)}const Dx=new RegExp("[~\\*/\\[\\]]");function bg(r,e,n){if(e.search(Dx)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Rf(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Wh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new le(ee.INVALID_ARGUMENT,m+r+p)}function Tb(r,e){return r.some((n=>n.isEqual(e)))}class Sb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ag("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xx extends Sb{data(){return super.data()}}function Ag(r,e){return typeof e=="string"?bg(r,e):e instanceof Rf?e._internalPath:e._delegate._internalPath}function bb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wg{}class Nx extends wg{}function Ar(r,e,...n){let s=[];e instanceof wg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Rg)).length,m=u.filter((p=>p instanceof xf)).length;if(h>1||h>0&&m>0)throw new le(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class xf extends Nx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new xf(e,n,s)}_apply(e){const n=this._parse(e);return Ab(e._query,n),new Aa(e.firestore,e.converter,yp(e._query,n))}_parse(e){const n=If(e.firestore);return(function(u,h,m,p,g,v,T){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new le(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){UT(T,v);const U=[];for(const G of T)U.push(PT(p,u,G));w={arrayValue:{values:U}}}else w=PT(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||UT(T,v),w=Ix(m,h,T,v==="in"||v==="not-in");return Mt.create(g,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function En(r,e,n){const s=e,o=Ag("where",r);return xf._create(o,s,n)}class Rg extends wg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Ab(h,p),h=yp(h,p)})(e._query,n),new Aa(e.firestore,e.converter,yp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function PT(r,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new le(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AS(e)&&n.indexOf("/")!==-1)throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!pe.isDocumentKey(s))throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return JE(r,new pe(s))}if(n instanceof gt)return JE(r,n._key);throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function UT(r,e){if(!Array.isArray(r)||r.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ab(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ox{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Cs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[qh].arrayValue?.values?.map((s=>St(s.doubleValue)));return new zi(n)}convertGeoPoint(e){return new ji(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=mf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(KS(s),9688,{name:e});const o=new pu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||Tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function wb(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends Sb{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ag("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Vt("string",ca._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Nh extends ca{data(e={}){return super.data(e)}}class ha{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Nh(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:Mx(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ha._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Mx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function Rb(r){r=Tn(r,gt);const e=Tn(r.firestore,br);return _x(wf(e),r._key).then((n=>Cb(e,r,n)))}ha._jsonSchemaVersion="firestore/querySnapshot/1.0",ha._jsonSchema={type:Vt("string",ha._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Cg extends Ox{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function Gi(r){r=Tn(r,Aa);const e=Tn(r.firestore,br),n=wf(e),s=new Cg(e);return bb(r._query),vx(n,r._query).then((o=>new ha(e,s,r,o)))}function Ig(r,e,n){r=Tn(r,gt);const s=Tn(r.firestore,br),o=wb(r.converter,e);return Nf(s,[_b(If(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Yn.none())])}function Vx(r,e,n,...s){r=Tn(r,gt);const o=Tn(r.firestore,br),u=If(o);let h;return h=typeof(e=ct(e))=="string"||e instanceof Rf?Cx(u,"updateDoc",r._key,e,n,s):Rx(u,"updateDoc",r._key,e),Nf(o,[h.toMutation(r._key,Yn.exists(!0))])}function kx(r){return Nf(Tn(r.firestore,br),[new Zp(r._key,Yn.none())])}function Bo(r,e){const n=Tn(r.firestore,br),s=Ds(r),o=wb(r.converter,e);return Nf(n,[_b(If(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Yn.exists(!1))]).then((()=>s))}function Px(r,...e){r=ct(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||kT(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(kT(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(r instanceof gt)h=Tn(r.firestore,br),m=pf(r._key.path),u={next:p=>{e[s]&&e[s](Cb(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Tn(r,Aa);h=Tn(p.firestore,br),m=p._query;const g=new Cg(h);u={next:v=>{e[s]&&e[s](new ha(h,g,p,v))},error:e[s+1],complete:e[s+2]},bb(r._query)}return(function(g,v,T,w){const N=new vg(w),U=new gg(v,N,T);return g.asyncQueue.enqueueAndForget((async()=>dg(await $h(g),U))),()=>{N.Nu(),g.asyncQueue.enqueueAndForget((async()=>mg(await $h(g),U)))}})(wf(h),m,o,u)}function Nf(r,e){return(function(s,o){const u=new gr;return s.asyncQueue.enqueueAndForget((async()=>ax(await yx(s),o,u))),u.promise})(wf(r),e)}function Cb(r,e,n){const s=n.docs.get(e._key),o=new Cg(r);return new ca(r,o,e._key,s,new iu(n.hasPendingWrites,n.fromCache),e.converter)}function Dg(){return new Tg("serverTimestamp")}(function(e,n=!0){(function(o){Uo=o})(Ta),ma(new vs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new br(new RI(s.getProvider("auth-internal")),new DI(h,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,v)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Pi(jE,zE,e),Pi(jE,zE,"esm2020")})();function Ib(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ux=Ib,Db=new wu("auth","Firebase",Ib());const Jh=new qp("@firebase/auth");function Lx(r,...e){Jh.logLevel<=Me.WARN&&Jh.warn(`Auth (${Ta}): ${r}`,...e)}function Oh(r,...e){Jh.logLevel<=Me.ERROR&&Jh.error(`Auth (${Ta}): ${r}`,...e)}function ui(r,...e){throw xg(r,...e)}function Bi(r,...e){return xg(r,...e)}function xb(r,e,n){const s={...Ux(),[e]:n};return new wu("auth","Firebase",s).create(e,{appName:r.name})}function yr(r){return xb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Db.create(r,...e)}function ve(r,e,...n){if(!r)throw xg(e,...n)}function dr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oh(e),new Error(e)}function wr(r,e){r||dr(e)}function Dp(){return typeof self<"u"&&self.location?.href||""}function jx(){return LT()==="http:"||LT()==="https:"}function LT(){return typeof self<"u"&&self.location?.protocol||null}function zx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jx()||tC()||"connection"in navigator)?navigator.onLine:!0}function Bx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,wr(n>e,"Short delay should be less than long delay!"),this.isMobile=JR()||nC()}get(){return zx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ng(r,e){wr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Nb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Fx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Hx=new Vu(3e4,6e4);function Cr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ir(r,e,n,s,o={}){return Ob(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Ru({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return eC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Rs(r.emulatorConfig.host)&&(g.credentials="include"),Nb.fetch()(await Mb(r,r.config.apiHost,n,m),g)})}async function Ob(r,e,n){r._canInitEmulator=!1;const s={...qx,...e};try{const o=new Kx(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Th(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Th(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Th(r,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw xb(r,v,g);ui(r,v)}}catch(o){if(o instanceof Qi)throw o;ui(r,"network-request-failed",{message:String(o)})}}async function ku(r,e,n,s,o={}){const u=await Ir(r,e,n,s,o);return"mfaPendingCredential"in u&&ui(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Mb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Ng(r.config,o):`${r.config.apiScheme}://${o}`;return Fx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function Gx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Bi(this.auth,"network-request-failed")),Hx.get())})}}function Th(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Bi(r,e,s);return o.customData._tokenResponse=n,o}function jT(r){return r!==void 0&&r.enterprise!==void 0}class Qx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Gx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Yx(r,e){return Ir(r,"GET","/v2/recaptchaConfig",Cr(r,e))}async function Xx(r,e){return Ir(r,"POST","/v1/accounts:delete",e)}async function Zh(r,e){return Ir(r,"POST","/v1/accounts:lookup",e)}function uu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $x(r,e=!1){const n=ct(r),s=await n.getIdToken(e),o=Og(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:uu(Jm(o.auth_time)),issuedAtTime:uu(Jm(o.iat)),expirationTime:uu(Jm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Jm(r){return Number(r)*1e3}function Og(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=B0(n);return o?JSON.parse(o):(Oh("Failed to decode base64 JWT payload"),null)}catch(o){return Oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function zT(r){const e=Og(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Eu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Qi&&Wx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Wx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Jx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ef(r){const e=r.auth,n=await r.getIdToken(),s=await Eu(r,Zh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Vb(o.providerUserInfo):[],h=eN(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new xp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function Zx(r){const e=ct(r);await ef(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Vb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function tN(r,e){const n=await Ob(r,{},async()=>{const s=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await Mb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Rs(r.emulatorConfig.host)&&(p.credentials="include"),Nb.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nN(r,e){return Ir(r,"POST","/v2/accounts:revokeToken",Cr(r,e))}class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=zT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await tN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Ro;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return dr("not implemented")}}function ls(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class oi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Jx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $x(this,e)}reload(){return Zx(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ef(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(yr(this.auth));const e=await this.getIdToken();return await Eu(this,Xx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:N,providerData:U,stsTokenManager:G}=n;ve(T&&G,e,"internal-error");const P=Ro.fromJSON(this.name,G);ve(typeof T=="string",e,"internal-error"),ls(s,e.name),ls(o,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof N=="boolean",e,"internal-error"),ls(u,e.name),ls(h,e.name),ls(m,e.name),ls(p,e.name),ls(g,e.name),ls(v,e.name);const $=new oi({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:N,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&($.providerData=U.map(W=>({...W}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ro;o.updateFromServerResponse(n);const u=new oi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ef(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Vb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Ro;m.updateFromIdToken(s);const p=new oi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const BT=new Map;function mr(r){wr(r instanceof Function,"Expected a class definition");let e=BT.get(r);return e?(wr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,BT.set(r,e),e)}class kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kb.type="NONE";const qT=kb;function Mh(r,e,n){return`firebase:${r}:${e}:${n}`}class Co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Mh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zh(this.auth,{idToken:e}).catch(()=>{});return n?oi._fromGetAccountInfoResponse(this.auth,n,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Co(mr(qT),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||mr(qT);const h=Mh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let T;if(typeof v=="string"){const w=await Zh(e,{idToken:v}).catch(()=>{});if(!w)break;T=await oi._fromGetAccountInfoResponse(e,w,v)}else T=oi._fromJSON(e,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Co(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Co(u,e,s))}}function FT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bb(e))return"Blackberry";if(qb(e))return"Webos";if(Ub(e))return"Safari";if((e.includes("chrome/")||Lb(e))&&!e.includes("edge/"))return"Chrome";if(zb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Pb(r=rn()){return/firefox\//i.test(r)}function Ub(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lb(r=rn()){return/crios\//i.test(r)}function jb(r=rn()){return/iemobile/i.test(r)}function zb(r=rn()){return/android/i.test(r)}function Bb(r=rn()){return/blackberry/i.test(r)}function qb(r=rn()){return/webos/i.test(r)}function Mg(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function iN(r=rn()){return Mg(r)&&!!window.navigator?.standalone}function rN(){return iC()&&document.documentMode===10}function Fb(r=rn()){return Mg(r)||zb(r)||qb(r)||Bb(r)||/windows phone/i.test(r)||jb(r)}function Hb(r,e=[]){let n;switch(r){case"Browser":n=FT(rn());break;case"Worker":n=`${FT(rn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ta}/${s}`}class sN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function aN(r,e={}){return Ir(r,"GET","/v2/passwordPolicy",Cr(r,e))}const oN=6;class lN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class uN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HT(this),this.idTokenSubscription=new HT(this),this.beforeStateQueue=new sN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zh(this,{idToken:e}),s=await oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Nn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ef(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(yr(this));const n=e?ct(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aN(this),n=new lN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await nN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Lx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wa(r){return ct(r)}class HT{constructor(e){this.auth=e,this.observer=null,this.addObserver=hC(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cN(r){Of=r}function Gb(r){return Of.loadJS(r)}function hN(){return Of.recaptchaEnterpriseScript}function fN(){return Of.gapiScript}function dN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class mN{constructor(){this.enterprise=new pN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gN="recaptcha-enterprise",Kb="NO_RECAPTCHA";class yN{constructor(e){this.type=gN,this.auth=wa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{Yx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Qx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;jT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(Kb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mN().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&jT(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=hN();p.length!==0&&(p+=m),Gb(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function GT(r,e,n,s=!1,o=!1){const u=new yN(r);let h;if(o)h=Kb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Np(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await GT(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await GT(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function _N(r,e){const n=cf(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(da(u,e??{}))return o;ui(o,"already-initialized")}return n.initialize({options:e})}function vN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(mr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function EN(r,e,n){const s=wa(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Qb(e),{host:h,port:m}=TN(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(da(g,s.config.emulator)&&da(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Rs(h)?(zp(`${u}//${h}${p}`),Bp("Auth",!0)):SN()}function Qb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function TN(r){const e=Qb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:KT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:KT(h)}}}function KT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function SN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function bN(r,e){return Ir(r,"POST","/v1/accounts:signUp",e)}async function AN(r,e){return ku(r,"POST","/v1/accounts:signInWithPassword",Cr(r,e))}async function wN(r,e){return Ir(r,"POST","/v1/accounts:sendOobCode",Cr(r,e))}async function RN(r,e){return wN(r,e)}async function CN(r,e){return ku(r,"POST","/v1/accounts:signInWithEmailLink",Cr(r,e))}async function IN(r,e){return ku(r,"POST","/v1/accounts:signInWithEmailLink",Cr(r,e))}class Tu extends Vg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Tu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Tu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(e,n,"signInWithPassword",AN);case"emailLink":return CN(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(e,s,"signUpPassword",bN);case"emailLink":return IN(e,{idToken:n,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Io(r,e){return ku(r,"POST","/v1/accounts:signInWithIdp",Cr(r,e))}const DN="http://localhost";class ya extends Vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ya(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Io(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Io(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Io(e,n)}buildRequest(){const e={requestUri:DN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}function xN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NN(r){const e=Jl(Zl(r)).link,n=e?Jl(Zl(e)).deep_link_id:null,s=Jl(Zl(r)).deep_link_id;return(s?Jl(Zl(s)).link:null)||s||n||e||r}class kg{constructor(e){const n=Jl(Zl(e)),s=n.apiKey??null,o=n.oobCode??null,u=xN(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=NN(e);try{return new kg(n)}catch{return null}}}class qo{constructor(){this.providerId=qo.PROVIDER_ID}static credential(e,n){return Tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=kg.parseLink(n);return ve(s,"argument-error"),Tu._fromEmailAndCode(e,s.code,s.tenantId)}}qo.PROVIDER_ID="password";qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Yb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Pu extends Yb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class us extends Pu{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";class cs extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return cs.credential(n,s)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";class hs extends Pu{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";class fs extends Pu{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return fs.credential(n,s)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";async function ON(r,e){return ku(r,"POST","/v1/accounts:signUp",Cr(r,e))}class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await oi._fromIdTokenResponse(e,s,o),h=QT(s);return new _a({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=QT(s);return new _a({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function QT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class tf extends Qi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,tf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new tf(e,n,s,o)}}function Xb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?tf._fromErrorAndOperation(r,u,e,s):u})}async function MN(r,e,n=!1){const s=await Eu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return _a._forOperation(r,"link",s)}async function VN(r,e,n=!1){const{auth:s}=r;if(Nn(s.app))return Promise.reject(yr(s));const o="reauthenticate";try{const u=await Eu(r,Xb(s,o,e,r),n);ve(u.idToken,s,"internal-error");const h=Og(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(r.uid===m,s,"user-mismatch"),_a._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ui(s,"user-mismatch"),u}}async function $b(r,e,n=!1){if(Nn(r.app))return Promise.reject(yr(r));const s="signIn",o=await Xb(r,s,e),u=await _a._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function kN(r,e){return $b(wa(r),e)}async function Wb(r){const e=wa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Pg(r,e,n){if(Nn(r.app))return Promise.reject(yr(r));const s=wa(r),h=await Np(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ON).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Wb(r),p}),m=await _a._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function PN(r,e,n){return Nn(r.app)?Promise.reject(yr(r)):kN(ct(r),qo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Wb(r),s})}async function Jb(r,e){const n=ct(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await RN(n.auth,o);u!==r.email&&await r.reload()}function UN(r,e,n,s){return ct(r).onIdTokenChanged(e,n,s)}function LN(r,e,n){return ct(r).beforeAuthStateChanged(e,n)}function jN(r,e,n,s){return ct(r).onAuthStateChanged(e,n,s)}function zN(r){return ct(r).signOut()}const nf="__sak";class Zb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const BN=1e3,qN=10;class eA extends Zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);rN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},BN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eA.type="LOCAL";const FN=eA;class tA extends Zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tA.type="SESSION";const nA=tA;function HN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Mf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await HN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mf.receivers=[];function Ug(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class GN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Ug("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function qi(){return window}function KN(r){qi().location.href=r}function iA(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function QN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YN(){return navigator?.serviceWorker?.controller||null}function XN(){return iA()?self:null}const rA="firebaseLocalStorageDb",$N=1,rf="firebaseLocalStorage",sA="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vf(r,e){return r.transaction([rf],e?"readwrite":"readonly").objectStore(rf)}function WN(){const r=indexedDB.deleteDatabase(rA);return new Uu(r).toPromise()}function Op(){const r=indexedDB.open(rA,$N);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(rf,{keyPath:sA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(rf)?e(s):(s.close(),await WN(),e(await Op()))})})}async function YT(r,e,n){const s=Vf(r,!0).put({[sA]:e,value:n});return new Uu(s).toPromise()}async function JN(r,e){const n=Vf(r,!1).get(e),s=await new Uu(n).toPromise();return s===void 0?null:s.value}function XT(r,e){const n=Vf(r,!0).delete(e);return new Uu(n).toPromise()}const ZN=800,eO=3;class aA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Op(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>eO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mf._getInstance(XN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QN(),!this.activeServiceWorker)return;this.sender=new GN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Op();return await YT(e,nf,"1"),await XT(e,nf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>YT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>JN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Vf(o,!1).getAll();return new Uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aA.type="LOCAL";const tO=aA;new Vu(3e4,6e4);function nO(r,e){return e?mr(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Lg extends Vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iO(r){return $b(r.auth,new Lg(r),r.bypassAuthState)}function rO(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),VN(n,new Lg(r),r.bypassAuthState)}async function sO(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),MN(n,new Lg(r),r.bypassAuthState)}class oA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iO;case"linkViaPopup":case"linkViaRedirect":return sO;case"reauthViaPopup":case"reauthViaRedirect":return rO;default:ui(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aO=new Vu(2e3,1e4);class Ao extends oA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=Ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aO.get())};e()}}Ao.currentPopupAction=null;const oO="pendingRedirect",Vh=new Map;class lO extends oA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Vh.get(this.auth._key());if(!e){try{const s=await uO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Vh.set(this.auth._key(),e)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uO(r,e){const n=fO(e),s=hO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function cO(r,e){Vh.set(r._key(),e)}function hO(r){return mr(r._redirectPersistence)}function fO(r){return Mh(oO,r.config.apiKey,r.name)}async function dO(r,e,n=!1){if(Nn(r.app))return Promise.reject(yr(r));const s=wa(r),o=nO(s,e),h=await new lO(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const mO=600*1e3;class pO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!lA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mO&&this.cachedEventUids.clear(),this.cachedEventUids.has($T(e))}saveEventToCache(e){this.cachedEventUids.add($T(e)),this.lastProcessedEventTime=Date.now()}}function $T(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function lA({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function gO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lA(r);default:return!1}}async function yO(r,e={}){return Ir(r,"GET","/v1/projects",e)}const _O=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vO=/^https?/;async function EO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await yO(r);for(const n of e)try{if(TO(n))return}catch{}ui(r,"unauthorized-domain")}function TO(r){const e=Dp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!vO.test(n))return!1;if(_O.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const SO=new Vu(3e4,6e4);function WT(){const r=qi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function bO(r){return new Promise((e,n)=>{function s(){WT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WT(),n(Bi(r,"network-request-failed"))},timeout:SO.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)s();else{const o=dN("iframefcb");return qi()[o]=()=>{gapi.load?s():n(Bi(r,"network-request-failed"))},Gb(`${fN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw kh=null,e})}let kh=null;function AO(r){return kh=kh||bO(r),kh}const wO=new Vu(5e3,15e3),RO="__/auth/iframe",CO="emulator/auth/iframe",IO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xO(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Ng(e,CO):`https://${r.config.authDomain}/${RO}`,s={apiKey:e.apiKey,appName:r.name,v:Ta},o=DO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ru(s).slice(1)}`}async function NO(r){const e=await AO(r),n=qi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:xO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Bi(r,"network-request-failed"),m=qi().setTimeout(()=>{u(h)},wO.get());function p(){qi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const OO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MO=500,VO=600,kO="_blank",PO="http://localhost";class JT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UO(r,e,n,s=MO,o=VO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...OO,width:s.toString(),height:o.toString(),top:u,left:h},g=rn().toLowerCase();n&&(m=Lb(g)?kO:n),Pb(g)&&(e=e||PO,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[N,U])=>`${w}${N}=${U},`,"");if(iN(g)&&m!=="_self")return LO(e||"",m),new JT(null);const T=window.open(e||"",m,v);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new JT(T)}function LO(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const jO="__/auth/handler",zO="emulator/auth/handler",BO=encodeURIComponent("fac");async function ZT(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ta,eventId:o};if(e instanceof Yb){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",cC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(e instanceof Pu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${BO}=${encodeURIComponent(p)}`:"";return`${qO(r)}?${Ru(m).slice(1)}${g}`}function qO({config:r}){return r.emulator?Ng(r,zO):`https://${r.authDomain}/${jO}`}const Zm="webStorageSupport";class FO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nA,this._completeRedirectFn=dO,this._overrideRedirectResult=cO}async _openPopup(e,n,s,o){wr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await ZT(e,n,s,Dp(),o);return UO(e,u,Ug())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await ZT(e,n,s,Dp(),o);return KN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(wr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await NO(e),s=new pO(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zm,{type:Zm},o=>{const u=o?.[0]?.[Zm];u!==void 0&&n(!!u),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Fb()||Ub()||Mg()}}const HO=FO;var e0="@firebase/auth",t0="1.11.1";class GO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function KO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QO(r){ma(new vs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hb(r)},g=new uN(s,o,u,p);return vN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ma(new vs("auth-internal",e=>{const n=wa(e.getProvider("auth").getImmediate());return(s=>new GO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(e0,t0,KO(r)),Pi(e0,t0,"esm2020")}const YO=300,XO=G0("authIdTokenMaxAge")||YO;let n0=null;const $O=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>XO)return;const o=n?.token;n0!==o&&(n0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function WO(r=Hp()){const e=cf(r,"auth");if(e.isInitialized())return e.getImmediate();const n=_N(r,{popupRedirectResolver:HO,persistence:[tO,FN,nA]}),s=G0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=$O(u.toString());LN(n,h,()=>h(n.currentUser)),UN(n,m=>h(m))}}const o=q0("auth");return o&&EN(n,`http://${o}`),n}function JO(){return document.getElementsByTagName("head")?.[0]??document}cN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Bi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",JO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QO("Browser");const uA="firebasestorage.googleapis.com",cA="storageBucket",ZO=120*1e3,eM=600*1e3,tM=1e3;class dt extends Qi{constructor(e,n,s=0){super(ep(e),`Firebase Storage: ${n} (${ep(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ep(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var st;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(st||(st={}));function ep(r){return"storage/"+r}function jg(){const r="An unknown error occurred, please check the error payload for server response.";return new dt(st.UNKNOWN,r)}function nM(r){return new dt(st.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function iM(r){return new dt(st.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rM(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(st.UNAUTHENTICATED,r)}function sM(){return new dt(st.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aM(r){return new dt(st.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function hA(){return new dt(st.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fA(){return new dt(st.CANCELED,"User canceled the upload/download.")}function oM(r){return new dt(st.INVALID_URL,"Invalid URL '"+r+"'.")}function lM(r){return new dt(st.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function uM(){return new dt(st.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cA+"' property when initializing the app?")}function dA(){return new dt(st.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cM(){return new dt(st.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function hM(){return new dt(st.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function fM(r){return new dt(st.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mp(r){return new dt(st.INVALID_ARGUMENT,r)}function mA(){return new dt(st.APP_DELETED,"The Firebase app was deleted.")}function dM(r){return new dt(st.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cu(r,e){return new dt(st.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Wl(r){throw new dt(st.INTERNAL_ERROR,"Internal error: "+r)}class Mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Mn.makeFromUrl(e,n)}catch{return new Mn(e,"")}if(s.path==="")return s;throw lM(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ue){ue.path_=decodeURIComponent(ue.path)}const v="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",N=new RegExp(`^https?://${T}/${v}/b/${o}/o${w}`,"i"),U={bucket:1,path:3},G=n===uA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",$=new RegExp(`^https?://${G}/${o}/${P}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:N,indices:U,postModify:g},{regex:$,indices:{bucket:1,path:2},postModify:g}];for(let ue=0;ue<ie.length;ue++){const ye=ie[ue],se=ye.regex.exec(e);if(se){const I=se[ye.indices.bucket];let R=se[ye.indices.path];R||(R=""),s=new Mn(I,R),ye.postModify(s);break}}if(s==null)throw oM(e);return s}}class mM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function pM(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function v(...P){g||(g=!0,e.apply(null,P))}function T(P){o=setTimeout(()=>{o=null,r(N,p())},P)}function w(){u&&clearTimeout(u)}function N(P,...$){if(g){w();return}if(P){w(),v.call(null,P,...$);return}if(p()||h){w(),v.call(null,P,...$);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,T(ie)}let U=!1;function G(P){U||(U=!0,w(),!g&&(o!==null?(P||(m=2),clearTimeout(o),T(0)):P||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,G(!0)},n),G}function gM(r){r(!1)}function yM(r){return r!==void 0}function _M(r){return typeof r=="function"}function vM(r){return typeof r=="object"&&!Array.isArray(r)}function kf(r){return typeof r=="string"||r instanceof String}function i0(r){return zg()&&r instanceof Blob}function zg(){return typeof Blob<"u"}function r0(r,e,n,s){if(s<e)throw Mp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw Mp(`Invalid value for '${r}'. Expected ${n} or less.`)}function Lu(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function pA(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var fa;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(fa||(fa={}));function gA(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class EM{constructor(e,n,s,o,u,h,m,p,g,v,T,w=!0,N=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=T,this.retry=w,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,G)=>{this.resolve_=U,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Sh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===fa.NO_ERROR,p=u.getStatus();if(!m||gA(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===fa.ABORT;s(!1,new Sh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Sh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());yM(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=jg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?mA():fA();h(p)}else{const p=hA();h(p)}};this.canceled_?n(!1,new Sh(!1,null,!0)):this.backoffId_=pM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function TM(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function SM(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bM(r,e){e&&(r["X-Firebase-GMPID"]=e)}function AM(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function wM(r,e,n,s,o,u,h=!0,m=!1){const p=pA(r.urlParams),g=r.url+p,v=Object.assign({},r.headers);return bM(v,e),TM(v,n),SM(v,u),AM(v,s),new EM(g,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}function RM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function CM(...r){const e=RM();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(zg())return new Blob(r);throw new dt(st.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function IM(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}function DM(r){if(typeof atob>"u")throw fM("base-64");return atob(r)}const ki={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tp{constructor(e,n){this.data=e,this.contentType=n||null}}function xM(r,e){switch(r){case ki.RAW:return new tp(yA(e));case ki.BASE64:case ki.BASE64URL:return new tp(_A(r,e));case ki.DATA_URL:return new tp(OM(e),MM(e))}throw jg()}function yA(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function NM(r){let e;try{e=decodeURIComponent(r)}catch{throw cu(ki.DATA_URL,"Malformed data URL.")}return yA(e)}function _A(r,e){switch(r){case ki.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw cu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ki.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw cu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=DM(e)}catch(o){throw o.message.includes("polyfill")?o:cu(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class vA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw cu(ki.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=VM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function OM(r){const e=new vA(r);return e.base64?_A(ki.BASE64,e.rest):NM(e.rest)}function MM(r){return new vA(r).contentType}function VM(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class ds{constructor(e,n){let s=0,o="";i0(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(i0(this.data_)){const s=this.data_,o=IM(s,e,n);return o===null?null:new ds(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ds(s,!0)}}static getBlob(...e){if(zg()){const n=e.map(s=>s instanceof ds?s.data_:s);return new ds(CM.apply(null,n))}else{const n=e.map(h=>kf(h)?xM(ki.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new ds(o,!0)}}uploadData(){return this.data_}}function EA(r){let e;try{e=JSON.parse(r)}catch{return null}return vM(e)?e:null}function kM(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function PM(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function TA(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function UM(r,e){return e}class ln{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||UM}}let bh=null;function LM(r){return!kf(r)||r.length<2?r:TA(r)}function SA(){if(bh)return bh;const r=[];r.push(new ln("bucket")),r.push(new ln("generation")),r.push(new ln("metageneration")),r.push(new ln("name","fullPath",!0));function e(u,h){return LM(h)}const n=new ln("name");n.xform=e,r.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new ln("size");return o.xform=s,r.push(o),r.push(new ln("timeCreated")),r.push(new ln("updated")),r.push(new ln("md5Hash",null,!0)),r.push(new ln("cacheControl",null,!0)),r.push(new ln("contentDisposition",null,!0)),r.push(new ln("contentEncoding",null,!0)),r.push(new ln("contentLanguage",null,!0)),r.push(new ln("contentType",null,!0)),r.push(new ln("metadata","customMetadata",!0)),bh=r,bh}function jM(r,e){function n(){const s=r.bucket,o=r.fullPath,u=new Mn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function zM(r,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return jM(s,r),s}function bA(r,e,n){const s=EA(e);return s===null?null:zM(r,s,n)}function BM(r,e,n,s){const o=EA(e);if(o===null||!kf(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const v=r.bucket,T=r.fullPath,w="/b/"+h(v)+"/o/"+h(T),N=Lu(w,n,s),U=pA({alt:"media",token:g});return N+U})[0]}function AA(r,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class Fo{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function _r(r){if(!r)throw jg()}function Bg(r,e){function n(s,o){const u=bA(r,o,e);return _r(u!==null),u}return n}function qM(r,e){function n(s,o){const u=bA(r,o,e);return _r(u!==null),BM(u,o,r.host,r._protocol)}return n}function ju(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=sM():o=rM():n.getStatus()===402?o=iM(r.bucket):n.getStatus()===403?o=aM(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function wA(r){const e=ju(r);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=nM(r.path)),u.serverResponse=o.serverResponse,u}return n}function FM(r,e,n){const s=e.fullServerUrl(),o=Lu(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new Fo(o,u,Bg(r,n),h);return m.errorHandler=wA(e),m}function HM(r,e,n){const s=e.fullServerUrl(),o=Lu(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new Fo(o,u,qM(r,n),h);return m.errorHandler=wA(e),m}function GM(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function RA(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=GM(null,e)),s}function KM(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let ie="";for(let ue=0;ue<2;ue++)ie=ie+Math.random().toString().slice(2);return ie}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=RA(e,s,o),v=AA(g,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",N=ds.getBlob(T,s,w);if(N===null)throw dA();const U={name:g.fullPath},G=Lu(u,r.host,r._protocol),P="POST",$=r.maxUploadRetryTime,W=new Fo(G,P,Bg(r,n),$);return W.urlParams=U,W.headers=h,W.body=N.uploadData(),W.errorHandler=ju(e),W}class sf{constructor(e,n,s,o){this.current=e,this.total=n,this.finalized=!!s,this.metadata=o||null}}function qg(r,e){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch{_r(!1)}return _r(!!n&&(e||["active"]).indexOf(n)!==-1),n}function QM(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h=RA(e,s,o),m={name:h.fullPath},p=Lu(u,r.host,r._protocol),g="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},T=AA(h,n),w=r.maxUploadRetryTime;function N(G){qg(G);let P;try{P=G.getResponseHeader("X-Goog-Upload-URL")}catch{_r(!1)}return _r(kf(P)),P}const U=new Fo(p,g,N,w);return U.urlParams=m,U.headers=v,U.body=T,U.errorHandler=ju(e),U}function YM(r,e,n,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const v=qg(g,["active","final"]);let T=null;try{T=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{_r(!1)}T||_r(!1);const w=Number(T);return _r(!isNaN(w)),new sf(w,s.size(),v==="final")}const h="POST",m=r.maxUploadRetryTime,p=new Fo(n,h,u,m);return p.headers=o,p.errorHandler=ju(e),p}const s0=256*1024;function XM(r,e,n,s,o,u,h,m){const p=new sf(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw cM();const g=p.total-p.current;let v=g;o>0&&(v=Math.min(v,o));const T=p.current,w=T+v;let N="";v===0?N="finalize":g===v?N="upload, finalize":N="upload";const U={"X-Goog-Upload-Command":N,"X-Goog-Upload-Offset":`${p.current}`},G=s.slice(T,w);if(G===null)throw dA();function P(ue,ye){const se=qg(ue,["active","final"]),I=p.current+v,R=s.size();let C;return se==="final"?C=Bg(e,u)(ue,ye):C=null,new sf(I,R,se==="final",C)}const $="POST",W=e.maxUploadRetryTime,ie=new Fo(n,$,P,W);return ie.headers=U,ie.body=G.uploadData(),ie.progressCallback=m||null,ie.errorHandler=ju(r),ie}const _n={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function np(r){switch(r){case"running":case"pausing":case"canceling":return _n.RUNNING;case"paused":return _n.PAUSED;case"success":return _n.SUCCESS;case"canceled":return _n.CANCELED;case"error":return _n.ERROR;default:return _n.ERROR}}class $M{constructor(e,n,s){if(_M(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function yo(r){return(...e)=>{Promise.resolve().then(()=>r(...e))}}class WM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Wl("cannot .send() more than once");if(Rs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class JM extends WM{initXhr(){this.xhr_.responseType="text"}}function bo(){return new JM}class ZM{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=SA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(st.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(gA(o.status,[]))if(u)o=hA();else{this.sleepTime=Math.max(this.sleepTime*2,tM),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(st.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=QM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,bo,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const o=YM(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,bo,n,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=s0*this._chunkMultiplier,n=new sf(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=XM(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,bo,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){s0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=FM(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,bo,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=KM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,bo,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=fA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=np(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,o){const u=new $M(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(np(this._state)){case _n.SUCCESS:yo(this._resolve.bind(null,this.snapshot))();break;case _n.CANCELED:case _n.ERROR:const n=this._reject;yo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(np(this._state)){case _n.RUNNING:case _n.PAUSED:e.next&&yo(e.next.bind(e,this.snapshot))();break;case _n.SUCCESS:e.complete&&yo(e.complete.bind(e))();break;case _n.CANCELED:case _n.ERROR:e.error&&yo(e.error.bind(e,this._error))();break;default:e.error&&yo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class va{constructor(e,n){this._service=e,n instanceof Mn?this._location=n:this._location=Mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new va(e,n)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TA(this._location.path)}get storage(){return this._service}get parent(){const e=kM(this._location.path);if(e===null)return null;const n=new Mn(this._location.bucket,e);return new va(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw dM(e)}}function eV(r,e,n){return r._throwIfRoot("uploadBytesResumable"),new ZM(r,new ds(e),n)}function tV(r){r._throwIfRoot("getDownloadURL");const e=HM(r.storage,r._location,SA());return r.storage.makeRequestWithTokens(e,bo).then(n=>{if(n===null)throw hM();return n})}function nV(r,e){const n=PM(r._location.path,e),s=new Mn(r._location.bucket,n);return new va(r.storage,s)}function iV(r){return/^[A-Za-z]+:\/\//.test(r)}function rV(r,e){return new va(r,e)}function CA(r,e){if(r instanceof Fg){const n=r;if(n._bucket==null)throw uM();const s=new va(n,n._bucket);return e!=null?CA(s,e):s}else return e!==void 0?nV(r,e):r}function sV(r,e){if(e&&iV(e)){if(r instanceof Fg)return rV(r,e);throw Mp("To use ref(service, url), the first argument must be a Storage instance.")}else return CA(r,e)}function a0(r,e){const n=e?.[cA];return n==null?null:Mn.makeFromBucketSpec(n,r)}function aV(r,e,n,s={}){r.host=`${e}:${n}`;const o=Rs(e);o&&(zp(`https://${r.host}/b`),Bp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:K0(u,r.app.options.projectId))}class Fg{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=uA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZO,this._maxUploadRetryTime=eM,this._requests=new Set,o!=null?this._bucket=Mn.makeFromBucketSpec(o,this._host):this._bucket=a0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=a0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){r0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){r0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new va(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new mM(mA());{const h=wM(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const o0="@firebase/storage",l0="0.14.0";const IA="storage";function oV(r,e,n){return r=ct(r),eV(r,e,n)}function lV(r){return r=ct(r),tV(r)}function uV(r,e){return r=ct(r),sV(r,e)}function cV(r=Hp(),e){r=ct(r);const s=cf(r,IA).getImmediate({identifier:e}),o=F0("storage");return o&&hV(s,...o),s}function hV(r,e,n,s={}){aV(r,e,n,s)}function fV(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Fg(n,s,o,e,Ta)}function dV(){ma(new vs(IA,fV,"PUBLIC").setMultipleInstances(!0)),Pi(o0,l0,""),Pi(o0,l0,"esm2020")}dV();const mV={apiKey:"AIzaSyDm20Plug9S3EWQo4umsdnrMXaEn8i_Jeo",authDomain:"medical-project-6a2aa.firebaseapp.com",projectId:"medical-project-6a2aa",storageBucket:"medical-project-6a2aa.firebasestorage.app",messagingSenderId:"533053954463",appId:"1:533053954463:web:bbb60e3bd068baa90405aa",measurementId:"G-GMQZJYE7WW"},Hg=X0(mV),ut=Tx(Hg),pV=cV(Hg),un=WO(Hg);function gV(){const r=of(),[e,n]=j.useState({first_name:"",last_name:"",email:"",password:"",phone_number:"",specialty:""}),[s,o]=j.useState(""),u=m=>{const{name:p,value:g}=m.target;n(v=>({...v,[p]:g}))},h=async m=>{m.preventDefault(),o("Saving...");try{const g=(await Pg(un,e.email,e.password)).user;await Jb(g);const v=Date.now();await Bo(Wt(ut,"Doctors"),{...e,doctor_id:v,user_id:g.uid,phone_number:Number(e.phone_number),created_at:He.now()}),await Ig(Ds(ut,"Users",g.uid),{uid:g.uid,email:e.email,role:"doctor",created_at:He.now()}),o(" Doctor registered successfully! Check your email for verification."),setTimeout(()=>{r("/login")},3e3),n({first_name:"",last_name:"",email:"",password:"",phone_number:"",specialty:""})}catch(p){console.error("Error adding doctor:",p),o(" Error adding doctor. Check console.")}};return A.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[A.jsx("h2",{style:{textAlign:"center",fontSize:"1.1rem",letterSpacing:"0.18em",textTransform:"uppercase",color:"#4b5563",marginBottom:"0.5rem"},children:"Doctor Registration"}),A.jsx("p",{style:{textAlign:"center",fontSize:"0.9rem",color:"#6b7280",marginBottom:"1.6rem"},children:"Create an account for a doctor to access the system."}),A.jsxs("form",{onSubmit:h,style:{display:"grid",gap:"0.85rem"},children:[A.jsx("input",{placeholder:"First Name",name:"first_name",value:e.first_name,onChange:u,required:!0,style:_o}),A.jsx("input",{placeholder:"Last Name",name:"last_name",value:e.last_name,onChange:u,required:!0,style:_o}),A.jsx("input",{placeholder:"Email",type:"email",name:"email",value:e.email,onChange:u,required:!0,style:_o}),A.jsx("input",{placeholder:"Password",type:"password",name:"password",value:e.password,onChange:u,required:!0,style:_o}),A.jsx("input",{placeholder:"Phone Number",name:"phone_number",value:e.phone_number,onChange:u,required:!0,style:_o}),A.jsx("input",{placeholder:"Specialty",name:"specialty",value:e.specialty,onChange:u,required:!0,style:_o}),A.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1.1rem"},children:[A.jsx("button",{type:"button",style:_V,onClick:()=>n({first_name:"",last_name:"",email:"",password:"",phone_number:"",specialty:""}),children:"Cancel"}),A.jsx("button",{type:"submit",style:yV,children:"Register"})]})]}),s&&A.jsx("p",{style:{textAlign:"center",marginTop:"1rem"},children:s})]})}const _o={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},yV={border:"none",borderRadius:"999px",padding:"0.75rem 1.8rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #7C3AED 0%, #A78BFA 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(124,58,237,0.22)",transition:"0.3s ease"},_V={borderRadius:"999px",padding:"0.75rem 1.6rem",fontSize:"0.9rem",fontWeight:500,cursor:"pointer",background:"#ffffff",border:"1.5px solid #D1D5DB",boxShadow:"0 4px 12px rgba(0,0,0,0.04)",transition:"0.25s ease"};function vV(){const[r,e]=j.useState(""),[n,s]=j.useState(""),[o,u]=j.useState(""),h=of(),[m,p]=j.useState(""),g=async v=>{v.preventDefault(),u("");try{const w=(await PN(un,r,n)).user.uid,N=await Rb(Ds(ut,"Users",w));if(N.exists()){const U=N.data().role;U==="doctor"?h("/doctor"):U==="patient"?h("/patient"):u("Role not assigned.")}else u("User profile not found in Firestore.")}catch(T){console.error(T),u("Login failed. Check email and password.")}};return A.jsx("div",{className:"app-shell",children:A.jsxs("div",{className:"card card--compact",children:[A.jsx("h1",{className:"card-title",children:"Medical Login"}),A.jsxs("form",{onSubmit:g,children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{className:"form-label",children:"Email"}),A.jsx("input",{type:"email",className:"form-input",value:r,onChange:v=>e(v.target.value),required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{className:"form-label",children:"Password"}),A.jsx("input",{type:"password",className:"form-input",value:n,onChange:v=>s(v.target.value),required:!0})]}),A.jsx("button",{type:"submit",className:"btn-primary btn-block",children:"Sign In"}),o&&A.jsx("p",{className:"form-error",children:o})]}),A.jsx("div",{style:{marginTop:"1.25rem"},children:A.jsx("button",{type:"button",onClick:()=>h("/doctor-signup"),className:"btn-secondary btn-block",children:"Doctor Sign Up?"})})]})})}function EV(){const[r,e]=j.useState({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""}),[n,s]=j.useState(null),[o,u]=j.useState(""),[h,m]=j.useState(null),[p,g]=j.useState(!1),[v,T]=j.useState(null);j.useEffect(()=>{const G=jN(un,async P=>{if(!P){m(null),u("No user logged in");return}m(P),u("Fetching patient info...");try{const $=Ar(Wt(ut,"Patients"),En("uid","==",P.uid)),W=await Gi($);if(W.empty)u("No patient record found");else{const ie=W.docs[0],ue=ie.data();ue.date_of_birth?.seconds&&(ue.date_of_birth=new Date(ue.date_of_birth.seconds*1e3).toISOString().slice(0,10)),T(ie.id),e(ue),s(ue),u("Patient info loaded")}}catch($){console.error("Error fetching patient data:",$),u("Error fetching data")}});return()=>G()},[]);const w=G=>{e(P=>({...P,[G.target.name]:G.target.value}))},N=async()=>{if(!v)return;const G=Ds(ut,"Patients",v);try{await Vx(G,r),s(r),g(!1),u("Information updated!")}catch(P){console.error("Error updating Firestore:",P),u("Update failed.")}},U=()=>{e(n),g(!1)};return A.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[A.jsx("h2",{style:{textAlign:"center",fontSize:"1.1rem",letterSpacing:"0.18em",textTransform:"uppercase",color:"#4b5563",marginBottom:"0.5rem"},children:"View Patient Info"}),A.jsx("p",{style:{textAlign:"center",fontSize:"0.9rem",color:"#6b7280",marginBottom:"1.6rem"},children:"View and edit your information below"}),h&&A.jsx("div",{style:TV,children:Object.entries({"First Name":"first_name","Last Name":"last_name",Email:"email",Address:"address","Date of Birth":"date_of_birth",Gender:"gender","Phone Number":"phone_number","Emergency Contact Name":"emergency_contact_name","Emergency Contact Phone":"emergency_contact_phone"}).map(([G,P])=>A.jsxs("div",{children:[A.jsx("span",{style:SV,children:G}),p?P==="date_of_birth"?A.jsx("input",{type:"date",name:P,value:r[P]||"",onChange:w,style:ip}):P==="gender"?A.jsxs("select",{name:P,value:r[P]||"",onChange:w,style:ip,children:[A.jsx("option",{value:"",children:"Select Gender"}),A.jsx("option",{value:"Male",children:"Male"}),A.jsx("option",{value:"Female",children:"Female"}),A.jsx("option",{value:"Other",children:"Other"})]}):A.jsx("input",{name:P,value:r[P]||"",onChange:w,style:ip}):A.jsx("div",{style:bV,children:r[P]})]},P))}),p?A.jsxs(A.Fragment,{children:[A.jsx("button",{style:AV,onClick:N,children:"Save Changes"}),A.jsx("button",{style:wV,onClick:U,children:"Cancel"})]}):A.jsx("button",{style:Gg,onClick:()=>g(!0),children:"Edit"}),A.jsx("p",{style:{textAlign:"center",marginTop:12,color:"#6b7280"},children:o})]})}const TV={marginTop:"1rem",lineHeight:"1.8"},SV={fontSize:"0.78rem",fontWeight:"600",letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151",display:"block",marginBottom:"0.25rem"},bV={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",backgroundColor:"#f9fafb",marginBottom:"0.75rem"},ip={width:"100%",borderRadius:"999px",border:"1px solid #60A5FA",padding:"0.7rem 1rem",fontSize:"0.9rem",backgroundColor:"#ffffff",marginBottom:"0.75rem",outline:"none"},Gg={border:"none",borderRadius:"999px",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #3B82F6 0%, #93C5FD 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(59,130,246,0.22)",transition:"0.3s ease",width:"100%",marginTop:"1.5rem"},AV={...Gg,background:"linear-gradient(135deg, #10B981 0%, #6EE7B7 100%)",boxShadow:"0 8px 22px rgba(16,185,129,0.22)"},wV={...Gg,background:"#e5e7eb",color:"#374151",boxShadow:"none",marginTop:"0.8rem"};function DA(){const r=of(),e=async()=>{try{await zN(un),r("/"),window.location.reload()}catch(n){console.error("Error logging out:",n)}};return A.jsx("button",{onClick:e,style:{border:"none",borderRadius:"999px",display:"block",margin:"1.5rem auto 0 auto",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #EF4444 0%, #FCA5A5 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(239,68,68,0.22)",transition:"0.3s ease"},children:"Logout"})}function RV(){const[r,e]=j.useState(null),[n,s]=j.useState(null),[o,u]=j.useState(""),[h,m]=j.useState([]),[p,g]=j.useState(""),[v,T]=j.useState(!1);j.useEffect(()=>{(async()=>{const U=un.currentUser;if(U)try{const G=Ar(Wt(ut,"Patients"),En("uid","==",U.uid)),P=await Gi(G);if(P.empty)console.warn("No patient record found.");else{const $=P.docs[0].data();e($.uid),s($.doctor_id)}}catch(G){console.error("Error fetching patient:",G)}})()},[]),j.useEffect(()=>{if(!n||!o)return;(async()=>{try{const U=new Date(o);U.setHours(0,0,0,0);const G=new Date(o);G.setHours(23,59,59,999);const P=Ar(Wt(ut,"Reservations"),En("doctorId","==",n),En("appointmentDate",">=",U),En("appointmentDate","<=",G)),W=(await Gi(P)).docs.map(ye=>new Date(ye.data().appointmentDate).getHours()),ue=Array.from({length:9},(ye,se)=>se+9).filter(ye=>!W.includes(ye));m(ue),g("")}catch(U){console.error("Error fetching available times:",U)}})()},[n,o]);const w=async N=>{if(N.preventDefault(),!o||p==="")return alert("Select date and time.");if(!n)return alert("No assigned doctor found.");T(!0);try{const U=new Date(o);U.setHours(p,0,0,0),await Bo(Wt(ut,"Reservations"),{uid:r,doctorId:n,appointmentDate:U,status:"pending",email:un.currentUser.email,createdAt:Dg()}),alert("Appointment requested successfully!"),u(""),g(""),m([])}catch(U){console.error("Error creating appointment:",U),alert("Failed to create appointment.")}finally{T(!1)}};return A.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[A.jsx("h2",{style:CV,children:"Create Appointment"}),A.jsx("p",{style:IV,children:"Schedule a new appointment below."}),A.jsxs("form",{onSubmit:w,style:{display:"grid",gap:"1rem"},children:[A.jsxs("div",{children:[A.jsx("label",{style:u0,children:"Date"}),A.jsx("input",{type:"date",value:o,onChange:N=>u(N.target.value),style:c0,required:!0})]}),h.length>0&&A.jsxs("div",{children:[A.jsx("label",{style:u0,children:"Time"}),A.jsxs("select",{value:p,onChange:N=>g(parseInt(N.target.value)),style:c0,required:!0,children:[A.jsx("option",{value:"",children:"Select Time"}),h.map(N=>A.jsxs("option",{value:N,children:[N,":00"]},N))]})]}),A.jsx("button",{type:"submit",style:DV,disabled:v,children:v?"Submitting...":"Request Appointment"})]})]})}const CV={textAlign:"center",marginBottom:"1rem",letterSpacing:"0.16em",textTransform:"uppercase",fontSize:"0.9rem",color:"#6b7280"},IV={textAlign:"center",marginBottom:"1.8rem",fontSize:"0.9rem",color:"#4b5563"},u0={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},c0={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},DV={padding:"0.75rem 1.5rem",fontSize:"0.95rem",fontWeight:600,color:"#fff",background:"linear-gradient(135deg, #10B981 0%, #6EE7B7 100%)",border:"none",borderRadius:"999px",cursor:"pointer"};function xV(){const[r,e]=j.useState(null),[n,s]=j.useState([]),[o,u]=j.useState(null),[h,m]=j.useState("");j.useEffect(()=>{u(null)},[h]),j.useEffect(()=>{(async()=>{if(un.currentUser)try{const v=Ar(Wt(ut,"Patients"),En("uid","==",un.currentUser.uid)),T=await Gi(v);T.empty?console.warn("No patient record found for this user."):e(T.docs[0].id)}catch(v){console.error("Error fetching patient ID:",v)}})()},[]),j.useEffect(()=>{(async()=>{if(r)try{const v=Wt(ut,`Patients/${r}/files`),w=(await Gi(v)).docs.map(N=>({id:N.id,...N.data()}));s(w),u(null),m("")}catch(v){console.error("Error fetching files:",v),alert("Failed to fetch files.")}})()},[r]);const p=h?n.filter(g=>g.uploadType===h):n;return A.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[A.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem",letterSpacing:"0.16em",textTransform:"uppercase",fontSize:"0.9rem",color:"#6b7280"},children:"View Records"}),A.jsx("p",{style:{textAlign:"center",marginBottom:"1.8rem",fontSize:"0.9rem",color:"#4b5563"},children:"Review your uploaded medical records below."}),n.length>0&&A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:h0,children:"Filter by Type:"}),A.jsxs("select",{style:f0,value:h,onChange:g=>m(g.target.value),children:[A.jsx("option",{value:"",children:"All Types"}),A.jsx("option",{value:"Forms",children:"Forms"}),A.jsx("option",{value:"Test Results",children:"Test Results"}),A.jsx("option",{value:"Scans",children:"Scans"}),A.jsx("option",{value:"Notes",children:"Notes"}),A.jsx("option",{value:"Other",children:"Other"})]})]}),p.length>0&&A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:h0,children:"Select File:"}),A.jsxs("select",{style:f0,onChange:g=>u(p.find(v=>v.id===g.target.value)),defaultValue:"",children:[A.jsx("option",{value:"",children:"-- Choose File --"}),p.map(g=>A.jsxs("option",{value:g.id,children:[g.name,"  Uploaded:"," ",g.uploadedAt?.toDate?g.uploadedAt.toDate().toLocaleString():"N/A"]},g.id))]})]}),o&&A.jsx("div",{style:{marginTop:"1rem"},children:o.name.endsWith(".pdf")?A.jsx("iframe",{src:o.url,width:"100%",height:"600px",title:o.name}):A.jsx("img",{src:o.url,alt:o.name,style:{width:"100%",maxHeight:"600px",objectFit:"contain"}})})]})}const h0={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},f0={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"};function NV(){const[r,e]=j.useState(null),[n,s]=j.useState([]);j.useEffect(()=>{(async()=>{const p=un.currentUser;if(p)try{const g=Ar(Wt(ut,"Patients"),En("uid","==",p.uid)),v=await Gi(g);v.empty?console.warn("No patient record found for this user."):e(v.docs[0].data().uid)}catch(g){console.error("Error fetching patient UID:",g)}})()},[]),j.useEffect(()=>{if(!r)return;const m=Wt(ut,"Reservations"),p=Ar(m,En("uid","==",r)),g=Px(p,async v=>{const T=await Promise.all(v.docs.map(async w=>{const N=w.data(),U=N.appointmentDate.toDate();let G="Unknown Doctor",P="Unknown Location";if(N.doctorId){const $=await Rb(Ds(ut,"Doctors",N.doctorId));if($.exists()){const W=$.data();G=`${W.first_name} ${W.last_name}`,P=W.location||"Unknown"}}return{id:w.id,...N,doctorName:G,location:P,appointmentDateJS:U}}));s(T)});return()=>g()},[r]);const o=new Date,u=n.filter(m=>m.appointmentDateJS>=o),h=n.filter(m=>m.appointmentDateJS<o);return A.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif"},children:[A.jsx("h2",{style:OV,children:"View Appointments"}),A.jsx("p",{style:MV,children:"View previous and upcoming appointments below."}),A.jsx("h3",{style:m0,children:"Upcoming Appointments"}),u.length===0?A.jsx("p",{style:p0,children:"No upcoming appointments."}):u.map(m=>A.jsx(d0,{appt:m},m.id)),A.jsx("h3",{style:m0,children:"Previous Appointments"}),h.length===0?A.jsx("p",{style:p0,children:"No previous appointments."}):h.map(m=>A.jsx(d0,{appt:m},m.id))]})}function d0({appt:r}){const e=async()=>{try{await kx(Ds(ut,"Reservations",r.id)),console.log("Appointment canceled:",r.id)}catch(n){console.error("Error cancelling appointment:",n)}};return A.jsxs("div",{style:VV,children:[A.jsxs("div",{style:{marginBottom:"0.4rem",fontSize:"0.95rem",fontWeight:600},children:[A.jsx("strong",{children:"Doctor:"})," ",r.doctorName]}),A.jsxs("div",{style:{fontSize:"0.85rem",color:"#4b5563"},children:[A.jsx("strong",{children:"Date:"})," ",r.appointmentDateJS.toLocaleString()]}),A.jsxs("div",{style:{fontSize:"0.85rem",color:"#4b5563",marginTop:"0.25rem"},children:[A.jsx("strong",{children:"Location:"})," ",r.location||"Unknown"]}),A.jsx("button",{onClick:e,style:{marginTop:"0.8rem",padding:"0.45rem 0.9rem",fontSize:"0.85rem",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"12px",cursor:"pointer"},children:"Cancel Appointment"})]})}const OV={textAlign:"center",marginBottom:"1rem",letterSpacing:"0.16em",textTransform:"uppercase",fontSize:"0.9rem",color:"#6b7280"},MV={textAlign:"center",marginBottom:"1.8rem",fontSize:"0.9rem",color:"#4b5563"},m0={marginTop:"1.8rem",marginBottom:"0.6rem",fontSize:"0.85rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",color:"#374151"},p0={fontSize:"0.85rem",color:"#6b7280",marginBottom:"1rem"},VV={background:"#ffffff",padding:"1rem",borderRadius:"16px",marginBottom:"1rem",border:"1px solid #e5e7eb",boxShadow:"0 4px 14px rgba(0,0,0,0.05)"};function kV(){return A.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#F8FBFF",padding:"2.5rem 2rem",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, Poppins, system-ui, sans-serif"},children:[A.jsx("h1",{style:{textAlign:"center",fontSize:"2rem",fontWeight:700,marginBottom:"2.2rem",letterSpacing:"0.12em",textTransform:"uppercase",color:"#1f2937"},children:"Patient Dashboard"}),A.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:A.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:A.jsx(EV,{})})}),A.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:A.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:A.jsx(RV,{})})}),A.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:A.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:A.jsx(NV,{})})}),A.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:A.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:A.jsx(xV,{})})}),A.jsx(DA,{})]})}function PV(){const[r,e]=j.useState({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""}),[n,s]=j.useState(""),o=h=>{const{name:m,value:p}=h.target;e(g=>({...g,[m]:p}))},u=async h=>{h.preventDefault(),s("Saving...");try{const p=(await Pg(un,r.email,r.password)).user,g=Date.now();await Bo(Wt(ut,"Patients"),{...r,patient_id:g,created_at:He.fromDate(new Date),uid:p.uid}),await Ig(Ds(ut,"Users",p.uid),{email:r.email,role:"patient",patient_id:g,created_at:He.fromDate(new Date)}),s("Patient registered successfully."),e({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""})}catch(m){console.error("Error adding patient:",m),s("Error adding patient. Check console.")}};return A.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[A.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem",letterSpacing:"0.16em",textTransform:"uppercase",fontSize:"0.9rem",color:"#6b7280"},children:"Patient Registration"}),A.jsx("p",{style:{textAlign:"center",marginBottom:"1.8rem",fontSize:"0.9rem",color:"#4b5563"},children:"Please complete all required fields before submitting."}),A.jsxs("form",{onSubmit:u,style:{display:"grid",gap:"0.9rem"},children:[A.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[A.jsx("label",{style:Oi,children:"First Name"}),A.jsx("input",{style:Mi,name:"first_name",value:r.first_name,onChange:o,required:!0})]}),A.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[A.jsx("label",{style:Oi,children:"Last Name"}),A.jsx("input",{style:Mi,name:"last_name",value:r.last_name,onChange:o,required:!0})]}),A.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[A.jsx("label",{style:Oi,children:"Email"}),A.jsx("input",{style:Mi,type:"email",name:"email",value:r.email,onChange:o,required:!0})]}),A.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[A.jsx("label",{style:Oi,children:"Password"}),A.jsx("input",{style:Mi,type:"password",name:"password",value:r.password,onChange:o,required:!0})]}),A.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[A.jsx("label",{style:Oi,children:"Address"}),A.jsx("input",{style:Mi,name:"address",value:r.address,onChange:o,required:!0})]}),A.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[A.jsx("label",{style:Oi,children:"Date Of Birth"}),A.jsx("input",{style:Mi,type:"date",name:"date_of_birth",value:r.date_of_birth,onChange:o,required:!0})]}),A.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[A.jsx("label",{style:Oi,children:"Gender"}),A.jsxs("select",{style:Mi,name:"gender",value:r.gender,onChange:o,required:!0,children:[A.jsx("option",{value:"",children:"Select gender"}),A.jsx("option",{value:"female",children:"Female"}),A.jsx("option",{value:"male",children:"Male"}),A.jsx("option",{value:"nonbinary",children:"Non-binary"}),A.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),A.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[A.jsx("label",{style:Oi,children:"Phone Number"}),A.jsx("input",{style:Mi,name:"phone_number",value:r.phone_number,onChange:o,required:!0})]}),A.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[A.jsx("label",{style:Oi,children:"Emergency Contact Name"}),A.jsx("input",{style:Mi,name:"emergency_contact_name",value:r.emergency_contact_name,onChange:o,required:!0})]}),A.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[A.jsx("label",{style:Oi,children:"Emergency Contact Phone"}),A.jsx("input",{style:Mi,name:"emergency_contact_phone",value:r.emergency_contact_phone,onChange:o,required:!0})]}),A.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",marginTop:"0.75rem"},children:[A.jsx("button",{type:"reset",style:{...g0,backgroundColor:"#f3f4f6",color:"#374151"},children:"Clear"}),A.jsx("button",{type:"submit",style:{...g0,background:"linear-gradient(135deg, #4f46e5 0%, #6366f1 50%, #818cf8 100%)",color:"#ffffff",boxShadow:"0 12px 30px rgba(79, 70, 229, 0.35)"},children:"Submit"})]})]}),n&&A.jsx("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#4b5563"},children:n})]})}const Oi={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},Mi={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},g0={border:"none",borderRadius:"999px",padding:"0.7rem 1.6rem",fontSize:"0.9rem",fontWeight:500,cursor:"pointer"};function xA({onSelectPatient:r,doctorId:e,setFiles:n,setSelectedFile:s}){const[o,u]=j.useState(""),[h,m]=j.useState([]),p=()=>{u(""),m([]),r(null),n&&n([]),s&&s(null)},g=async()=>{if(!o.trim())return alert("Enter a last name.");if(!e)return alert("You must be logged in as a doctor.");try{const v=Wt(ut,"Patients"),T=Ar(v,En("last_name","==",o.trim())),N=(await Gi(T)).docs.map(U=>({id:U.id,...U.data()}));N.length===0&&alert("No patients found with that last name."),m(N),r(null)}catch(v){console.error("Error searching patients:",v),alert("Unable to search patients. Check your permissions.")}};return A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[A.jsx("label",{style:y0,children:"Search by Last Name"}),A.jsx("input",{type:"text",id:"lastName",style:_0,value:o,onChange:v=>u(v.target.value),placeholder:"Enter last name",required:!0})]}),A.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1.1rem"},children:[A.jsx("button",{type:"button",style:UV,onClick:p,children:"Back"}),A.jsx("button",{onClick:g,style:LV,children:"Search"})]}),h.length>0&&A.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[A.jsx("label",{style:y0,children:"Select Patient:"}),A.jsxs("select",{style:_0,onChange:v=>r(h.find(T=>T.id===v.target.value)),defaultValue:"",children:[A.jsx("option",{value:"",children:"-- Choose Patient --"}),h.map(v=>A.jsxs("option",{value:v.id,children:[v.first_name," ",v.last_name,"  DOB:"," ",v.date_of_birth?v.date_of_birth:"N/A"]},v.id))]})]})]})}const y0={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},_0={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},UV={borderRadius:"999px",padding:"0.75rem 1.6rem",fontSize:"0.9rem",fontWeight:500,cursor:"pointer",background:"#ffffff",border:"1.5px solid #D1D5DB",boxShadow:"0 4px 12px rgba(0,0,0,0.04)",transition:"0.25s ease"},LV={border:"none",borderRadius:"999px",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #10B981 0%, #6EE7B7 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(16,185,129,0.22)",transition:"0.3s ease"};function jV(){const[r,e]=j.useState(null),[n,s]=j.useState(0),[o,u]=j.useState(!1),[h,m]=j.useState(null),[p,g]=j.useState(null),[v,T]=j.useState("");j.useEffect(()=>{un.currentUser&&g(un.currentUser.uid)},[]);const w=U=>e(U.target.files[0]),N=async()=>{if(!r)return alert("Please select a file first.");if(!h)return alert("Please select a patient first.");if(!p)return alert("You must be logged in as a doctor.");if(!v)return alert("Please select an upload type.");const U=h.id,G=`patients/${U}/${r.name}`,P=uV(pV,G),$=oV(P,r);u(!0),$.on("state_changed",W=>{const ie=W.bytesTransferred/W.totalBytes*100;s(Math.round(ie))},W=>{console.error("Upload error:",W),alert("Upload failed."),u(!1)},async()=>{try{const W=await lV($.snapshot.ref);await Bo(Wt(ut,`Patients/${U}/files`),{name:r.name,url:W,uploadType:v,uploadedBy:p,uploadedAt:Dg()}),alert("Upload complete!"),e(null),T(""),s(0)}catch(W){console.error("Error saving file metadata:",W),alert("Failed to save file information.")}finally{u(!1)}})};return A.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[A.jsx("h2",{style:{textAlign:"center",fontSize:"1.1rem",letterSpacing:"0.18em",textTransform:"uppercase",color:"#4b5563",marginBottom:"0.5rem"},children:"Upload File For Patient"}),A.jsx(xA,{doctorId:p,onSelectPatient:m}),A.jsxs("div",{style:{display:"grid",gap:"0.35rem",marginTop:"1rem"},children:[A.jsx("label",{style:v0,children:"Upload Type"}),A.jsxs("select",{value:v,onChange:U=>T(U.target.value),style:E0,children:[A.jsx("option",{value:"",children:"Select type"}),A.jsx("option",{value:"Forms",children:"Forms"}),A.jsx("option",{value:"Test Results",children:"Test Results"}),A.jsx("option",{value:"Scans",children:"Scans"}),A.jsx("option",{value:"Notes",children:"Notes"}),A.jsx("option",{value:"Other",children:"Other"})]})]}),A.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[A.jsx("label",{style:v0,children:"File"}),A.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:w,style:E0})]}),A.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"1.1rem"},children:A.jsx("button",{onClick:N,style:zV,children:o?"Uploading...":"Upload"})})]})}const v0={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},E0={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},zV={border:"none",borderRadius:"999px",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #3B82F6 0%, #93C5FD 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(59,130,246,0.22)",transition:"0.3s ease"};function BV(){const[r,e]=j.useState(null),[n,s]=j.useState(null),[o,u]=j.useState([]),[h,m]=j.useState(null),[p,g]=j.useState("");j.useEffect(()=>{m(null)},[p]),j.useEffect(()=>{un.currentUser&&e(un.currentUser.uid)},[]),j.useEffect(()=>{(async()=>{if(n)try{const w=Wt(ut,`Patients/${n.id}/files`),U=(await Gi(w)).docs.map(G=>({id:G.id,...G.data()}));u(U),m(null),g("")}catch(w){console.error("Error fetching files:",w),alert("Failed to fetch files.")}})()},[n]);const v=p?o.filter(T=>T.uploadType===p):o;return A.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[A.jsx("h2",{style:{textAlign:"center",fontSize:"1.1rem",letterSpacing:"0.18em",textTransform:"uppercase",color:"#4b5563",marginBottom:"0.5rem"},children:"View Patient Files"}),A.jsx("p",{style:{textAlign:"center",fontSize:"0.9rem",color:"#6b7280",marginBottom:"1.6rem"},children:"Search by last name to review uploaded documents."}),A.jsx(xA,{doctorId:r,onSelectPatient:s,setFiles:u,setSelectedFile:m}),o.length>0&&A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:T0,children:"Filter by Type:"}),A.jsxs("select",{style:S0,value:p,onChange:T=>g(T.target.value),children:[A.jsx("option",{value:"",children:"All Types"}),A.jsx("option",{value:"Forms",children:"Forms"}),A.jsx("option",{value:"Test Results",children:"Test Results"}),A.jsx("option",{value:"Scans",children:"Scans"}),A.jsx("option",{value:"Notes",children:"Notes"}),A.jsx("option",{value:"Other",children:"Other"})]})]}),v.length>0&&A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:T0,children:"Select File:"}),A.jsxs("select",{style:S0,onChange:T=>m(v.find(w=>w.id===T.target.value)),defaultValue:"",children:[A.jsx("option",{value:"",children:"-- Choose File --"}),v.map(T=>A.jsxs("option",{value:T.id,children:[T.name,"  Uploaded:"," ",T.uploadedAt?.toDate?T.uploadedAt.toDate().toLocaleString():"N/A"]},T.id))]})]}),h&&A.jsx("div",{style:{marginTop:"1rem"},children:h.name.endsWith(".pdf")?A.jsx("iframe",{src:h.url,width:"100%",height:"600px",title:h.name}):A.jsx("img",{src:h.url,alt:h.name,style:{width:"100%",maxHeight:"600px",objectFit:"contain"}})})]})}const T0={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},S0={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"};function qV(){return A.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#F8FBFF",padding:"2.5rem 2rem",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, Poppins, system-ui, sans-serif"},children:[A.jsx("h1",{style:{textAlign:"center",fontSize:"2rem",fontWeight:700,marginBottom:"2.2rem",letterSpacing:"0.12em",textTransform:"uppercase",color:"#1f2937"},children:"Doctor Dashboard"}),A.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:A.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:A.jsx(PV,{})})}),A.jsx("section",{style:{background:"#e9f2ff",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(147, 197, 253, 0.18)",marginBottom:"2rem"},children:A.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:A.jsx(jV,{})})}),A.jsx("section",{style:{background:"#ecfff4",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(167, 243, 208, 0.18)",marginBottom:"2rem"},children:A.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:A.jsx(BV,{})})}),A.jsx(DA,{})]})}function FV(){return A.jsxs("div",{className:"landing-shell",children:[A.jsxs("header",{className:"landing-nav",children:[A.jsx("div",{className:"landing-nav-left",children:A.jsx("span",{className:"landing-logo",children:"MedMMO"})}),A.jsxs("nav",{className:"landing-nav-links",children:[A.jsx("a",{href:"#about",children:"About"}),A.jsx("a",{href:"#services",children:"Services"}),A.jsx("a",{href:"#contact",children:"Contacts"})]}),A.jsx(Uh,{to:"/login",children:A.jsx("button",{className:"landing-login-btn",children:"Login"})})]}),A.jsxs("main",{className:"landing-main",children:[A.jsxs("div",{className:"landing-text",children:[A.jsxs("h1",{children:[A.jsx("span",{className:"landing-line1",children:"Find a"}),A.jsx("span",{className:"landing-line2",children:"DOCTOR"})]}),A.jsx("p",{className:"landing-subtitle",children:"Your secure portal to manage medical records and connect with professionals."}),A.jsx(Uh,{to:"/FindDoctor",children:A.jsx("button",{className:"btn-primary landing-cta",children:" Get Started "})})]}),A.jsx("div",{className:"landing-image",children:A.jsx("img",{src:"Med_LandingPage.jpg",alt:"Doctor"})})]})]})}function HV({selectedDoctor:r,onRegistrationComplete:e,onUidReady:n}){const[s,o]=j.useState({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""}),[u,h]=j.useState(""),m=T=>{const{name:w,value:N}=T.target;o(U=>({...U,[w]:N}))},p=async T=>{T.preventDefault(),h("Saving...");try{const N=(await Pg(un,s.email,s.password)).user;await Jb(N);const U=Date.now();await Bo(Wt(ut,"Patients"),{...s,patient_id:U,created_at:He.fromDate(new Date),uid:N.uid,doctor_id:r.id}),await Ig(Ds(ut,"Users",N.uid),{email:s.email,role:"patient",patient_id:U,doctor_id:r.id,created_at:He.fromDate(new Date)}),n&&n(N.uid),h("Patient registered successfully! Verification email sent."),o({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""}),e&&e()}catch(w){console.error("Error adding patient:",w),h("Error adding patient. Check console.")}},g={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",backgroundColor:"#f9fafb",marginBottom:"0.75rem"},v={border:"none",borderRadius:"999px",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #3B82F6 0%, #93C5FD 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(59,130,246,0.22)",width:"100%",marginTop:"1rem"};return A.jsxs("div",{style:{maxWidth:520,margin:"1rem auto",padding:"1rem",border:"1px solid #e5e7eb",borderRadius:"1rem"},children:[A.jsx("h3",{style:{textAlign:"center",marginBottom:"1rem"},children:"Register to Book Appointment"}),A.jsxs("form",{onSubmit:p,style:{display:"grid",gap:"0.8rem"},children:[A.jsx("input",{style:g,name:"first_name",placeholder:"First Name",value:s.first_name,onChange:m,required:!0}),A.jsx("input",{style:g,name:"last_name",placeholder:"Last Name",value:s.last_name,onChange:m,required:!0}),A.jsx("input",{style:g,type:"email",name:"email",placeholder:"Email",value:s.email,onChange:m,required:!0}),A.jsx("input",{style:g,type:"password",name:"password",placeholder:"Password",value:s.password,onChange:m,required:!0}),A.jsx("input",{style:g,name:"address",placeholder:"Address",value:s.address,onChange:m}),A.jsx("input",{style:g,type:"date",name:"date_of_birth",placeholder:"Date of Birth",value:s.date_of_birth,onChange:m}),A.jsx("input",{style:g,name:"gender",placeholder:"Gender",value:s.gender,onChange:m}),A.jsx("input",{style:g,name:"phone_number",placeholder:"Phone Number",value:s.phone_number,onChange:m,required:!0}),A.jsx("input",{style:g,name:"emergency_contact_name",placeholder:"Emergency Contact Name",value:s.emergency_contact_name,onChange:m}),A.jsx("input",{style:g,name:"emergency_contact_phone",placeholder:"Emergency Contact Phone",value:s.emergency_contact_phone,onChange:m}),A.jsx("button",{style:v,type:"submit",children:"Register & Continue Booking"})]}),u&&A.jsx("p",{style:{textAlign:"center",marginTop:"0.5rem"},children:u})]})}function GV(){const[r,e]=j.useState(""),[n,s]=j.useState([]),[o,u]=j.useState(null),[h,m]=j.useState(""),[p,g]=j.useState([]),[v,T]=j.useState(""),[w,N]=j.useState(""),[U,G]=j.useState(!1),[P,$]=j.useState(!1),[W,ie]=j.useState(""),ue=["New York City","Boston","New Jersey City","Long Island"];j.useEffect(()=>{if(!r)return;(async()=>{try{const I=Wt(ut,"Doctors"),R=Ar(I,En("location","==",r),En("patients","<",6)),k=(await Gi(R)).docs.map(O=>({id:O.id,...O.data()}));s(k)}catch(I){console.error("Error fetching doctors:",I)}})()},[r]),j.useEffect(()=>{if(!o||!h)return;(async()=>{const I=new Date(h);I.setHours(0,0,0,0);const R=new Date(h);R.setHours(23,59,59,999);const C=Ar(Wt(ut,"Reservations"),En("doctorId","==",o.id),En("appointmentDate",">=",I),En("appointmentDate","<=",R)),O=(await Gi(C)).docs.map(Ke=>new Date(Ke.data().appointmentDate).getHours()),D=Array.from({length:9},(Ke,yt)=>yt+9).filter(Ke=>!O.includes(Ke));g(D),T("")})()},[o,h]);const ye=async()=>{if(!o||!h||v===""||!w){alert("Please select doctor, date, time, and enter your email.");return}const se=new Date(h);se.setHours(v,0,0,0);try{await Bo(Wt(ut,"Reservations"),{doctorId:o.id,appointmentDate:se,email:w,uid:W,status:"pending",createdAt:Dg()}),alert(`Appointment requested with Dr. ${o.first_name} ${o.last_name} at ${v}:00. Please check your email to confirm.`),u(null),m(""),T(""),N(""),g([]),$(!1),G(!1)}catch(I){console.error("Error booking appointment:",I),alert("Failed to book appointment.")}};return A.jsxs("div",{className:"find-doctor-container",children:[A.jsx("h1",{children:"Find a Doctor in Your Area"}),A.jsxs("select",{value:r,onChange:se=>e(se.target.value),children:[A.jsx("option",{value:"",children:"Select Location"}),ue.map(se=>A.jsx("option",{value:se,children:se},se))]}),A.jsxs("div",{className:"doctor-list",children:[n.length===0&&r&&A.jsx("p",{children:"No available doctors in this area."}),n.map(se=>A.jsxs("div",{className:"doctor-card",children:[A.jsxs("h3",{children:[se.first_name," ",se.last_name]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Location:"})," ",se.location]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Specialty:"})," ",se.specialty||"General"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Phone:"})," ",se.phone_number]}),A.jsx("button",{onClick:()=>{u(se),G(!0),$(!1)},children:"Book Now"})]},se.id))]}),o&&U&&!P&&A.jsx(HV,{selectedDoctor:o,onRegistrationComplete:()=>$(!0),onUidReady:se=>ie(se)}),o&&P&&A.jsxs("div",{className:"booking-section",children:[A.jsxs("h2",{children:["Book an Appointment with Dr. ",o.first_name," ",o.last_name]}),A.jsxs("label",{children:["Your Email:",A.jsx("input",{type:"email",value:w,onChange:se=>N(se.target.value),placeholder:"you@example.com"})]}),A.jsxs("label",{children:["Date:",A.jsx("input",{type:"date",value:h,onChange:se=>m(se.target.value)})]}),p.length>0&&A.jsxs("label",{children:["Time:",A.jsxs("select",{value:v,onChange:se=>T(parseInt(se.target.value)),children:[A.jsx("option",{value:"",children:"Select Time"}),p.map(se=>A.jsxs("option",{value:se,children:[se,":00"]},se))]})]}),A.jsx("button",{onClick:ye,children:"Request Appointment"})]})]})}function KV(){return A.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f0f4ff",fontFamily:"sans-serif",padding:"2rem"},children:A.jsx("div",{style:{width:"100%",maxWidth:"500px"},children:A.jsx(gV,{})})})}function QV(){return A.jsxs(lR,{children:[A.jsx(oa,{path:"/",element:A.jsx(FV,{})}),A.jsx(oa,{path:"/login",element:A.jsx(vV,{})}),A.jsx(oa,{path:"/FindDoctor",element:A.jsx(GV,{})}),A.jsx(oa,{path:"/patient",element:A.jsx(kV,{})}),A.jsx(oa,{path:"/doctor",element:A.jsx(qV,{})}),A.jsx(oa,{path:"/doctor-signup",element:A.jsx(KV,{})})]})}_1.createRoot(document.getElementById("root")).render(A.jsx(NR,{basename:"/~mballard7/medical-records-swe/medical-records-deploy",children:A.jsx(QV,{})}));
