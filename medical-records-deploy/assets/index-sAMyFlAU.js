(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Gw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nm={exports:{}},Gl={};var nE;function Kw(){if(nE)return Gl;nE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=e,Gl.jsx=n,Gl.jsxs=n,Gl}var iE;function Qw(){return iE||(iE=1,Nm.exports=Kw()),Nm.exports}var N=Qw(),Om={exports:{}},be={};var rE;function Yw(){if(rE)return be;rE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),A=Symbol.iterator;function P(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,O={};function $(V,ee,ae){this.props=V,this.context=ee,this.refs=O,this.updater=ae||F}$.prototype.isReactComponent={},$.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},$.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function te(){}te.prototype=$.prototype;function ie(V,ee,ae){this.props=V,this.context=ee,this.refs=O,this.updater=ae||F}var ue=ie.prototype=new te;ue.constructor=ie,Q(ue,$.prototype),ue.isPureReactComponent=!0;var ye=Array.isArray;function Ee(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(V,ee,ae){var ce=ae.ref;return{$$typeof:r,type:V,key:ee,ref:ce!==void 0?ce:null,props:ae}}function k(V,ee){return R(V.type,ee,V.props)}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return ee[ae]})}var I=/\/+/g;function st(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):ee.toString(36)}function Mt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ee,Ee):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,ee,ae,ce,Te){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=V._init,X(Ue(V._payload),ee,ae,ce,Te)}}if(Ue)return Te=Te(V),Ue=ce===""?"."+st(V,0):ce,ye(Te)?(ae="",Ue!=null&&(ae=Ue.replace(I,"$&/")+"/"),X(Te,ee,ae,"",function(ws){return ws})):Te!=null&&(x(Te)&&(Te=k(Te,ae+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+Ue)),ee.push(Te)),1;Ue=0;var Vt=ce===""?".":ce+":";if(ye(V))for(var at=0;at<V.length;at++)ce=V[at],Ce=Vt+st(ce,at),Ue+=X(ce,ee,ae,Ce,Te);else if(at=P(V),typeof at=="function")for(V=at.call(V),at=0;!(ce=V.next()).done;)ce=ce.value,Ce=Vt+st(ce,at++),Ue+=X(ce,ee,ae,Ce,Te);else if(Ce==="object"){if(typeof V.then=="function")return X(Mt(V),ee,ae,ce,Te);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(V,ee,ae){if(V==null)return V;var ce=[],Te=0;return X(V,ce,"","",function(Ce){return ee.call(ae,Ce,Te++)}),ce}function pe(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var ze=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:se,forEach:function(V,ee,ae){se(V,function(){ee.apply(this,arguments)},ae)},count:function(V){var ee=0;return se(V,function(){ee++}),ee},toArray:function(V){return se(V,function(ee){return ee})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return be.Activity=S,be.Children=Ge,be.Component=$,be.Fragment=n,be.Profiler=o,be.PureComponent=ie,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,be.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},be.cache=function(V){return function(){return V.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(V,ee,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=Q({},V.props),Te=V.key;if(ee!=null)for(Ce in ee.key!==void 0&&(Te=""+ee.key),ee)!w.call(ee,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ee.ref===void 0||(ce[Ce]=ee[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=ae;else if(1<Ce){for(var Ue=Array(Ce),Vt=0;Vt<Ce;Vt++)Ue[Vt]=arguments[Vt+2];ce.children=Ue}return R(V.type,Te,ce)},be.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},be.createElement=function(V,ee,ae){var ce,Te={},Ce=null;if(ee!=null)for(ce in ee.key!==void 0&&(Ce=""+ee.key),ee)w.call(ee,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=ee[ce]);var Ue=arguments.length-2;if(Ue===1)Te.children=ae;else if(1<Ue){for(var Vt=Array(Ue),at=0;at<Ue;at++)Vt[at]=arguments[at+2];Te.children=Vt}if(V&&V.defaultProps)for(ce in Ue=V.defaultProps,Ue)Te[ce]===void 0&&(Te[ce]=Ue[ce]);return R(V,Ce,Te)},be.createRef=function(){return{current:null}},be.forwardRef=function(V){return{$$typeof:m,render:V}},be.isValidElement=x,be.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:pe}},be.memo=function(V,ee){return{$$typeof:g,type:V,compare:ee===void 0?null:ee}},be.startTransition=function(V){var ee=C.T,ae={};C.T=ae;try{var ce=V(),Te=C.S;Te!==null&&Te(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ee,ze)}catch(Ce){ze(Ce)}finally{ee!==null&&ae.types!==null&&(ee.types=ae.types),C.T=ee}},be.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},be.use=function(V){return C.H.use(V)},be.useActionState=function(V,ee,ae){return C.H.useActionState(V,ee,ae)},be.useCallback=function(V,ee){return C.H.useCallback(V,ee)},be.useContext=function(V){return C.H.useContext(V)},be.useDebugValue=function(){},be.useDeferredValue=function(V,ee){return C.H.useDeferredValue(V,ee)},be.useEffect=function(V,ee){return C.H.useEffect(V,ee)},be.useEffectEvent=function(V){return C.H.useEffectEvent(V)},be.useId=function(){return C.H.useId()},be.useImperativeHandle=function(V,ee,ae){return C.H.useImperativeHandle(V,ee,ae)},be.useInsertionEffect=function(V,ee){return C.H.useInsertionEffect(V,ee)},be.useLayoutEffect=function(V,ee){return C.H.useLayoutEffect(V,ee)},be.useMemo=function(V,ee){return C.H.useMemo(V,ee)},be.useOptimistic=function(V,ee){return C.H.useOptimistic(V,ee)},be.useReducer=function(V,ee,ae){return C.H.useReducer(V,ee,ae)},be.useRef=function(V){return C.H.useRef(V)},be.useState=function(V){return C.H.useState(V)},be.useSyncExternalStore=function(V,ee,ae){return C.H.useSyncExternalStore(V,ee,ae)},be.useTransition=function(){return C.H.useTransition()},be.version="19.2.0",be}var sE;function Np(){return sE||(sE=1,Om.exports=Yw()),Om.exports}var H=Np(),xm={exports:{}},Kl={},Mm={exports:{}},Vm={};var aE;function Xw(){return aE||(aE=1,(function(r){function e(X,se){var pe=X.length;X.push(se);e:for(;0<pe;){var ze=pe-1>>>1,Ge=X[ze];if(0<o(Ge,se))X[ze]=se,X[pe]=Ge,pe=ze;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var se=X[0],pe=X.pop();if(pe!==se){X[0]=pe;e:for(var ze=0,Ge=X.length,V=Ge>>>1;ze<V;){var ee=2*(ze+1)-1,ae=X[ee],ce=ee+1,Te=X[ce];if(0>o(ae,pe))ce<Ge&&0>o(Te,ae)?(X[ze]=Te,X[ce]=pe,ze=ce):(X[ze]=ae,X[ee]=pe,ze=ee);else if(ce<Ge&&0>o(Te,pe))X[ze]=Te,X[ce]=pe,ze=ce;else break e}}return se}function o(X,se){var pe=X.sortIndex-se.sortIndex;return pe!==0?pe:X.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,S=null,A=3,P=!1,F=!1,Q=!1,O=!1,$=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ue(X){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=X)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function ye(X){if(Q=!1,ue(X),!F)if(n(p)!==null)F=!0,Ee||(Ee=!0,L());else{var se=n(g);se!==null&&Mt(ye,se.startTime-X)}}var Ee=!1,C=-1,w=5,R=-1;function k(){return O?!0:!(r.unstable_now()-R<w)}function x(){if(O=!1,Ee){var X=r.unstable_now();R=X;var se=!0;try{e:{F=!1,Q&&(Q=!1,te(C),C=-1),P=!0;var pe=A;try{t:{for(ue(X),S=n(p);S!==null&&!(S.expirationTime>X&&k());){var ze=S.callback;if(typeof ze=="function"){S.callback=null,A=S.priorityLevel;var Ge=ze(S.expirationTime<=X);if(X=r.unstable_now(),typeof Ge=="function"){S.callback=Ge,ue(X),se=!0;break t}S===n(p)&&s(p),ue(X)}else s(p);S=n(p)}if(S!==null)se=!0;else{var V=n(g);V!==null&&Mt(ye,V.startTime-X),se=!1}}break e}finally{S=null,A=pe,P=!1}se=void 0}}finally{se?L():Ee=!1}}}var L;if(typeof ie=="function")L=function(){ie(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,st=I.port2;I.port1.onmessage=x,L=function(){st.postMessage(null)}}else L=function(){$(x,0)};function Mt(X,se){C=$(function(){X(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(X){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var pe=A;A=se;try{return X()}finally{A=pe}},r.unstable_requestPaint=function(){O=!0},r.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=A;A=X;try{return se()}finally{A=pe}},r.unstable_scheduleCallback=function(X,se,pe){var ze=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,X){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,X={id:E++,callback:se,priorityLevel:X,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>ze?(X.sortIndex=pe,e(g,X),n(p)===null&&X===n(g)&&(Q?(te(C),C=-1):Q=!0,Mt(ye,pe-ze))):(X.sortIndex=Ge,e(p,X),F||P||(F=!0,Ee||(Ee=!0,L()))),X},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(X){var se=A;return function(){var pe=A;A=se;try{return X.apply(this,arguments)}finally{A=pe}}}})(Vm)),Vm}var oE;function $w(){return oE||(oE=1,Mm.exports=Xw()),Mm.exports}var km={exports:{}},Wt={};var lE;function Ww(){if(lE)return Wt;lE=1;var r=Np();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Wt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:A,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.2.0",Wt}var uE;function Jw(){if(uE)return km.exports;uE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),km.exports=Ww(),km.exports}var cE;function Zw(){if(cE)return Kl;cE=1;var r=$w(),e=Np(),n=Jw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,l=d;break}if(T===l){_=!0,l=f,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=f;break}if(T===l){_=!0,l=d,a=f;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,A=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case $:return"Profiler";case O:return"StrictMode";case ye:return"Suspense";case Ee:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ie:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:st(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return st(t(i))}catch{}}return null}var Mt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],Ge=-1;function V(t){return{current:t}}function ee(t){0>Ge||(t.current=ze[Ge],ze[Ge]=null,Ge--)}function ae(t,i){Ge++,ze[Ge]=t.current,t.current=i}var ce=V(null),Te=V(null),Ce=V(null),Ue=V(null);function Vt(t,i){switch(ae(Ce,i),ae(Te,t),ae(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?wv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=wv(i),t=Rv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ce),ae(ce,t)}function at(){ee(ce),ee(Te),ee(Ce)}function ws(t){t.memoizedState!==null&&ae(Ue,t);var i=ce.current,a=Rv(i,t.type);i!==a&&(ae(Te,t),ae(ce,a))}function Ta(t){Te.current===t&&(ee(ce),ee(Te)),Ue.current===t&&(ee(Ue),Bl._currentValue=pe)}var Sa,ba;function ai(t){if(Sa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Sa=i&&i[1]||"",ba=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sa+t+ba}var Bo=!1;function Rs(t,i){if(!t||Bo)return"";Bo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var q=K}Reflect.construct(t,[],J)}else{try{J.call()}catch(K){q=K}t.call(J.prototype)}}else{try{throw Error()}catch(K){q=K}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),B=T.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===B.length)for(l=D.length-1,f=B.length-1;1<=l&&0<=f&&D[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==B[f]){var Y=`
`+D[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Bo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ai(a):""}function qo(t,i){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==i&&i!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return Rs(t.type,!1);case 11:return Rs(t.type.render,!1);case 1:return Rs(t.type,!0);case 31:return ai("Activity");default:return""}}function Fo(t){try{var i="",a=null;do i+=qo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,kt=r.unstable_scheduleCallback,wr=r.unstable_cancelCallback,xf=r.unstable_shouldYield,zu=r.unstable_requestPaint,nn=r.unstable_now,Cs=r.unstable_getCurrentPriorityLevel,Ho=r.unstable_ImmediatePriority,Go=r.unstable_UserBlockingPriority,Rr=r.unstable_NormalPriority,Mf=r.unstable_LowPriority,ju=r.unstable_IdlePriority,Bu=r.log,qu=r.unstable_setDisableYieldValue,Hn=null,qt=null;function Nn(t){if(typeof Bu=="function"&&qu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Hn,t)}catch{}}var pt=Math.clz32?Math.clz32:Hu,Fu=Math.log,Aa=Math.LN2;function Hu(t){return t>>>=0,t===0?32:31-(Fu(t)/Aa|0)|0}var oi=256,Is=262144,St=4194304;function li(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ui(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=li(l):(_&=T,_!==0?f=li(_):a||(a=T&~t,a!==0&&(f=li(a))))):(T=l&~d,T!==0?f=li(T):_!==0?f=li(_):a||(a=l&~t,a!==0&&(f=li(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Vf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gu(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function ci(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ds(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-pt(a),J=1<<Y;T[Y]=0,D[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var K=q[Y];K!==null&&(K.lane&=-536870913)}a&=~J}l!==0&&Ns(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ns(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Qo(t,i){var a=i&-i;return a=(a&42)!==0?1:Os(a),(a&(t.suspendedLanes|i))!==0?0:a}function Os(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ku(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Xv(t.type))}function Kn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Qn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Qn,Lt="__reactProps$"+Qn,hi="__reactContainer$"+Qn,wa="__reactEvents$"+Qn,Pf="__reactListeners$"+Qn,Qu="__reactHandles$"+Qn,Yu="__reactResources$"+Qn,fi="__reactMarker$"+Qn;function Ra(t){delete t[bt],delete t[Lt],delete t[wa],delete t[Pf],delete t[Qu]}function di(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[hi]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Mv(t);t!==null;){if(a=t[bt])return a;t=Mv(t)}return i}t=a,a=t.parentNode}return null}function On(t){if(t=t[bt]||t[hi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function yn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function mi(t){var i=t[Yu];return i||(i=t[Yu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[fi]=!0}var Yo=new Set,Xo={};function pi(t,i){gi(t,i),gi(t+"Capture",i)}function gi(t,i){for(Xo[t]=i,t=0;t<i.length;t++)Yo.add(i[t])}var $o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wo={},Jo={};function Xu(t){return Tt.call(Jo,t)?!0:Tt.call(Wo,t)?!1:$o.test(t)?Jo[t]=!0:(Wo[t]=!0,!1)}function Ca(t,i,a){if(Xu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function _n(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=Cr(t)?"checked":"value";t._valueTracker=Zo(t,i,""+t[i])}}function xs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Cr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ms=/[\n"\\]/g;function on(t){return t.replace(Ms,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ia(t,i,a,l,f,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?el(t,_,zt(i)):a!=null?el(t,_,zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+zt(T):t.removeAttribute("name")}function $u(t,i,a,l,f,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function el(t,i,a){i==="number"&&yi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ir(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Wu(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function Dr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ju.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function nl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&tl(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&tl(t,d,i[d])}function Da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Nr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var il=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Or=null,_i=null;function Vs(t){var i=On(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ia(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(s(90));Ia(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&xs(l)}break e;case"textarea":Wu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ir(t,!!a.multiple,i,!1)}}}var Oa=!1;function xr(t,i,a){if(Oa)return t(i,a);Oa=!0;try{var l=t(i);return l}finally{if(Oa=!1,(Or!==null||_i!==null)&&(Kc(),Or&&(i=Or,t=_i,_i=Or=null,Vs(i),t)))for(i=0;i<t.length;i++)Vs(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=!1;if(Mn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){ks=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{ks=!1}var vi=null,rl=null,Ps=null;function sl(){if(Ps)return Ps;var t,i=rl,a=i.length,l,f="value"in vi?vi.value:vi.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Ps=f.slice(t,1<l?1-l:void 0)}function Us(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function $n(){return!1}function Ft(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:$n,this.isPropagationStopped=$n,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),i}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Ft(Ki),Mr=S({},Ki,{view:0,detail:0}),al=Ft(Mr),Vr,xa,Ti,Ma=S({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(Vr=t.screenX-Ti.screenX,xa=t.screenY-Ti.screenY):xa=Vr=0,Ti=t),Vr)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),ol=Ft(Ma),Ls=S({},Ma,{dataTransfer:0}),ec=Ft(Ls),tc=S({},Mr,{relatedTarget:0}),zs=Ft(tc),ll=S({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),nc=Ft(ll),Va=S({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ic=Ft(Va),rc=S({},Ki,{data:0}),Si=Ft(rc),sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=oc[t])?!!i[t]:!1}function kr(){return lc}var rn=S({},Mr,{key:function(t){if(t.key){var i=sc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ac[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(t){return t.type==="keypress"?Us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uc=Ft(rn),cc=S({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Ft(cc),c=S({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),y=Ft(c),v=S({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ft(v),z=S({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ft(z),re=S({},Ki,{newState:0,oldState:0}),we=Ft(re),gt=[9,13,27,32],qe=Mn&&"CompositionEvent"in window,ot=null;Mn&&"documentMode"in document&&(ot=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!ot,bi=Mn&&(!qe||ot&&8<ot&&11>=ot),Wn=" ",Jn=!1;function js(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function pA(t,i){switch(t){case"compositionend":return ka(i);case"keypress":return i.which!==32?null:(Jn=!0,Wn);case"textInput":return t=i.data,t===Wn&&Jn?null:t;default:return null}}function gA(t,i){if(Pa)return t==="compositionend"||!qe&&js(t,i)?(t=sl(),Ps=rl=vi=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var yA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!yA[t.type]:i==="textarea"}function Ug(t,i,a,l){Or?_i?_i.push(l):_i=[l]:Or=l,i=Zc(i,"onChange"),0<i.length&&(a=new Ei("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ul=null,cl=null;function _A(t){vv(t,0)}function hc(t){var i=yn(t);if(xs(i))return t}function Lg(t,i){if(t==="change")return i}var zg=!1;if(Mn){var Uf;if(Mn){var Lf="oninput"in document;if(!Lf){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),Lf=typeof jg.oninput=="function"}Uf=Lf}else Uf=!1;zg=Uf&&(!document.documentMode||9<document.documentMode)}function Bg(){ul&&(ul.detachEvent("onpropertychange",qg),cl=ul=null)}function qg(t){if(t.propertyName==="value"&&hc(cl)){var i=[];Ug(i,cl,t,xn(t)),xr(_A,i)}}function vA(t,i,a){t==="focusin"?(Bg(),ul=i,cl=a,ul.attachEvent("onpropertychange",qg)):t==="focusout"&&Bg()}function EA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hc(cl)}function TA(t,i){if(t==="click")return hc(i)}function SA(t,i){if(t==="input"||t==="change")return hc(i)}function bA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var vn=typeof Object.is=="function"?Object.is:bA;function hl(t,i){if(vn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Tt.call(i,f)||!vn(t[f],i[f]))return!1}return!0}function Fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hg(t,i){var a=Fg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fg(a)}}function Gg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Gg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=yi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=yi(t.document)}return i}function zf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var AA=Mn&&"documentMode"in document&&11>=document.documentMode,Ua=null,jf=null,fl=null,Bf=!1;function Qg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bf||Ua==null||Ua!==yi(l)||(l=Ua,"selectionStart"in l&&zf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Zc(jf,"onSelect"),0<l.length&&(i=new Ei("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ua)))}function Bs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var La={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},qf={},Yg={};Mn&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function qs(t){if(qf[t])return qf[t];if(!La[t])return t;var i=La[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Yg)return qf[t]=i[a];return t}var Xg=qs("animationend"),$g=qs("animationiteration"),Wg=qs("animationstart"),wA=qs("transitionrun"),RA=qs("transitionstart"),CA=qs("transitioncancel"),Jg=qs("transitionend"),Zg=new Map,Ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ff.push("scrollEnd");function Zn(t,i){Zg.set(t,i),pi(i,[t])}var fc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},kn=[],za=0,Hf=0;function dc(){for(var t=za,i=Hf=za=0;i<t;){var a=kn[i];kn[i++]=null;var l=kn[i];kn[i++]=null;var f=kn[i];kn[i++]=null;var d=kn[i];if(kn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&ey(a,f,d)}}function mc(t,i,a,l){kn[za++]=t,kn[za++]=i,kn[za++]=a,kn[za++]=l,Hf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gf(t,i,a,l){return mc(t,i,a,l),pc(t)}function Fs(t,i){return mc(t,null,null,i),pc(t)}function ey(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-pt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function pc(t){if(50<Vl)throw Vl=0,em=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ja={};function IA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,i,a,l){return new IA(t,i,a,l)}function Kf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,i){var a=t.alternate;return a===null?(a=En(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ty(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function gc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Kf(t)&&(_=1);else if(typeof t=="string")_=Mw(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=En(31,a,i,f),t.elementType=R,t.lanes=d,t;case Q:return Hs(a.children,f,d,i);case O:_=8,f|=24;break;case $:return t=En(12,a,i,f|2),t.elementType=$,t.lanes=d,t;case ye:return t=En(13,a,i,f),t.elementType=ye,t.lanes=d,t;case Ee:return t=En(19,a,i,f),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case te:_=9;break e;case ue:_=11;break e;case C:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=En(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Hs(t,i,a,l){return t=En(7,t,l,i),t.lanes=a,t}function Qf(t,i,a){return t=En(6,t,null,i),t.lanes=a,t}function ny(t){var i=En(18,null,null,0);return i.stateNode=t,i}function Yf(t,i,a){return i=En(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var iy=new WeakMap;function Pn(t,i){if(typeof t=="object"&&t!==null){var a=iy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Fo(i)},iy.set(t,i),i)}return{value:t,source:i,stack:Fo(i)}}var Ba=[],qa=0,yc=null,dl=0,Un=[],Ln=0,Pr=null,Ai=1,wi="";function Xi(t,i){Ba[qa++]=dl,Ba[qa++]=yc,yc=t,dl=i}function ry(t,i,a){Un[Ln++]=Ai,Un[Ln++]=wi,Un[Ln++]=Pr,Pr=t;var l=Ai;t=wi;var f=32-pt(l)-1;l&=~(1<<f),a+=1;var d=32-pt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ai=1<<32-pt(i)+f|a<<f|l,wi=d+t}else Ai=1<<d|a<<f|l,wi=t}function Xf(t){t.return!==null&&(Xi(t,1),ry(t,1,0))}function $f(t){for(;t===yc;)yc=Ba[--qa],Ba[qa]=null,dl=Ba[--qa],Ba[qa]=null;for(;t===Pr;)Pr=Un[--Ln],Un[Ln]=null,wi=Un[--Ln],Un[Ln]=null,Ai=Un[--Ln],Un[Ln]=null}function sy(t,i){Un[Ln++]=Ai,Un[Ln++]=wi,Un[Ln++]=Pr,Ai=i.id,wi=i.overflow,Pr=t}var Ht=null,nt=null,Pe=!1,Ur=null,zn=!1,Wf=Error(s(519));function Lr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(Pn(i,t)),Wf}function ay(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[Lt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Pl.length;a++)Ne(Pl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),$u(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Dr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||bv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Lr(t,!0)}function oy(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ht=Ht.return}}function Fa(t){if(t!==Ht)return!1;if(!Pe)return oy(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||pm(t.type,t.memoizedProps)),a=!a),a&&nt&&Lr(t),oy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=xv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=xv(t)}else i===27?(i=nt,Jr(t.type)?(t=Em,Em=null,nt=t):nt=i):nt=Ht?Bn(t.stateNode.nextSibling):null;return!0}function Gs(){nt=Ht=null,Pe=!1}function Jf(){var t=Ur;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Ur=null),t}function ml(t){Ur===null?Ur=[t]:Ur.push(t)}var Zf=V(null),Ks=null,$i=null;function zr(t,i,a){ae(Zf,i._currentValue),i._currentValue=a}function Wi(t){t._currentValue=Zf.current,ee(Zf)}function ed(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function td(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),ed(d.return,a,t),l||(_=null);break e}d=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),ed(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ha(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=f.type;vn(f.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}f=f.return}t!==null&&td(i,t,a,l),i.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qs(t){Ks=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return ly(Ks,t)}function vc(t,i){return Ks===null&&Qs(t),ly(t,i)}function ly(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(t===null)throw Error(s(308));$i=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else $i=$i.next=i;return a}var DA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},NA=r.unstable_scheduleCallback,OA=r.unstable_NormalPriority,Rt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nd(){return{controller:new DA,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&NA(OA,function(){t.controller.abort()})}var gl=null,id=0,Ga=0,Ka=null;function xA(t,i){if(gl===null){var a=gl=[];id=0,Ga=am(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return id++,i.then(uy,uy),i}function uy(){if(--id===0&&gl!==null){Ka!==null&&(Ka.status="fulfilled");var t=gl;gl=null,Ga=0,Ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function MA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var cy=X.S;X.S=function(t,i){Q_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&xA(t,i),cy!==null&&cy(t,i)};var Ys=V(null);function rd(){var t=Ys.current;return t!==null?t:et.pooledCache}function Ec(t,i){i===null?ae(Ys,Ys.current):ae(Ys,i.pool)}function hy(){var t=rd();return t===null?null:{parent:Rt._currentValue,pool:t}}var Qa=Error(s(460)),sd=Error(s(474)),Tc=Error(s(542)),Sc={then:function(){}};function fy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,py(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,py(t),t}throw $s=i,Qa}}function Xs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($s=a,Qa):a}}var $s=null;function my(){if($s===null)throw Error(s(459));var t=$s;return $s=null,t}function py(t){if(t===Qa||t===Tc)throw Error(s(483))}var Ya=null,yl=0;function bc(t){var i=yl;return yl+=1,Ya===null&&(Ya=[]),dy(Ya,t,i)}function _l(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ac(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function gy(t){function i(U,M){if(t){var j=U.deletions;j===null?(U.deletions=[M],U.flags|=16):j.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function f(U,M){return U=Yi(U,M),U.index=0,U.sibling=null,U}function d(U,M,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<M?(U.flags|=67108866,M):j):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,j,W){return M===null||M.tag!==6?(M=Qf(j,U.mode,W),M.return=U,M):(M=f(M,j),M.return=U,M)}function D(U,M,j,W){var de=j.type;return de===Q?Y(U,M,j.props.children,W,j.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Xs(de)===M.type)?(M=f(M,j.props),_l(M,j),M.return=U,M):(M=gc(j.type,j.key,j.props,null,U.mode,W),_l(M,j),M.return=U,M)}function B(U,M,j,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=Yf(j,U.mode,W),M.return=U,M):(M=f(M,j.children||[]),M.return=U,M)}function Y(U,M,j,W,de){return M===null||M.tag!==7?(M=Hs(j,U.mode,W,de),M.return=U,M):(M=f(M,j),M.return=U,M)}function J(U,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Qf(""+M,U.mode,j),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case P:return j=gc(M.type,M.key,M.props,null,U.mode,j),_l(j,M),j.return=U,j;case F:return M=Yf(M,U.mode,j),M.return=U,M;case w:return M=Xs(M),J(U,M,j)}if(Mt(M)||L(M))return M=Hs(M,U.mode,j,null),M.return=U,M;if(typeof M.then=="function")return J(U,bc(M),j);if(M.$$typeof===ie)return J(U,vc(U,M),j);Ac(U,M)}return null}function q(U,M,j,W){var de=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:T(U,M,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case P:return j.key===de?D(U,M,j,W):null;case F:return j.key===de?B(U,M,j,W):null;case w:return j=Xs(j),q(U,M,j,W)}if(Mt(j)||L(j))return de!==null?null:Y(U,M,j,W,null);if(typeof j.then=="function")return q(U,M,bc(j),W);if(j.$$typeof===ie)return q(U,M,vc(U,j),W);Ac(U,j)}return null}function K(U,M,j,W,de){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(j)||null,T(M,U,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case P:return U=U.get(W.key===null?j:W.key)||null,D(M,U,W,de);case F:return U=U.get(W.key===null?j:W.key)||null,B(M,U,W,de);case w:return W=Xs(W),K(U,M,j,W,de)}if(Mt(W)||L(W))return U=U.get(j)||null,Y(M,U,W,de,null);if(typeof W.then=="function")return K(U,M,j,bc(W),de);if(W.$$typeof===ie)return K(U,M,j,vc(M,W),de);Ac(M,W)}return null}function he(U,M,j,W){for(var de=null,je=null,fe=M,Ie=M=0,xe=null;fe!==null&&Ie<j.length;Ie++){fe.index>Ie?(xe=fe,fe=null):xe=fe.sibling;var Be=q(U,fe,j[Ie],W);if(Be===null){fe===null&&(fe=xe);break}t&&fe&&Be.alternate===null&&i(U,fe),M=d(Be,M,Ie),je===null?de=Be:je.sibling=Be,je=Be,fe=xe}if(Ie===j.length)return a(U,fe),Pe&&Xi(U,Ie),de;if(fe===null){for(;Ie<j.length;Ie++)fe=J(U,j[Ie],W),fe!==null&&(M=d(fe,M,Ie),je===null?de=fe:je.sibling=fe,je=fe);return Pe&&Xi(U,Ie),de}for(fe=l(fe);Ie<j.length;Ie++)xe=K(fe,U,Ie,j[Ie],W),xe!==null&&(t&&xe.alternate!==null&&fe.delete(xe.key===null?Ie:xe.key),M=d(xe,M,Ie),je===null?de=xe:je.sibling=xe,je=xe);return t&&fe.forEach(function(is){return i(U,is)}),Pe&&Xi(U,Ie),de}function ge(U,M,j,W){if(j==null)throw Error(s(151));for(var de=null,je=null,fe=M,Ie=M=0,xe=null,Be=j.next();fe!==null&&!Be.done;Ie++,Be=j.next()){fe.index>Ie?(xe=fe,fe=null):xe=fe.sibling;var is=q(U,fe,Be.value,W);if(is===null){fe===null&&(fe=xe);break}t&&fe&&is.alternate===null&&i(U,fe),M=d(is,M,Ie),je===null?de=is:je.sibling=is,je=is,fe=xe}if(Be.done)return a(U,fe),Pe&&Xi(U,Ie),de;if(fe===null){for(;!Be.done;Ie++,Be=j.next())Be=J(U,Be.value,W),Be!==null&&(M=d(Be,M,Ie),je===null?de=Be:je.sibling=Be,je=Be);return Pe&&Xi(U,Ie),de}for(fe=l(fe);!Be.done;Ie++,Be=j.next())Be=K(fe,U,Ie,Be.value,W),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Ie:Be.key),M=d(Be,M,Ie),je===null?de=Be:je.sibling=Be,je=Be);return t&&fe.forEach(function(Hw){return i(U,Hw)}),Pe&&Xi(U,Ie),de}function Ze(U,M,j,W){if(typeof j=="object"&&j!==null&&j.type===Q&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case P:e:{for(var de=j.key;M!==null;){if(M.key===de){if(de=j.type,de===Q){if(M.tag===7){a(U,M.sibling),W=f(M,j.props.children),W.return=U,U=W;break e}}else if(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Xs(de)===M.type){a(U,M.sibling),W=f(M,j.props),_l(W,j),W.return=U,U=W;break e}a(U,M);break}else i(U,M);M=M.sibling}j.type===Q?(W=Hs(j.props.children,U.mode,W,j.key),W.return=U,U=W):(W=gc(j.type,j.key,j.props,null,U.mode,W),_l(W,j),W.return=U,U=W)}return _(U);case F:e:{for(de=j.key;M!==null;){if(M.key===de)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(U,M.sibling),W=f(M,j.children||[]),W.return=U,U=W;break e}else{a(U,M);break}else i(U,M);M=M.sibling}W=Yf(j,U.mode,W),W.return=U,U=W}return _(U);case w:return j=Xs(j),Ze(U,M,j,W)}if(Mt(j))return he(U,M,j,W);if(L(j)){if(de=L(j),typeof de!="function")throw Error(s(150));return j=de.call(j),ge(U,M,j,W)}if(typeof j.then=="function")return Ze(U,M,bc(j),W);if(j.$$typeof===ie)return Ze(U,M,vc(U,j),W);Ac(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(U,M.sibling),W=f(M,j),W.return=U,U=W):(a(U,M),W=Qf(j,U.mode,W),W.return=U,U=W),_(U)):a(U,M)}return function(U,M,j,W){try{yl=0;var de=Ze(U,M,j,W);return Ya=null,de}catch(fe){if(fe===Qa||fe===Tc)throw fe;var je=En(29,fe,null,U.mode);return je.lanes=W,je.return=U,je}finally{}}}var Ws=gy(!0),yy=gy(!1),jr=!1;function ad(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function od(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=pc(t),ey(t,null,a),i}return mc(t,l,i,a),pc(t)}function vl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ko(t,a)}}function ld(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var ud=!1;function El(){if(ud){var t=Ka;if(t!==null)throw t}}function Tl(t,i,a,l){ud=!1;var f=t.updateQueue;jr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,B=D.next;D.next=null,_===null?d=B:_.next=B,_=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=D))}if(d!==null){var J=f.baseState;_=0,Y=B=D=null,T=d;do{var q=T.lane&-536870913,K=q!==T.lane;if(K?(Oe&q)===q:(l&q)===q){q!==0&&q===Ga&&(ud=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,ge=T;q=i;var Ze=a;switch(ge.tag){case 1:if(he=ge.payload,typeof he=="function"){J=he.call(Ze,J,q);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ge.payload,q=typeof he=="function"?he.call(Ze,J,q):he,q==null)break e;J=S({},J,q);break e;case 2:jr=!0}}q=T.callback,q!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[q]:K.push(q))}else K={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=K,D=J):Y=Y.next=K,_|=q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;K=T,T=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Y===null&&(D=J),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),Qr|=_,t.lanes=_,t.memoizedState=J}}function _y(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function vy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)_y(a[t],i)}var Xa=V(null),wc=V(0);function Ey(t,i){t=ar,ae(wc,t),ae(Xa,i),ar=t|i.baseLanes}function cd(){ae(wc,ar),ae(Xa,Xa.current)}function hd(){ar=wc.current,ee(Xa),ee(wc)}var Tn=V(null),jn=null;function Fr(t){var i=t.alternate;ae(yt,yt.current&1),ae(Tn,t),jn===null&&(i===null||Xa.current!==null||i.memoizedState!==null)&&(jn=t)}function fd(t){ae(yt,yt.current),ae(Tn,t),jn===null&&(jn=t)}function Ty(t){t.tag===22?(ae(yt,yt.current),ae(Tn,t),jn===null&&(jn=t)):Hr()}function Hr(){ae(yt,yt.current),ae(Tn,Tn.current)}function Sn(t){ee(Tn),jn===t&&(jn=null),ee(yt)}var yt=V(0);function Rc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_m(a)||vm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ji=0,Re=null,We=null,Ct=null,Cc=!1,$a=!1,Js=!1,Ic=0,Sl=0,Wa=null,VA=0;function dt(){throw Error(s(321))}function dd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!vn(t[a],i[a]))return!1;return!0}function md(t,i,a,l,f,d){return Ji=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?r_:Dd,Js=!1,d=a(l,f),Js=!1,$a&&(d=by(i,a,l,f)),Sy(t),d}function Sy(t){X.H=wl;var i=We!==null&&We.next!==null;if(Ji=0,Ct=We=Re=null,Cc=!1,Sl=0,Wa=null,i)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&_c(t)&&(It=!0))}function by(t,i,a,l){Re=t;var f=0;do{if($a&&(Wa=null),Sl=0,$a=!1,25<=f)throw Error(s(301));if(f+=1,Ct=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=s_,d=i(a,l)}while($a);return d}function kA(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?bl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Re.flags|=1024),i}function pd(){var t=Ic!==0;return Ic=0,t}function gd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function yd(t){if(Cc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Cc=!1}Ji=0,Ct=We=Re=null,$a=!1,Sl=Ic=0,Wa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function _t(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=Ct===null?Re.memoizedState:Ct.next;if(i!==null)Ct=i,We=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var i=Sl;return Sl+=1,Wa===null&&(Wa=[]),t=dy(Wa,t,i),i=Re,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?r_:Dd),t}function Nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===ie)return Gt(t)}throw Error(s(438,String(t)))}function _d(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Dc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function Zi(t,i){return typeof i=="function"?i(t):i}function Oc(t){var i=_t();return vd(i,We,t)}function vd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var T=_=null,D=null,B=i,Y=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Oe&J)===J:(Ji&J)===J){var q=B.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===Ga&&(Y=!0);else if((Ji&q)===q){B=B.next,q===Ga&&(Y=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=J,_=d):D=D.next=J,Re.lanes|=q,Qr|=q;J=B.action,Js&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else q={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=q,_=d):D=D.next=q,Re.lanes|=J,Qr|=J;B=B.next}while(B!==null&&B!==i);if(D===null?_=d:D.next=T,!vn(d,t.memoizedState)&&(It=!0,Y&&(a=Ka,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ed(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);vn(d,i.memoizedState)||(It=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ay(t,i,a){var l=Re,f=_t(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!vn((We||f).memoizedState,a);if(_&&(f.memoizedState=a,It=!0),f=f.queue,bd(Cy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},Ry.bind(null,l,f,a,i),null),et===null)throw Error(s(349));d||(Ji&127)!==0||wy(l,i,a)}return a}function wy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=Dc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ry(t,i,a,l){i.value=a,i.getSnapshot=l,Iy(i)&&Dy(t)}function Cy(t,i,a){return a(function(){Iy(i)&&Dy(t)})}function Iy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!vn(t,a)}catch{return!0}}function Dy(t){var i=Fs(t,2);i!==null&&dn(i,t,2)}function Td(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Js){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},i}function Ny(t,i,a,l){return t.baseState=a,vd(t,We,typeof l=="function"?l:Zi)}function PA(t,i,a,l,f){if(Vc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Oy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Oy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var T=a(f,l),D=X.S;D!==null&&D(_,T),xy(t,i,T)}catch(B){Sd(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),xy(t,i,d)}catch(B){Sd(t,i,B)}}function xy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){My(t,i,l)},function(l){return Sd(t,i,l)}):My(t,i,a)}function My(t,i,a){i.status="fulfilled",i.value=a,Vy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Oy(t,a)))}function Sd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Vy(i),i=i.next;while(i!==l)}t.action=null}function Vy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ky(t,i){return i}function Py(t,i){if(Pe){var a=et.formState;if(a!==null){e:{var l=Re;if(Pe){if(nt){t:{for(var f=nt,d=zn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Bn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){nt=Bn(f.nextSibling),l=f.data==="F!";break e}}Lr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ky,lastRenderedState:i},a.queue=l,a=t_.bind(null,Re,l),l.dispatch=a,l=Td(!1),d=Id.bind(null,Re,!1,l.queue),l=sn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=PA.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Uy(t){var i=_t();return Ly(i,We,t)}function Ly(t,i,a){if(i=vd(t,i,ky)[0],t=Oc(Zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=bl(i)}catch(_){throw _===Qa?Tc:_}else l=i;i=_t();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Ja(9,{destroy:void 0},UA.bind(null,f,a),null)),[l,d,t]}function UA(t,i){t.action=i}function zy(t){var i=_t(),a=We;if(a!==null)return Ly(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ja(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=Dc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function jy(){return _t().memoizedState}function xc(t,i,a,l){var f=sn();Re.flags|=t,f.memoizedState=Ja(1|i,{destroy:void 0},a,l===void 0?null:l)}function Mc(t,i,a,l){var f=_t();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&dd(l,We.memoizedState.deps)?f.memoizedState=Ja(i,d,a,l):(Re.flags|=t,f.memoizedState=Ja(1|i,d,a,l))}function By(t,i){xc(8390656,8,t,i)}function bd(t,i){Mc(2048,8,t,i)}function LA(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=Dc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function qy(t){var i=_t().memoizedState;return LA({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Fy(t,i){return Mc(4,2,t,i)}function Hy(t,i){return Mc(4,4,t,i)}function Gy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ky(t,i,a){a=a!=null?a.concat([t]):null,Mc(4,4,Gy.bind(null,i,t),a)}function Ad(){}function Qy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&dd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Yy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&dd(i,l[1]))return l[0];if(l=t(),Js){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,i],l}function wd(t,i,a){return a===void 0||(Ji&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=X_(),Re.lanes|=t,Qr|=t,a)}function Xy(t,i,a,l){return vn(a,i)?a:Xa.current!==null?(t=wd(t,a,l),vn(t,i)||(It=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(Oe&261930)===0?(It=!0,t.memoizedState=a):(t=X_(),Re.lanes|=t,Qr|=t,i)}function $y(t,i,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=X.T,T={};X.T=T,Id(t,!1,i,a);try{var D=f(),B=X.S;if(B!==null&&B(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=MA(D,l);Al(t,i,Y,wn(t))}else Al(t,i,l,wn(t))}catch(J){Al(t,i,{then:function(){},status:"rejected",reason:J},wn())}finally{se.p=d,_!==null&&T.types!==null&&(_.types=T.types),X.T=_}}function zA(){}function Rd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Wy(t).queue;$y(t,f,i,pe,a===null?zA:function(){return Jy(t),a(l)})}function Wy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Jy(t){var i=Wy(t);i.next===null&&(i=t.alternate.memoizedState),Al(t,i.next.queue,{},wn())}function Cd(){return Gt(Bl)}function Zy(){return _t().memoizedState}function e_(){return _t().memoizedState}function jA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=Br(a);var l=qr(i,t,a);l!==null&&(dn(l,i,a),vl(l,i,a)),i={cache:nd()},t.payload=i;return}i=i.return}}function BA(t,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vc(t)?n_(i,a):(a=Gf(t,i,a,l),a!==null&&(dn(a,t,l),i_(a,i,l)))}function t_(t,i,a){var l=wn();Al(t,i,a,l)}function Al(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vc(t))n_(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(f.hasEagerState=!0,f.eagerState=T,vn(T,_))return mc(t,i,f,0),et===null&&dc(),!1}catch{}finally{}if(a=Gf(t,i,f,l),a!==null)return dn(a,t,l),i_(a,i,l),!0}return!1}function Id(t,i,a,l){if(l={lane:2,revertLane:am(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vc(t)){if(i)throw Error(s(479))}else i=Gf(t,a,l,2),i!==null&&dn(i,t,2)}function Vc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function n_(t,i){$a=Cc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function i_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ko(t,a)}}var wl={readContext:Gt,use:Nc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};wl.useEffectEvent=dt;var r_={readContext:Gt,use:Nc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:By,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,xc(4194308,4,Gy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return xc(4194308,4,t,i)},useInsertionEffect:function(t,i){xc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Js){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var f=a(i);if(Js){Nn(!0);try{a(i)}finally{Nn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=BA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Td(t);var i=t.queue,a=t_.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ad,useDeferredValue:function(t,i){var a=sn();return wd(a,t,i)},useTransition:function(){var t=Td(!1);return t=$y.bind(null,Re,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=sn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Oe&127)!==0||wy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,By(Cy.bind(null,l,d,t),[t]),l.flags|=2048,Ja(9,{destroy:void 0},Ry.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=et.identifierPrefix;if(Pe){var a=wi,l=Ai;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Ic++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=VA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Cd,useFormState:Py,useActionState:Py,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Id.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:_d,useCacheRefresh:function(){return sn().memoizedState=jA.bind(null,Re)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Dd={readContext:Gt,use:Nc,useCallback:Qy,useContext:Gt,useEffect:bd,useImperativeHandle:Ky,useInsertionEffect:Fy,useLayoutEffect:Hy,useMemo:Yy,useReducer:Oc,useRef:jy,useState:function(){return Oc(Zi)},useDebugValue:Ad,useDeferredValue:function(t,i){var a=_t();return Xy(a,We.memoizedState,t,i)},useTransition:function(){var t=Oc(Zi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:Ay,useId:Zy,useHostTransitionStatus:Cd,useFormState:Uy,useActionState:Uy,useOptimistic:function(t,i){var a=_t();return Ny(a,We,t,i)},useMemoCache:_d,useCacheRefresh:e_};Dd.useEffectEvent=qy;var s_={readContext:Gt,use:Nc,useCallback:Qy,useContext:Gt,useEffect:bd,useImperativeHandle:Ky,useInsertionEffect:Fy,useLayoutEffect:Hy,useMemo:Yy,useReducer:Ed,useRef:jy,useState:function(){return Ed(Zi)},useDebugValue:Ad,useDeferredValue:function(t,i){var a=_t();return We===null?wd(a,t,i):Xy(a,We.memoizedState,t,i)},useTransition:function(){var t=Ed(Zi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:Ay,useId:Zy,useHostTransitionStatus:Cd,useFormState:zy,useActionState:zy,useOptimistic:function(t,i){var a=_t();return We!==null?Ny(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:_d,useCacheRefresh:e_};s_.useEffectEvent=qy;function Nd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Od={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),f=Br(l);f.payload=i,a!=null&&(f.callback=a),i=qr(t,f,l),i!==null&&(dn(i,t,l),vl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),f=Br(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=qr(t,f,l),i!==null&&(dn(i,t,l),vl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=Br(a);l.tag=2,i!=null&&(l.callback=i),i=qr(t,l,a),i!==null&&(dn(i,t,a),vl(i,t,a))}};function a_(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!hl(a,l)||!hl(f,d):!0}function o_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Od.enqueueReplaceState(i,i.state,null)}function Zs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function l_(t){fc(t)}function u_(t){console.error(t)}function c_(t){fc(t)}function kc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function h_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xd(t,i,a){return a=Br(a),a.tag=3,a.payload={element:null},a.callback=function(){kc(t,i)},a}function f_(t){return t=Br(t),t.tag=3,t}function d_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){h_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){h_(i,a,l),typeof f!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function qA(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ha(i,a,f,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Qc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Sc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),im(t,l,f)),!1;case 22:return a.flags|=65536,l===Sc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),im(t,l,f)),!1}throw Error(s(435,a.tag))}return im(t,l,f),Qc(),!1}if(Pe)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Wf&&(t=Error(s(422),{cause:l}),ml(Pn(t,a)))):(l!==Wf&&(i=Error(s(423),{cause:l}),ml(Pn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Pn(l,a),f=xd(t.stateNode,l,f),ld(t,f),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Pn(d,a),Ml===null?Ml=[d]:Ml.push(d),mt!==4&&(mt=2),i===null)return!0;l=Pn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=xd(a.stateNode,l,t),ld(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Yr===null||!Yr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=f_(f),d_(f,t,a,l),ld(a,f),!1}a=a.return}while(a!==null);return!1}var Md=Error(s(461)),It=!1;function Kt(t,i,a,l){i.child=t===null?yy(i,null,a,l):Ws(i,t.child,a,l)}function m_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Qs(i),l=md(t,i,a,_,d,f),T=pd(),t!==null&&!It?(gd(t,i,f),er(t,i,f)):(Pe&&T&&Xf(i),i.flags|=1,Kt(t,i,l,f),i.child)}function p_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Kf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,g_(t,i,d,l,f)):(t=gc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Bd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(_,l)&&t.ref===i.ref)return er(t,i,f)}return i.flags|=1,t=Yi(d,l),t.ref=i.ref,t.return=i,i.child=t}function g_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(hl(d,l)&&t.ref===i.ref)if(It=!1,i.pendingProps=l=d,Bd(t,f))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,er(t,i,f)}return Vd(t,i,a,l,f)}function y_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return __(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ec(i,d!==null?d.cachePool:null),d!==null?Ey(i,d):cd(),Ty(i);else return l=i.lanes=536870912,__(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Ec(i,d.cachePool),Ey(i,d),Hr(),i.memoizedState=null):(t!==null&&Ec(i,null),cd(),Hr());return Kt(t,i,f,a),i.child}function Rl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function __(t,i,a,l,f){var d=rd();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Ec(i,null),cd(),Ty(i),t!==null&&Ha(t,i,l,!0),i.childLanes=f,null}function Pc(t,i){return i=Lc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function v_(t,i,a){return Ws(i,t.child,null,a),t=Pc(i,i.pendingProps),t.flags|=2,Sn(i),i.memoizedState=null,t}function FA(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Pc(i,l),i.lanes=536870912,Rl(null,t);if(fd(i),(t=nt)?(t=Ov(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Pr!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=ny(t),a.return=i,i.child=a,Ht=i,nt=null)):t=null,t===null)throw Lr(i);return i.lanes=536870912,null}return Pc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(fd(i),f)if(i.flags&256)i.flags&=-257,i=v_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(It||Ha(t,i,a,!1),f=(a&t.childLanes)!==0,It||f){if(l=et,l!==null&&(_=Qo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Fs(t,_),dn(l,t,_),Md;Qc(),i=v_(t,i,a)}else t=d.treeContext,nt=Bn(_.nextSibling),Ht=i,Pe=!0,Ur=null,zn=!1,t!==null&&sy(i,t),i=Pc(i,l),i.flags|=4096;return i}return t=Yi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Uc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Vd(t,i,a,l,f){return Qs(i),a=md(t,i,a,l,void 0,f),l=pd(),t!==null&&!It?(gd(t,i,f),er(t,i,f)):(Pe&&l&&Xf(i),i.flags|=1,Kt(t,i,a,f),i.child)}function E_(t,i,a,l,f,d){return Qs(i),i.updateQueue=null,a=by(i,l,a,f),Sy(t),l=pd(),t!==null&&!It?(gd(t,i,d),er(t,i,d)):(Pe&&l&&Xf(i),i.flags|=1,Kt(t,i,a,d),i.child)}function T_(t,i,a,l,f){if(Qs(i),i.stateNode===null){var d=ja,_=a.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Od,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},ad(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):ja,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Nd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Od.enqueueReplaceState(d,d.state,null),Tl(i,l,d,f),El(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,D=Zs(a,T);d.props=D;var B=d.context,Y=a.contextType;_=ja,typeof Y=="object"&&Y!==null&&(_=Gt(Y));var J=a.getDerivedStateFromProps;Y=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==_)&&o_(i,d,l,_),jr=!1;var q=i.memoizedState;d.state=q,Tl(i,l,d,f),El(),B=i.memoizedState,T||q!==B||jr?(typeof J=="function"&&(Nd(i,a,J,l),B=i.memoizedState),(D=jr||a_(i,a,D,l,q,B,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,od(t,i),_=i.memoizedProps,Y=Zs(a,_),d.props=Y,J=i.pendingProps,q=d.context,B=a.contextType,D=ja,typeof B=="object"&&B!==null&&(D=Gt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||q!==D)&&o_(i,d,l,D),jr=!1,q=i.memoizedState,d.state=q,Tl(i,l,d,f),El();var K=i.memoizedState;_!==J||q!==K||jr||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof T=="function"&&(Nd(i,a,T,l),K=i.memoizedState),(Y=jr||a_(i,a,Y,l,q,K,D)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=D,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Uc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ws(i,t.child,null,f),i.child=Ws(i,null,a,f)):Kt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=er(t,i,f),t}function S_(t,i,a,l){return Gs(),i.flags|=256,Kt(t,i,a,l),i.child}var kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pd(t){return{baseLanes:t,cachePool:hy()}}function Ud(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function b_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(f?Fr(i):Hr(),(t=nt)?(t=Ov(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Pr!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=ny(t),a.return=i,i.child=a,Ht=i,nt=null)):t=null,t===null)throw Lr(i);return vm(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,f?(Hr(),f=i.mode,T=Lc({mode:"hidden",children:T},f),l=Hs(l,f,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Pd(a),l.childLanes=Ud(t,_,a),i.memoizedState=kd,Rl(null,l)):(Fr(i),Ld(i,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(Fr(i),i.flags&=-257,i=zd(t,i,a)):i.memoizedState!==null?(Hr(),i.child=t.child,i.flags|=128,i=null):(Hr(),T=l.fallback,f=i.mode,l=Lc({mode:"visible",children:l.children},f),T=Hs(T,f,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Ws(i,t.child,null,a),l=i.child,l.memoizedState=Pd(a),l.childLanes=Ud(t,_,a),i.memoizedState=kd,i=Rl(null,l));else if(Fr(i),vm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,ml({value:l,source:null,stack:null}),i=zd(t,i,a)}else if(It||Ha(t,i,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=et,_!==null&&(l=Qo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Fs(t,l),dn(_,t,l),Md;_m(T)||Qc(),i=zd(t,i,a)}else _m(T)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,nt=Bn(T.nextSibling),Ht=i,Pe=!0,Ur=null,zn=!1,t!==null&&sy(i,t),i=Ld(i,l.children),i.flags|=4096);return i}return f?(Hr(),T=l.fallback,f=i.mode,D=t.child,B=D.sibling,l=Yi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?T=Yi(B,T):(T=Hs(T,f,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Rl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Pd(a):(f=T.cachePool,f!==null?(D=Rt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=hy(),T={baseLanes:T.baseLanes|a,cachePool:f}),l.memoizedState=T,l.childLanes=Ud(t,_,a),i.memoizedState=kd,Rl(t.child,l)):(Fr(i),a=t.child,t=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Ld(t,i){return i=Lc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Lc(t,i){return t=En(22,t,null,i),t.lanes=0,t}function zd(t,i,a){return Ws(i,t.child,null,a),t=Ld(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function A_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),ed(t.return,i,a)}function jd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function w_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ae(yt,_),Kt(t,i,l,a),l=Pe?dl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A_(t,a,i);else if(t.tag===19)A_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Rc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),jd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Rc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}jd(i,!0,a,null,d,l);break;case"together":jd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function er(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Qr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ha(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Yi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Yi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Bd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&_c(t)))}function HA(t,i,a){switch(i.tag){case 3:Vt(i,i.stateNode.containerInfo),zr(i,Rt,t.memoizedState.cache),Gs();break;case 27:case 5:ws(i);break;case 4:Vt(i,i.stateNode.containerInfo);break;case 10:zr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,fd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Fr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?b_(t,i,a):(Fr(i),t=er(t,i,a),t!==null?t.sibling:null);Fr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ha(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return w_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(yt,yt.current),l)break;return null;case 22:return i.lanes=0,y_(t,i,a,i.pendingProps);case 24:zr(i,Rt,t.memoizedState.cache)}return er(t,i,a)}function R_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!Bd(t,a)&&(i.flags&128)===0)return It=!1,HA(t,i,a);It=(t.flags&131072)!==0}else It=!1,Pe&&(i.flags&1048576)!==0&&ry(i,dl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Xs(i.elementType),i.type=t,typeof t=="function")Kf(t)?(l=Zs(t,l),i.tag=1,i=T_(null,i,t,l,a)):(i.tag=0,i=Vd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ue){i.tag=11,i=m_(null,i,t,l,a);break e}else if(f===C){i.tag=14,i=p_(null,i,t,l,a);break e}}throw i=st(t)||t,Error(s(306,i,""))}}return i;case 0:return Vd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Zs(l,i.pendingProps),T_(t,i,l,f,a);case 3:e:{if(Vt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,od(t,i),Tl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,zr(i,Rt,l),l!==d.cache&&td(i,[Rt],a,!0),El(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=S_(t,i,l,a);break e}else if(l!==f){f=Pn(Error(s(424)),i),ml(f),i=S_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Bn(t.firstChild),Ht=i,Pe=!0,Ur=null,zn=!0,a=yy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gs(),l===f){i=er(t,i,a);break e}Kt(t,i,l,a)}i=i.child}return i;case 26:return Uc(t,i),t===null?(a=Uv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=eh(Ce.current).createElement(a),l[bt]=i,l[Lt]=t,Qt(l,a,t),At(l),i.stateNode=l):i.memoizedState=Uv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ws(i),t===null&&Pe&&(l=i.stateNode=Vv(i.type,i.pendingProps,Ce.current),Ht=i,zn=!0,f=nt,Jr(i.type)?(Em=f,nt=Bn(l.firstChild)):nt=f),Kt(t,i,i.pendingProps.children,a),Uc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((f=l=nt)&&(l=Ew(l,i.type,i.pendingProps,zn),l!==null?(i.stateNode=l,Ht=i,nt=Bn(l.firstChild),zn=!1,f=!0):f=!1),f||Lr(i)),ws(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,pm(f,d)?l=null:_!==null&&pm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=md(t,i,kA,null,null,a),Bl._currentValue=f),Uc(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=nt)&&(a=Tw(a,i.pendingProps,zn),a!==null?(i.stateNode=a,Ht=i,nt=null,t=!0):t=!1),t||Lr(i)),null;case 13:return b_(t,i,a);case 4:return Vt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ws(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return m_(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,zr(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Qs(i),f=Gt(f),l=l(f),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return p_(t,i,i.type,i.pendingProps,a);case 15:return g_(t,i,i.type,i.pendingProps,a);case 19:return w_(t,i,a);case 31:return FA(t,i,a);case 22:return y_(t,i,a,i.pendingProps);case 24:return Qs(i),l=Gt(Rt),t===null?(f=rd(),f===null&&(f=et,d=nd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},ad(i),zr(i,Rt,f)):((t.lanes&a)!==0&&(od(t,i),Tl(i,null,null,a),El()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),zr(i,Rt,l)):(l=d.cache,zr(i,Rt,l),l!==f.cache&&td(i,[Rt],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function tr(t){t.flags|=4}function qd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Z_())t.flags|=8192;else throw $s=Sc,sd}else t.flags&=-16777217}function C_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qv(i))if(Z_())t.flags|=8192;else throw $s=Sc,sd}function zc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Gu():536870912,t.lanes|=i,no|=i)}function Cl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function GA(t,i,a){var l=i.pendingProps;switch($f(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Wi(Rt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fa(i)?tr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Jf())),it(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(tr(i),d!==null?(it(i),C_(i,d)):(it(i),qd(i,f,null,l,a))):d?d!==t.memoizedState?(tr(i),it(i),C_(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&tr(i),it(i),qd(i,f,t,l,a)),null;case 27:if(Ta(i),a=Ce.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=ce.current,Fa(i)?ay(i):(t=Vv(f,l,a),i.stateNode=t,tr(i))}return it(i),null;case 5:if(Ta(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(d=ce.current,Fa(i))ay(i);else{var _=eh(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[bt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Qt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&tr(i)}}return it(i),qd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&tr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Fa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||bv(t.nodeValue,a)),t||Lr(i,!0)}else t=eh(t).createTextNode(l),t[bt]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Fa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else Gs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=Jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Fa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[bt]=i}else Gs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),f=!1}else f=Jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),zc(i,i.updateQueue),it(i),null);case 4:return at(),t===null&&cm(i.stateNode.containerInfo),it(i),null;case 10:return Wi(i.type),it(i),null;case 19:if(ee(yt),l=i.memoizedState,l===null)return it(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Cl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Rc(t),d!==null){for(i.flags|=128,Cl(l,!1),t=d.updateQueue,i.updateQueue=t,zc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ty(a,t),a=a.sibling;return ae(yt,yt.current&1|2),Pe&&Xi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>Hc&&(i.flags|=128,f=!0,Cl(l,!1),i.lanes=4194304)}else{if(!f)if(t=Rc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,zc(i,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return it(i),null}else 2*nn()-l.renderingStartTime>Hc&&a!==536870912&&(i.flags|=128,f=!0,Cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=yt.current,ae(yt,f?a&1|2:a&1),Pe&&Xi(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return Sn(i),hd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&zc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ee(Ys),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Wi(Rt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function KA(t,i){switch($f(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Wi(Rt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ta(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(s(340));Gs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Sn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Gs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(yt),null;case 4:return at(),null;case 10:return Wi(i.type),null;case 22:case 23:return Sn(i),hd(),t!==null&&ee(Ys),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Wi(Rt),null;case 25:return null;default:return null}}function I_(t,i){switch($f(i),i.tag){case 3:Wi(Rt),at();break;case 26:case 27:case 5:Ta(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:ee(yt);break;case 10:Wi(i.type);break;case 22:case 23:Sn(i),hd(),t!==null&&ee(Ys);break;case 24:Wi(Rt)}}function Il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(T){Ye(i,i.return,T)}}function Gr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=i;var D=a,B=T;try{B()}catch(Y){Ye(f,D,Y)}}}l=l.next}while(l!==d)}}catch(Y){Ye(i,i.return,Y)}}function D_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{vy(i,a)}catch(l){Ye(t,t.return,l)}}}function N_(t,i,a){a.props=Zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function Dl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ye(t,i,f)}}function Ri(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(t,i,f)}else a.current=null}function O_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(t,t.return,f)}}function Fd(t,i,a){try{var l=t.stateNode;mw(l,t.type,a,i),l[Lt]=i}catch(f){Ye(t,t.return,f)}}function x_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Jr(t.type)||t.tag===4}function Hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Jr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&Jr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Gd(t,i,a),t=t.sibling;t!==null;)Gd(t,i,a),t=t.sibling}function jc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Jr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(jc(t,i,a),t=t.sibling;t!==null;)jc(t,i,a),t=t.sibling}function M_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Qt(i,l,a),i[bt]=t,i[Lt]=a}catch(d){Ye(t,t.return,d)}}var nr=!1,Dt=!1,Kd=!1,V_=typeof WeakSet=="function"?WeakSet:Set,jt=null;function QA(t,i){if(t=t.containerInfo,dm=oh,t=Kg(t),zf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,B=0,Y=0,J=t,q=null;t:for(;;){for(var K;J!==a||f!==0&&J.nodeType!==3||(T=_+f),J!==d||l!==0&&J.nodeType!==3||(D=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(K=J.firstChild)!==null;)q=J,J=K;for(;;){if(J===t)break t;if(q===a&&++B===f&&(T=_),q===d&&++Y===l&&(D=_),(K=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=K}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(mm={focusedElem:t,selectionRange:a},oh=!1,jt=i;jt!==null;)if(i=jt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,jt=t;else for(;jt!==null;){switch(i=jt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Zs(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ye(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)ym(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ym(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,jt=t;break}jt=i.return}}function k_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rr(t,a),l&4&&Il(5,a);break;case 1:if(rr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var f=Zs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&D_(a),l&512&&Dl(a,a.return);break;case 3:if(rr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{vy(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&M_(a);case 26:case 5:rr(t,a),i===null&&l&4&&O_(a),l&512&&Dl(a,a.return);break;case 12:rr(t,a);break;case 31:rr(t,a),l&4&&L_(t,a);break;case 13:rr(t,a),l&4&&z_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=nw.bind(null,a),Sw(t,a))));break;case 22:if(l=a.memoizedState!==null||nr,!l){i=i!==null&&i.memoizedState!==null||Dt,f=nr;var d=Dt;nr=l,(Dt=i)&&!d?sr(t,a,(a.subtreeFlags&8772)!==0):rr(t,a),nr=f,Dt=d}break;case 30:break;default:rr(t,a)}}function P_(t){var i=t.alternate;i!==null&&(t.alternate=null,P_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ra(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,un=!1;function ir(t,i,a){for(a=a.child;a!==null;)U_(t,i,a),a=a.sibling}function U_(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Dt||Ri(a,i),ir(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||Ri(a,i);var l=lt,f=un;Jr(a.type)&&(lt=a.stateNode,un=!1),ir(t,i,a),Ll(a.stateNode),lt=l,un=f;break;case 5:Dt||Ri(a,i);case 6:if(l=lt,f=un,lt=null,ir(t,i,a),lt=l,un=f,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:lt!==null&&(un?(t=lt,Dv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),co(t)):Dv(lt,a.stateNode));break;case 4:l=lt,f=un,lt=a.stateNode.containerInfo,un=!0,ir(t,i,a),lt=l,un=f;break;case 0:case 11:case 14:case 15:Gr(2,a,i),Dt||Gr(4,a,i),ir(t,i,a);break;case 1:Dt||(Ri(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&N_(a,i,l)),ir(t,i,a);break;case 21:ir(t,i,a);break;case 22:Dt=(l=Dt)||a.memoizedState!==null,ir(t,i,a),Dt=l;break;default:ir(t,i,a)}}function L_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{co(t)}catch(a){Ye(i,i.return,a)}}}function z_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(a){Ye(i,i.return,a)}}function YA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new V_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new V_),i;default:throw Error(s(435,t.tag))}}function Bc(t,i){var a=YA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=iw.bind(null,t,l);l.then(f,f)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Jr(T.type)){lt=T.stateNode,un=!1;break e}break;case 5:lt=T.stateNode,un=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(lt===null)throw Error(s(160));U_(d,_,f),lt=null,un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)j_(i,t),i=i.sibling}var ei=null;function j_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),l&4&&(Gr(3,t,t.return),Il(3,t),Gr(5,t,t.return));break;case 1:cn(i,t),hn(t),l&512&&(Dt||a===null||Ri(a,a.return)),l&64&&nr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ei;if(cn(i,t),hn(t),l&512&&(Dt||a===null||Ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[fi]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Qt(d,l,a),d[bt]=t,At(d),l=d;break e;case"link":var _=jv("link","href",f).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=jv("meta","content",f).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,At(d),l=d}t.stateNode=l}else Bv(f,t.type,t.stateNode);else t.stateNode=zv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Bv(f,t.type,t.stateNode):zv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Fd(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),l&512&&(Dt||a===null||Ri(a,a.return)),a!==null&&l&4&&Fd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),l&512&&(Dt||a===null||Ri(a,a.return)),t.flags&32){f=t.stateNode;try{ln(f,"")}catch(he){Ye(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Fd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Kd=!0);break;case 6:if(cn(i,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ye(t,t.return,he)}}break;case 3:if(ih=null,f=ei,ei=th(i.containerInfo),cn(i,t),ei=f,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(i.containerInfo)}catch(he){Ye(t,t.return,he)}Kd&&(Kd=!1,B_(t));break;case 4:l=ei,ei=th(t.stateNode.containerInfo),cn(i,t),hn(t),ei=l;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bc(t,l)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bc(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=nr,Y=Dt;if(nr=B||f,Dt=Y||D,cn(i,t),Dt=Y,nr=B,hn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||D||nr||Dt||ea(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var J=D.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){Ye(D,D.return,he)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(he){Ye(D,D.return,he)}}}else if(i.tag===18){if(a===null){D=i;try{var K=D.stateNode;f?Nv(K,!0):Nv(D.stateNode,!1)}catch(he){Ye(D,D.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bc(t,a))));break;case 19:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bc(t,l)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(x_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Hd(t);jc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var T=Hd(t);jc(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,B=Hd(t);Gd(t,B,D);break;default:throw Error(s(161))}}catch(Y){Ye(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function B_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;B_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function rr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)k_(t,i.alternate,i),i=i.sibling}function ea(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Gr(4,i,i.return),ea(i);break;case 1:Ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&N_(i,i.return,a),ea(i);break;case 27:Ll(i.stateNode);case 26:case 5:Ri(i,i.return),ea(i);break;case 22:i.memoizedState===null&&ea(i);break;case 30:ea(i);break;default:ea(i)}t=t.sibling}}function sr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:sr(f,d,a),Il(4,d);break;case 1:if(sr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Ye(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)_y(D[f],T)}catch(B){Ye(l,l.return,B)}}a&&_&64&&D_(d),Dl(d,d.return);break;case 27:M_(d);case 26:case 5:sr(f,d,a),a&&l===null&&_&4&&O_(d),Dl(d,d.return);break;case 12:sr(f,d,a);break;case 31:sr(f,d,a),a&&_&4&&L_(f,d);break;case 13:sr(f,d,a),a&&_&4&&z_(f,d);break;case 22:d.memoizedState===null&&sr(f,d,a),Dl(d,d.return);break;case 30:break;default:sr(f,d,a)}i=i.sibling}}function Qd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pl(a))}function Yd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t))}function ti(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)q_(t,i,a,l),i=i.sibling}function q_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,l),f&2048&&Il(9,i);break;case 1:ti(t,i,a,l);break;case 3:ti(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t)));break;case 12:if(f&2048){ti(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ye(i,i.return,D)}}else ti(t,i,a,l);break;case 31:ti(t,i,a,l);break;case 13:ti(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ti(t,i,a,l):Nl(t,i):d._visibility&2?ti(t,i,a,l):(d._visibility|=2,Za(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Qd(_,i);break;case 24:ti(t,i,a,l),f&2048&&Yd(i.alternate,i);break;default:ti(t,i,a,l)}}function Za(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Za(d,_,T,D,f),Il(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Za(d,_,T,D,f):Nl(d,_):(Y._visibility|=2,Za(d,_,T,D,f)),f&&B&2048&&Qd(_.alternate,_);break;case 24:Za(d,_,T,D,f),f&&B&2048&&Yd(_.alternate,_);break;default:Za(d,_,T,D,f)}i=i.sibling}}function Nl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Nl(a,l),f&2048&&Qd(l.alternate,l);break;case 24:Nl(a,l),f&2048&&Yd(l.alternate,l);break;default:Nl(a,l)}i=i.sibling}}var Ol=8192;function eo(t,i,a){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)F_(t,i,a),t=t.sibling}function F_(t,i,a){switch(t.tag){case 26:eo(t,i,a),t.flags&Ol&&t.memoizedState!==null&&Vw(a,ei,t.memoizedState,t.memoizedProps);break;case 5:eo(t,i,a);break;case 3:case 4:var l=ei;ei=th(t.stateNode.containerInfo),eo(t,i,a),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,eo(t,i,a),Ol=l):eo(t,i,a));break;default:eo(t,i,a)}}function H_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function xl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,K_(l,t)}H_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)G_(t),t=t.sibling}function G_(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&Gr(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,qc(t)):xl(t);break;default:xl(t)}}function qc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,K_(l,t)}H_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Gr(8,i,i.return),qc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,qc(i));break;default:qc(i)}t=t.sibling}}function K_(t,i){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Gr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=t;jt!==null;){l=jt;var f=l.sibling,d=l.return;if(P_(l),l===a){jt=null;break e}if(f!==null){f.return=d,jt=f;break e}jt=d}}}var XA={getCacheForType:function(t){var i=Gt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(Rt).controller.signal}},$A=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,De=null,Oe=0,Qe=0,bn=null,Kr=!1,to=!1,Xd=!1,ar=0,mt=0,Qr=0,ta=0,$d=0,An=0,no=0,Ml=null,fn=null,Wd=!1,Fc=0,Q_=0,Hc=1/0,Gc=null,Yr=null,Pt=0,Xr=null,io=null,or=0,Jd=0,Zd=null,Y_=null,Vl=0,em=null;function wn(){return(Fe&2)!==0&&Oe!==0?Oe&-Oe:X.T!==null?am():Ku()}function X_(){if(An===0)if((Oe&536870912)===0||Pe){var t=Is;Is<<=1,(Is&3932160)===0&&(Is=262144),An=t}else An=536870912;return t=Tn.current,t!==null&&(t.flags|=32),An}function dn(t,i,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(ro(t,0),$r(t,Oe,An,!1)),Ds(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(ta|=a),mt===4&&$r(t,Oe,An,!1)),Ci(t))}function $_(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),f=l?ZA(t,i):nm(t,i,!0),d=l;do{if(f===0){to&&!l&&$r(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!WA(a)){f=nm(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;f=Ml;var D=T.current.memoizedState.isDehydrated;if(D&&(ro(T,_).flags|=256),_=nm(T,_,!1),_!==2){if(Xd&&!D){T.errorRecoveryDisabledLanes|=d,ta|=d,f=4;break e}d=fn,fn=f,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){ro(t,0),$r(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:$r(l,i,An,!Kr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Fc+300-nn(),10<f)){if($r(l,i,An,!Kr),ui(l,0,!0)!==0)break e;or=i,l.timeoutHandle=Cv(W_.bind(null,l,a,fn,Gc,Wd,i,An,ta,no,Kr,d,"Throttled",-0,0),f);break e}W_(l,a,fn,Gc,Wd,i,An,ta,no,Kr,d,null,-0,0)}}break}while(!0);Ci(t)}function W_(t,i,a,l,f,d,_,T,D,B,Y,J,q,K){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},F_(i,d,J);var he=(d&62914560)===d?Fc-nn():(d&4194048)===d?Q_-nn():0;if(he=kw(J,he),he!==null){or=d,t.cancelPendingCommit=he(sv.bind(null,t,i,d,a,l,f,_,T,D,Y,J,null,q,K)),$r(t,d,_,!B);return}}sv(t,i,d,a,l,f,_,T,D)}function WA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!vn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $r(t,i,a,l){i&=~$d,i&=~ta,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-pt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ns(t,a,i)}function Kc(){return(Fe&6)===0?(kl(0),!1):!0}function tm(){if(De!==null){if(Qe===0)var t=De.return;else t=De,$i=Ks=null,yd(t),Ya=null,yl=0,t=De;for(;t!==null;)I_(t.alternate,t),t=t.return;De=null}}function ro(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,yw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),or=0,tm(),et=t,De=a=Yi(t.current,null),Oe=i,Qe=0,bn=null,Kr=!1,to=Gn(t,i),Xd=!1,no=An=$d=ta=Qr=mt=0,fn=Ml=null,Wd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-pt(l),d=1<<f;i|=t[f],l&=~d}return ar=i,dc(),a}function J_(t,i){Re=null,X.H=wl,i===Qa||i===Tc?(i=my(),Qe=3):i===sd?(i=my(),Qe=4):Qe=i===Md?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,De===null&&(mt=1,kc(t,Pn(i,t.current)))}function Z_(){var t=Tn.current;return t===null?!0:(Oe&4194048)===Oe?jn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===jn:!1}function ev(){var t=X.H;return X.H=wl,t===null?wl:t}function tv(){var t=X.A;return X.A=XA,t}function Qc(){mt=4,Kr||(Oe&4194048)!==Oe&&Tn.current!==null||(to=!0),(Qr&134217727)===0&&(ta&134217727)===0||et===null||$r(et,Oe,An,!1)}function nm(t,i,a){var l=Fe;Fe|=2;var f=ev(),d=tv();(et!==t||Oe!==i)&&(Gc=null,ro(t,i)),i=!1;var _=mt;e:do try{if(Qe!==0&&De!==null){var T=De,D=bn;switch(Qe){case 8:tm(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var B=Qe;if(Qe=0,bn=null,so(t,T,D,B),a&&to){_=0;break e}break;default:B=Qe,Qe=0,bn=null,so(t,T,D,B)}}JA(),_=mt;break}catch(Y){J_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,$i=Ks=null,Fe=l,X.H=f,X.A=d,De===null&&(et=null,Oe=0,dc()),_}function JA(){for(;De!==null;)nv(De)}function ZA(t,i){var a=Fe;Fe|=2;var l=ev(),f=tv();et!==t||Oe!==i?(Gc=null,Hc=nn()+500,ro(t,i)):to=Gn(t,i);e:do try{if(Qe!==0&&De!==null){i=De;var d=bn;t:switch(Qe){case 1:Qe=0,bn=null,so(t,i,d,1);break;case 2:case 9:if(fy(d)){Qe=0,bn=null,iv(i);break}i=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),Ci(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:fy(d)?(Qe=0,bn=null,iv(i)):(Qe=0,bn=null,so(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var T=De;if(_?qv(_):T.stateNode.complete){Qe=0,bn=null;var D=T.sibling;if(D!==null)De=D;else{var B=T.return;B!==null?(De=B,Yc(B)):De=null}break t}}Qe=0,bn=null,so(t,i,d,5);break;case 6:Qe=0,bn=null,so(t,i,d,6);break;case 8:tm(),mt=6;break e;default:throw Error(s(462))}}ew();break}catch(Y){J_(t,Y)}while(!0);return $i=Ks=null,X.H=l,X.A=f,Fe=a,De!==null?0:(et=null,Oe=0,dc(),mt)}function ew(){for(;De!==null&&!xf();)nv(De)}function nv(t){var i=R_(t.alternate,t,ar);t.memoizedProps=t.pendingProps,i===null?Yc(t):De=i}function iv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=E_(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=E_(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:yd(i);default:I_(a,i),i=De=ty(i,ar),i=R_(a,i,ar)}t.memoizedProps=t.pendingProps,i===null?Yc(t):De=i}function so(t,i,a,l){$i=Ks=null,yd(i),Ya=null,yl=0;var f=i.return;try{if(qA(t,f,i,a,Oe)){mt=1,kc(t,Pn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;mt=1,kc(t,Pn(a,t.current)),De=null;return}i.flags&32768?(Pe||l===1?t=!0:to||(Oe&536870912)!==0?t=!1:(Kr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),rv(i,t)):Yc(i)}function Yc(t){var i=t;do{if((i.flags&32768)!==0){rv(i,Kr);return}t=i.return;var a=GA(i.alternate,i,ar);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);mt===0&&(mt=5)}function rv(t,i){do{var a=KA(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);mt=6,De=null}function sv(t,i,a,l,f,d,_,T,D){t.cancelPendingCommit=null;do Xc();while(Pt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Hf,kf(t,a,d,_,T,D),t===et&&(De=et=null,Oe=0),io=i,Xr=t,or=a,Jd=d,Zd=f,Y_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,rw(Rr,function(){return cv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=se.p,se.p=2,_=Fe,Fe|=4;try{QA(t,i,a)}finally{Fe=_,se.p=f,X.T=l}}Pt=1,av(),ov(),lv()}}function av(){if(Pt===1){Pt=0;var t=Xr,i=io,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=Fe;Fe|=4;try{j_(i,t);var d=mm,_=Kg(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Gg(T.ownerDocument.documentElement,T)){if(D!==null&&zf(T)){var B=D.start,Y=D.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var K=q.getSelection(),he=T.textContent.length,ge=Math.min(D.start,he),Ze=D.end===void 0?ge:Math.min(D.end,he);!K.extend&&ge>Ze&&(_=Ze,Ze=ge,ge=_);var U=Hg(T,ge),M=Hg(T,Ze);if(U&&M&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var j=J.createRange();j.setStart(U.node,U.offset),K.removeAllRanges(),ge>Ze?(K.addRange(j),K.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),K.addRange(j))}}}}for(J=[],K=T;K=K.parentNode;)K.nodeType===1&&J.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var W=J[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}oh=!!dm,mm=dm=null}finally{Fe=f,se.p=l,X.T=a}}t.current=i,Pt=2}}function ov(){if(Pt===2){Pt=0;var t=Xr,i=io,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=Fe;Fe|=4;try{k_(t,i.alternate,i)}finally{Fe=f,se.p=l,X.T=a}}Pt=3}}function lv(){if(Pt===4||Pt===3){Pt=0,zu();var t=Xr,i=io,a=or,l=Y_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,io=Xr=null,uv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Yr=null),Hi(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=se.p,se.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{X.T=i,se.p=f}}(or&3)!==0&&Xc(),Ci(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===em?Vl++:(Vl=0,em=t):Vl=0,kl(0)}}function uv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,pl(i)))}function Xc(){return av(),ov(),lv(),cv()}function cv(){if(Pt!==5)return!1;var t=Xr,i=Jd;Jd=0;var a=Hi(or),l=X.T,f=se.p;try{se.p=32>a?32:a,X.T=null,a=Zd,Zd=null;var d=Xr,_=or;if(Pt=0,io=Xr=null,or=0,(Fe&6)!==0)throw Error(s(331));var T=Fe;if(Fe|=4,G_(d.current),q_(d,d.current,_,a),Fe=T,kl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{se.p=f,X.T=l,uv(t,i)}}function hv(t,i,a){i=Pn(a,i),i=xd(t.stateNode,i,2),t=qr(t,i,2),t!==null&&(Ds(t,2),Ci(t))}function Ye(t,i,a){if(t.tag===3)hv(t,t,a);else for(;i!==null;){if(i.tag===3){hv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yr===null||!Yr.has(l))){t=Pn(a,t),a=f_(2),l=qr(i,a,2),l!==null&&(d_(a,l,i,t),Ds(l,2),Ci(l));break}}i=i.return}}function im(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new $A;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Xd=!0,f.add(a),t=tw.bind(null,t,i,a),i.then(t,t))}function tw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Oe&a)===a&&(mt===4||mt===3&&(Oe&62914560)===Oe&&300>nn()-Fc?(Fe&2)===0&&ro(t,0):$d|=a,no===Oe&&(no=0)),Ci(t)}function fv(t,i){i===0&&(i=Gu()),t=Fs(t,i),t!==null&&(Ds(t,i),Ci(t))}function nw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),fv(t,a)}function iw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),fv(t,a)}function rw(t,i){return kt(t,i)}var $c=null,ao=null,rm=!1,Wc=!1,sm=!1,Wr=0;function Ci(t){t!==ao&&t.next===null&&(ao===null?$c=ao=t:ao=ao.next=t),Wc=!0,rm||(rm=!0,aw())}function kl(t,i){if(!sm&&Wc){sm=!0;do for(var a=!1,l=$c;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=f&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,gv(l,d))}else d=Oe,d=ui(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,gv(l,d));l=l.next}while(a);sm=!1}}function sw(){dv()}function dv(){Wc=rm=!1;var t=0;Wr!==0&&gw()&&(t=Wr);for(var i=nn(),a=null,l=$c;l!==null;){var f=l.next,d=mv(l,i);d===0?(l.next=null,a===null?$c=f:a.next=f,f===null&&(ao=a)):(a=l,(t!==0||(d&3)!==0)&&(Wc=!0)),l=f}Pt!==0&&Pt!==5||kl(t),Wr!==0&&(Wr=0)}function mv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),T=1<<_,D=f[_];D===-1?((T&a)===0||(T&l)!==0)&&(f[_]=Vf(T,i)):D<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,a=Oe,a=ui(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&wr(l),Hi(a)){case 2:case 8:a=Go;break;case 32:a=Rr;break;case 268435456:a=ju;break;default:a=Rr}return l=pv.bind(null,t),a=kt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&wr(l),t.callbackPriority=2,t.callbackNode=null,2}function pv(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Xc()&&t.callbackNode!==a)return null;var l=Oe;return l=ui(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:($_(t,l,i),mv(t,nn()),t.callbackNode!=null&&t.callbackNode===a?pv.bind(null,t):null)}function gv(t,i){if(Xc())return null;$_(t,i,!0)}function aw(){_w(function(){(Fe&6)!==0?kt(Ho,sw):dv()})}function am(){if(Wr===0){var t=Ga;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Wr=t}return Wr}function yv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function _v(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ow(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=yv((f[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?yv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ei("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Wr!==0){var D=_?_v(f,_):new FormData(f);Rd(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?_v(f,_):new FormData(f),Rd(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var om=0;om<Ff.length;om++){var lm=Ff[om],lw=lm.toLowerCase(),uw=lm[0].toUpperCase()+lm.slice(1);Zn(lw,"on"+uw)}Zn(Xg,"onAnimationEnd"),Zn($g,"onAnimationIteration"),Zn(Wg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(wA,"onTransitionRun"),Zn(RA,"onTransitionStart"),Zn(CA,"onTransitionCancel"),Zn(Jg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function vv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,B=T.currentTarget;if(T=T.listener,D!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=B;try{d(f)}catch(Y){fc(Y)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,B=T.currentTarget,T=T.listener,D!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=B;try{d(f)}catch(Y){fc(Y)}f.currentTarget=null,d=D}}}}function Ne(t,i){var a=i[wa];a===void 0&&(a=i[wa]=new Set);var l=t+"__bubble";a.has(l)||(Ev(i,t,2,!1),a.add(l))}function um(t,i,a){var l=0;i&&(l|=4),Ev(a,t,l,i)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function cm(t){if(!t[Jc]){t[Jc]=!0,Yo.forEach(function(a){a!=="selectionchange"&&(cw.has(a)||um(a,!1,t),um(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Jc]||(i[Jc]=!0,um("selectionchange",!1,i))}}function Ev(t,i,a,l){switch(Xv(i)){case 2:var f=Lw;break;case 8:f=zw;break;default:f=wm}a=f.bind(null,i,a,t),f=void 0,!ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function hm(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=di(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}T=T.parentNode}}l=l.return}xr(function(){var B=d,Y=xn(a),J=[];e:{var q=Zg.get(t);if(q!==void 0){var K=Ei,he=t;switch(t){case"keypress":if(Us(a)===0)break e;case"keydown":case"keyup":K=uc;break;case"focusin":he="focus",K=zs;break;case"focusout":he="blur",K=zs;break;case"beforeblur":case"afterblur":K=zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case Xg:case $g:case Wg:K=nc;break;case Jg:K=b;break;case"scroll":case"scrollend":K=al;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Qi;break;case"toggle":case"beforetoggle":K=we}var ge=(i&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),U=ge?q!==null?q+"Capture":null:q;ge=[];for(var M=B,j;M!==null;){var W=M;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||U===null||(W=Xn(M,U),W!=null&&ge.push(Ul(M,W,j))),Ze)break;M=M.return}0<ge.length&&(q=new K(q,he,null,a,Y),J.push({event:q,listeners:ge}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",q&&a!==il&&(he=a.relatedTarget||a.fromElement)&&(di(he)||he[hi]))break e;if((K||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,K?(he=a.relatedTarget||a.toElement,K=B,he=he?di(he):null,he!==null&&(Ze=u(he),ge=he.tag,he!==Ze||ge!==5&&ge!==27&&ge!==6)&&(he=null)):(K=null,he=B),K!==he)){if(ge=ol,W="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Qi,W="onPointerLeave",U="onPointerEnter",M="pointer"),Ze=K==null?q:yn(K),j=he==null?q:yn(he),q=new ge(W,M+"leave",K,a,Y),q.target=Ze,q.relatedTarget=j,W=null,di(Y)===B&&(ge=new ge(U,M+"enter",he,a,Y),ge.target=j,ge.relatedTarget=Ze,W=ge),Ze=W,K&&he)t:{for(ge=hw,U=K,M=he,j=0,W=U;W;W=ge(W))j++;W=0;for(var de=M;de;de=ge(de))W++;for(;0<j-W;)U=ge(U),j--;for(;0<W-j;)M=ge(M),W--;for(;j--;){if(U===M||M!==null&&U===M.alternate){ge=U;break t}U=ge(U),M=ge(M)}ge=null}else ge=null;K!==null&&Tv(J,q,K,ge,!1),he!==null&&Ze!==null&&Tv(J,Ze,he,ge,!0)}}e:{if(q=B?yn(B):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var je=Lg;else if(Pg(q))if(zg)je=SA;else{je=EA;var fe=vA}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Da(B.elementType)&&(je=Lg):je=TA;if(je&&(je=je(t,B))){Ug(J,je,a,Y);break e}fe&&fe(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&el(q,"number",q.value)}switch(fe=B?yn(B):window,t){case"focusin":(Pg(fe)||fe.contentEditable==="true")&&(Ua=fe,jf=B,fl=null);break;case"focusout":fl=jf=Ua=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,Qg(J,a,Y);break;case"selectionchange":if(AA)break;case"keydown":case"keyup":Qg(J,a,Y)}var Ie;if(qe)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Pa?js(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(bi&&a.locale!=="ko"&&(Pa||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Pa&&(Ie=sl()):(vi=Y,rl="value"in vi?vi.value:vi.textContent,Pa=!0)),fe=Zc(B,xe),0<fe.length&&(xe=new Si(xe,t,null,a,Y),J.push({event:xe,listeners:fe}),Ie?xe.data=Ie:(Ie=ka(a),Ie!==null&&(xe.data=Ie)))),(Ie=Vn?pA(t,a):gA(t,a))&&(xe=Zc(B,"onBeforeInput"),0<xe.length&&(fe=new Si("onBeforeInput","beforeinput",null,a,Y),J.push({event:fe,listeners:xe}),fe.data=Ie)),ow(J,t,B,a,Y)}vv(J,i)})}function Ul(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Zc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Xn(t,a),f!=null&&l.unshift(Ul(t,f,d)),f=Xn(t,i),f!=null&&l.push(Ul(t,f,d))),t.tag===3)return l;t=t.return}return[]}function hw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Tv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,B=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||B===null||(D=B,f?(B=Xn(a,d),B!=null&&_.unshift(Ul(a,B,D))):f||(B=Xn(a,d),B!=null&&_.push(Ul(a,B,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var fw=/\r\n?/g,dw=/\u0000|\uFFFD/g;function Sv(t){return(typeof t=="string"?t:""+t).replace(fw,`
`).replace(dw,"")}function bv(t,i){return i=Sv(i),Sv(t)===i}function Je(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,l);break;case"style":nl(t,l,d);break;case"data":if(i!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",f.name,f,null),Je(t,i,"formEncType",f.formEncType,f,null),Je(t,i,"formMethod",f.formMethod,f,null),Je(t,i,"formTarget",f.formTarget,f,null)):(Je(t,i,"encType",f.encType,f,null),Je(t,i,"method",f.method,f,null),Je(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Ca(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zu.get(a)||a,Ca(t,a,l))}}function fm(t,i,a,l,f,d){switch(a){case"style":nl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ca(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}f&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var T=d=_=f=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":D=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Je(t,i,l,Y,a,null)}}$u(t,d,T,D,B,_,f,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Je(t,i,f,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ir(t,!!l,i,!1):a!=null&&Ir(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,_,T,a,null)}Dr(t,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,D,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Ne(Pl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(Da(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&fm(t,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,i,T,l,a,null))}function mw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,T=null,D=null,B=null,Y=null;for(K in a){var J=a[K];if(a.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(K)||Je(t,i,K,null,l,J)}}for(var q in l){var K=l[q];if(J=a[q],l.hasOwnProperty(q)&&(K!=null||J!=null))switch(q){case"type":d=K;break;case"name":f=K;break;case"checked":B=K;break;case"defaultChecked":Y=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==J&&Je(t,i,q,K,l,J)}}Ia(t,_,T,D,B,Y,d,f);return;case"select":K=_=T=q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&Je(t,i,f,d,l,D)}i=T,a=_,l=K,q!=null?Ir(t,!!a,q,!1):!!l!=!!a&&(i!=null?Ir(t,!!a,i,!0):Ir(t,!!a,a?[]:"",!1));return;case"textarea":K=q=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,i,_,f,l,d)}Wu(t,q,K);return;case"option":for(var he in a)if(q=a[he],a.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Je(t,i,he,null,l,q)}for(D in l)if(q=l[D],K=a[D],l.hasOwnProperty(D)&&q!==K&&(q!=null||K!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(t,i,D,q,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)q=a[ge],a.hasOwnProperty(ge)&&q!=null&&!l.hasOwnProperty(ge)&&Je(t,i,ge,null,l,q);for(B in l)if(q=l[B],K=a[B],l.hasOwnProperty(B)&&q!==K&&(q!=null||K!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Je(t,i,B,q,l,K)}return;default:if(Da(i)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&fm(t,i,Ze,void 0,l,q);for(Y in l)q=l[Y],K=a[Y],!l.hasOwnProperty(Y)||q===K||q===void 0&&K===void 0||fm(t,i,Y,q,l,K);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&Je(t,i,U,null,l,q);for(J in l)q=l[J],K=a[J],!l.hasOwnProperty(J)||q===K||q==null&&K==null||Je(t,i,J,q,l,K)}function Av(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,T=f.duration;if(d&&T&&Av(_)){for(_=0,T=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>T)break;var Y=D.transferSize,J=D.initiatorType;Y&&Av(J)&&(D=D.responseEnd,_+=Y*(D<T?1:(T-B)/(D-B)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dm=null,mm=null;function eh(t){return t.nodeType===9?t:t.ownerDocument}function wv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function pm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gm=null;function gw(){var t=window.event;return t&&t.type==="popstate"?t===gm?!1:(gm=t,!0):(gm=null,!1)}var Cv=typeof setTimeout=="function"?setTimeout:void 0,yw=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,_w=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(t){return Iv.resolve(null).then(t).catch(vw)}:Cv;function vw(t){setTimeout(function(){throw t})}function Jr(t){return t==="head"}function Dv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),co(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[fi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ll(t.ownerDocument.body);a=f}while(a);co(i)}function Nv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function ym(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ym(a),Ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ew(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function Tw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function Ov(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Bn(t.nextSibling),t===null))return null;return t}function _m(t){return t.data==="$?"||t.data==="$~"}function vm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Sw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Em=null;function xv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Bn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Mv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Vv(t,i,a){switch(i=eh(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ll(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ra(t)}var qn=new Map,kv=new Set;function th(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var lr=se.d;se.d={f:bw,r:Aw,D:ww,C:Rw,L:Cw,m:Iw,X:Nw,S:Dw,M:Ow};function bw(){var t=lr.f(),i=Kc();return t||i}function Aw(t){var i=On(t);i!==null&&i.tag===5&&i.type==="form"?Jy(i):lr.r(t)}var oo=typeof document>"u"?null:document;function Pv(t,i,a){var l=oo;if(l&&typeof i=="string"&&i){var f=on(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),kv.has(f)||(kv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Qt(i,"link",t),At(i),l.head.appendChild(i)))}}function ww(t){lr.D(t),Pv("dns-prefetch",t,null)}function Rw(t,i){lr.C(t,i),Pv("preconnect",t,i)}function Cw(t,i,a){lr.L(t,i,a);var l=oo;if(l&&t&&i){var f='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+on(a.imageSizes)+'"]')):f+='[href="'+on(t)+'"]';var d=f;switch(i){case"style":d=lo(t);break;case"script":d=uo(t)}qn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),qn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(zl(d))||i==="script"&&l.querySelector(jl(d))||(i=l.createElement("link"),Qt(i,"link",t),At(i),l.head.appendChild(i)))}}function Iw(t,i){lr.m(t,i);var a=oo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=uo(t)}if(!qn.has(d)&&(t=S({rel:"modulepreload",href:t},i),qn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(d)))return}l=a.createElement("link"),Qt(l,"link",t),At(l),a.head.appendChild(l)}}}function Dw(t,i,a){lr.S(t,i,a);var l=oo;if(l&&t){var f=mi(l).hoistableStyles,d=lo(t);i=i||"default";var _=f.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(zl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=qn.get(d))&&Tm(t,a);var D=_=l.createElement("link");At(D),Qt(D,"link",t),D._p=new Promise(function(B,Y){D.onload=B,D.onerror=Y}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,nh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(d,_)}}}function Nw(t,i){lr.X(t,i);var a=oo;if(a&&t){var l=mi(a).hoistableScripts,f=uo(t),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(t=S({src:t,async:!0},i),(i=qn.get(f))&&Sm(t,i),d=a.createElement("script"),At(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Ow(t,i){lr.M(t,i);var a=oo;if(a&&t){var l=mi(a).hoistableScripts,f=uo(t),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(t=S({src:t,async:!0,type:"module"},i),(i=qn.get(f))&&Sm(t,i),d=a.createElement("script"),At(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Uv(t,i,a,l){var f=(f=Ce.current)?th(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=lo(a.href),a=mi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var d=mi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(zl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),d||xw(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=uo(a),a=mi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function lo(t){return'href="'+on(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function Lv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function xw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),At(i),t.head.appendChild(i))}function uo(t){return'[src="'+on(t)+'"]'}function jl(t){return"script[async]"+t}function zv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,At(l),l;var f=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Qt(l,"style",f),nh(l,a.precedence,t),i.instance=l;case"stylesheet":f=lo(a.href);var d=t.querySelector(zl(f));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=Lv(a),(f=qn.get(f))&&Tm(l,f),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Qt(d,"link",l),i.state.loading|=4,nh(d,a.precedence,t),i.instance=d;case"script":return d=uo(a.src),(f=t.querySelector(jl(d)))?(i.instance=f,At(f),f):(l=a,(f=qn.get(d))&&(l=S({},a),Sm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),At(f),Qt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,nh(l,a.precedence,t));return i.instance}function nh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Tm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ih=null;function jv(t,i,a){if(ih===null){var l=new Map,f=ih=new Map;f.set(a,l)}else f=ih,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[fi]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Bv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Mw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function qv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Vw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=lo(l.href),d=i.querySelector(zl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=rh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=Lv(l),(f=qn.get(f))&&Tm(l,f),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=rh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var bm=0;function kw(t,i){return t.stylesheets&&t.count===0&&ah(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ah(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&bm===0&&(bm=62500*pw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ah(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>bm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function rh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ah(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sh=null;function ah(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sh=new Map,i.forEach(Pw,t),sh=null,rh.call(t))}function Pw(t,i){if(!(i.state.loading&4)){var a=sh.get(t);if(a)var l=a.get(null);else{a=new Map,sh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=rh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Bl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Uw(t,i,a,l,f,d,_,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Fv(t,i,a,l,f,d,_,T,D,B,Y,J){return t=new Uw(t,i,a,_,D,B,Y,J,T),i=1,d===!0&&(i|=24),d=En(3,null,null,i),t.current=d,d.stateNode=t,i=nd(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},ad(d),t}function Hv(t){return t?(t=ja,t):ja}function Gv(t,i,a,l,f,d){f=Hv(f),l.context===null?l.context=f:l.pendingContext=f,l=Br(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=qr(t,l,i),a!==null&&(dn(a,t,i),vl(a,t,i))}function Kv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Am(t,i){Kv(t,i),(t=t.alternate)&&Kv(t,i)}function Qv(t){if(t.tag===13||t.tag===31){var i=Fs(t,67108864);i!==null&&dn(i,t,67108864),Am(t,67108864)}}function Yv(t){if(t.tag===13||t.tag===31){var i=wn();i=Os(i);var a=Fs(t,i);a!==null&&dn(a,t,i),Am(t,i)}}var oh=!0;function Lw(t,i,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=2,wm(t,i,a,l)}finally{se.p=d,X.T=f}}function zw(t,i,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=8,wm(t,i,a,l)}finally{se.p=d,X.T=f}}function wm(t,i,a,l){if(oh){var f=Rm(l);if(f===null)hm(t,i,l,lh,a),$v(t,l);else if(Bw(f,t,i,a,l))l.stopPropagation();else if($v(t,l),i&4&&-1<jw.indexOf(t)){for(;f!==null;){var d=On(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=li(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-pt(_);T.entanglements[1]|=D,_&=~D}Ci(d),(Fe&6)===0&&(Hc=nn()+500,kl(0))}}break;case 31:case 13:T=Fs(d,2),T!==null&&dn(T,d,2),Kc(),Am(d,2)}if(d=Rm(l),d===null&&hm(t,i,l,lh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else hm(t,i,l,null,a)}}function Rm(t){return t=xn(t),Cm(t)}var lh=null;function Cm(t){if(lh=null,t=di(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return lh=t,null}function Xv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cs()){case Ho:return 2;case Go:return 8;case Rr:case Mf:return 32;case ju:return 268435456;default:return 32}default:return 32}}var Im=!1,Zr=null,es=null,ts=null,ql=new Map,Fl=new Map,ns=[],jw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $v(t,i){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(i.pointerId)}}function Hl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=On(i),i!==null&&Qv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Bw(t,i,a,l,f){switch(i){case"focusin":return Zr=Hl(Zr,t,i,a,l,f),!0;case"dragenter":return es=Hl(es,t,i,a,l,f),!0;case"mouseover":return ts=Hl(ts,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return ql.set(d,Hl(ql.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Fl.set(d,Hl(Fl.get(d)||null,t,i,a,l,f)),!0}return!1}function Wv(t){var i=di(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){Yv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){Yv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Rm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);il=l,a.target.dispatchEvent(l),il=null}else return i=On(a),i!==null&&Qv(i),t.blockedOn=a,!1;i.shift()}return!0}function Jv(t,i,a){uh(t)&&a.delete(i)}function qw(){Im=!1,Zr!==null&&uh(Zr)&&(Zr=null),es!==null&&uh(es)&&(es=null),ts!==null&&uh(ts)&&(ts=null),ql.forEach(Jv),Fl.forEach(Jv)}function ch(t,i){t.blockedOn===i&&(t.blockedOn=null,Im||(Im=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qw)))}var hh=null;function Zv(t){hh!==t&&(hh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hh===t&&(hh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Cm(l||a)===null)continue;break}var d=On(a);d!==null&&(t.splice(i,3),i-=3,Rd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function co(t){function i(D){return ch(D,t)}Zr!==null&&ch(Zr,t),es!==null&&ch(es,t),ts!==null&&ch(ts,t),ql.forEach(i),Fl.forEach(i);for(var a=0;a<ns.length;a++){var l=ns[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)Wv(a),a.blockedOn===null&&ns.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Lt]||null;if(typeof d=="function")_||Zv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Lt]||null)T=_.formAction;else if(Cm(f)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Zv(a)}}}function eE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Dm(t){this._internalRoot=t}fh.prototype.render=Dm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();Gv(a,l,t,i,null,null)},fh.prototype.unmount=Dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Gv(t.current,2,null,t,null,null),Kc(),i[hi]=null}};function fh(t){this._internalRoot=t}fh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ku();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ns.length&&i!==0&&i<ns[a].priority;a++);ns.splice(a,0,t),a===0&&Wv(t)}};var tE=e.version;if(tE!=="19.2.0")throw Error(s(527,tE,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Fw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{Hn=dh.inject(Fw),qt=dh}catch{}}return Kl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=l_,d=u_,_=c_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Fv(t,1,!1,null,null,a,l,null,f,d,_,eE),t[hi]=i.current,cm(t),new Dm(i)},Kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=l_,_=u_,T=c_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=Fv(t,1,!0,i,a??null,l,f,D,d,_,T,eE),i.context=Hv(null),a=i.current,l=wn(),l=Os(l),f=Br(l),f.callback=null,qr(a,f,l),a=l,i.current.lanes=a,Ds(i,a),Ci(i),t[hi]=i.current,cm(t),new fh(i)},Kl.version="19.2.0",Kl}var hE;function e1(){if(hE)return xm.exports;hE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xm.exports=Zw(),xm.exports}var t1=e1();const n1=Gw(t1);var fE="popstate";function i1(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return ep("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:lu(o)}return s1(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r1(){return Math.random().toString(36).substring(2,10)}function dE(r,e){return{usr:r.state,key:r.key,idx:e}}function ep(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Oo(e):e,state:n,key:e&&e.key||s||r1()}}function lu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Oo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function s1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function S(){m="POP";let O=E(),$=O==null?null:O-g;g=O,p&&p({action:m,location:Q.location,delta:$})}function A(O,$){m="PUSH";let te=ep(Q.location,O,$);g=E()+1;let ie=dE(te,g),ue=Q.createHref(te);try{h.pushState(ie,"",ue)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;o.location.assign(ue)}u&&p&&p({action:m,location:Q.location,delta:1})}function P(O,$){m="REPLACE";let te=ep(Q.location,O,$);g=E();let ie=dE(te,g),ue=Q.createHref(te);h.replaceState(ie,"",ue),u&&p&&p({action:m,location:Q.location,delta:0})}function F(O){return a1(O)}let Q={get action(){return m},get location(){return r(o,h)},listen(O){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(fE,S),p=O,()=>{o.removeEventListener(fE,S),p=null}},createHref(O){return e(o,O)},createURL:F,encodeLocation(O){let $=F(O);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:P,go(O){return h.go(O)}};return Q}function a1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:lu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function t0(r,e,n="/"){return o1(r,e,n,!1)}function o1(r,e,n,s){let o=typeof e=="string"?Oo(e):e,u=gr(o.pathname||"/",n);if(u==null)return null;let h=n0(r);l1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=v1(u);m=y1(h[p],g,s)}return m}function n0(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=hr([s,E.relativePath]),A=n.concat(E);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),n0(h.children,e,A,S,p)),!(h.path==null&&!h.index)&&e.push({path:S,score:p1(S,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of i0(h.path))u(h,m,!0,p)}),e}function i0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=i0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function l1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:g1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var u1=/^:[\w-]+$/,c1=3,h1=2,f1=1,d1=10,m1=-2,mE=r=>r==="*";function p1(r,e){let n=r.split("/"),s=n.length;return n.some(mE)&&(s+=m1),e&&(s+=h1),n.filter(o=>!mE(o)).reduce((o,u)=>o+(u1.test(u)?c1:u===""?f1:d1),s)}function g1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function y1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=kh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=kh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:hr([u,S.pathname]),pathnameBase:b1(hr([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=hr([u,S.pathnameBase]))}return h}function kh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=_1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},A)=>{if(E==="*"){let F=m[A]||"";h=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const P=m[A];return S&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function _1(r,e=!1,n=!0){zi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function v1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function gr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function E1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Oo(r):r;return{pathname:n?n.startsWith("/")?n:T1(n,e):e,search:A1(s),hash:w1(o)}}function T1(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function r0(r){let e=S1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function s0(r,e,n,s=!1){let o;typeof r=="string"?o=Oo(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Pm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Pm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Pm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let S=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}m=S>=0?e[S]:"/"}let p=E1(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var hr=r=>r.join("/").replace(/\/\/+/g,"/"),b1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),A1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,w1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function R1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var a0=["POST","PUT","PATCH","DELETE"];new Set(a0);var C1=["GET",...a0];new Set(C1);var xo=H.createContext(null);xo.displayName="DataRouter";var rf=H.createContext(null);rf.displayName="DataRouterState";H.createContext(!1);var o0=H.createContext({isTransitioning:!1});o0.displayName="ViewTransition";var I1=H.createContext(new Map);I1.displayName="Fetchers";var D1=H.createContext(null);D1.displayName="Await";var qi=H.createContext(null);qi.displayName="Navigation";var Eu=H.createContext(null);Eu.displayName="Location";var Sr=H.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var Op=H.createContext(null);Op.displayName="RouteError";function N1(r,{relative:e}={}){ut(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(qi),{hash:o,pathname:u,search:h}=Su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:hr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Tu(){return H.useContext(Eu)!=null}function ga(){return ut(Tu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Eu).location}var l0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u0(r){H.useContext(qi).static||H.useLayoutEffect(r)}function sf(){let{isDataRoute:r}=H.useContext(Sr);return r?F1():O1()}function O1(){ut(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(xo),{basename:e,navigator:n}=H.useContext(qi),{matches:s}=H.useContext(Sr),{pathname:o}=ga(),u=JSON.stringify(r0(s)),h=H.useRef(!1);return u0(()=>{h.current=!0}),H.useCallback((p,g={})=>{if(zi(h.current,l0),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=s0(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:hr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}H.createContext(null);function Su(r,{relative:e}={}){let{matches:n}=H.useContext(Sr),{pathname:s}=ga(),o=JSON.stringify(r0(n));return H.useMemo(()=>s0(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function x1(r,e){return c0(r,e)}function c0(r,e,n,s,o){ut(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=H.useContext(qi),{matches:h}=H.useContext(Sr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let te=S&&S.path||"";h0(g,!S||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let A=ga(),P;if(e){let te=typeof e=="string"?Oo(e):e;ut(E==="/"||te.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),P=te}else P=A;let F=P.pathname||"/",Q=F;if(E!=="/"){let te=E.replace(/^\//,"").split("/");Q="/"+F.replace(/^\//,"").split("/").slice(te.length).join("/")}let O=t0(r,{pathname:Q});zi(S||O!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),zi(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=U1(O&&O.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:hr([E,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:hr([E,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),h,n,s,o);return e&&$?H.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},$):$}function M1(){let r=q1(),e=R1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,h)}var V1=H.createElement(M1,null),k1=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?H.createElement(Sr.Provider,{value:this.props.routeContext},H.createElement(Op.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function P1({routeContext:r,match:e,children:n}){let s=H.useContext(xo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Sr.Provider,{value:r},n)}function U1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let g=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:S,errors:A}=n,P=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!A||A[E.route.id]===void 0);if(E.route.lazy||P){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,E,S)=>{let A,P=!1,F=null,Q=null;n&&(A=h&&E.route.id?h[E.route.id]:void 0,F=E.route.errorElement||V1,m&&(p<0&&S===0?(h0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,Q=null):p===S&&(P=!0,Q=E.route.hydrateFallbackElement||null)));let O=e.concat(u.slice(0,S+1)),$=()=>{let te;return A?te=F:P?te=Q:E.route.Component?te=H.createElement(E.route.Component,null):E.route.element?te=E.route.element:te=g,H.createElement(P1,{match:E,routeContext:{outlet:g,matches:O,isDataRoute:n!=null},children:te})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?H.createElement(k1,{location:n.location,revalidation:n.revalidation,component:F,error:A,children:$(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:s}):$()},null)}function xp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L1(r){let e=H.useContext(xo);return ut(e,xp(r)),e}function z1(r){let e=H.useContext(rf);return ut(e,xp(r)),e}function j1(r){let e=H.useContext(Sr);return ut(e,xp(r)),e}function Mp(r){let e=j1(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function B1(){return Mp("useRouteId")}function q1(){let r=H.useContext(Op),e=z1("useRouteError"),n=Mp("useRouteError");return r!==void 0?r:e.errors?.[n]}function F1(){let{router:r}=L1("useNavigate"),e=Mp("useNavigate"),n=H.useRef(!1);return u0(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{zi(n.current,l0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var pE={};function h0(r,e,n){!e&&!pE[r]&&(pE[r]=!0,zi(!1,n))}H.memo(H1);function H1({routes:r,future:e,state:n,unstable_onError:s}){return c0(r,void 0,n,s,e)}function na(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Oo(n));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:A="default"}=n,P=H.useMemo(()=>{let F=gr(p,h);return F==null?null:{location:{pathname:F,search:g,hash:E,state:S,key:A},navigationType:s}},[h,p,g,E,S,A,s]);return zi(P!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:H.createElement(qi.Provider,{value:m},H.createElement(Eu.Provider,{children:e,value:P}))}function K1({children:r,location:e}){return x1(tp(r),e)}function tp(r,e=[]){let n=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,tp(s.props.children,u));return}ut(s.type===na,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=tp(s.props.children,u)),n.push(h)}),n}var bh="get",Ah="application/x-www-form-urlencoded";function af(r){return r!=null&&typeof r.tagName=="string"}function Q1(r){return af(r)&&r.tagName.toLowerCase()==="button"}function Y1(r){return af(r)&&r.tagName.toLowerCase()==="form"}function X1(r){return af(r)&&r.tagName.toLowerCase()==="input"}function $1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function W1(r,e){return r.button===0&&(!e||e==="_self")&&!$1(r)}var mh=null;function J1(){if(mh===null)try{new FormData(document.createElement("form"),0),mh=!1}catch{mh=!0}return mh}var Z1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Um(r){return r!=null&&!Z1.has(r)?(zi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):r}function eR(r,e){let n,s,o,u,h;if(Y1(r)){let m=r.getAttribute("action");s=m?gr(m,e):null,n=r.getAttribute("method")||bh,o=Um(r.getAttribute("enctype"))||Ah,u=new FormData(r)}else if(Q1(r)||X1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?gr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||bh,o=Um(r.getAttribute("formenctype"))||Um(m.getAttribute("enctype"))||Ah,u=new FormData(m,r),!J1()){let{name:g,type:E,value:S}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,S)}}else{if(af(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bh,s=null,o=Ah,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tR(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&gr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function nR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function rR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await nR(u,n);return h.links?h.links():[]}return[]}));return lR(s.flat(1).filter(iR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function gE(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function sR(r,e,{includeHydrateFallback:n}={}){return aR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function aR(r){return[...new Set(r)]}function oR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function lR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(oR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function f0(){let r=H.useContext(xo);return Vp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function uR(){let r=H.useContext(rf);return Vp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var kp=H.createContext(void 0);kp.displayName="FrameworkContext";function d0(){let r=H.useContext(kp);return Vp(r,"You must render this element inside a <HydratedRouter> element"),r}function cR(r,e){let n=H.useContext(kp),[s,o]=H.useState(!1),[u,h]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,A=H.useRef(null);H.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Q=$=>{$.forEach(te=>{h(te.isIntersecting)})},O=new IntersectionObserver(Q,{threshold:.5});return A.current&&O.observe(A.current),()=>{O.disconnect()}}},[r]),H.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let P=()=>{o(!0)},F=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Ql(m,P),onBlur:Ql(p,F),onMouseEnter:Ql(g,P),onMouseLeave:Ql(E,F),onTouchStart:Ql(S,P)}]:[!1,A,{}]}function Ql(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function hR({page:r,...e}){let{router:n}=f0(),s=H.useMemo(()=>t0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?H.createElement(dR,{page:r,matches:s,...e}):null}function fR(r){let{manifest:e,routeModules:n}=d0(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return rR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function dR({page:r,matches:e,...n}){let s=ga(),{manifest:o,routeModules:u}=d0(),{basename:h}=f0(),{loaderData:m,matches:p}=uR(),g=H.useMemo(()=>gE(r,e,p,o,s,"data"),[r,e,p,o,s]),E=H.useMemo(()=>gE(r,e,p,o,s,"assets"),[r,e,p,o,s]),S=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,Q=!1;if(e.forEach($=>{let te=o.routes[$.route.id];!te||!te.hasLoader||(!g.some(ie=>ie.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||te.hasClientLoader?Q=!0:F.add($.route.id))}),F.size===0)return[];let O=tR(r,h,"data");return Q&&F.size>0&&O.searchParams.set("_routes",e.filter($=>F.has($.route.id)).map($=>$.route.id).join(",")),[O.pathname+O.search]},[h,m,s,o,g,e,r,u]),A=H.useMemo(()=>sR(E,o),[E,o]),P=fR(E);return H.createElement(H.Fragment,null,S.map(F=>H.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),A.map(F=>H.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),P.map(({key:F,link:Q})=>H.createElement("link",{key:F,nonce:n.nonce,...Q})))}function mR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var m0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m0&&(window.__reactRouterVersion="7.9.5")}catch{}function pR({basename:r,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=i1({window:n,v5Compat:!0}));let o=s.current,[u,h]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>h(p))},[h]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(G1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var p0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ra=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...A},P){let{basename:F}=H.useContext(qi),Q=typeof g=="string"&&p0.test(g),O,$=!1;if(typeof g=="string"&&Q&&(O=g,m0))try{let R=new URL(window.location.href),k=g.startsWith("//")?new URL(R.protocol+g):new URL(g),x=gr(k.pathname,F);k.origin===R.origin&&x!=null?g=x+k.search+k.hash:$=!0}catch{zi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=N1(g,{relative:o}),[ie,ue,ye]=cR(s,A),Ee=vR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function C(R){e&&e(R),R.defaultPrevented||Ee(R)}let w=H.createElement("a",{...A,...ye,href:O||te,onClick:$||u?e:C,ref:mR(P,ue),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return ie&&!Q?H.createElement(H.Fragment,null,w,H.createElement(hR,{page:te})):w});ra.displayName="Link";var gR=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let S=Su(h,{relative:g.relative}),A=ga(),P=H.useContext(rf),{navigator:F,basename:Q}=H.useContext(qi),O=P!=null&&AR(S)&&m===!0,$=F.encodeLocation?F.encodeLocation(S).pathname:S.pathname,te=A.pathname,ie=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(te=te.toLowerCase(),ie=ie?ie.toLowerCase():null,$=$.toLowerCase()),ie&&Q&&(ie=gr(ie,Q)||ie);const ue=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ye=te===$||!o&&te.startsWith($)&&te.charAt(ue)==="/",Ee=ie!=null&&(ie===$||!o&&ie.startsWith($)&&ie.charAt($.length)==="/"),C={isActive:ye,isPending:Ee,isTransitioning:O},w=ye?e:void 0,R;typeof s=="function"?R=s(C):R=[s,ye?"active":null,Ee?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(C):u;return H.createElement(ra,{...g,"aria-current":w,className:R,ref:E,style:k,to:h,viewTransition:m},typeof p=="function"?p(C):p)});gR.displayName="NavLink";var yR=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=bh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...A},P)=>{let F=SR(),Q=bR(m,{relative:g}),O=h.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&p0.test(m),te=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let ue=ie.nativeEvent.submitter,ye=ue?.getAttribute("formmethod")||h;F(ue||ie.currentTarget,{fetcherKey:e,method:ye,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return H.createElement("form",{ref:P,method:O,action:Q,onSubmit:s?p:te,...A,"data-discover":!$&&r==="render"?"true":void 0})});yR.displayName="Form";function _R(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g0(r){let e=H.useContext(xo);return ut(e,_R(r)),e}function vR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=sf(),p=ga(),g=Su(r,{relative:u});return H.useCallback(E=>{if(W1(E,e)){E.preventDefault();let S=n!==void 0?n:lu(p)===lu(g);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,r,o,u,h])}var ER=0,TR=()=>`__${String(++ER)}__`;function SR(){let{router:r}=g0("useSubmit"),{basename:e}=H.useContext(qi),n=B1();return H.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=eR(s,e);if(o.navigate===!1){let E=o.fetcherKey||TR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function bR(r,{relative:e}={}){let{basename:n}=H.useContext(qi),s=H.useContext(Sr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Su(r||".",{relative:e})},h=ga();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:hr([n,u.pathname])),lu(u)}function AR(r,{relative:e}={}){let n=H.useContext(o0);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=g0("useViewTransitionState"),o=Su(r,{relative:e});if(!n.isTransitioning)return!1;let u=gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return kh(o.pathname,h)!=null||kh(o.pathname,u)!=null}const wR=()=>{};var yE={};const y0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},RR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,P=g&63;p||(P=64,h||(A=64)),s.push(n[E],n[S],n[A],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(y0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):RR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new CR;const A=u<<2|m>>4;if(s.push(A),g!==64){const P=m<<4&240|g>>2;if(s.push(P),S!==64){const F=g<<6&192|S;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class CR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IR=function(r){const e=y0(r);return _0.encodeByteArray(e,!0)},Ph=function(r){return IR(r).replace(/\./g,"")},v0=function(r){try{return _0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function DR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const NR=()=>DR().__FIREBASE_DEFAULTS__,OR=()=>{if(typeof process>"u"||typeof yE>"u")return;const r=yE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&v0(r[1]);return e&&JSON.parse(e)},of=()=>{try{return wR()||NR()||OR()||xR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},E0=r=>of()?.emulatorHosts?.[r],T0=r=>{const e=E0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},S0=()=>of()?.config,b0=r=>of()?.[`_${r}`];class MR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ss(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Pp(r){return(await fetch(r,{credentials:"include"})).ok}function A0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ph(JSON.stringify(n)),Ph(JSON.stringify(h)),""].join(".")}const tu={};function VR(){const r={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?r.emulator.push(e):r.prod.push(e);return r}function kR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let _E=!1;function Up(r,e){if(typeof window>"u"||typeof document>"u"||!Ss(window.location.host)||tu[r]===e||tu[r]||_E)return;tu[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=VR().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,P){A.setAttribute("width","24"),A.setAttribute("id",P),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{_E=!0,h()},A}function E(A,P){A.setAttribute("id",P),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=kR(s),P=n("text"),F=document.getElementById(P)||document.createElement("span"),Q=n("learnmore"),O=document.getElementById(Q)||document.createElement("a"),$=n("preprendIcon"),te=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),E(O,Q);const ue=g();p(te,$),ie.append(te,F,O,ue),document.body.appendChild(ie)}u?(F.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function UR(){const r=of()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function jR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BR(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qR(){return!UR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FR(){try{return typeof indexedDB=="object"}catch{return!1}}function HR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const GR="FirebaseError";class Fi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=GR,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?KR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Fi(o,m,s)}}function KR(r,e){return r.replace(QR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const QR=/\{\$([^}]+)}/g;function YR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ua(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(vE(u)&&vE(h)){if(!ua(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function vE(r){return r!==null&&typeof r=="object"}function Au(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Xl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function $l(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function XR(r,e){const n=new $R(r,e);return n.subscribe.bind(n)}class $R{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");WR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Lm),o.error===void 0&&(o.error=Lm),o.complete===void 0&&(o.complete=Lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Lm(){}function ct(r){return r&&r._delegate?r._delegate:r}class ps{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class JR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new MR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eC(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZR(r){return r===ia?void 0:r}function eC(r){return r.instantiationMode==="EAGER"}class tC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const nC={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},iC=Me.INFO,rC={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},sC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=rC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lp{constructor(e){this.name=e,this._logLevel=iC,this._logHandler=sC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const aC=(r,e)=>e.some(n=>r instanceof n);let EE,TE;function oC(){return EE||(EE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lC(){return TE||(TE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w0=new WeakMap,np=new WeakMap,R0=new WeakMap,zm=new WeakMap,zp=new WeakMap;function uC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(hs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&w0.set(n,r)}).catch(()=>{}),zp.set(e,r),e}function cC(r){if(np.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});np.set(r,e)}let ip={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return np.get(r);if(e==="objectStoreNames")return r.objectStoreNames||R0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function hC(r){ip=r(ip)}function fC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(jm(this),e,...n);return R0.set(s,e.sort?e.sort():[e]),hs(s)}:lC().includes(r)?function(...e){return r.apply(jm(this),e),hs(w0.get(this))}:function(...e){return hs(r.apply(jm(this),e))}}function dC(r){return typeof r=="function"?fC(r):(r instanceof IDBTransaction&&cC(r),aC(r,oC())?new Proxy(r,ip):r)}function hs(r){if(r instanceof IDBRequest)return uC(r);if(zm.has(r))return zm.get(r);const e=dC(r);return e!==r&&(zm.set(r,e),zp.set(e,r)),e}const jm=r=>zp.get(r);function mC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=hs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(hs(h.result),p.oldVersion,p.newVersion,hs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const pC=["get","getKey","getAll","getAllKeys","count"],gC=["put","add","delete","clear"],Bm=new Map;function SE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Bm.get(e))return Bm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=gC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||pC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Bm.set(e,u),u}hC(r=>({...r,get:(e,n,s)=>SE(e,n)||r.get(e,n,s),has:(e,n)=>!!SE(e,n)||r.has(e,n)}));class yC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_C(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _C(r){return r.getComponent()?.type==="VERSION"}const rp="@firebase/app",bE="0.14.5";const yr=new Lp("@firebase/app"),vC="@firebase/app-compat",EC="@firebase/analytics-compat",TC="@firebase/analytics",SC="@firebase/app-check-compat",bC="@firebase/app-check",AC="@firebase/auth",wC="@firebase/auth-compat",RC="@firebase/database",CC="@firebase/data-connect",IC="@firebase/database-compat",DC="@firebase/functions",NC="@firebase/functions-compat",OC="@firebase/installations",xC="@firebase/installations-compat",MC="@firebase/messaging",VC="@firebase/messaging-compat",kC="@firebase/performance",PC="@firebase/performance-compat",UC="@firebase/remote-config",LC="@firebase/remote-config-compat",zC="@firebase/storage",jC="@firebase/storage-compat",BC="@firebase/firestore",qC="@firebase/ai",FC="@firebase/firestore-compat",HC="firebase",GC="12.5.0";const sp="[DEFAULT]",KC={[rp]:"fire-core",[vC]:"fire-core-compat",[TC]:"fire-analytics",[EC]:"fire-analytics-compat",[bC]:"fire-app-check",[SC]:"fire-app-check-compat",[AC]:"fire-auth",[wC]:"fire-auth-compat",[RC]:"fire-rtdb",[CC]:"fire-data-connect",[IC]:"fire-rtdb-compat",[DC]:"fire-fn",[NC]:"fire-fn-compat",[OC]:"fire-iid",[xC]:"fire-iid-compat",[MC]:"fire-fcm",[VC]:"fire-fcm-compat",[kC]:"fire-perf",[PC]:"fire-perf-compat",[UC]:"fire-rc",[LC]:"fire-rc-compat",[zC]:"fire-gcs",[jC]:"fire-gcs-compat",[BC]:"fire-fst",[FC]:"fire-fst-compat",[qC]:"fire-vertex","fire-js":"fire-js",[HC]:"fire-js-all"};const Uh=new Map,QC=new Map,ap=new Map;function AE(r,e){try{r.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ca(r){const e=r.name;if(ap.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;ap.set(e,r);for(const n of Uh.values())AE(n,r);for(const n of QC.values())AE(n,r);return!0}function lf(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Rn(r){return r==null?!1:r.settings!==void 0}const YC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new bu("app","Firebase",YC);class XC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}const ya=GC;function C0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:sp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(n||(n=S0()),!n)throw fs.create("no-options");const u=Uh.get(o);if(u){if(ua(n,u.options)&&ua(s,u.config))return u;throw fs.create("duplicate-app",{appName:o})}const h=new tC(o);for(const p of ap.values())h.addComponent(p);const m=new XC(n,s,h);return Uh.set(o,m),m}function jp(r=sp){const e=Uh.get(r);if(!e&&r===sp&&S0())return C0();if(!e)throw fs.create("no-app",{appName:r});return e}function xi(r,e,n){let s=KC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(h.join(" "));return}ca(new ps(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const $C="firebase-heartbeat-database",WC=1,uu="firebase-heartbeat-store";let qm=null;function I0(){return qm||(qm=mC($C,WC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(r=>{throw fs.create("idb-open",{originalErrorMessage:r.message})})),qm}async function JC(r){try{const n=(await I0()).transaction(uu),s=await n.objectStore(uu).get(D0(r));return await n.done,s}catch(e){if(e instanceof Fi)yr.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e?.message});yr.warn(n.message)}}}async function wE(r,e){try{const s=(await I0()).transaction(uu,"readwrite");await s.objectStore(uu).put(e,D0(r)),await s.done}catch(n){if(n instanceof Fi)yr.warn(n.message);else{const s=fs.create("idb-set",{originalErrorMessage:n?.message});yr.warn(s.message)}}}function D0(r){return`${r.name}!${r.options.appId}`}const ZC=1024,eI=30;class tI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=RE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>eI){const o=rI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=RE(),{heartbeatsToSend:n,unsentEntries:s}=nI(this._heartbeatsCache.heartbeats),o=Ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return yr.warn(e),""}}}function RE(){return new Date().toISOString().substring(0,10)}function nI(r,e=ZC){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),CE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),CE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class iI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FR()?HR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function CE(r){return Ph(JSON.stringify({version:2,heartbeats:r})).length}function rI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function sI(r){ca(new ps("platform-logger",e=>new yC(e),"PRIVATE")),ca(new ps("heartbeat",e=>new tI(e),"PRIVATE")),xi(rp,bE,r),xi(rp,bE,"esm2020"),xi("fire-js","")}sI("");var aI="firebase",oI="12.5.0";xi(aI,oI,"app");var IE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ds,N0;(function(){var r;function e(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(k,x,L){for(var I=Array(arguments.length-2),st=2;st<arguments.length;st++)I[st-2]=arguments[st];return w.prototype[x].apply(k,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,R){R||(R=0);const k=Array(16);if(typeof w=="string")for(var x=0;x<16;++x)k[x]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(x=0;x<16;++x)k[x]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],x=C.g[2];let L=C.g[3],I;I=w+(L^R&(x^L))+k[0]+3614090360&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(x^w&(R^x))+k[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(R^L&(w^R))+k[2]+606105819&4294967295,x=L+(I<<17&4294967295|I>>>15),I=R+(w^x&(L^w))+k[3]+3250441966&4294967295,R=x+(I<<22&4294967295|I>>>10),I=w+(L^R&(x^L))+k[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(x^w&(R^x))+k[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(R^L&(w^R))+k[6]+2821735955&4294967295,x=L+(I<<17&4294967295|I>>>15),I=R+(w^x&(L^w))+k[7]+4249261313&4294967295,R=x+(I<<22&4294967295|I>>>10),I=w+(L^R&(x^L))+k[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(x^w&(R^x))+k[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(R^L&(w^R))+k[10]+4294925233&4294967295,x=L+(I<<17&4294967295|I>>>15),I=R+(w^x&(L^w))+k[11]+2304563134&4294967295,R=x+(I<<22&4294967295|I>>>10),I=w+(L^R&(x^L))+k[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(x^w&(R^x))+k[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(R^L&(w^R))+k[14]+2792965006&4294967295,x=L+(I<<17&4294967295|I>>>15),I=R+(w^x&(L^w))+k[15]+1236535329&4294967295,R=x+(I<<22&4294967295|I>>>10),I=w+(x^L&(R^x))+k[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^x&(w^R))+k[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^R&(L^w))+k[11]+643717713&4294967295,x=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(x^L))+k[0]+3921069994&4294967295,R=x+(I<<20&4294967295|I>>>12),I=w+(x^L&(R^x))+k[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^x&(w^R))+k[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^R&(L^w))+k[15]+3634488961&4294967295,x=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(x^L))+k[4]+3889429448&4294967295,R=x+(I<<20&4294967295|I>>>12),I=w+(x^L&(R^x))+k[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^x&(w^R))+k[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^R&(L^w))+k[3]+4107603335&4294967295,x=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(x^L))+k[8]+1163531501&4294967295,R=x+(I<<20&4294967295|I>>>12),I=w+(x^L&(R^x))+k[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^x&(w^R))+k[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^R&(L^w))+k[7]+1735328473&4294967295,x=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(x^L))+k[12]+2368359562&4294967295,R=x+(I<<20&4294967295|I>>>12),I=w+(R^x^L)+k[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^x)+k[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^R)+k[11]+1839030562&4294967295,x=L+(I<<16&4294967295|I>>>16),I=R+(x^L^w)+k[14]+4259657740&4294967295,R=x+(I<<23&4294967295|I>>>9),I=w+(R^x^L)+k[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^x)+k[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^R)+k[7]+4139469664&4294967295,x=L+(I<<16&4294967295|I>>>16),I=R+(x^L^w)+k[10]+3200236656&4294967295,R=x+(I<<23&4294967295|I>>>9),I=w+(R^x^L)+k[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^x)+k[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^R)+k[3]+3572445317&4294967295,x=L+(I<<16&4294967295|I>>>16),I=R+(x^L^w)+k[6]+76029189&4294967295,R=x+(I<<23&4294967295|I>>>9),I=w+(R^x^L)+k[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^x)+k[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^R)+k[15]+530742520&4294967295,x=L+(I<<16&4294967295|I>>>16),I=R+(x^L^w)+k[2]+3299628645&4294967295,R=x+(I<<23&4294967295|I>>>9),I=w+(x^(R|~L))+k[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~x))+k[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~R))+k[14]+2878612391&4294967295,x=L+(I<<15&4294967295|I>>>17),I=R+(L^(x|~w))+k[5]+4237533241&4294967295,R=x+(I<<21&4294967295|I>>>11),I=w+(x^(R|~L))+k[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~x))+k[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~R))+k[10]+4293915773&4294967295,x=L+(I<<15&4294967295|I>>>17),I=R+(L^(x|~w))+k[1]+2240044497&4294967295,R=x+(I<<21&4294967295|I>>>11),I=w+(x^(R|~L))+k[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~x))+k[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~R))+k[6]+2734768916&4294967295,x=L+(I<<15&4294967295|I>>>17),I=R+(L^(x|~w))+k[13]+1309151649&4294967295,R=x+(I<<21&4294967295|I>>>11),I=w+(x^(R|~L))+k[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~x))+k[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~R))+k[2]+718787259&4294967295,x=L+(I<<15&4294967295|I>>>17),I=R+(L^(x|~w))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,k=this.C;let x=this.h,L=0;for(;L<w;){if(x==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(k[x++]=C.charCodeAt(L++),x==this.blockSize){o(this,k),x=0;break}}else for(;L<w;)if(k[x++]=C[L++],x==this.blockSize){o(this,k),x=0;break}}this.h=x,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)C[w++]=this.g[R]>>>k&255;return C};function u(C,w){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function h(C,w){this.h=w;const R=[];let k=!0;for(let x=C.length-1;x>=0;x--){const L=C[x]|0;k&&L==w||(R[x]=L,k=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new h([w|0],w<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return O(g(-C));const w=[];let R=1;for(let k=0;C>=R;k++)w[k]=C/R|0,R*=4294967296;return new h(w,0)}function E(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return O(E(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let k=S;for(let L=0;L<C.length;L+=8){var x=Math.min(8,C.length-L);const I=parseInt(C.substring(L,L+x),w);x<8?(x=g(Math.pow(w,x)),k=k.j(x).add(g(I))):(k=k.j(R),k=k.add(g(I)))}return k}var S=p(0),A=p(1),P=p(16777216);r=h.prototype,r.m=function(){if(Q(this))return-O(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);C+=(k>=0?k:4294967296+k)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(F(this))return"0";if(Q(this))return"-"+O(this).toString(C);const w=g(Math.pow(C,6));var R=this;let k="";for(;;){const x=ue(R,w).g;R=$(R,x.j(w));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=x,F(R))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function F(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function Q(C){return C.h==-1}r.l=function(C){return C=$(this,C),Q(C)?-1:F(C)?0:1};function O(C){const w=C.g.length,R=[];for(let k=0;k<w;k++)R[k]=~C.g[k];return new h(R,~C.h).add(A)}r.abs=function(){return Q(this)?O(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let k=0;for(let x=0;x<=w;x++){let L=k+(this.i(x)&65535)+(C.i(x)&65535),I=(L>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);k=I>>>16,L&=65535,I&=65535,R[x]=I<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function $(C,w){return C.add(O(w))}r.j=function(C){if(F(this)||F(C))return S;if(Q(this))return Q(C)?O(this).j(O(C)):O(O(this).j(C));if(Q(C))return O(this.j(O(C)));if(this.l(P)<0&&C.l(P)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var k=0;k<2*w;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let x=0;x<C.g.length;x++){const L=this.i(k)>>>16,I=this.i(k)&65535,st=C.i(x)>>>16,Mt=C.i(x)&65535;R[2*k+2*x]+=I*Mt,te(R,2*k+2*x),R[2*k+2*x+1]+=L*Mt,te(R,2*k+2*x+1),R[2*k+2*x+1]+=I*st,te(R,2*k+2*x+1),R[2*k+2*x+2]+=L*st,te(R,2*k+2*x+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new h(R,0)};function te(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ie(C,w){this.g=C,this.h=w}function ue(C,w){if(F(w))throw Error("division by zero");if(F(C))return new ie(S,S);if(Q(C))return w=ue(O(C),w),new ie(O(w.g),O(w.h));if(Q(w))return w=ue(C,O(w)),new ie(O(w.g),w.h);if(C.g.length>30){if(Q(C)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,k=w;k.l(C)<=0;)R=ye(R),k=ye(k);var x=Ee(R,1),L=Ee(k,1);for(k=Ee(k,2),R=Ee(R,2);!F(k);){var I=L.add(k);I.l(C)<=0&&(x=x.add(R),L=I),k=Ee(k,1),R=Ee(R,1)}return w=$(C,x.j(w)),new ie(x,w)}for(x=S;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=g(R),I=L.j(w);Q(I)||I.l(C)>0;)R-=k,L=g(R),I=L.j(w);F(L)&&(L=A),x=x.add(L),C=$(C,I)}return new ie(x,C)}r.B=function(C){return ue(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)&C.i(k);return new h(R,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)|C.i(k);return new h(R,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)^C.i(k);return new h(R,this.h^C.h)};function ye(C){const w=C.g.length+1,R=[];for(let k=0;k<w;k++)R[k]=C.i(k)<<1|C.i(k-1)>>>31;return new h(R,C.h)}function Ee(C,w){const R=w>>5;w%=32;const k=C.g.length-R,x=[];for(let L=0;L<k;L++)x[L]=w>0?C.i(L+R)>>>w|C.i(L+R+1)<<32-w:C.i(L+R);return new h(x,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,N0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ds=h}).apply(typeof IE<"u"?IE:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var O0,Wl,x0,wh,op,M0,V0,k0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in v))break e;v=v[z]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&v.push([b,y[b]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,z,G){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return y.prototype[z].apply(b,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function F(c,y){for(let b=1;b<arguments.length;b++){const z=arguments[b];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const G=z.length||0;c.length=v+G;for(let re=0;re<G;re++)c[v+re]=z[re]}else c.push(z)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function O(c){h.setTimeout(()=>{throw c},0)}function $(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,v){const b=ie.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ie=new Q(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,Ee=!1,C=new te,w=()=>{const c=Promise.resolve(void 0);ye=()=>{c.then(R)}};function R(){for(var c;c=$();){try{c.h.call(c.g)}catch(v){O(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Ee=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function st(c,y){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}S(st,x),st.prototype.init=function(c,y){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mt="closure_listenable_"+(Math.random()*1e6|0),X=0;function se(c,y,v,b,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=z,this.key=++X,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(v in b)c[v]=b[v];for(let G=0;G<ee.length;G++)v=ee[G],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,v,b,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=Ce(c,y,b,z);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new se(y,this.src,G,!!b,z),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var b=c.g[v],z=Array.prototype.indexOf.call(b,y,void 0),G;(G=z>=0)&&Array.prototype.splice.call(b,z,1),G&&(pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,b){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==b)return z}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Vt={};function at(c,y,v,b,z){if(Array.isArray(y)){for(let G=0;G<y.length;G++)at(c,y[G],v,b,z);return null}return v=Fo(v),c&&c[Mt]?c.J(y,v,m(b)?!!b.capture:!1,z):ws(c,y,v,!1,b,z)}function ws(c,y,v,b,z,G){if(!y)throw Error("Invalid event type");const re=m(z)?!!z.capture:!!z;let we=Rs(c);if(we||(c[Ue]=we=new ce(c)),v=we.add(y,v,b,re,G),v.proxy)return v;if(b=Ta(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)L||(z=re),z===void 0&&(z=!1),c.addEventListener(y.toString(),b,z);else if(c.attachEvent)c.attachEvent(ai(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ta(){function c(v){return y.call(c.src,c.listener,v)}const y=Bo;return c}function Sa(c,y,v,b,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)Sa(c,y[G],v,b,z);else b=m(b)?!!b.capture:!!b,v=Fo(v),c&&c[Mt]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=Ce(y,v,b,z),v>-1&&(pe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=Rs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,b,z)),(v=c>-1?y[c]:null)&&ba(v))}function ba(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Mt])Te(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(ai(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=Rs(y))?(Te(v,c),v.h==0&&(v.src=null,y[Ue]=null)):pe(c)}}}function ai(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function Bo(c,y){if(c.da)c=!0;else{y=new st(y,this);const v=c.listener,b=c.ha||c.src;c.fa&&ba(c),c=v.call(b,y)}return c}function Rs(c){return c=c[Ue],c instanceof ce?c:null}var qo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fo(c){return typeof c=="function"?c:(c[qo]||(c[qo]=function(y){return c.handleEvent(y)}),c[qo])}function Tt(){k.call(this),this.i=new ce(this),this.M=this,this.G=null}S(Tt,k),Tt.prototype[Mt]=!0,Tt.prototype.removeEventListener=function(c,y,v,b){Sa(this,c,y,v,b)};function kt(c,y){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new x(y,c);else if(y instanceof x)y.target=y.target||c;else{var z=y;y=new x(b,c),ae(y,z)}z=!0;let G,re;if(v)for(re=v.length-1;re>=0;re--)G=y.g=v[re],z=wr(G,b,!0,y)&&z;if(G=y.g=c,z=wr(G,b,!0,y)&&z,z=wr(G,b,!1,y)&&z,v)for(re=0;re<v.length;re++)G=y.g=v[re],z=wr(G,b,!1,y)&&z}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let b=0;b<v.length;b++)pe(v[b]);delete c.g[y],c.h--}}this.G=null},Tt.prototype.J=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},Tt.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function wr(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let G=0;G<y.length;++G){const re=y[G];if(re&&!re.da&&re.capture==v){const we=re.listener,gt=re.ha||re.src;re.fa&&Te(c.i,re),z=we.call(gt,b)!==!1&&z}}return z&&!b.defaultPrevented}function xf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function zu(c){c.g=xf(()=>{c.g=null,c.i&&(c.i=!1,zu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends k{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(c){k.call(this),this.h=c,this.g={}}S(Cs,k);var Ho=[];function Go(c){ze(c.g,function(y,v){this.g.hasOwnProperty(v)&&ba(y)},c),c.g={}}Cs.prototype.N=function(){Cs.Z.N.call(this),Go(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=h.JSON.stringify,Mf=h.JSON.parse,ju=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Bu(){}function qu(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){x.call(this,"d")}S(qt,x);function Nn(){x.call(this,"c")}S(Nn,x);var pt={},Fu=null;function Aa(){return Fu=Fu||new Tt}pt.Ia="serverreachability";function Hu(c){x.call(this,pt.Ia,c)}S(Hu,x);function oi(c){const y=Aa();kt(y,new Hu(y))}pt.STAT_EVENT="statevent";function Is(c,y){x.call(this,pt.STAT_EVENT,c),this.stat=y}S(Is,x);function St(c){const y=Aa();kt(y,new Is(y,c))}pt.Ja="timingevent";function li(c,y){x.call(this,pt.Ja,c),this.size=y}S(li,x);function ui(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function Vf(c,y,v,b,z,G){c.info(function(){if(c.g)if(G){var re="",we=G.split("&");for(let qe=0;qe<we.length;qe++){var gt=we[qe].split("=");if(gt.length>1){const ot=gt[0];gt=gt[1];const Vn=ot.split("_");re=Vn.length>=2&&Vn[1]=="type"?re+(ot+"="+gt+"&"):re+(ot+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+y+`
`+v+`
`+re})}function Gu(c,y,v,b,z,G,re){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+y+`
`+v+`
`+G+" "+re})}function ci(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+kf(c,v)+(b?" "+b:"")})}function Ds(c,y){c.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function kf(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return Rr(G)}catch{return y}}var Ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qo;function Os(){}S(Os,Bu),Os.prototype.g=function(){return new XMLHttpRequest},Qo=new Os;function Hi(c){return encodeURIComponent(String(c))}function Ku(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Kn(c,y,v,b){this.j=c,this.i=y,this.l=v,this.S=b||1,this.V=new Cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var bt={},Lt={};function hi(c,y,v){c.M=1,c.A=xs(wt(y)),c.u=v,c.R=!0,wa(c,null)}function wa(c,y){c.F=Date.now(),fi(c),c.B=wt(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),Da(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Qn,c.g=oc(c.j,v?y:null,!c.u),c.P>0&&(c.O=new nn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,b=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Ho[0]=z.toString()),z=Ho);for(let G=0;G<z.length;G++){const re=at(v,z[G],b||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),oi(),Vf(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const y=this.O;y&&$n(c)==3?y.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const we=$n(this.g),gt=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||we!=4||gt==7||(gt==8||qe<=0?oi(3):oi(2)),di(this);var y=this.g.ca();this.X=y;var v=Pf(this);if(this.o=y==200,Gu(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var G=b;break t}}G=null}if(c=G)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,St(12),yn(this),On(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Yu(this,v),ot==Lt){we==4&&(this.m=4,St(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==bt){this.m=4,St(15),ci(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,ot,null),mi(this,ot);if(Qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ll(re),re.P=!0,St(11))}}else ci(this.i,this.l,v,null),mi(this,v);we==4&&yn(this),this.o&&!this.K&&(we==4?ic(this.j,this):(this.o=!1,fi(this)))}else Ki(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),yn(this),On(this)}}}catch{}finally{}};function Pf(c){if(!Qu(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let v="";const b=y.length,z=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return yn(c),On(c),"";c.h.i=new h.TextDecoder}for(let G=0;G<b;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(z&&G==b-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Qu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Yu(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?Lt:(v=Number(y.substring(v,b)),isNaN(v)?bt:(b+=1,b+v>y.length?Lt:(y=y.slice(b,b+v),c.C=b+v,y)))}Kn.prototype.cancel=function(){this.K=!0,yn(this)};function fi(c){c.T=Date.now()+c.H,Ra(c,c.H)}function Ra(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ui(g(c.aa,c),y)}function di(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ds(this.i,this.B),this.M!=2&&(oi(),St(17)),yn(this),this.m=2,On(this)):Ra(this,this.T-c)};function On(c){c.j.I==0||c.K||ic(c.j,c)}function yn(c){di(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Go(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function mi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||gi(v.h,c))){if(!c.L&&gi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Va(v),Vr(v);else break e;zs(v),St(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(g(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((c.L||v.g==c)&&Va(v),!I(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let qe=z[y];const ot=qe[0];if(!(ot<=v.K))if(v.K=ot,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Vn=qe[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const bi=qe[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Wn=qe[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(b=1.5*Wn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Jn=c.g;if(Jn){const js=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var G=b.h;G.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&($o(G,G.h),G.h=null))}if(b.G){const ka=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(b.wa=ka,Ke(b.J,b.G,ka))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var re=c;if(b.na=ac(b,b.L?b.ba:null,b.W),re.L){Wo(b.h,re);var we=re,gt=b.O;gt&&(we.H=gt),we.D&&(di(we),fi(we)),b.g=re}else tc(b);v.i.length>0&&Ti(v)}else qe[0]!="stop"&&qe[0]!="close"||Si(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Si(v,7):al(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}oi(4)}catch{}}var At=class{constructor(c,y){this.g=c,this.map=y}};function Yo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function gi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function $o(c,y){c.g?c.g.add(y):c.h=y}function Wo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Yo.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return P(c.i)}var Xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ca(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let z,G=null;b>=0?(z=c[v].substring(0,b),G=c[v].substring(b+1)):z=c[v],y(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function _n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof _n?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,Cr(this,c.u),this.h=c.h,Zo(this,Zu(c.i)),this.m=c.m):c&&(y=String(c).match(Xu))?(this.l=!1,zt(this,y[1]||"",!0),this.o=yi(y[2]||""),this.g=yi(y[3]||"",!0),Cr(this,y[4]),this.h=yi(y[5]||"",!0),Zo(this,y[6]||"",!0),this.m=yi(y[7]||"")):(this.l=!1,this.i=new Dr(null,this.l))}_n.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ms(y,Ia,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ms(y,Ia,!0),"@"),c.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ms(v,v.charAt(0)=="/"?el:$u,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ms(v,Wu)),c.join("")},_n.prototype.resolve=function(c){const y=wt(this);let v=!!c.j;v?zt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var b=c.h;if(v)Cr(y,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=y.h.lastIndexOf("/");z!=-1&&(b=y.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let re=0;re<z.length;){const we=z[re++];we=="."?b&&re==z.length&&G.push(""):we==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&re==z.length&&G.push("")):(G.push(we),b=!0)}b=G.join("/")}else b=z}return v?y.h=b:v=c.i.toString()!=="",v?Zo(y,Zu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function wt(c){return new _n(c)}function zt(c,y,v){c.j=v?yi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Cr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Zo(c,y,v){y instanceof Dr?(c.i=y,Na(c.i,c.l)):(v||(y=Ms(y,Ir)),c.i=new Dr(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function xs(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ms(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ia=/[#\/\?@]/g,$u=/[#\?:]/g,el=/[#\?]/g,Ir=/[#\?@]/g,Wu=/#/g;function Dr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&Ca(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Dr.prototype,r.add=function(c,y){ln(this),this.i=null,c=Nr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ju(c,y){ln(c),y=Nr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function tl(c,y){return ln(c),y=Nr(c,y),c.g.has(y)}r.forEach=function(c,y){ln(this),this.g.forEach(function(v,b){v.forEach(function(z){c.call(y,z,b,this)},this)},this)};function nl(c,y){ln(c);let v=[];if(typeof y=="string")tl(c,y)&&(v=v.concat(c.g.get(Nr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return ln(this),this.i=null,c=Nr(this,c),tl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=nl(this,c),c.length>0?String(c[0]):y):y};function Da(c,y,v){Ju(c,y),v.length>0&&(c.i=null,c.g.set(Nr(c,y),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var v=y[b];const z=Hi(v);v=nl(this,v);for(let G=0;G<v.length;G++){let re=z;v[G]!==""&&(re+="="+Hi(v[G])),c.push(re)}}return this.i=c.join("&")};function Zu(c){const y=new Dr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Nr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Na(c,y){y&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,b){const z=b.toLowerCase();b!=z&&(Ju(this,b),Da(this,z,v))},c)),c.j=y}function Yn(c,y){const v=new Gn;if(h.Image){const b=new Image;b.onload=E(xn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=E(xn,v,"TestLoadImage: error",!1,y,b),b.onabort=E(xn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=E(xn,v,"TestLoadImage: timeout",!1,y,b),h.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function il(c,y){const v=new Gn,b=new AbortController,z=setTimeout(()=>{b.abort(),xn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(z),G.ok?xn(v,"TestPingServer: ok",!0,y):xn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),xn(v,"TestPingServer: error",!1,y)})}function xn(c,y,v,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(v)}catch{}}function Or(){this.g=new ju}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}S(_i,Bu),_i.prototype.g=function(){return new Vs(this.i,this.h)};function Vs(c,y){Tt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Vs,Tt),r=Vs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?xr(this):Xn(this),this.readyState==3&&Oa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,xr(this))},r.Na=function(c){this.g&&(this.response=c,xr(this))},r.ga=function(){this.g&&xr(this)};function xr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let y="";return ze(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function ks(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Mn(v),typeof c=="string"?v!=null&&Hi(v):Ke(c,y,v))}function $e(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($e,Tt);var vi=/^https?$/i,rl=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Ps(this,G);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)v.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())v.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(rl,y,void 0)>=0)||b||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of v)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ps(this,G)}};function Ps(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,sl(c),Gi(c)}function sl(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),Gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},r.Xa=function(){Us(this)};function Us(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=G===0){let re=String(c.D).match(Xu)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),b=!vi.test(re?re.toLowerCase():"")}v=b}if(v)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var z=$n(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",sl(c)}}finally{Gi(c)}}}}function Gi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||kt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Mf(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(c){const y={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(I(c[b]))continue;var v=Ku(c[b]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[z]||[];y[z]=G,G.push(v)}Ge(y,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Mr(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Yo(c&&c.concurrentRequestLimit),this.Ba=new Or,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Mr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,b){St(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=ac(this,null,this.W),Ti(this)};function al(c){if(xa(c),c.I==3){var y=c.V++,v=wt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Ls(c,v),y=new Kn(c,c.j,y),y.M=2,y.A=xs(wt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=oc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),fi(y)}sc(c)}function Vr(c){c.g&&(ll(c),c.g.cancel(),c.g=null)}function xa(c){Vr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ti(c){if(!Xo(c.h)&&!c.m){c.m=!0;var y=c.Ea;ye||w(),Ee||(ye(),Ee=!0),C.add(y,c),c.D=0}}function Ma(c,y){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ui(g(c.Ea,c,y),rc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Kn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=V(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ec(this,z,y),v=wt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Ls(this,v),G&&(this.R?y="headers="+Hi(Mn(G))+"&"+y:this.u&&ks(v,this.u,G)),$o(this.h,z),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),z.U=!0,hi(z,v,null)):hi(z,v,y),this.I=2}}else this.I==3&&(c?ol(this,c):this.i.length==0||Xo(this.h)||ol(this))};function ol(c,y){var v;y?v=y.l:v=c.V++;const b=wt(c.J);Ke(b,"SID",c.M),Ke(b,"RID",v),Ke(b,"AID",c.K),Ls(c,b),c.u&&c.o&&ks(b,c.u,c.o),v=new Kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ec(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),$o(c.h,v),hi(v,b,y)}function Ls(c,y){c.H&&ze(c.H,function(v,b){Ke(y,b,v)}),c.l&&ze({},function(v,b){Ke(y,b,v)})}function ec(c,y,v){v=Math.min(c.i.length,v);const b=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let we=-1;for(;;){const gt=["count="+v];we==-1?v>0?(we=z[0].g,gt.push("ofs="+we)):we=0:gt.push("ofs="+we);let qe=!0;for(let ot=0;ot<v;ot++){var G=z[ot].g;const Vn=z[ot].map;if(G-=we,G<0)we=Math.max(0,z[ot].g-100),qe=!1;else try{G="req"+G+"_"||"";try{var re=Vn instanceof Map?Vn:Object.entries(Vn);for(const[bi,Wn]of re){let Jn=Wn;m(Wn)&&(Jn=Rr(Wn)),gt.push(G+bi+"="+encodeURIComponent(Jn))}}catch(bi){throw gt.push(G+"type="+encodeURIComponent("_badmap")),bi}}catch{b&&b(Vn)}}if(qe){re=gt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function tc(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ye||w(),Ee||(ye(),Ee=!0),C.add(y,c),c.A=0}}function zs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ui(g(c.Da,c),rc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,nc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ui(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Vr(this),nc(this))};function ll(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function nc(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=wt(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Ls(c,y),c.u&&c.o&&ks(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=xs(wt(y)),v.u=null,v.R=!0,wa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Vr(this),zs(this),St(19))};function Va(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function ic(c,y){var v=null;if(c.g==y){Va(c),ll(c),c.g=null;var b=2}else if(gi(c.h,y))v=y.G,Wo(c.h,y),b=1;else return;if(c.I!=0){if(y.o)if(b==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;b=Aa(),kt(b,new li(b,v)),Ti(c)}else tc(c);else if(z=y.m,z==3||z==0&&y.X>0||!(b==1&&Ma(c,y)||b==2&&zs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function rc(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Si(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),b=c.Ua;const z=!b;b=new _n(b||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(b,"https"),xs(b),z?Yn(b.toString(),v):il(b.toString(),v)}else St(2);c.I=0,c.l&&c.l.pa(y),sc(c),xa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function sc(c){if(c.I=0,c.ja=[],c.l){const y=Jo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function ac(c,y,v){var b=v instanceof _n?wt(v):new _n(v);if(b.g!="")y&&(b.g=y+"."+b.g),Cr(b,b.u);else{var z=h.location;b=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const G=new _n(null);b&&zt(G,b),y&&(G.g=y),z&&Cr(G,z),v&&(G.h=v),b=G}return v=c.G,y=c.wa,v&&y&&Ke(b,v,y),Ke(b,"VER",c.ka),Ls(c,b),b}function oc(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new _i({ab:v})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}r=lc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function kr(){}kr.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){Tt.call(this),this.g=new Mr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Qi(this)}S(rn,Tt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){al(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Rr(c),c=v);y.i.push(new At(y.Ya++,c)),y.I==3&&Ti(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,rn.Z.N.call(this)};function uc(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S(uc,qt);function cc(){Nn.call(this),this.status=1}S(cc,Nn);function Qi(c){this.g=c}S(Qi,lc),Qi.prototype.ra=function(){kt(this.g,"a")},Qi.prototype.qa=function(c){kt(this.g,new uc(c))},Qi.prototype.pa=function(c){kt(this.g,new cc)},Qi.prototype.oa=function(){kt(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,k0=function(){return new kr},V0=function(){return Aa()},M0=pt,op={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,wh=Ns,Ko.COMPLETE="complete",x0=Ko,qu.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Wl=qu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,O0=$e}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const DE="@firebase/firestore",NE="4.9.2";class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Mo="12.3.0";const ha=new Lp("@firebase/firestore");function mo(){return ha.logLevel}function le(r,...e){if(ha.logLevel<=Me.DEBUG){const n=e.map(Bp);ha.debug(`Firestore (${Mo}): ${r}`,...n)}}function _r(r,...e){if(ha.logLevel<=Me.ERROR){const n=e.map(Bp);ha.error(`Firestore (${Mo}): ${r}`,...n)}}function wo(r,...e){if(ha.logLevel<=Me.WARN){const n=e.map(Bp);ha.warn(`Firestore (${Mo}): ${r}`,...n)}}function Bp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,P0(r,s,n)}function P0(r,e,n){let s=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function He(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||P0(e,o,s)}function Ae(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class U0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class uI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cI{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new U0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class hI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new hI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class OE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new OE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new OE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function mI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class qp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=mI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function lp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Fm(o)===Fm(u)?Ve(o,u):Fm(o)?1:-1}return Ve(r.length,e.length)}const pI=55296,gI=57343;function Fm(r){const e=r.charCodeAt(0);return e>=pI&&e<=gI}function Ro(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const xE="__name__";class Ni{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ni.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Ni.isNumericId(e),o=Ni.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(n)):lp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class tt extends Ni{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const yI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ni{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return yI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xE}static keyField(){return new Xt([xE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}function L0(r,e,n){if(!n)throw new oe(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _I(r,e,n,s){if(e===!0&&s===!0)throw new oe(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function ME(r){if(!me.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function VE(r){if(me.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function z0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function uf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function ji(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uf(r);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function xt(r,e){const n={typeString:r};return e&&(n.value=e),n}function wu(r,e){if(!z0(r))throw new oe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(Z.INVALID_ARGUMENT,n);return!0}const kE=-62135596800,PE=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*PE);return new Xe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kE)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:xt("string",Xe._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Xe(0,0))}static max(){return new Se(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cu=-1;function vI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Xe(n+1,0):new Xe(n,s));return new gs(o,me.empty(),e)}function EI(r){return new gs(r.readTime,r.key,cu)}class gs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new gs(Se.min(),me.empty(),cu)}static max(){return new gs(Se.max(),me.empty(),cu)}}function TI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const SI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==SI)throw r;le("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function AI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ko(r){return r.name==="IndexedDbTransactionError"}class cf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cf.ce=-1;const Fp=-1;function hf(r){return r==null}function Lh(r){return r===0&&1/r==-1/0}function wI(r){return typeof r=="number"&&Number.isInteger(r)&&!Lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const j0="";function RI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=UE(e)),e=CI(r.get(n),e);return UE(e)}function CI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case j0:n+="";break;default:n+=u}}return n}function UE(r){return r+j0+""}function LE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function bs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function B0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zE(this.data.getIterator())}getIteratorFrom(e){return new zE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class zE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Ut(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class q0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new q0("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const II=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=II.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _s(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}const F0="server_timestamp",H0="__type__",G0="__previous_value__",K0="__local_write_time__";function Hp(r){return(r?.mapValue?.fields||{})[H0]?.stringValue===F0}function ff(r){const e=r.mapValue.fields[G0];return Hp(e)?ff(e):e}function hu(r){const e=ys(r.mapValue.fields[K0].timestampValue);return new Xe(e.seconds,e.nanos)}class DI{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const zh="(default)";class fu{constructor(e,n){this.projectId=e,this.database=n||zh}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===zh}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}const Q0="__type__",NI="__max__",yh={mapValue:{}},Y0="__vector__",jh="value";function vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hp(r)?4:xI(r)?9007199254740991:OI(r)?10:11:ve(28295,{value:r})}function Bi(r,e){if(r===e)return!0;const n=vs(r);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return hu(r).isEqual(hu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ys(o.timestampValue),m=ys(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return _s(o.bytesValue).isEqual(_s(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),m=vt(u.doubleValue);return h===m?Lh(h)===Lh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Ro(r.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(LE(h)!==LE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Bi(h[p],m[p])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function du(r,e){return(r.values||[]).find((n=>Bi(n,e)))!==void 0}function Co(r,e){if(r===e)return 0;const n=vs(r),s=vs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=vt(u.integerValue||u.doubleValue),p=vt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return jE(r.timestampValue,e.timestampValue);case 4:return jE(hu(r),hu(e));case 5:return lp(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=_s(u),p=_s(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(vt(u.latitude),vt(h.latitude));return m!==0?m:Ve(vt(u.longitude),vt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return BE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[jh]?.arrayValue,E=p[jh]?.arrayValue,S=Ve(g?.values?.length||0,E?.values?.length||0);return S!==0?S:BE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===yh.mapValue&&h===yh.mapValue)return 0;if(u===yh.mapValue)return 1;if(h===yh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const A=lp(p[S],E[S]);if(A!==0)return A;const P=Co(m[p[S]],g[E[S]]);if(P!==0)return P}return Ve(p.length,E.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function jE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ys(r),s=ys(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function BE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Co(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function Io(r){return up(r)}function up(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ys(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return _s(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=up(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${up(n.fields[h])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function Rh(r){switch(vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ff(r);return e?16+Rh(e):16;case 5:return 2*r.stringValue.length;case 6:return _s(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Rh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return bs(s.fields,((u,h)=>{o+=u.length+Rh(h)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function qE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function cp(r){return!!r&&"integerValue"in r}function Gp(r){return!!r&&"arrayValue"in r}function FE(r){return!!r&&"nullValue"in r}function HE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ch(r){return!!r&&"mapValue"in r}function OI(r){return(r?.mapValue?.fields||{})[Q0]?.stringValue===Y0}function nu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return bs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=nu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(r.arrayValue.values[n]);return e}return{...r}}function xI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===NI}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=nu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){bs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new gn(nu(this.value))}}function X0(r){const e=[];return bs(r.fields,((n,s)=>{const o=new Xt([n]);if(Ch(s)){const u=X0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Cn(e)}class en{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Se.min(),Se.min(),Se.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,Se.min(),Se.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Se.min(),Se.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bh{constructor(e,n){this.position=e,this.inclusive=n}}function GE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=Co(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function KE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Bi(r.position[n],e.position[n]))return!1;return!0}class qh{constructor(e,n="asc"){this.field=e,this.dir=n}}function MI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class $0{}class Ot extends $0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new kI(e,n,s):n==="array-contains"?new LI(e,s):n==="in"?new zI(e,s):n==="not-in"?new jI(e,s):n==="array-contains-any"?new BI(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new PI(e,s):new UI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Co(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends $0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ri(e,n)}matches(e){return W0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W0(r){return r.op==="and"}function J0(r){return VI(r)&&W0(r)}function VI(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function hp(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+Io(r.value);if(J0(r))return r.filters.map((e=>hp(e))).join(",");{const e=r.filters.map((n=>hp(n))).join(",");return`${r.op}(${e})`}}function Z0(r,e){return r instanceof Ot?(function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)})(r,e):r instanceof ri?(function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&Z0(h,o.filters[m])),!0):!1})(r,e):void ve(19439)}function eS(r){return r instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`})(r):r instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(eS).join(" ,")+"}"})(r):"Filter"}class kI extends Ot{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class PI extends Ot{constructor(e,n){super(e,"in",n),this.keys=tS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class UI extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=tS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function tS(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class LI extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gp(n)&&du(n.arrayValue,this.value)}}class zI extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class jI extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class BI extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>du(this.value.arrayValue,s)))}}class qI{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function QE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new qI(r,e,n,s,o,u,h)}function Kp(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>hp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),hf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Io(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Io(s))).join(",")),e.Te=n}return e.Te}function Qp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!MI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Z0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!KE(r.startAt,e.startAt)&&KE(r.endAt,e.endAt)}function fp(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ru{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FI(r,e,n,s,o,u,h,m){return new Ru(r,e,n,s,o,u,h,m)}function Yp(r){return new Ru(r)}function YE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function nS(r){return r.collectionGroup!==null}function iu(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ut(Xt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new qh(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new qh(Xt.keyField(),s))}return e.Ie}function Mi(r){const e=Ae(r);return e.Ee||(e.Ee=HI(e,iu(r))),e.Ee}function HI(r,e){if(r.limitType==="F")return QE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new qh(o.field,u)}));const n=r.endAt?new Bh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Bh(r.startAt.position,r.startAt.inclusive):null;return QE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function dp(r,e){const n=r.filters.concat([e]);return new Ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function mp(r,e,n){return new Ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function df(r,e){return Qp(Mi(r),Mi(e))&&r.limitType===e.limitType}function iS(r){return`${Kp(Mi(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>eS(o))).join(", ")}]`),hf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Io(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Io(o))).join(",")),`Target(${s})`})(Mi(r))}; limitType=${r.limitType})`}function mf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of iu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=GE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,iu(s),o)||s.endAt&&!(function(h,m,p){const g=GE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,iu(s),o))})(r,e)}function GI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function rS(r){return(e,n)=>{let s=!1;for(const o of iu(r)){const u=KI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function KI(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Co(p,g):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return B0(this.inner)}size(){return this.innerSize}}const QI=new ht(me.comparator);function vr(){return QI}const sS=new ht(me.comparator);function Jl(...r){let e=sS;for(const n of r)e=e.insert(n.key,n);return e}function aS(r){let e=sS;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function aa(){return ru()}function oS(){return ru()}function ru(){return new _a((r=>r.toString()),((r,e)=>r.isEqual(e)))}const YI=new ht(me.comparator),XI=new Ut(me.comparator);function ke(...r){let e=XI;for(const n of r)e=e.add(n);return e}const $I=new Ut(Ve);function WI(){return $I}function Xp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function lS(r){return{integerValue:""+r}}function JI(r,e){return wI(e)?lS(e):Xp(r,e)}class pf{constructor(){this._=void 0}}function ZI(r,e,n){return r instanceof mu?(function(o,u){const h={fields:{[H0]:{stringValue:F0},[K0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Hp(u)&&(u=ff(u)),u&&(h.fields[G0]=u),{mapValue:h}})(n,e):r instanceof pu?cS(r,e):r instanceof gu?hS(r,e):(function(o,u){const h=uS(o,u),m=XE(h)+XE(o.Ae);return cp(h)&&cp(o.Ae)?lS(m):Xp(o.serializer,m)})(r,e)}function e2(r,e,n){return r instanceof pu?cS(r,e):r instanceof gu?hS(r,e):n}function uS(r,e){return r instanceof Fh?(function(s){return cp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class mu extends pf{}class pu extends pf{constructor(e){super(),this.elements=e}}function cS(r,e){const n=fS(e);for(const s of r.elements)n.some((o=>Bi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class gu extends pf{constructor(e){super(),this.elements=e}}function hS(r,e){let n=fS(e);for(const s of r.elements)n=n.filter((o=>!Bi(o,s)));return{arrayValue:{values:n}}}class Fh extends pf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function XE(r){return vt(r.integerValue||r.doubleValue)}function fS(r){return Gp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class t2{constructor(e,n){this.field=e,this.transform=n}}function n2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof pu&&o instanceof pu||s instanceof gu&&o instanceof gu?Ro(s.elements,o.elements,Bi):s instanceof Fh&&o instanceof Fh?Bi(s.Ae,o.Ae):s instanceof mu&&o instanceof mu})(r.transform,e.transform)}class i2{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class gf{}function dS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new pS(r.key,ii.none()):new Cu(r.key,r.data,ii.none());{const n=r.data,s=gn.empty();let o=new Ut(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new As(r.key,s,new Cn(o.toArray()),ii.none())}}function r2(r,e,n){r instanceof Cu?(function(o,u,h){const m=o.value.clone(),p=WE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof As?(function(o,u,h){if(!Ih(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=WE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(mS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function su(r,e,n,s){return r instanceof Cu?(function(u,h,m,p){if(!Ih(u.precondition,h))return m;const g=u.value.clone(),E=JE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof As?(function(u,h,m,p){if(!Ih(u.precondition,h))return m;const g=JE(u.fieldTransforms,p,h),E=h.data;return E.setAll(mS(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,h,m){return Ih(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function s2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=uS(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function $E(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,((u,h)=>n2(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Cu extends gf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends gf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function WE(r,e,n){const s=new Map;He(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,e2(h,m,n[o]))}return s}function JE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,ZI(u,h,e))}return s}class pS extends gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a2 extends gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class o2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&r2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=oS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=dS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,((n,s)=>$E(n,s)))&&Ro(this.baseMutations,e.baseMutations,((n,s)=>$E(n,s)))}}class $p{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return YI})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new $p(e,n,s,o)}}class l2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class u2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,Le;function c2(r){switch(r){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function gS(r){if(r===void 0)return _r("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Nt.OK:return Z.OK;case Nt.CANCELLED:return Z.CANCELLED;case Nt.UNKNOWN:return Z.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Z.INTERNAL;case Nt.UNAVAILABLE:return Z.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Z.NOT_FOUND;case Nt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Nt.ABORTED:return Z.ABORTED;case Nt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Nt.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:r})}}(Le=Nt||(Nt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function h2(){return new TextEncoder}const f2=new ds([4294967295,4294967295],0);function ZE(r){const e=h2().encode(r),n=new N0;return n.update(e),new Uint8Array(n.digest())}function eT(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ds([n,s],0),new ds([o,u],0)]}class Wp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ds.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ds.fromNumber(s)));return o.compare(f2)===1&&(o=new ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ZE(e),[s,o]=eT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Wp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=ZE(e),[s,o]=eT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new yf(Se.min(),o,new ht(Ve),vr(),ke())}}class Iu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Iu(s,n,ke(),ke(),ke())}}class Dh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class yS{constructor(e,n){this.targetId=e,this.Ce=n}}class _S{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class tT{constructor(){this.ve=0,this.Fe=nT(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new Iu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=nT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class d2{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=_h(),this.He=_h(),this.Ye=new ht(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(fp(u))if(s===0){const h=new me(u.path);this.et(n,h,en.newNoDocument(h,Se.min()))}else He(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=_s(s).toUint8Array()}catch(p){if(p instanceof q0)return wo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Wp(h,o,u)}catch(p){return wo(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&fp(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,en.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new yf(e,n,this.Ye,this.je,s);return this.je=vr(),this.Je=_h(),this.He=_h(),this.Ye=new ht(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new tT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ut(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ut(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _h(){return new ht(me.comparator)}function nT(){return new ht(me.comparator)}const m2={asc:"ASCENDING",desc:"DESCENDING"},p2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g2={and:"AND",or:"OR"};class y2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pp(r,e){return r.useProto3Json||hf(e)?e:{value:e}}function Hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function _2(r,e){return Hh(r,e.toTimestamp())}function Vi(r){return He(!!r,49232),Se.fromTimestamp((function(n){const s=ys(n);return new Xe(s.seconds,s.nanos)})(r))}function Jp(r,e){return gp(r,e).canonicalString()}function gp(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function ES(r){const e=tt.fromString(r);return He(wS(e),10190,{key:e.toString()}),e}function yp(r,e){return Jp(r.databaseId,e.path)}function Hm(r,e){const n=ES(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(SS(n))}function TS(r,e){return Jp(r.databaseId,e)}function v2(r){const e=ES(r);return e.length===4?tt.emptyPath():SS(e)}function _p(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function SS(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function iT(r,e,n){return{name:yp(r,e),fields:n.value.mapValue.fields}}function E2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?Z.UNKNOWN:gS(g.code);return new oe(E,g.message||"")})(h);n=new _S(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hm(r,s.document.name),u=Vi(s.document.updateTime),h=s.document.createTime?Vi(s.document.createTime):Se.min(),m=new gn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Dh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Hm(r,s.document),u=s.readTime?Vi(s.readTime):Se.min(),h=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Dh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Hm(r,s.document),u=s.removedTargetIds||[];n=new Dh([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new u2(o,u),m=s.targetId;n=new yS(m,h)}}return n}function T2(r,e){let n;if(e instanceof Cu)n={update:iT(r,e.key,e.value)};else if(e instanceof pS)n={delete:yp(r,e.key)};else if(e instanceof As)n={update:iT(r,e.key,e.data),updateMask:N2(e.fieldMask)};else{if(!(e instanceof a2))return ve(16599,{Vt:e.type});n={verify:yp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof mu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof pu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof gu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Fh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:_2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(r,e.precondition)),n}function S2(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Vi(o.updateTime):Vi(u);return h.isEqual(Se.min())&&(h=Vi(u)),new i2(h,o.transformResults||[])})(n,e)))):[]}function b2(r,e){return{documents:[TS(r,e.path)]}}function A2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=TS(r,o);const u=(function(g){if(g.length!==0)return AS(ri.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:go(A.field),direction:C2(A.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=pp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function w2(r){let e=v2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const A=bS(S);return A instanceof ri&&J0(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(S){return S.map((A=>(function(F){return new qh(yo(F.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let A;return A=typeof S=="object"?S.value:S,hf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(S){const A=!!S.before,P=S.values||[];return new Bh(P,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(S){const A=!S.before,P=S.values||[];return new Bh(P,A)})(n.endAt)),FI(e,o,h,u,m,"F",p,g)}function R2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=yo(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=yo(n.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ot.create(yo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((s=>bS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function C2(r){return m2[r]}function I2(r){return p2[r]}function D2(r){return g2[r]}function go(r){return{fieldPath:r.canonicalString()}}function yo(r){return Xt.fromServerFormat(r.fieldPath)}function AS(r){return r instanceof Ot?(function(n){if(n.op==="=="){if(HE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(FE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(FE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:I2(n.op),value:n.value}}})(r):r instanceof ri?(function(n){const s=n.getFilters().map((o=>AS(o)));return s.length===1?s[0]:{compositeFilter:{op:D2(n.op),filters:s}}})(r):ve(54877,{filter:r})}function N2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function wS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class cs{constructor(e,n,s,o,u=Se.min(),h=Se.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class O2{constructor(e){this.yt=e}}function x2(r){const e=w2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mp(e,e.limit,"L"):e}class M2{constructor(){this.Cn=new V2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(gs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class V2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(tt.comparator)).toArray()}}const rT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RS=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(RS,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class Do{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}const sT="LruGarbageCollector",k2=1048576;function aT([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class P2{constructor(e){this.Ir=e,this.buffer=new Ut(aT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();aT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class U2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(sT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ko(n)?le(sT,"Ignoring IndexedDB error during garbage collection: ",n):await Vo(n)}await this.Vr(3e5)}))}}class L2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(cf.ce);const s=new P2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(rT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(g=Date.now(),mo()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function z2(r,e){return new L2(r,e)}class j2{constructor(){this.changes=new _a((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class B2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class q2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&su(s.mutation,o,Cn.empty(),Xe.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=aa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Jl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=aa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=vr();const h=ru(),m=(function(){return ru()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof As)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),su(E.mutation,g,E.mutation.getFieldMask(),Xe.now())):h.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new B2(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=ru();let o=new ht(((h,m)=>h-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Cn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,S)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=oS();E.forEach((A=>{if(!u.has(A)){const P=dS(n.get(A),s.get(A));P!==null&&S.set(A,P),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(aa());let m=cu,p=u;return h.next((g=>ne.forEach(g,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ke()))).next((E=>({batchId:m,changes:aS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(S,A){return new Ru(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((S,A)=>{h=h.insert(S,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,en.newInvalidDocument(E)))}));let m=Jl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&su(E.mutation,g,Cn.empty(),Xe.now()),mf(n,g)&&(m=m.insert(p,g))})),m}))}}class F2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:x2(o.bundledQuery),readTime:Vi(o.readTime)}})(n)),ne.resolve()}}class H2{constructor(){this.overlays=new ht(me.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=aa();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=aa(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=aa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new l2(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class G2{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Zp{constructor(){this.Qr=new Ut(Bt.$r),this.Ur=new Ut(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new tt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new tt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class K2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(Bt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new o2(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Fp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Ve);return n.forEach((o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new me(u),0);let m=new Ut(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Q2{constructor(e){this.ri=e,this.docs=(function(){return new ht(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=vr();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||TI(EI(E),s)<=0||(o.has(E.key)||mf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Y2(this)}getSize(e){return ne.resolve(this.size)}}class Y2 extends j2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class X2{constructor(e){this.persistence=e,this.si=new _a((n=>Kp(n)),Qp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Zp,this.targetCount=0,this.ai=Do.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class CS{constructor(e,n){this.ui={},this.overlays={},this.ci=new cf(0),this.li=!1,this.li=!0,this.hi=new G2,this.referenceDelegate=e(this),this.Pi=new X2(this),this.indexManager=new M2,this.remoteDocumentCache=(function(o){return new Q2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new O2(n),this.Ii=new F2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new H2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new K2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new $2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class $2 extends bI{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ri=new Zp,this.Vi=null}static mi(e){return new eg(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gh{constructor(e,n){this.persistence=e,this.pi=new _a((s=>RI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=z2(this,n)}static mi(e,n){return new Gh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new tg(e,n.fromCache,s,o)}}class W2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class J2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qR()?8:AI(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new W2;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(mo()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(mo()<=Me.DEBUG&&le("QueryEngine","Query:",po(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(mo()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):ne.resolve())}ys(e,n){if(YE(n))return ne.resolve(null);let s=Mi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=mp(n,null,"F"),s=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=ke(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,mp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return YE(n)||o.isEqual(Se.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(mo()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(n)),this.vs(e,h,n,vI(o,cu)).next((m=>m)))}))}Ds(e,n){let s=new Ut(rS(e));return n.forEach(((o,u)=>{mf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return mo()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",po(n)),this.ps.getDocumentsMatchingQuery(e,n,gs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const ng="LocalStore",Z2=3e8;class eD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Ve),this.xs=new _a((u=>Kp(u)),Qp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new q2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function tD(r,e,n,s){return new eD(r,e,n,s)}async function IS(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=ke();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function nD(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const S=g.batch,A=S.keys();let P=ne.resolve();return A.forEach((F=>{P=P.next((()=>E.getEntry(p,F))).next((Q=>{const O=g.docVersions.get(F);He(O!==null,48541),Q.version.compareTo(O)<0&&(S.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function DS(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function iD(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,S)=>{const A=o.get(S);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let P=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken($t.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),(function(Q,O,$){return Q.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=Z2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(A,P,E)&&m.push(n.Pi.updateTargetData(u,P))}));let p=vr(),g=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(rD(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Se.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function rD(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=vr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(ng,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function sD(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Fp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function aD(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new cs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function vp(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ko(h))throw h;le(ng,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function oT(r,e,n){const s=Ae(r);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const S=Ae(p),A=S.xs.get(E);return A!==void 0?ne.resolve(S.Ms.get(A)):S.Pi.getTargetData(g,E)})(s,h,Mi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?u:ke()))).next((m=>(oD(s,GI(e),m),{documents:m,Qs:u})))))}function oD(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class lT{constructor(){this.activeTargetIds=WI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lD{constructor(){this.Mo=new lT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uD{Oo(e){}shutdown(){}}const uT="ConnectivityMonitor";class cT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(uT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(uT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let vh=null;function Ep(){return vh===null?vh=(function(){return 268435456+Math.round(2147483648*Math.random())})():vh++,"0x"+vh.toString(16)}const Gm="RestConnection",cD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===zh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Ep(),m=this.zo(e,n.toUriEncodedString());le(Gm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Ss(g);return this.Jo(e,m,p,s,E).then((S=>(le(Gm,`Received RPC '${e}' ${h}: `,S),S)),(S=>{throw wo(Gm,`RPC '${e}' ${h} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=cD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class fD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class dD extends hD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Ep();return new Promise(((m,p)=>{const g=new O0;g.setWithCredentials(!0),g.listenOnce(x0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case wh.NO_ERROR:const S=g.getResponseJson();le(Jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),m(S);break;case wh.TIMEOUT:le(Jt,`RPC '${e}' ${h} timed out`),p(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const A=g.getStatus();if(le(Jt,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const F=P?.error;if(F&&F.status&&F.message){const Q=(function($){const te=$.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(te)>=0?te:Z.UNKNOWN})(F.status);p(new oe(Q,F.message))}else p(new oe(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Jt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);le(Jt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Ep(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=k0(),m=V0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=h.createWebChannel(E,p);this.I_(S);let A=!1,P=!1;const F=new fD({Yo:O=>{P?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(A||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,O),S.send(O))},Zo:()=>S.close()}),Q=(O,$,te)=>{O.listen($,(ie=>{try{te(ie)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return Q(S,Wl.EventType.OPEN,(()=>{P||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),Q(S,Wl.EventType.CLOSE,(()=>{P||(P=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(S))})),Q(S,Wl.EventType.ERROR,(O=>{P||(P=!0,wo(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),F.a_(new oe(Z.UNAVAILABLE,"The operation could not be completed")))})),Q(S,Wl.EventType.MESSAGE,(O=>{if(!P){const $=O.data[0];He(!!$,16349);const te=$,ie=te?.error||te[0]?.error;if(ie){le(Jt,`RPC '${e}' stream ${o} received error:`,ie);const ue=ie.status;let ye=(function(w){const R=Nt[w];if(R!==void 0)return gS(R)})(ue),Ee=ie.message;ye===void 0&&(ye=Z.INTERNAL,Ee="Unknown error status: "+ue+" with message "+ie.message),P=!0,F.a_(new oe(ye,Ee)),S.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,$),F.u_($)}})),Q(m,M0.STAT_EVENT,(O=>{O.stat===op.PROXY?le(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===op.NOPROXY&&le(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Km(){return typeof document<"u"?document:null}function _f(r){return new y2(r,!0)}class NS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const hT="PersistentStream";class OS{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(hT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(hT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mD extends OS{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=E2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?Vi(h.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=_p(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=fp(p)?{documents:b2(u,p)}:{query:A2(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=vS(u,h.resumeToken);const g=pp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Hh(u,h.snapshotVersion.toTimestamp());const g=pp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=R2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=_p(this.serializer),n.removeTarget=e,this.q_(n)}}class pD extends OS{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=S2(e.writeResults,e.commitTime),s=Vi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=_p(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>T2(this.serializer,s)))};this.q_(n)}}class gD{}class yD extends gD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,gp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,gp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(Z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _D{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fa="RemoteStore";class vD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{va(this)&&(le(fa,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await Du(g),g.Ra.set("Unknown"),g.Ea.delete(4),await vf(g)})(this))}))})),this.Ra=new _D(s,o)}}async function vf(r){if(va(r))for(const e of r.da)await e(!0)}async function Du(r){for(const e of r.da)await e(!1)}function xS(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ag(n)?sg(n):Po(n).O_()&&rg(n,e))}function ig(r,e){const n=Ae(r),s=Po(n);n.Ia.delete(e),s.O_()&&MS(n,e),n.Ia.size===0&&(s.O_()?s.L_():va(n)&&n.Ra.set("Unknown"))}function rg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Po(r).Y_(e)}function MS(r,e){r.Va.Ue(e),Po(r).Z_(e)}function sg(r){r.Va=new d2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Po(r).start(),r.Ra.ua()}function ag(r){return va(r)&&!Po(r).x_()&&r.Ia.size>0}function va(r){return Ae(r).Ea.size===0}function VS(r){r.Va=void 0}async function ED(r){r.Ra.set("Online")}async function TD(r){r.Ia.forEach(((e,n)=>{rg(r,e)}))}async function SD(r,e){VS(r),ag(r)?(r.Ra.ha(e),sg(r)):r.Ra.set("Unknown")}async function bD(r,e,n){if(r.Ra.set("Online"),e instanceof _S&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kh(r,s)}else if(e instanceof Dh?r.Va.Ze(e):e instanceof yS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await DS(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),MS(u,p);const S=new cs(E.target,p,g,E.sequenceNumber);rg(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(fa,"Failed to raise snapshot:",s),await Kh(r,s)}}async function Kh(r,e,n){if(!ko(e))throw e;r.Ea.add(1),await Du(r),r.Ra.set("Offline"),n||(n=()=>DS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(fa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await vf(r)}))}function kS(r,e){return e().catch((n=>Kh(r,n,e)))}async function Ef(r){const e=Ae(r),n=Es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fp;for(;AD(e);)try{const o=await sD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,wD(e,o)}catch(o){await Kh(e,o)}PS(e)&&US(e)}function AD(r){return va(r)&&r.Ta.length<10}function wD(r,e){r.Ta.push(e);const n=Es(r);n.O_()&&n.X_&&n.ea(e.mutations)}function PS(r){return va(r)&&!Es(r).x_()&&r.Ta.length>0}function US(r){Es(r).start()}async function RD(r){Es(r).ra()}async function CD(r){const e=Es(r);for(const n of r.Ta)e.ea(n.mutations)}async function ID(r,e,n){const s=r.Ta.shift(),o=$p.from(s,e,n);await kS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ef(r)}async function DD(r,e){e&&Es(r).X_&&await(async function(s,o){if((function(h){return c2(h)&&h!==Z.ABORTED})(o.code)){const u=s.Ta.shift();Es(s).B_(),await kS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ef(s)}})(r,e),PS(r)&&US(r)}async function fT(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),le(fa,"RemoteStore received new credentials");const s=va(n);n.Ea.add(3),await Du(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vf(n)}async function ND(r,e){const n=Ae(r);e?(n.Ea.delete(2),await vf(n)):e||(n.Ea.add(2),await Du(n),n.Ra.set("Unknown"))}function Po(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new mD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:ED.bind(null,r),t_:TD.bind(null,r),r_:SD.bind(null,r),H_:bD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ag(r)?sg(r):r.Ra.set("Unknown")):(await r.ma.stop(),VS(r))}))),r.ma}function Es(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new pD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:RD.bind(null,r),r_:DD.bind(null,r),ta:CD.bind(null,r),na:ID.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Ef(r)):(await r.fa.stop(),r.Ta.length>0&&(le(fa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class og{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new og(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(r,e){if(_r("AsyncQueue",`${e}: ${r}`),ko(r))return new oe(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class dT{constructor(){this.ga=new ht(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class No{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new No(e,n,Eo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class OD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class xD{constructor(){this.queries=mT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=mT(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function mT(){return new _a((r=>iS(r)),df)}async function LS(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new OD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=lg(h,`Initialization of query '${po(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ug(n)}async function zS(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function MD(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&ug(n)}function VD(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function ug(r){r.Ca.forEach((e=>{e.next()}))}var Tp,pT;(pT=Tp||(Tp={})).Ma="default",pT.Cache="cache";class jS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new No(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tp.Cache}}class BS{constructor(e){this.key=e}}class qS{constructor(e){this.key=e}}class kD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=rS(e),this.tu=new Eo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new dT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const A=o.get(E),P=mf(this.query,S)?S:null,F=!!A&&this.mutatedKeys.has(A.key),Q=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let O=!1;A&&P?A.data.isEqual(P.data)?F!==Q&&(s.track({type:3,doc:P}),O=!0):this.su(A,P)||(s.track({type:2,doc:P}),O=!0,(p&&this.eu(P,p)>0||g&&this.eu(P,g)<0)&&(m=!0)):!A&&P?(s.track({type:0,doc:P}),O=!0):A&&!P&&(s.track({type:1,doc:A}),O=!0,(p||g)&&(m=!0)),O&&(P?(h=h.add(P),u=Q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,S)=>(function(P,F){const Q=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:O})}};return Q(P)-Q(F)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new No(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new qS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new BS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cg="SyncEngine";class PD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class UD{constructor(e){this.key=e,this.hu=!1}}class LD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new _a((m=>iS(m)),df),this.Iu=new Map,this.Eu=new Set,this.du=new ht(me.comparator),this.Au=new Map,this.Ru=new Zp,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zD(r,e,n=!0){const s=YS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await FS(s,e,n,!0),o}async function jD(r,e){const n=YS(r);await FS(n,e,!0,!1)}async function FS(r,e,n,s){const o=await aD(r.localStore,Mi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await BD(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&xS(r.remoteStore,o),m}async function BD(r,e,n,s,o){r.pu=(S,A,P)=>(async function(Q,O,$,te){let ie=O.view.ru($);ie.Cs&&(ie=await oT(Q.localStore,O.query,!1).then((({documents:C})=>O.view.ru(C,ie))));const ue=te&&te.targetChanges.get(O.targetId),ye=te&&te.targetMismatches.get(O.targetId)!=null,Ee=O.view.applyChanges(ie,Q.isPrimaryClient,ue,ye);return yT(Q,O.targetId,Ee.au),Ee.snapshot})(r,S,A,P);const u=await oT(r.localStore,e,!0),h=new kD(e,u.Qs),m=h.ru(u.documents),p=Iu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);yT(r,n,g.au);const E=new PD(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function qD(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!df(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await vp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ig(s.remoteStore,o.targetId),Sp(s,o.targetId)})).catch(Vo)):(Sp(s,o.targetId),await vp(s.localStore,o.targetId,!0))}async function FD(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ig(n.remoteStore,s.targetId))}async function HD(r,e,n){const s=WD(r);try{const o=await(function(h,m){const p=Ae(h),g=Xe.now(),E=m.reduce(((P,F)=>P.add(F.key)),ke());let S,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let F=vr(),Q=ke();return p.Ns.getEntries(P,E).next((O=>{F=O,F.forEach((($,te)=>{te.isValidDocument()||(Q=Q.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,F))).next((O=>{S=O;const $=[];for(const te of m){const ie=s2(te,S.get(te.key).overlayedDocument);ie!=null&&$.push(new As(te.key,ie,X0(ie.value.mapValue),ii.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,$,m)})).next((O=>{A=O;const $=O.applyToLocalDocumentSet(S,Q);return p.documentOverlayCache.saveOverlays(P,O.batchId,$)}))})).then((()=>({batchId:A.batchId,changes:aS(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ht(Ve)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Nu(s,o.changes),await Ef(s.remoteStore)}catch(o){const u=lg(o,"Failed to persist write");n.reject(u)}}async function HS(r,e){const n=Ae(r);try{const s=await iD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?He(h.hu,14607):o.removedDocuments.size>0&&(He(h.hu,42227),h.hu=!1))})),await Nu(n,s,e)}catch(s){await Vo(s)}}function gT(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,S)=>{for(const A of S.Sa)A.va(m)&&(g=!0)})),g&&ug(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function GD(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(me.comparator);h=h.insert(u,en.newNoDocument(u,Se.min()));const m=ke().add(u),p=new yf(Se.min(),new Map,new ht(Ve),h,m);await HS(s,p),s.du=s.du.remove(u),s.Au.delete(e),hg(s)}else await vp(s.localStore,e,!1).then((()=>Sp(s,e,n))).catch(Vo)}async function KD(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await nD(n.localStore,e);KS(n,s,null),GS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(n,o)}catch(o){await Vo(o)}}async function QD(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((S=>(He(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);KS(s,e,n),GS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nu(s,o)}catch(o){await Vo(o)}}function GS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function KS(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Sp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||QS(r,s)}))}function QS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(ig(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),hg(r))}function yT(r,e,n){for(const s of n)s instanceof BS?(r.Ru.addReference(s.key,e),YD(r,s)):s instanceof qS?(le(cg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||QS(r,s.key)):ve(19791,{wu:s})}function YD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(cg,"New document in limbo: "+n),r.Eu.add(s),hg(r))}function hg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new UD(n)),r.du=r.du.insert(n,s),xS(r.remoteStore,new cs(Mi(Yp(n.path)),s,"TargetPurposeLimboResolution",cf.ce))}}async function Nu(r,e,n){const s=Ae(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=tg.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ne.forEach(g,(A=>ne.forEach(A.Es,(P=>E.persistence.referenceDelegate.addReference(S,A.targetId,P))).next((()=>ne.forEach(A.ds,(P=>E.persistence.referenceDelegate.removeReference(S,A.targetId,P)))))))))}catch(S){if(!ko(S))throw S;le(ng,"Failed to update sequence numbers: "+S)}for(const S of g){const A=S.targetId;if(!S.fromCache){const P=E.Ms.get(A),F=P.snapshotVersion,Q=P.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(A,Q)}}})(s.localStore,u))}async function XD(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){le(cg,"User change. New user:",e.toKey());const s=await IS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(Z.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nu(n,s.Ls)}}function $D(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function YS(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=HS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$D.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GD.bind(null,e),e.Pu.H_=MD.bind(null,e.eventManager),e.Pu.yu=VD.bind(null,e.eventManager),e}function WD(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QD.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tD(this.persistence,new J2,e.initialUser,this.serializer)}Cu(e){return new CS(eg.mi,this.serializer)}Du(e){return new lD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class JD extends Qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof Gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new U2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new CS((s=>Gh.mi(s,n)),this.serializer)}}class bp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XD.bind(null,this.syncEngine),await ND(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xD})()}createDatastore(e){const n=_f(e.databaseInfo.databaseId),s=(function(u){return new dD(u)})(e.databaseInfo);return(function(u,h,m,p){return new yD(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new vD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>gT(this.syncEngine,n,0)),(function(){return cT.v()?new cT:new uD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const S=new LD(o,u,h,m,p,g);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(fa,"RemoteStore shutting down."),s.Ea.add(5),await Du(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bp.provider={build:()=>new bp};class XS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ts="FirestoreClient";class ZD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(Ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(Ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=lg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Qm(r,e){r.asyncQueue.verifyOperationInProgress(),le(Ts,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await IS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function _T(r,e){r.asyncQueue.verifyOperationInProgress();const n=await eN(r);le(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>fT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>fT(e.remoteStore,o))),r._onlineComponents=e}async function eN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(Ts,"Using user provided OfflineComponentProvider");try{await Qm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;wo("Error using user provided cache. Falling back to memory cache: "+n),await Qm(r,new Qh)}}else le(Ts,"Using default OfflineComponentProvider"),await Qm(r,new JD(void 0));return r._offlineComponents}async function $S(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(Ts,"Using user provided OnlineComponentProvider"),await _T(r,r._uninitializedComponentsProvider._online)):(le(Ts,"Using default OnlineComponentProvider"),await _T(r,new bp))),r._onlineComponents}function tN(r){return $S(r).then((e=>e.syncEngine))}async function WS(r){const e=await $S(r),n=e.eventManager;return n.onListen=zD.bind(null,e.syncEngine),n.onUnlisten=qD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FD.bind(null,e.syncEngine),n}function nN(r,e,n={}){const s=new fr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new XS({next:A=>{E.Nu(),h.enqueueAndForget((()=>zS(u,S)));const P=A.docs.has(m);!P&&A.fromCache?g.reject(new oe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&A.fromCache&&p&&p.source==="server"?g.reject(new oe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),S=new jS(Yp(m.path),E,{includeMetadataChanges:!0,qa:!0});return LS(u,S)})(await WS(r),r.asyncQueue,e,n,s))),s.promise}function iN(r,e,n={}){const s=new fr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new XS({next:A=>{E.Nu(),h.enqueueAndForget((()=>zS(u,S))),A.fromCache&&p.source==="server"?g.reject(new oe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),S=new jS(m,E,{includeMetadataChanges:!0,qa:!0});return LS(u,S)})(await WS(r),r.asyncQueue,e,n,s))),s.promise}function JS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const vT=new Map;const ZS="firestore.googleapis.com",ET=!0;class TT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZS,this.ssl=ET}else this.host=e.host,this.ssl=e.ssl??ET;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k2)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_I("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new lI;switch(s.type){case"firstParty":return new fI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=vT.get(n);s&&(le("ComponentProvider","Removing Datastore"),vT.delete(n),s.terminate())})(this),Promise.resolve()}}function rN(r,e,n,s={}){r=ji(r,Tf);const o=Ss(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Pp(`https://${m}`),Up("Firestore",!0)),u.host!==ZS&&u.host!==m&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ua(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Zt.MOCK_USER;else{g=A0(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(S)}r._authCredentials=new uI(new U0(g,E))}}class Uo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Uo(this.firestore,e,this._query)}}class Et{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(wu(n,Et._jsonSchema))return new Et(e,s||null,new me(tt.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:xt("string",Et._jsonSchemaVersion),referencePath:xt("string")};class ms extends Uo{constructor(e,n,s){super(e,n,Yp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new me(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function dr(r,e,...n){if(r=ct(r),L0("collection","path",e),r instanceof Tf){const s=tt.fromString(e,...n);return VE(s),new ms(r,null,s)}{if(!(r instanceof Et||r instanceof ms))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return VE(s),new ms(r.firestore,null,s)}}function Ou(r,e,...n){if(r=ct(r),arguments.length===1&&(e=qp.newId()),L0("doc","path",e),r instanceof Tf){const s=tt.fromString(e,...n);return ME(s),new Et(r,null,new me(s))}{if(!(r instanceof Et||r instanceof ms))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return ME(s),new Et(r.firestore,r instanceof ms?r.converter:null,new me(s))}}const ST="AsyncQueue";class bT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NS(this,"async_queue_retry"),this._c=()=>{const s=Km();s&&le(ST,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ko(e))throw e;le(ST,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",AT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=og.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:AT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function AT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Lo extends Tf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new bT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bT(e),this._firestoreClient=void 0,await e}}}function sN(r,e){const n=typeof r=="object"?r:jp(),s=typeof r=="string"?r:zh,o=lf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=T0("firestore");u&&rN(o,...u)}return o}function fg(r){if(r._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||aN(r),r._firestoreClient}function aN(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new DI(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,JS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new ZD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn($t.fromBase64String(e))}catch(n){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:xt("string",Fn._jsonSchemaVersion),bytes:xt("string")};class Sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bf{constructor(e){this._methodName=e}}class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(wu(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:xt("string",ki._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};class Pi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Pi(e.vectorValues);throw new oe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:xt("string",Pi._jsonSchemaVersion),vectorValues:xt("object")};const oN=/^__.*__$/;class lN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class eb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new As(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class dg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tb(this.Ac)&&oN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||_f(e)}Cc(e,n,s,o=!1){return new dg({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Af(r){const e=r._freezeSettings(),n=_f(r._databaseId);return new uN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function nb(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);pg("Data must be an object, but it was:",h,s);const m=ib(s,h);let p,g;if(u.merge)p=new Cn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const A=Ap(e,S,n);if(!h.contains(A))throw new oe(Z.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);sb(E,A)||E.push(A)}p=new Cn(E),g=h.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,g=h.fieldTransforms;return new lN(new gn(m),p,g)}class wf extends bf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}class mg extends bf{_toFieldTransform(e){return new t2(e.path,new mu)}isEqual(e){return e instanceof mg}}function cN(r,e,n,s){const o=r.Cc(1,e,n);pg("Data must be an object, but it was:",o,s);const u=[],h=gn.empty();bs(s,((p,g)=>{const E=gg(e,p,n);g=ct(g);const S=o.yc(E);if(g instanceof wf)u.push(E);else{const A=xu(g,S);A!=null&&(u.push(E),h.set(E,A))}}));const m=new Cn(u);return new eb(h,m,o.fieldTransforms)}function hN(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[Ap(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Ap(e,u[A])),p.push(u[A+1]);const g=[],E=gn.empty();for(let A=m.length-1;A>=0;--A)if(!sb(g,m[A])){const P=m[A];let F=p[A];F=ct(F);const Q=h.yc(P);if(F instanceof wf)g.push(P);else{const O=xu(F,Q);O!=null&&(g.push(P),E.set(P,O))}}const S=new Cn(g);return new eb(E,S,h.fieldTransforms)}function fN(r,e,n,s=!1){return xu(n,r.Cc(s?4:3,e))}function xu(r,e){if(rb(r=ct(r)))return pg("Unsupported field value:",e,r),ib(r,e);if(r instanceof bf)return(function(s,o){if(!tb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=xu(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=ct(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return JI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Xe.fromDate(s);return{timestampValue:Hh(o.serializer,u)}}if(s instanceof Xe){const u=new Xe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hh(o.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:vS(o.serializer,s._byteString)};if(s instanceof Et){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Pi)return(function(h,m){return{mapValue:{fields:{[Q0]:{stringValue:Y0},[jh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Xp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${uf(s)}`)})(r,e)}function ib(r,e){const n={};return B0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(r,((s,o)=>{const u=xu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function rb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Xe||r instanceof ki||r instanceof Fn||r instanceof Et||r instanceof bf||r instanceof Pi)}function pg(r,e,n){if(!rb(n)||!z0(n)){const s=uf(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Ap(r,e,n){if((e=ct(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return gg(r,e);throw Yh("Field path arguments must be of type string or ",r,!1,void 0,n)}const dN=new RegExp("[~\\*/\\[\\]]");function gg(r,e,n){if(e.search(dN)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Sf(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Yh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(Z.INVALID_ARGUMENT,m+r+p)}function sb(r,e){return r.some((n=>n.isEqual(e)))}class ab{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mN extends ab{data(){return super.data()}}function yg(r,e){return typeof e=="string"?gg(r,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}function pN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}class gN extends _g{}function Xh(r,e,...n){let s=[];e instanceof _g&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof vg)).length,m=u.filter((p=>p instanceof Rf)).length;if(h>1||h>0&&m>0)throw new oe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Rf extends gN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Rf(e,n,s)}_apply(e){const n=this._parse(e);return ob(e._query,n),new Uo(e.firestore,e.converter,dp(e._query,n))}_parse(e){const n=Af(e.firestore);return(function(u,h,m,p,g,E,S){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){RT(S,E);const F=[];for(const Q of S)F.push(wT(p,u,Q));A={arrayValue:{values:F}}}else A=wT(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||RT(S,E),A=fN(m,h,S,E==="in"||E==="not-in");return Ot.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sa(r,e,n){const s=e,o=yg("where",r);return Rf._create(o,s,n)}class vg extends _g{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)ob(h,p),h=dp(h,p)})(e._query,n),new Uo(e.firestore,e.converter,dp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function wT(r,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new oe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nS(e)&&n.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qE(r,new me(s))}if(n instanceof Et)return qE(r,n._key);throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uf(n)}.`)}function RT(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ob(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yN{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return bs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[jh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new Pi(n)}convertGeoPoint(e){return new ki(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ff(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=ys(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);He(wS(s),9688,{name:e});const o=new fu(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function lb(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends ab{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(yg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:xt("string",oa._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class Nh extends oa{data(e={}){return super.data(e)}}class To{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new eu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Nh(this._firestore,this._userDataWriter,s.key,s,new eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:_N(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=To._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _N(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}function vN(r){r=ji(r,Et);const e=ji(r.firestore,Lo);return nN(fg(e),r._key).then((n=>TN(e,r,n)))}To._jsonSchemaVersion="firestore/querySnapshot/1.0",To._jsonSchema={type:xt("string",To._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class ub extends yN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function yu(r){r=ji(r,Uo);const e=ji(r.firestore,Lo),n=fg(e),s=new ub(e);return pN(r._query),iN(n,r._query).then((o=>new To(e,s,r,o)))}function cb(r,e,n){r=ji(r,Et);const s=ji(r.firestore,Lo),o=lb(r.converter,e);return Eg(s,[nb(Af(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ii.none())])}function EN(r,e,n,...s){r=ji(r,Et);const o=ji(r.firestore,Lo),u=Af(o);let h;return h=typeof(e=ct(e))=="string"||e instanceof Sf?hN(u,"updateDoc",r._key,e,n,s):cN(u,"updateDoc",r._key,e),Eg(o,[h.toMutation(r._key,ii.exists(!0))])}function Cf(r,e){const n=ji(r.firestore,Lo),s=Ou(r),o=lb(r.converter,e);return Eg(n,[nb(Af(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then((()=>s))}function Eg(r,e){return(function(s,o){const u=new fr;return s.asyncQueue.enqueueAndForget((async()=>HD(await tN(s),o,u))),u.promise})(fg(r),e)}function TN(r,e,n){const s=n.docs.get(e._key),o=new ub(r);return new oa(r,o,e._key,s,new eu(n.hasPendingWrites,n.fromCache),e.converter)}function hb(){return new mg("serverTimestamp")}(function(e,n=!0){(function(o){Mo=o})(ya),ca(new ps("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Lo(new cI(s.getProvider("auth-internal")),new dI(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),xi(DE,NE,e),xi(DE,NE,"esm2020")})();function fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SN=fb,db=new bu("auth","Firebase",fb());const $h=new Lp("@firebase/auth");function bN(r,...e){$h.logLevel<=Me.WARN&&$h.warn(`Auth (${ya}): ${r}`,...e)}function Oh(r,...e){$h.logLevel<=Me.ERROR&&$h.error(`Auth (${ya}): ${r}`,...e)}function si(r,...e){throw Tg(r,...e)}function Ui(r,...e){return Tg(r,...e)}function mb(r,e,n){const s={...SN(),[e]:n};return new bu("auth","Firebase",s).create(e,{appName:r.name})}function mr(r){return mb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return db.create(r,...e)}function _e(r,e,...n){if(!r)throw Tg(e,...n)}function ur(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oh(e),new Error(e)}function Er(r,e){r||ur(e)}function wp(){return typeof self<"u"&&self.location?.href||""}function AN(){return CT()==="http:"||CT()==="https:"}function CT(){return typeof self<"u"&&self.location?.protocol||null}function wN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AN()||zR()||"connection"in navigator)?navigator.onLine:!0}function RN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=PR()||jR()}get(){return wN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sg(r,e){Er(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class pb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const IN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DN=new Mu(3e4,6e4);function br(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ar(r,e,n,s,o={}){return gb(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Au({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return LR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ss(r.emulatorConfig.host)&&(g.credentials="include"),pb.fetch()(await yb(r,r.config.apiHost,n,m),g)})}async function gb(r,e,n){r._canInitEmulator=!1;const s={...CN,...e};try{const o=new ON(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Eh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Eh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Eh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw mb(r,E,g);si(r,E)}}catch(o){if(o instanceof Fi)throw o;si(r,"network-request-failed",{message:String(o)})}}async function Vu(r,e,n,s,o={}){const u=await Ar(r,e,n,s,o);return"mfaPendingCredential"in u&&si(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function yb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Sg(r.config,o):`${r.config.apiScheme}://${o}`;return IN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function NN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ON{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),DN.get())})}}function Eh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ui(r,e,s);return o.customData._tokenResponse=n,o}function IT(r){return r!==void 0&&r.enterprise!==void 0}class xN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MN(r,e){return Ar(r,"GET","/v2/recaptchaConfig",br(r,e))}async function VN(r,e){return Ar(r,"POST","/v1/accounts:delete",e)}async function Wh(r,e){return Ar(r,"POST","/v1/accounts:lookup",e)}function au(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kN(r,e=!1){const n=ct(r),s=await n.getIdToken(e),o=bg(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:au(Ym(o.auth_time)),issuedAtTime:au(Ym(o.iat)),expirationTime:au(Ym(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ym(r){return Number(r)*1e3}function bg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=v0(n);return o?JSON.parse(o):(Oh("Failed to decode base64 JWT payload"),null)}catch(o){return Oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function DT(r){const e=bg(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _u(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Fi&&PN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function PN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class UN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Rp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jh(r){const e=r.auth,n=await r.getIdToken(),s=await _u(r,Wh(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?_b(o.providerUserInfo):[],h=zN(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Rp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function LN(r){const e=ct(r);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function _b(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function jN(r,e){const n=await gb(r,{},async()=>{const s=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await yb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ss(r.emulatorConfig.host)&&(p.credentials="include"),pb.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BN(r,e){return Ar(r,"POST","/v2/accounts:revokeToken",br(r,e))}class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=DT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await jN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new So;return s&&(_e(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return ur("not implemented")}}function rs(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new UN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Rp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kN(this,e)}reload(){return LN(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await _u(this,VN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:A,isAnonymous:P,providerData:F,stsTokenManager:Q}=n;_e(S&&Q,e,"internal-error");const O=So.fromJSON(this.name,Q);_e(typeof S=="string",e,"internal-error"),rs(s,e.name),rs(o,e.name),_e(typeof A=="boolean",e,"internal-error"),_e(typeof P=="boolean",e,"internal-error"),rs(u,e.name),rs(h,e.name),rs(m,e.name),rs(p,e.name),rs(g,e.name),rs(E,e.name);const $=new ni({uid:S,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:P,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:O,createdAt:g,lastLoginAt:E});return F&&Array.isArray(F)&&($.providerData=F.map(te=>({...te}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new So;o.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Jh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?_b(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new So;m.updateFromIdToken(s);const p=new ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const NT=new Map;function cr(r){Er(r instanceof Function,"Expected a class definition");let e=NT.get(r);return e?(Er(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,NT.set(r,e),e)}class vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vb.type="NONE";const OT=vb;function xh(r,e,n){return`firebase:${r}:${e}:${n}`}class bo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=xh(this.userKey,o.apiKey,u),this.fullPersistenceKey=xh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wh(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new bo(cr(OT),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||cr(OT);const h=xh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let S;if(typeof E=="string"){const A=await Wh(e,{idToken:E}).catch(()=>{});if(!A)break;S=await ni._fromGetAccountInfoResponse(e,A,E)}else S=ni._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new bo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new bo(u,e,s))}}function xT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wb(e))return"Blackberry";if(Rb(e))return"Webos";if(Tb(e))return"Safari";if((e.includes("chrome/")||Sb(e))&&!e.includes("edge/"))return"Chrome";if(Ab(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Eb(r=tn()){return/firefox\//i.test(r)}function Tb(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sb(r=tn()){return/crios\//i.test(r)}function bb(r=tn()){return/iemobile/i.test(r)}function Ab(r=tn()){return/android/i.test(r)}function wb(r=tn()){return/blackberry/i.test(r)}function Rb(r=tn()){return/webos/i.test(r)}function Ag(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qN(r=tn()){return Ag(r)&&!!window.navigator?.standalone}function FN(){return BR()&&document.documentMode===10}function Cb(r=tn()){return Ag(r)||Ab(r)||Rb(r)||wb(r)||/windows phone/i.test(r)||bb(r)}function Ib(r,e=[]){let n;switch(r){case"Browser":n=xT(tn());break;case"Worker":n=`${xT(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ya}/${s}`}class HN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function GN(r,e={}){return Ar(r,"GET","/v2/passwordPolicy",br(r,e))}const KN=6;class QN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class YN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MT(this),this.idTokenSubscription=new MT(this),this.beforeStateQueue=new HN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wh(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(mr(this));const n=e?ct(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GN(this),n=new QN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await BN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ib(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ea(r){return ct(r)}class MT{constructor(e){this.auth=e,this.observer=null,this.addObserver=XR(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let If={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XN(r){If=r}function Db(r){return If.loadJS(r)}function $N(){return If.recaptchaEnterpriseScript}function WN(){return If.gapiScript}function JN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class ZN{constructor(){this.enterprise=new eO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tO="recaptcha-enterprise",Nb="NO_RECAPTCHA";class nO{constructor(e){this.type=tO,this.auth=Ea(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{MN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new xN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;IT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(Nb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZN().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&IT(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=$N();p.length!==0&&(p+=m),Db(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function VT(r,e,n,s=!1,o=!1){const u=new nO(r);let h;if(o)h=Nb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Cp(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await VT(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await VT(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function iO(r,e){const n=lf(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ua(u,e??{}))return o;si(o,"already-initialized")}return n.initialize({options:e})}function rO(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(cr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function sO(r,e,n){const s=Ea(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Ob(e),{host:h,port:m}=aO(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(ua(g,s.config.emulator)&&ua(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ss(h)?(Pp(`${u}//${h}${p}`),Up("Auth",!0)):oO()}function Ob(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function aO(r){const e=Ob(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:kT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:kT(h)}}}function kT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function oO(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class wg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function lO(r,e){return Ar(r,"POST","/v1/accounts:signUp",e)}async function uO(r,e){return Vu(r,"POST","/v1/accounts:signInWithPassword",br(r,e))}async function cO(r,e){return Ar(r,"POST","/v1/accounts:sendOobCode",br(r,e))}async function hO(r,e){return cO(r,e)}async function fO(r,e){return Vu(r,"POST","/v1/accounts:signInWithEmailLink",br(r,e))}async function dO(r,e){return Vu(r,"POST","/v1/accounts:signInWithEmailLink",br(r,e))}class vu extends wg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new vu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new vu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cp(e,n,"signInWithPassword",uO);case"emailLink":return fO(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cp(e,s,"signUpPassword",lO);case"emailLink":return dO(e,{idToken:n,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ao(r,e){return Vu(r,"POST","/v1/accounts:signInWithIdp",br(r,e))}const mO="http://localhost";class da extends wg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new da(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ao(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:mO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}function pO(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gO(r){const e=Xl($l(r)).link,n=e?Xl($l(e)).deep_link_id:null,s=Xl($l(r)).deep_link_id;return(s?Xl($l(s)).link:null)||s||n||e||r}class Rg{constructor(e){const n=Xl($l(e)),s=n.apiKey??null,o=n.oobCode??null,u=pO(n.mode??null);_e(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gO(e);try{return new Rg(n)}catch{return null}}}class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,n){return vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Rg.parseLink(n);return _e(s,"argument-error"),vu._fromEmailAndCode(e,s.code,s.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ku extends xb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ss extends ku{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";class as extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return da._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return as.credential(n,s)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";class os extends ku{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";class ls extends ku{constructor(){super("twitter.com")}static credential(e,n){return da._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";async function yO(r,e){return Vu(r,"POST","/v1/accounts:signUp",br(r,e))}class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ni._fromIdTokenResponse(e,s,o),h=PT(s);return new ma({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=PT(s);return new ma({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function PT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Zh extends Fi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Zh(e,n,s,o)}}function Mb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Zh._fromErrorAndOperation(r,u,e,s):u})}async function _O(r,e,n=!1){const s=await _u(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ma._forOperation(r,"link",s)}async function vO(r,e,n=!1){const{auth:s}=r;if(Rn(s.app))return Promise.reject(mr(s));const o="reauthenticate";try{const u=await _u(r,Mb(s,o,e,r),n);_e(u.idToken,s,"internal-error");const h=bg(u.idToken);_e(h,s,"internal-error");const{sub:m}=h;return _e(r.uid===m,s,"user-mismatch"),ma._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&si(s,"user-mismatch"),u}}async function Vb(r,e,n=!1){if(Rn(r.app))return Promise.reject(mr(r));const s="signIn",o=await Mb(r,s,e),u=await ma._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function EO(r,e){return Vb(Ea(r),e)}async function kb(r){const e=Ea(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Pb(r,e,n){if(Rn(r.app))return Promise.reject(mr(r));const s=Ea(r),h=await Cp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&kb(r),p}),m=await ma._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function TO(r,e,n){return Rn(r.app)?Promise.reject(mr(r)):EO(ct(r),zo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&kb(r),s})}async function SO(r,e){const n=ct(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await hO(n.auth,o);u!==r.email&&await r.reload()}function bO(r,e,n,s){return ct(r).onIdTokenChanged(e,n,s)}function AO(r,e,n){return ct(r).beforeAuthStateChanged(e,n)}function wO(r,e,n,s){return ct(r).onAuthStateChanged(e,n,s)}function RO(r){return ct(r).signOut()}const ef="__sak";class Ub{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const CO=1e3,IO=10;class Lb extends Ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);FN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,IO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},CO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lb.type="LOCAL";const DO=Lb;class zb extends Ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zb.type="SESSION";const jb=zb;function NO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Df(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await NO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Df.receivers=[];function Cg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class OO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Cg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const A=S;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Li(){return window}function xO(r){Li().location.href=r}function Bb(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function MO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VO(){return navigator?.serviceWorker?.controller||null}function kO(){return Bb()?self:null}const qb="firebaseLocalStorageDb",PO=1,tf="firebaseLocalStorage",Fb="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nf(r,e){return r.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function UO(){const r=indexedDB.deleteDatabase(qb);return new Pu(r).toPromise()}function Ip(){const r=indexedDB.open(qb,PO);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(tf,{keyPath:Fb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(tf)?e(s):(s.close(),await UO(),e(await Ip()))})})}async function UT(r,e,n){const s=Nf(r,!0).put({[Fb]:e,value:n});return new Pu(s).toPromise()}async function LO(r,e){const n=Nf(r,!1).get(e),s=await new Pu(n).toPromise();return s===void 0?null:s.value}function LT(r,e){const n=Nf(r,!0).delete(e);return new Pu(n).toPromise()}const zO=800,jO=3;class Hb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>jO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Df._getInstance(kO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MO(),!this.activeServiceWorker)return;this.sender=new OO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ip();return await UT(e,ef,"1"),await LT(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>UT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>LO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>LT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Nf(o,!1).getAll();return new Pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Hb.type="LOCAL";const BO=Hb;new Mu(3e4,6e4);function qO(r,e){return e?cr(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ig extends wg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FO(r){return Vb(r.auth,new Ig(r),r.bypassAuthState)}function HO(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),vO(n,new Ig(r),r.bypassAuthState)}async function GO(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),_O(n,new Ig(r),r.bypassAuthState)}class Gb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FO;case"linkViaPopup":case"linkViaRedirect":return GO;case"reauthViaPopup":case"reauthViaRedirect":return HO;default:si(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KO=new Mu(2e3,1e4);class vo extends Gb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,vo.currentPopupAction&&vo.currentPopupAction.cancel(),vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=Cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KO.get())};e()}}vo.currentPopupAction=null;const QO="pendingRedirect",Mh=new Map;class YO extends Gb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const s=await XO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XO(r,e){const n=JO(e),s=WO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function $O(r,e){Mh.set(r._key(),e)}function WO(r){return cr(r._redirectPersistence)}function JO(r){return xh(QO,r.config.apiKey,r.name)}async function ZO(r,e,n=!1){if(Rn(r.app))return Promise.reject(mr(r));const s=Ea(r),o=qO(s,e),h=await new YO(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const ex=600*1e3;class tx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Kb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ex&&this.cachedEventUids.clear(),this.cachedEventUids.has(zT(e))}saveEventToCache(e){this.cachedEventUids.add(zT(e)),this.lastProcessedEventTime=Date.now()}}function zT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Kb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function nx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kb(r);default:return!1}}async function ix(r,e={}){return Ar(r,"GET","/v1/projects",e)}const rx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sx=/^https?/;async function ax(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ix(r);for(const n of e)try{if(ox(n))return}catch{}si(r,"unauthorized-domain")}function ox(r){const e=wp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!sx.test(n))return!1;if(rx.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const lx=new Mu(3e4,6e4);function jT(){const r=Li().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function ux(r){return new Promise((e,n)=>{function s(){jT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jT(),n(Ui(r,"network-request-failed"))},timeout:lx.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)s();else{const o=JN("iframefcb");return Li()[o]=()=>{gapi.load?s():n(Ui(r,"network-request-failed"))},Db(`${WN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Vh=null,e})}let Vh=null;function cx(r){return Vh=Vh||ux(r),Vh}const hx=new Mu(5e3,15e3),fx="__/auth/iframe",dx="emulator/auth/iframe",mx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},px=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gx(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Sg(e,dx):`https://${r.config.authDomain}/${fx}`,s={apiKey:e.apiKey,appName:r.name,v:ya},o=px.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Au(s).slice(1)}`}async function yx(r){const e=await cx(r),n=Li().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:gx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ui(r,"network-request-failed"),m=Li().setTimeout(()=>{u(h)},hx.get());function p(){Li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const _x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vx=500,Ex=600,Tx="_blank",Sx="http://localhost";class BT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bx(r,e,n,s=vx,o=Ex){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={..._x,width:s.toString(),height:o.toString(),top:u,left:h},g=tn().toLowerCase();n&&(m=Sb(g)?Tx:n),Eb(g)&&(e=e||Sx,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[P,F])=>`${A}${P}=${F},`,"");if(qN(g)&&m!=="_self")return Ax(e||"",m),new BT(null);const S=window.open(e||"",m,E);_e(S,r,"popup-blocked");try{S.focus()}catch{}return new BT(S)}function Ax(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const wx="__/auth/handler",Rx="emulator/auth/handler",Cx=encodeURIComponent("fac");async function qT(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ya,eventId:o};if(e instanceof xb){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",YR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof ku){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${Cx}=${encodeURIComponent(p)}`:"";return`${Ix(r)}?${Au(m).slice(1)}${g}`}function Ix({config:r}){return r.emulator?Sg(r,Rx):`https://${r.authDomain}/${wx}`}const Xm="webStorageSupport";class Dx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jb,this._completeRedirectFn=ZO,this._overrideRedirectResult=$O}async _openPopup(e,n,s,o){Er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await qT(e,n,s,wp(),o);return bx(e,u,Cg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await qT(e,n,s,wp(),o);return xO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await yx(e),s=new tx(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xm,{type:Xm},o=>{const u=o?.[0]?.[Xm];u!==void 0&&n(!!u),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ax(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cb()||Tb()||Ag()}}const Nx=Dx;var FT="@firebase/auth",HT="1.11.1";class Ox{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mx(r){ca(new ps("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ib(r)},g=new YN(s,o,u,p);return rO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ca(new ps("auth-internal",e=>{const n=Ea(e.getProvider("auth").getImmediate());return(s=>new Ox(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(FT,HT,xx(r)),xi(FT,HT,"esm2020")}const Vx=300,kx=b0("authIdTokenMaxAge")||Vx;let GT=null;const Px=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>kx)return;const o=n?.token;GT!==o&&(GT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ux(r=jp()){const e=lf(r,"auth");if(e.isInitialized())return e.getImmediate();const n=iO(r,{popupRedirectResolver:Nx,persistence:[BO,DO,jb]}),s=b0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Px(u.toString());AO(n,h,()=>h(n.currentUser)),bO(n,m=>h(m))}}const o=E0("auth");return o&&sO(n,`http://${o}`),n}function Lx(){return document.getElementsByTagName("head")?.[0]??document}XN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ui("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Lx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mx("Browser");const Qb="firebasestorage.googleapis.com",Yb="storageBucket",zx=120*1e3,jx=600*1e3,Bx=1e3;class ft extends Fi{constructor(e,n,s=0){super($m(e),`Firebase Storage: ${n} (${$m(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rt||(rt={}));function $m(r){return"storage/"+r}function Dg(){const r="An unknown error occurred, please check the error payload for server response.";return new ft(rt.UNKNOWN,r)}function qx(r){return new ft(rt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function Fx(r){return new ft(rt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Hx(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ft(rt.UNAUTHENTICATED,r)}function Gx(){return new ft(rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Kx(r){return new ft(rt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Xb(){return new ft(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $b(){return new ft(rt.CANCELED,"User canceled the upload/download.")}function Qx(r){return new ft(rt.INVALID_URL,"Invalid URL '"+r+"'.")}function Yx(r){return new ft(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Xx(){return new ft(rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Yb+"' property when initializing the app?")}function Wb(){return new ft(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $x(){return new ft(rt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Wx(){return new ft(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Jx(r){return new ft(rt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dp(r){return new ft(rt.INVALID_ARGUMENT,r)}function Jb(){return new ft(rt.APP_DELETED,"The Firebase app was deleted.")}function Zx(r){return new ft(rt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ou(r,e){return new ft(rt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Yl(r){throw new ft(rt.INTERNAL_ERROR,"Internal error: "+r)}class In{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=In.makeFromUrl(e,n)}catch{return new In(e,"")}if(s.path==="")return s;throw Yx(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ue){ue.path_=decodeURIComponent(ue.path)}const E="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",P=new RegExp(`^https?://${S}/${E}/b/${o}/o${A}`,"i"),F={bucket:1,path:3},Q=n===Qb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",$=new RegExp(`^https?://${Q}/${o}/${O}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:P,indices:F,postModify:g},{regex:$,indices:{bucket:1,path:2},postModify:g}];for(let ue=0;ue<ie.length;ue++){const ye=ie[ue],Ee=ye.regex.exec(e);if(Ee){const C=Ee[ye.indices.bucket];let w=Ee[ye.indices.path];w||(w=""),s=new In(C,w),ye.postModify(s);break}}if(s==null)throw Qx(e);return s}}class eM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function tM(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...O){g||(g=!0,e.apply(null,O))}function S(O){o=setTimeout(()=>{o=null,r(P,p())},O)}function A(){u&&clearTimeout(u)}function P(O,...$){if(g){A();return}if(O){A(),E.call(null,O,...$);return}if(p()||h){A(),E.call(null,O,...$);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,S(ie)}let F=!1;function Q(O){F||(F=!0,A(),!g&&(o!==null?(O||(m=2),clearTimeout(o),S(0)):O||(m=1)))}return S(0),u=setTimeout(()=>{h=!0,Q(!0)},n),Q}function nM(r){r(!1)}function iM(r){return r!==void 0}function rM(r){return typeof r=="function"}function sM(r){return typeof r=="object"&&!Array.isArray(r)}function Of(r){return typeof r=="string"||r instanceof String}function KT(r){return Ng()&&r instanceof Blob}function Ng(){return typeof Blob<"u"}function QT(r,e,n,s){if(s<e)throw Dp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw Dp(`Invalid value for '${r}'. Expected ${n} or less.`)}function Uu(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function Zb(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var la;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(la||(la={}));function eA(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class aM{constructor(e,n,s,o,u,h,m,p,g,E,S,A=!0,P=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=S,this.retry=A,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,Q)=>{this.resolve_=F,this.reject_=Q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Th(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===la.NO_ERROR,p=u.getStatus();if(!m||eA(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===la.ABORT;s(!1,new Th(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Th(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());iM(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Dg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Jb():$b();h(p)}else{const p=Xb();h(p)}};this.canceled_?n(!1,new Th(!1,null,!0)):this.backoffId_=tM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Th{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function oM(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function lM(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function uM(r,e){e&&(r["X-Firebase-GMPID"]=e)}function cM(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function hM(r,e,n,s,o,u,h=!0,m=!1){const p=Zb(r.urlParams),g=r.url+p,E=Object.assign({},r.headers);return uM(E,e),oM(E,n),lM(E,u),cM(E,s),new aM(g,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}function fM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dM(...r){const e=fM();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(Ng())return new Blob(r);throw new ft(rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mM(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}function pM(r){if(typeof atob>"u")throw Jx("base-64");return atob(r)}const Oi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wm{constructor(e,n){this.data=e,this.contentType=n||null}}function gM(r,e){switch(r){case Oi.RAW:return new Wm(tA(e));case Oi.BASE64:case Oi.BASE64URL:return new Wm(nA(r,e));case Oi.DATA_URL:return new Wm(_M(e),vM(e))}throw Dg()}function tA(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function yM(r){let e;try{e=decodeURIComponent(r)}catch{throw ou(Oi.DATA_URL,"Malformed data URL.")}return tA(e)}function nA(r,e){switch(r){case Oi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw ou(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Oi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw ou(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=pM(e)}catch(o){throw o.message.includes("polyfill")?o:ou(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class iA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ou(Oi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=EM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function _M(r){const e=new iA(r);return e.base64?nA(Oi.BASE64,e.rest):yM(e.rest)}function vM(r){return new iA(r).contentType}function EM(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class us{constructor(e,n){let s=0,o="";KT(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(KT(this.data_)){const s=this.data_,o=mM(s,e,n);return o===null?null:new us(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new us(s,!0)}}static getBlob(...e){if(Ng()){const n=e.map(s=>s instanceof us?s.data_:s);return new us(dM.apply(null,n))}else{const n=e.map(h=>Of(h)?gM(Oi.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new us(o,!0)}}uploadData(){return this.data_}}function rA(r){let e;try{e=JSON.parse(r)}catch{return null}return sM(e)?e:null}function TM(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function SM(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function sA(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function bM(r,e){return e}class an{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||bM}}let Sh=null;function AM(r){return!Of(r)||r.length<2?r:sA(r)}function aA(){if(Sh)return Sh;const r=[];r.push(new an("bucket")),r.push(new an("generation")),r.push(new an("metageneration")),r.push(new an("name","fullPath",!0));function e(u,h){return AM(h)}const n=new an("name");n.xform=e,r.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new an("size");return o.xform=s,r.push(o),r.push(new an("timeCreated")),r.push(new an("updated")),r.push(new an("md5Hash",null,!0)),r.push(new an("cacheControl",null,!0)),r.push(new an("contentDisposition",null,!0)),r.push(new an("contentEncoding",null,!0)),r.push(new an("contentLanguage",null,!0)),r.push(new an("contentType",null,!0)),r.push(new an("metadata","customMetadata",!0)),Sh=r,Sh}function wM(r,e){function n(){const s=r.bucket,o=r.fullPath,u=new In(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function RM(r,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return wM(s,r),s}function oA(r,e,n){const s=rA(e);return s===null?null:RM(r,s,n)}function CM(r,e,n,s){const o=rA(e);if(o===null||!Of(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=r.bucket,S=r.fullPath,A="/b/"+h(E)+"/o/"+h(S),P=Uu(A,n,s),F=Zb({alt:"media",token:g});return P+F})[0]}function lA(r,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class jo{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function pr(r){if(!r)throw Dg()}function Og(r,e){function n(s,o){const u=oA(r,o,e);return pr(u!==null),u}return n}function IM(r,e){function n(s,o){const u=oA(r,o,e);return pr(u!==null),CM(u,o,r.host,r._protocol)}return n}function Lu(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=Gx():o=Hx():n.getStatus()===402?o=Fx(r.bucket):n.getStatus()===403?o=Kx(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function uA(r){const e=Lu(r);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=qx(r.path)),u.serverResponse=o.serverResponse,u}return n}function DM(r,e,n){const s=e.fullServerUrl(),o=Uu(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new jo(o,u,Og(r,n),h);return m.errorHandler=uA(e),m}function NM(r,e,n){const s=e.fullServerUrl(),o=Uu(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new jo(o,u,IM(r,n),h);return m.errorHandler=uA(e),m}function OM(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function cA(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=OM(null,e)),s}function xM(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let ie="";for(let ue=0;ue<2;ue++)ie=ie+Math.random().toString().slice(2);return ie}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=cA(e,s,o),E=lA(g,n),S="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",P=us.getBlob(S,s,A);if(P===null)throw Wb();const F={name:g.fullPath},Q=Uu(u,r.host,r._protocol),O="POST",$=r.maxUploadRetryTime,te=new jo(Q,O,Og(r,n),$);return te.urlParams=F,te.headers=h,te.body=P.uploadData(),te.errorHandler=Lu(e),te}class nf{constructor(e,n,s,o){this.current=e,this.total=n,this.finalized=!!s,this.metadata=o||null}}function xg(r,e){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch{pr(!1)}return pr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function MM(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h=cA(e,s,o),m={name:h.fullPath},p=Uu(u,r.host,r._protocol),g="POST",E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},S=lA(h,n),A=r.maxUploadRetryTime;function P(Q){xg(Q);let O;try{O=Q.getResponseHeader("X-Goog-Upload-URL")}catch{pr(!1)}return pr(Of(O)),O}const F=new jo(p,g,P,A);return F.urlParams=m,F.headers=E,F.body=S,F.errorHandler=Lu(e),F}function VM(r,e,n,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const E=xg(g,["active","final"]);let S=null;try{S=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{pr(!1)}S||pr(!1);const A=Number(S);return pr(!isNaN(A)),new nf(A,s.size(),E==="final")}const h="POST",m=r.maxUploadRetryTime,p=new jo(n,h,u,m);return p.headers=o,p.errorHandler=Lu(e),p}const YT=256*1024;function kM(r,e,n,s,o,u,h,m){const p=new nf(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw $x();const g=p.total-p.current;let E=g;o>0&&(E=Math.min(E,o));const S=p.current,A=S+E;let P="";E===0?P="finalize":g===E?P="upload, finalize":P="upload";const F={"X-Goog-Upload-Command":P,"X-Goog-Upload-Offset":`${p.current}`},Q=s.slice(S,A);if(Q===null)throw Wb();function O(ue,ye){const Ee=xg(ue,["active","final"]),C=p.current+E,w=s.size();let R;return Ee==="final"?R=Og(e,u)(ue,ye):R=null,new nf(C,w,Ee==="final",R)}const $="POST",te=e.maxUploadRetryTime,ie=new jo(n,$,O,te);return ie.headers=F,ie.body=Q.uploadData(),ie.progressCallback=m||null,ie.errorHandler=Lu(r),ie}const pn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Jm(r){switch(r){case"running":case"pausing":case"canceling":return pn.RUNNING;case"paused":return pn.PAUSED;case"success":return pn.SUCCESS;case"canceled":return pn.CANCELED;case"error":return pn.ERROR;default:return pn.ERROR}}class PM{constructor(e,n,s){if(rM(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function ho(r){return(...e)=>{Promise.resolve().then(()=>r(...e))}}class UM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=la.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=la.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=la.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Yl("cannot .send() more than once");if(Ss(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class LM extends UM{initXhr(){this.xhr_.responseType="text"}}function _o(){return new LM}class zM{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=aA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(rt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(eA(o.status,[]))if(u)o=Xb();else{this.sleepTime=Math.max(this.sleepTime*2,Bx),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(rt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=MM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,_o,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const o=VM(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,_o,n,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=YT*this._chunkMultiplier,n=new nf(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=kM(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,_o,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){YT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=DM(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,_o,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=xM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,_o,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=$b(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Jm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,o){const u=new PM(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Jm(this._state)){case pn.SUCCESS:ho(this._resolve.bind(null,this.snapshot))();break;case pn.CANCELED:case pn.ERROR:const n=this._reject;ho(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Jm(this._state)){case pn.RUNNING:case pn.PAUSED:e.next&&ho(e.next.bind(e,this.snapshot))();break;case pn.SUCCESS:e.complete&&ho(e.complete.bind(e))();break;case pn.CANCELED:case pn.ERROR:e.error&&ho(e.error.bind(e,this._error))();break;default:e.error&&ho(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class pa{constructor(e,n){this._service=e,n instanceof In?this._location=n:this._location=In.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pa(e,n)}get root(){const e=new In(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sA(this._location.path)}get storage(){return this._service}get parent(){const e=TM(this._location.path);if(e===null)return null;const n=new In(this._location.bucket,e);return new pa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Zx(e)}}function jM(r,e,n){return r._throwIfRoot("uploadBytesResumable"),new zM(r,new us(e),n)}function BM(r){r._throwIfRoot("getDownloadURL");const e=NM(r.storage,r._location,aA());return r.storage.makeRequestWithTokens(e,_o).then(n=>{if(n===null)throw Wx();return n})}function qM(r,e){const n=SM(r._location.path,e),s=new In(r._location.bucket,n);return new pa(r.storage,s)}function FM(r){return/^[A-Za-z]+:\/\//.test(r)}function HM(r,e){return new pa(r,e)}function hA(r,e){if(r instanceof Mg){const n=r;if(n._bucket==null)throw Xx();const s=new pa(n,n._bucket);return e!=null?hA(s,e):s}else return e!==void 0?qM(r,e):r}function GM(r,e){if(e&&FM(e)){if(r instanceof Mg)return HM(r,e);throw Dp("To use ref(service, url), the first argument must be a Storage instance.")}else return hA(r,e)}function XT(r,e){const n=e?.[Yb];return n==null?null:In.makeFromBucketSpec(n,r)}function KM(r,e,n,s={}){r.host=`${e}:${n}`;const o=Ss(e);o&&(Pp(`https://${r.host}/b`),Up("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:A0(u,r.app.options.projectId))}class Mg{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=Qb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zx,this._maxUploadRetryTime=jx,this._requests=new Set,o!=null?this._bucket=In.makeFromBucketSpec(o,this._host):this._bucket=XT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=In.makeFromBucketSpec(this._url,e):this._bucket=XT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){QT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){QT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pa(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new eM(Jb());{const h=hM(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const $T="@firebase/storage",WT="0.14.0";const fA="storage";function QM(r,e,n){return r=ct(r),jM(r,e,n)}function YM(r){return r=ct(r),BM(r)}function XM(r,e){return r=ct(r),GM(r,e)}function $M(r=jp(),e){r=ct(r);const s=lf(r,fA).getImmediate({identifier:e}),o=T0("storage");return o&&WM(s,...o),s}function WM(r,e,n,s={}){KM(r,e,n,s)}function JM(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Mg(n,s,o,e,ya)}function ZM(){ca(new ps(fA,JM,"PUBLIC").setMultipleInstances(!0)),xi($T,WT,""),xi($T,WT,"esm2020")}ZM();const eV={apiKey:"AIzaSyDm20Plug9S3EWQo4umsdnrMXaEn8i_Jeo",authDomain:"medical-project-6a2aa.firebaseapp.com",projectId:"medical-project-6a2aa",storageBucket:"medical-project-6a2aa.firebasestorage.app",messagingSenderId:"533053954463",appId:"1:533053954463:web:bbb60e3bd068baa90405aa",measurementId:"G-GMQZJYE7WW"},Vg=C0(eV),Dn=sN(Vg),tV=$M(Vg),Tr=Ux(Vg);function nV(){const r=sf(),[e,n]=H.useState({first_name:"",last_name:"",email:"",password:"",phone_number:"",specialty:""}),[s,o]=H.useState(""),u=m=>{const{name:p,value:g}=m.target;n(E=>({...E,[p]:g}))},h=async m=>{m.preventDefault(),o("Saving...");try{const g=(await Pb(Tr,e.email,e.password)).user;await SO(g);const E=Date.now();await Cf(dr(Dn,"Doctors"),{...e,doctor_id:E,user_id:g.uid,phone_number:Number(e.phone_number),created_at:Xe.now()}),await cb(Ou(Dn,"Users",g.uid),{uid:g.uid,email:e.email,role:"doctor",created_at:Xe.now()}),o(" Doctor registered successfully! Check your email for verification."),setTimeout(()=>{r("/login")},3e3),n({first_name:"",last_name:"",email:"",password:"",phone_number:"",specialty:""})}catch(p){console.error("Error adding doctor:",p),o(" Error adding doctor. Check console.")}};return N.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[N.jsx("h2",{style:{textAlign:"center",fontSize:"1.1rem",letterSpacing:"0.18em",textTransform:"uppercase",color:"#4b5563",marginBottom:"0.5rem"},children:"Doctor Registration"}),N.jsx("p",{style:{textAlign:"center",fontSize:"0.9rem",color:"#6b7280",marginBottom:"1.6rem"},children:"Create an account for a doctor to access the system."}),N.jsxs("form",{onSubmit:h,style:{display:"grid",gap:"0.85rem"},children:[N.jsx("input",{placeholder:"First Name",name:"first_name",value:e.first_name,onChange:u,required:!0,style:fo}),N.jsx("input",{placeholder:"Last Name",name:"last_name",value:e.last_name,onChange:u,required:!0,style:fo}),N.jsx("input",{placeholder:"Email",type:"email",name:"email",value:e.email,onChange:u,required:!0,style:fo}),N.jsx("input",{placeholder:"Password",type:"password",name:"password",value:e.password,onChange:u,required:!0,style:fo}),N.jsx("input",{placeholder:"Phone Number",name:"phone_number",value:e.phone_number,onChange:u,required:!0,style:fo}),N.jsx("input",{placeholder:"Specialty",name:"specialty",value:e.specialty,onChange:u,required:!0,style:fo}),N.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1.1rem"},children:[N.jsx("button",{type:"button",style:rV,onClick:()=>n({first_name:"",last_name:"",email:"",password:"",phone_number:"",specialty:""}),children:"Cancel"}),N.jsx("button",{type:"submit",style:iV,children:"Register"})]})]}),s&&N.jsx("p",{style:{textAlign:"center",marginTop:"1rem"},children:s})]})}const fo={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},iV={border:"none",borderRadius:"999px",padding:"0.75rem 1.8rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #7C3AED 0%, #A78BFA 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(124,58,237,0.22)",transition:"0.3s ease"},rV={borderRadius:"999px",padding:"0.75rem 1.6rem",fontSize:"0.9rem",fontWeight:500,cursor:"pointer",background:"#ffffff",border:"1.5px solid #D1D5DB",boxShadow:"0 4px 12px rgba(0,0,0,0.04)",transition:"0.25s ease"};function sV(){const[r,e]=H.useState(""),[n,s]=H.useState(""),[o,u]=H.useState(""),h=sf(),[m,p]=H.useState(""),g=async E=>{E.preventDefault(),u("");try{const A=(await TO(Tr,r,n)).user.uid,P=await vN(Ou(Dn,"Users",A));if(P.exists()){const F=P.data().role;F==="doctor"?h("/doctor"):F==="patient"?h("/patient"):u("Role not assigned.")}else u("User profile not found in Firestore.")}catch(S){console.error(S),u("Login failed. Check email and password.")}};return N.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#e0f0ff",fontFamily:"sans-serif"},children:N.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"400px"},children:[N.jsxs("div",{style:{backgroundColor:"white",padding:"2rem 3rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",width:"100%",marginBottom:"1rem"},children:[N.jsx("h1",{style:{textAlign:"center",color:"#0077cc",marginBottom:"1rem"},children:"Medical Login"}),N.jsxs("form",{onSubmit:g,children:[N.jsx("label",{children:"Email:"}),N.jsx("input",{type:"email",value:r,onChange:E=>e(E.target.value),required:!0,style:{display:"block",width:"100%",padding:"0.5rem",marginBottom:"1rem",borderRadius:"4px",border:"1px solid #ccc"}}),N.jsx("label",{children:"Password:"}),N.jsx("input",{type:"password",value:n,onChange:E=>s(E.target.value),required:!0,style:{display:"block",width:"100%",padding:"0.5rem",marginBottom:"1rem",borderRadius:"4px",border:"1px solid #ccc"}}),N.jsx("button",{type:"submit",style:{width:"100%",padding:"0.5rem",backgroundColor:"#0077cc",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem"},children:"Sign In"}),o&&N.jsx("p",{style:{color:"red",marginTop:"1rem",textAlign:"center"},children:o})]})]}),N.jsx("button",{type:"button",onClick:()=>h("/doctor-signup"),style:{width:"100%",padding:"0.5rem",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem"},children:"Doctor Sign Up?"})]})})}function aV(){const[r,e]=H.useState({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""}),[n,s]=H.useState(null),[o,u]=H.useState(""),[h,m]=H.useState(null),[p,g]=H.useState(!1),[E,S]=H.useState(null);H.useEffect(()=>{const Q=wO(Tr,async O=>{if(!O){m(null),u("No user logged in");return}m(O),u("Fetching patient info...");try{const $=Xh(dr(Dn,"Patients"),sa("user_id","==",O.uid)),te=await yu($);if(te.empty)u("No patient record found");else{const ie=te.docs[0],ue=ie.data();ue.date_of_birth?.seconds&&(ue.date_of_birth=new Date(ue.date_of_birth.seconds*1e3).toISOString().slice(0,10)),S(ie.id),e(ue),s(ue),u("Patient info loaded")}}catch($){console.error("Error fetching patient data:",$),u("Error fetching data")}});return()=>Q()},[]);const A=Q=>{e(O=>({...O,[Q.target.name]:Q.target.value}))},P=async()=>{if(!E)return;const Q=Ou(Dn,"Patients",E);try{await EN(Q,r),s(r),g(!1),u("Information updated!")}catch(O){console.error("Error updating Firestore:",O),u("Update failed.")}},F=()=>{e(n),g(!1)};return N.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[N.jsx("h2",{style:{textAlign:"center",fontSize:"1.1rem",letterSpacing:"0.18em",textTransform:"uppercase",color:"#4b5563",marginBottom:"0.5rem"},children:"View Patient Info"}),N.jsx("p",{style:{textAlign:"center",fontSize:"0.9rem",color:"#6b7280",marginBottom:"1.6rem"},children:"View and edit your information below"}),h&&N.jsx("div",{style:oV,children:Object.entries({"First Name":"first_name","Last Name":"last_name",Email:"email",Address:"address","Date of Birth":"date_of_birth",Gender:"gender","Phone Number":"phone_number","Emergency Contact Name":"emergency_contact_name","Emergency Contact Phone":"emergency_contact_phone"}).map(([Q,O])=>N.jsxs("div",{children:[N.jsx("span",{style:lV,children:Q}),p?O==="date_of_birth"?N.jsx("input",{type:"date",name:O,value:r[O]||"",onChange:A,style:Zm}):O==="gender"?N.jsxs("select",{name:O,value:r[O]||"",onChange:A,style:Zm,children:[N.jsx("option",{value:"",children:"Select Gender"}),N.jsx("option",{value:"Male",children:"Male"}),N.jsx("option",{value:"Female",children:"Female"}),N.jsx("option",{value:"Other",children:"Other"})]}):N.jsx("input",{name:O,value:r[O]||"",onChange:A,style:Zm}):N.jsx("div",{style:uV,children:r[O]})]},O))}),p?N.jsxs(N.Fragment,{children:[N.jsx("button",{style:cV,onClick:P,children:"Save Changes"}),N.jsx("button",{style:hV,onClick:F,children:"Cancel"})]}):N.jsx("button",{style:kg,onClick:()=>g(!0),children:"Edit"}),N.jsx("p",{style:{textAlign:"center",marginTop:12,color:"#6b7280"},children:o})]})}const oV={marginTop:"1rem",lineHeight:"1.8"},lV={fontSize:"0.78rem",fontWeight:"600",letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151",display:"block",marginBottom:"0.25rem"},uV={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",backgroundColor:"#f9fafb",marginBottom:"0.75rem"},Zm={width:"100%",borderRadius:"999px",border:"1px solid #60A5FA",padding:"0.7rem 1rem",fontSize:"0.9rem",backgroundColor:"#ffffff",marginBottom:"0.75rem",outline:"none"},kg={border:"none",borderRadius:"999px",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #3B82F6 0%, #93C5FD 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(59,130,246,0.22)",transition:"0.3s ease",width:"100%",marginTop:"1.5rem"},cV={...kg,background:"linear-gradient(135deg, #10B981 0%, #6EE7B7 100%)",boxShadow:"0 8px 22px rgba(16,185,129,0.22)"},hV={...kg,background:"#e5e7eb",color:"#374151",boxShadow:"none",marginTop:"0.8rem"};function dA(){const r=sf(),e=async()=>{try{await RO(Tr),r("/"),window.location.reload()}catch(n){console.error("Error logging out:",n)}};return N.jsx("button",{onClick:e,style:{border:"none",borderRadius:"999px",display:"block",margin:"1.5rem auto 0 auto",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #EF4444 0%, #FCA5A5 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(239,68,68,0.22)",transition:"0.3s ease"},children:"Logout"})}function fV(){return N.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[N.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem",letterSpacing:"0.16em",textTransform:"uppercase",fontSize:"0.9rem",color:"#6b7280"},children:"Create Appointment"}),N.jsx("p",{style:{textAlign:"center",marginBottom:"1.8rem",fontSize:"0.9rem",color:"#4b5563"},children:"Schedule a new appointments below."})]})}function dV(){return N.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[N.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem",letterSpacing:"0.16em",textTransform:"uppercase",fontSize:"0.9rem",color:"#6b7280"},children:"View Records"}),N.jsx("p",{style:{textAlign:"center",marginBottom:"1.8rem",fontSize:"0.9rem",color:"#4b5563"},children:"Review previous medical records below."})]})}function mV(){return N.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[N.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem",letterSpacing:"0.16em",textTransform:"uppercase",fontSize:"0.9rem",color:"#6b7280"},children:"View Appointments"}),N.jsx("p",{style:{textAlign:"center",marginBottom:"1.8rem",fontSize:"0.9rem",color:"#4b5563"},children:"View previous and upcoming appointments below."})]})}function pV(){return N.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#F8FBFF",padding:"2.5rem 2rem",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, Poppins, system-ui, sans-serif"},children:[N.jsx("h1",{style:{textAlign:"center",fontSize:"2rem",fontWeight:700,marginBottom:"2.2rem",letterSpacing:"0.12em",textTransform:"uppercase",color:"#1f2937"},children:"Patient Dashboard"}),N.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:N.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:N.jsx(aV,{})})}),N.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:N.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:N.jsx(fV,{})})}),N.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:N.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:N.jsx(mV,{})})}),N.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:N.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:N.jsx(dV,{})})}),N.jsx(dA,{})]})}function gV(){const[r,e]=H.useState({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""}),[n,s]=H.useState(""),o=h=>{const{name:m,value:p}=h.target;e(g=>({...g,[m]:p}))},u=async h=>{h.preventDefault(),s("Saving...");try{const p=(await Pb(Tr,r.email,r.password)).user,g=Date.now();await Cf(dr(Dn,"Patients"),{...r,patient_id:g,created_at:Xe.fromDate(new Date),uid:p.uid}),await cb(Ou(Dn,"Users",p.uid),{email:r.email,role:"patient",patient_id:g,created_at:Xe.fromDate(new Date)}),s("Patient registered successfully."),e({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""})}catch(m){console.error("Error adding patient:",m),s("Error adding patient. Check console.")}};return N.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[N.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem",letterSpacing:"0.16em",textTransform:"uppercase",fontSize:"0.9rem",color:"#6b7280"},children:"Patient Registration"}),N.jsx("p",{style:{textAlign:"center",marginBottom:"1.8rem",fontSize:"0.9rem",color:"#4b5563"},children:"Please complete all required fields before submitting."}),N.jsxs("form",{onSubmit:u,style:{display:"grid",gap:"0.9rem"},children:[N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ii,children:"First Name"}),N.jsx("input",{style:Di,name:"first_name",value:r.first_name,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ii,children:"Last Name"}),N.jsx("input",{style:Di,name:"last_name",value:r.last_name,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ii,children:"Email"}),N.jsx("input",{style:Di,type:"email",name:"email",value:r.email,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ii,children:"Password"}),N.jsx("input",{style:Di,type:"password",name:"password",value:r.password,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ii,children:"Address"}),N.jsx("input",{style:Di,name:"address",value:r.address,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ii,children:"Date Of Birth"}),N.jsx("input",{style:Di,type:"date",name:"date_of_birth",value:r.date_of_birth,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ii,children:"Gender"}),N.jsxs("select",{style:Di,name:"gender",value:r.gender,onChange:o,required:!0,children:[N.jsx("option",{value:"",children:"Select gender"}),N.jsx("option",{value:"female",children:"Female"}),N.jsx("option",{value:"male",children:"Male"}),N.jsx("option",{value:"nonbinary",children:"Non-binary"}),N.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ii,children:"Phone Number"}),N.jsx("input",{style:Di,name:"phone_number",value:r.phone_number,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ii,children:"Emergency Contact Name"}),N.jsx("input",{style:Di,name:"emergency_contact_name",value:r.emergency_contact_name,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ii,children:"Emergency Contact Phone"}),N.jsx("input",{style:Di,name:"emergency_contact_phone",value:r.emergency_contact_phone,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",marginTop:"0.75rem"},children:[N.jsx("button",{type:"reset",style:{...JT,backgroundColor:"#f3f4f6",color:"#374151"},children:"Clear"}),N.jsx("button",{type:"submit",style:{...JT,background:"linear-gradient(135deg, #4f46e5 0%, #6366f1 50%, #818cf8 100%)",color:"#ffffff",boxShadow:"0 12px 30px rgba(79, 70, 229, 0.35)"},children:"Submit"})]})]}),n&&N.jsx("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#4b5563"},children:n})]})}const Ii={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},Di={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},JT={border:"none",borderRadius:"999px",padding:"0.7rem 1.6rem",fontSize:"0.9rem",fontWeight:500,cursor:"pointer"};function mA({onSelectPatient:r,doctorId:e}){const[n,s]=H.useState(""),[o,u]=H.useState([]),h=async()=>{if(!n.trim())return alert("Enter a last name.");if(!e)return alert("You must be logged in as a doctor.");try{const m=dr(Dn,"Patients"),p=Xh(m,sa("last_name","==",n.trim())),E=(await yu(p)).docs.map(S=>({id:S.id,...S.data()}));E.length===0&&alert("No patients found with that last name."),u(E),r(null)}catch(m){console.error("Error searching patients:",m),alert("Unable to search patients. Check your permissions.")}};return N.jsxs("div",{style:{marginBottom:"1rem"},children:[N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:ZT,children:"Search by Last Name"}),N.jsx("input",{type:"text",id:"lastName",style:e0,value:n,onChange:m=>s(m.target.value),placeholder:"Enter last name",required:!0})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1.1rem"},children:[N.jsx("button",{type:"button",style:yV,onClick:()=>s(""),children:"Back"}),N.jsx("button",{onClick:h,style:_V,children:"Search"})]}),o.length>0&&N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:ZT,children:"Select Patient:"}),N.jsxs("select",{style:e0,onChange:m=>r(o.find(p=>p.id===m.target.value)),defaultValue:"",children:[N.jsx("option",{value:"",children:"-- Choose Patient --"}),o.map(m=>N.jsxs("option",{value:m.id,children:[m.first_name," ",m.last_name,"  DOB:"," ",m.date_of_birth?.toDate?m.date_of_birth.toDate().toLocaleDateString():"N/A"]},m.id))]})]})]})}const ZT={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},e0={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},yV={borderRadius:"999px",padding:"0.75rem 1.6rem",fontSize:"0.9rem",fontWeight:500,cursor:"pointer",background:"#ffffff",border:"1.5px solid #D1D5DB",boxShadow:"0 4px 12px rgba(0,0,0,0.04)",transition:"0.25s ease"},_V={border:"none",borderRadius:"999px",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #10B981 0%, #6EE7B7 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(16,185,129,0.22)",transition:"0.3s ease"};function vV(){const[r,e]=H.useState(null),[n,s]=H.useState(0),[o,u]=H.useState(!1),[h,m]=H.useState(null),[p,g]=H.useState(null);H.useEffect(()=>{Tr.currentUser&&g(Tr.currentUser.uid)},[]);const E=A=>e(A.target.files[0]),S=async()=>{if(!r)return alert("Please select a file first.");if(!h)return alert("Please select a patient first.");if(!p)return alert("You must be logged in as a doctor.");const A=h.id,P=`patients/${A}/${r.name}`,F=XM(tV,P),Q=QM(F,r);u(!0),Q.on("state_changed",O=>{const $=O.bytesTransferred/O.totalBytes*100;s(Math.round($))},O=>{console.error("Upload error:",O),alert("Upload failed."),u(!1)},async()=>{try{const O=await YM(Q.snapshot.ref);await Cf(dr(Dn,`Patients/${A}/files`),{name:r.name,url:O,uploadedBy:p,uploadedAt:hb()}),alert("Upload complete!"),e(null),s(0)}catch(O){console.error("Error saving file metadata:",O),alert("Failed to save file information.")}finally{u(!1)}})};return N.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[N.jsx("h2",{style:{textAlign:"center",fontSize:"1.1rem",letterSpacing:"0.18em",textTransform:"uppercase",color:"#4b5563",marginBottom:"0.5rem"},children:"Upload File For Patient"}),N.jsx(mA,{doctorId:p,onSelectPatient:m}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:EV,children:"File"}),N.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:E,style:TV})]}),N.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"1.1rem"},children:N.jsx("button",{onClick:S,style:SV,children:o?"Uploading...":"Upload"})})]})}const EV={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},TV={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},SV={border:"none",borderRadius:"999px",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #3B82F6 0%, #93C5FD 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(59,130,246,0.22)",transition:"0.3s ease"};function bV(){const[r,e]=H.useState(null),[n,s]=H.useState(null),[o,u]=H.useState([]),[h,m]=H.useState(null);return H.useEffect(()=>{Tr.currentUser&&e(Tr.currentUser.uid)},[]),H.useEffect(()=>{(async()=>{if(n)try{const g=dr(Dn,`Patients/${n.id}/files`),S=(await yu(g)).docs.map(A=>({id:A.id,...A.data()}));u(S),m(null)}catch(g){console.error("Error fetching files:",g),alert("Failed to fetch files.")}})()},[n]),N.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[N.jsx("h2",{style:{textAlign:"center",fontSize:"1.1rem",letterSpacing:"0.18em",textTransform:"uppercase",color:"#4b5563",marginBottom:"0.5rem"},children:"View Patient Files"}),N.jsx("p",{style:{textAlign:"center",fontSize:"0.9rem",color:"#6b7280",marginBottom:"1.6rem"},children:"Search by last name to review uploaded documents."}),N.jsx(mA,{doctorId:r,onSelectPatient:s}),o.length>0&&N.jsxs("div",{style:{marginBottom:"1rem"},children:[N.jsx("label",{style:AV,children:"Select File:"}),N.jsxs("select",{style:wV,onChange:p=>m(o.find(g=>g.id===p.target.value)),defaultValue:"",children:[N.jsx("option",{value:"",children:"-- Choose File --"}),o.map(p=>N.jsxs("option",{value:p.id,children:[p.name,"  Uploaded:"," ",p.uploadedAt?.toDate?p.uploadedAt.toDate().toLocaleString():"N/A"]},p.id))]})]}),h&&N.jsx("div",{style:{marginTop:"1rem"},children:h.name.endsWith(".pdf")?N.jsx("iframe",{src:h.url,width:"100%",height:"600px",title:h.name}):N.jsx("img",{src:h.url,alt:h.name,style:{width:"100%",maxHeight:"600px",objectFit:"contain"}})})]})}const AV={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},wV={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"};function RV(){return N.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#F8FBFF",padding:"2.5rem 2rem",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, Poppins, system-ui, sans-serif"},children:[N.jsx("h1",{style:{textAlign:"center",fontSize:"2rem",fontWeight:700,marginBottom:"2.2rem",letterSpacing:"0.12em",textTransform:"uppercase",color:"#1f2937"},children:"Doctor Dashboard"}),N.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:N.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:N.jsx(gV,{})})}),N.jsx("section",{style:{background:"#e9f2ff",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(147, 197, 253, 0.18)",marginBottom:"2rem"},children:N.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:N.jsx(vV,{})})}),N.jsx("section",{style:{background:"#ecfff4",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(167, 243, 208, 0.18)",marginBottom:"2rem"},children:N.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:N.jsx(bV,{})})}),N.jsx(dA,{})]})}function CV(){return N.jsxs("div",{className:"landing-container",children:[N.jsxs("div",{className:"landing-header",children:[N.jsxs("nav",{className:"nav-left",children:[N.jsx(ra,{to:"/about",children:"About"}),N.jsx(ra,{to:"/services",children:"Services"}),N.jsx(ra,{to:"/contacts",children:"Contacts"})]}),N.jsxs("div",{className:"login-right",children:[N.jsx("span",{children:"Already Have an Account?"}),N.jsx(ra,{to:"/login",children:N.jsx("button",{className:"login-button",children:"Login"})})]})]}),N.jsxs("div",{className:"landing-main",children:[N.jsxs("div",{className:"landing-text",children:[N.jsxs("h1",{children:[N.jsx("span",{className:"line1",children:"Find a"}),N.jsx("span",{className:"line2",children:"DOCTOR"})]}),N.jsx("p",{children:"Your secure portal to manage medical records and connect with professionals."}),N.jsx(ra,{to:"/FindDoctor",children:N.jsx("button",{className:"get-started-button",children:"Get Started"})})]}),N.jsx("div",{className:"landing-image",children:N.jsx("img",{src:"Med_LandingPage.jpg",alt:"Doctor"})})]})]})}function IV(){const[r,e]=H.useState(""),[n,s]=H.useState([]),[o,u]=H.useState(null),[h,m]=H.useState(""),[p,g]=H.useState([]),[E,S]=H.useState(""),[A,P]=H.useState(""),F=["New York City","Boston","New Jersey City","Long Island"];H.useEffect(()=>{if(!r)return;(async()=>{try{const $=dr(Dn,"Doctors"),te=Xh($,sa("location","==",r),sa("patients","<",6)),ue=(await yu(te)).docs.map(ye=>({id:ye.id,...ye.data()}));s(ue)}catch($){console.error("Error fetching doctors:",$)}})()},[r]),H.useEffect(()=>{if(!o||!h)return;(async()=>{const $=new Date(h);$.setHours(0,0,0,0);const te=new Date(h);te.setHours(23,59,59,999);const ie=Xh(dr(Dn,"Reservations"),sa("doctorId","==",o.id),sa("appointmentDate",">=",$),sa("appointmentDate","<=",te)),ye=(await yu(ie)).docs.map(w=>new Date(w.data().appointmentDate).getHours()),C=Array.from({length:9},(w,R)=>R+9).filter(w=>!ye.includes(w));g(C),S("")})()},[o,h]);const Q=async()=>{if(!o||!h||E===""||!A){alert("Please select doctor, date, time, and enter your email.");return}const O=new Date(h);O.setHours(E,0,0,0);try{await Cf(dr(Dn,"Reservations"),{doctorId:o.id,appointmentDate:O,email:A,status:"pending",createdAt:hb()}),alert(`Appointment requested with Dr. ${o.first_name} ${o.last_name} at ${E}:00. Please check your email to confirm.`),u(null),m(""),S(""),P(""),g([])}catch($){console.error("Error booking appointment:",$),alert("Failed to book appointment.")}};return N.jsxs("div",{className:"find-doctor-container",children:[N.jsx("h1",{children:"Find a Doctor in Your Area"}),N.jsxs("select",{value:r,onChange:O=>e(O.target.value),children:[N.jsx("option",{value:"",children:"Select Location"}),F.map(O=>N.jsx("option",{value:O,children:O},O))]}),N.jsxs("div",{className:"doctor-list",children:[n.length===0&&r&&N.jsx("p",{children:"No available doctors in this area."}),n.map(O=>N.jsxs("div",{className:"doctor-card",children:[N.jsxs("h3",{children:[O.first_name," ",O.last_name]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Location:"})," ",O.location]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Specialty:"})," ",O.specialty||"General"]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Phone:"})," ",O.phone_number]}),N.jsx("button",{onClick:()=>u(O),children:"Book Now"})]},O.id))]}),o&&N.jsxs("div",{className:"booking-section",children:[N.jsxs("h2",{children:["Book an Appointment with Dr. ",o.first_name," ",o.last_name]}),N.jsxs("label",{children:["Your Email:",N.jsx("input",{type:"email",value:A,onChange:O=>P(O.target.value),placeholder:"you@example.com"})]}),N.jsxs("label",{children:["Date:",N.jsx("input",{type:"date",value:h,onChange:O=>m(O.target.value)})]}),p.length>0&&N.jsxs("label",{children:["Time:",N.jsxs("select",{value:E,onChange:O=>S(parseInt(O.target.value)),children:[N.jsx("option",{value:"",children:"Select Time"}),p.map(O=>N.jsxs("option",{value:O,children:[O,":00"]},O))]})]}),N.jsx("button",{onClick:Q,children:"Request Appointment"})]})]})}function DV(){return N.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f0f4ff",fontFamily:"sans-serif",padding:"2rem"},children:N.jsx("div",{style:{width:"100%",maxWidth:"500px"},children:N.jsx(nV,{})})})}function NV(){return N.jsxs(K1,{children:[N.jsx(na,{path:"/",element:N.jsx(CV,{})}),N.jsx(na,{path:"/login",element:N.jsx(sV,{})}),N.jsx(na,{path:"/FindDoctor",element:N.jsx(IV,{})}),N.jsx(na,{path:"/patient",element:N.jsx(pV,{})}),N.jsx(na,{path:"/doctor",element:N.jsx(RV,{})}),N.jsx(na,{path:"/doctor-signup",element:N.jsx(DV,{})})]})}n1.createRoot(document.getElementById("root")).render(N.jsx(pR,{basename:"/~mballard7/medical-records-swe/medical-records-deploy",children:N.jsx(NV,{})}));
