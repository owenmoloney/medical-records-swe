(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function c1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vm={exports:{}},Yl={};var vE;function h1(){if(vE)return Yl;vE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Yl.Fragment=e,Yl.jsx=n,Yl.jsxs=n,Yl}var EE;function f1(){return EE||(EE=1,Vm.exports=h1()),Vm.exports}var b=f1(),km={exports:{}},be={};var TE;function d1(){if(TE)return be;TE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function C(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,V={};function X(k,te,oe){this.props=k,this.context=te,this.refs=V,this.updater=oe||U}X.prototype.isReactComponent={},X.prototype.setState=function(k,te){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,te,"setState")},X.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Y(){}Y.prototype=X.prototype;function ie(k,te,oe){this.props=k,this.context=te,this.refs=V,this.updater=oe||U}var le=ie.prototype=new Y;le.constructor=ie,j(le,X.prototype),le.isPureReactComponent=!0;var me=Array.isArray;function re(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(k,te,oe){var he=oe.ref;return{$$typeof:r,type:k,key:te,ref:he!==void 0?he:null,props:oe}}function P(k,te){return I(k.type,te,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function B(k){var te={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return te[oe]})}var x=/\/+/g;function Ke(k,te){return typeof k=="object"&&k!==null&&k.key!=null?B(""+k.key):te.toString(36)}function yt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(re,re):(k.status="pending",k.then(function(te){k.status==="pending"&&(k.status="fulfilled",k.value=te)},function(te){k.status==="pending"&&(k.status="rejected",k.reason=te)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function W(k,te,oe,he,Te){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var Ue=!1;if(k===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(k.$$typeof){case r:case e:Ue=!0;break;case v:return Ue=k._init,W(Ue(k._payload),te,oe,he,Te)}}if(Ue)return Te=Te(k),Ue=he===""?"."+Ke(k,0):he,me(Te)?(oe="",Ue!=null&&(oe=Ue.replace(x,"$&/")+"/"),W(Te,te,oe,"",function(xs){return xs})):Te!=null&&(O(Te)&&(Te=P(Te,oe+(Te.key==null||k&&k.key===Te.key?"":(""+Te.key).replace(x,"$&/")+"/")+Ue)),te.push(Te)),1;Ue=0;var Pt=he===""?".":he+":";if(me(k))for(var ot=0;ot<k.length;ot++)he=k[ot],Ce=Pt+Ke(he,ot),Ue+=W(he,te,oe,Ce,Te);else if(ot=C(k),typeof ot=="function")for(k=ot.call(k),ot=0;!(he=k.next()).done;)he=he.value,Ce=Pt+Ke(he,ot++),Ue+=W(he,te,oe,Ce,Te);else if(Ce==="object"){if(typeof k.then=="function")return W(yt(k),te,oe,he,Te);throw te=String(k),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ae(k,te,oe){if(k==null)return k;var he=[],Te=0;return W(k,he,"","",function(Ce){return te.call(oe,Ce,Te++)}),he}function ye(k){if(k._status===-1){var te=k._result;te=te(),te.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=te)}if(k._status===1)return k._result.default;throw k._result}var je=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Qe={map:ae,forEach:function(k,te,oe){ae(k,function(){te.apply(this,arguments)},oe)},count:function(k){var te=0;return ae(k,function(){te++}),te},toArray:function(k){return ae(k,function(te){return te})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return be.Activity=T,be.Children=Qe,be.Component=X,be.Fragment=n,be.Profiler=o,be.PureComponent=ie,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,be.__COMPILER_RUNTIME={__proto__:null,c:function(k){return D.H.useMemoCache(k)}},be.cache=function(k){return function(){return k.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(k,te,oe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var he=j({},k.props),Te=k.key;if(te!=null)for(Ce in te.key!==void 0&&(Te=""+te.key),te)!R.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(he[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)he.children=oe;else if(1<Ce){for(var Ue=Array(Ce),Pt=0;Pt<Ce;Pt++)Ue[Pt]=arguments[Pt+2];he.children=Ue}return I(k.type,Te,he)},be.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},be.createElement=function(k,te,oe){var he,Te={},Ce=null;if(te!=null)for(he in te.key!==void 0&&(Ce=""+te.key),te)R.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=te[he]);var Ue=arguments.length-2;if(Ue===1)Te.children=oe;else if(1<Ue){for(var Pt=Array(Ue),ot=0;ot<Ue;ot++)Pt[ot]=arguments[ot+2];Te.children=Pt}if(k&&k.defaultProps)for(he in Ue=k.defaultProps,Ue)Te[he]===void 0&&(Te[he]=Ue[he]);return I(k,Ce,Te)},be.createRef=function(){return{current:null}},be.forwardRef=function(k){return{$$typeof:m,render:k}},be.isValidElement=O,be.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:ye}},be.memo=function(k,te){return{$$typeof:g,type:k,compare:te===void 0?null:te}},be.startTransition=function(k){var te=D.T,oe={};D.T=oe;try{var he=k(),Te=D.S;Te!==null&&Te(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(re,je)}catch(Ce){je(Ce)}finally{te!==null&&oe.types!==null&&(te.types=oe.types),D.T=te}},be.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},be.use=function(k){return D.H.use(k)},be.useActionState=function(k,te,oe){return D.H.useActionState(k,te,oe)},be.useCallback=function(k,te){return D.H.useCallback(k,te)},be.useContext=function(k){return D.H.useContext(k)},be.useDebugValue=function(){},be.useDeferredValue=function(k,te){return D.H.useDeferredValue(k,te)},be.useEffect=function(k,te){return D.H.useEffect(k,te)},be.useEffectEvent=function(k){return D.H.useEffectEvent(k)},be.useId=function(){return D.H.useId()},be.useImperativeHandle=function(k,te,oe){return D.H.useImperativeHandle(k,te,oe)},be.useInsertionEffect=function(k,te){return D.H.useInsertionEffect(k,te)},be.useLayoutEffect=function(k,te){return D.H.useLayoutEffect(k,te)},be.useMemo=function(k,te){return D.H.useMemo(k,te)},be.useOptimistic=function(k,te){return D.H.useOptimistic(k,te)},be.useReducer=function(k,te,oe){return D.H.useReducer(k,te,oe)},be.useRef=function(k){return D.H.useRef(k)},be.useState=function(k){return D.H.useState(k)},be.useSyncExternalStore=function(k,te,oe){return D.H.useSyncExternalStore(k,te,oe)},be.useTransition=function(){return D.H.useTransition()},be.version="19.2.0",be}var SE;function Bp(){return SE||(SE=1,km.exports=d1()),km.exports}var L=Bp(),Pm={exports:{}},Xl={},Um={exports:{}},Lm={};var bE;function m1(){return bE||(bE=1,(function(r){function e(W,ae){var ye=W.length;W.push(ae);e:for(;0<ye;){var je=ye-1>>>1,Qe=W[je];if(0<o(Qe,ae))W[je]=ae,W[ye]=Qe,ye=je;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ae=W[0],ye=W.pop();if(ye!==ae){W[0]=ye;e:for(var je=0,Qe=W.length,k=Qe>>>1;je<k;){var te=2*(je+1)-1,oe=W[te],he=te+1,Te=W[he];if(0>o(oe,ye))he<Qe&&0>o(Te,oe)?(W[je]=Te,W[he]=ye,je=he):(W[je]=oe,W[te]=ye,je=te);else if(he<Qe&&0>o(Te,ye))W[je]=Te,W[he]=ye,je=he;else break e}}return ae}function o(W,ae){var ye=W.sortIndex-ae.sortIndex;return ye!==0?ye:W.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,T=null,w=3,C=!1,U=!1,j=!1,V=!1,X=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function le(W){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=W)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function me(W){if(j=!1,le(W),!U)if(n(p)!==null)U=!0,re||(re=!0,B());else{var ae=n(g);ae!==null&&yt(me,ae.startTime-W)}}var re=!1,D=-1,R=5,I=-1;function P(){return V?!0:!(r.unstable_now()-I<R)}function O(){if(V=!1,re){var W=r.unstable_now();I=W;var ae=!0;try{e:{U=!1,j&&(j=!1,Y(D),D=-1),C=!0;var ye=w;try{t:{for(le(W),T=n(p);T!==null&&!(T.expirationTime>W&&P());){var je=T.callback;if(typeof je=="function"){T.callback=null,w=T.priorityLevel;var Qe=je(T.expirationTime<=W);if(W=r.unstable_now(),typeof Qe=="function"){T.callback=Qe,le(W),ae=!0;break t}T===n(p)&&s(p),le(W)}else s(p);T=n(p)}if(T!==null)ae=!0;else{var k=n(g);k!==null&&yt(me,k.startTime-W),ae=!1}}break e}finally{T=null,w=ye,C=!1}ae=void 0}}finally{ae?B():re=!1}}}var B;if(typeof ie=="function")B=function(){ie(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Ke=x.port2;x.port1.onmessage=O,B=function(){Ke.postMessage(null)}}else B=function(){X(O,0)};function yt(W,ae){D=X(function(){W(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(W){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var ye=w;w=ae;try{return W()}finally{w=ye}},r.unstable_requestPaint=function(){V=!0},r.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ye=w;w=W;try{return ae()}finally{w=ye}},r.unstable_scheduleCallback=function(W,ae,ye){var je=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?je+ye:je):ye=je,W){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ye+Qe,W={id:v++,callback:ae,priorityLevel:W,startTime:ye,expirationTime:Qe,sortIndex:-1},ye>je?(W.sortIndex=ye,e(g,W),n(p)===null&&W===n(g)&&(j?(Y(D),D=-1):j=!0,yt(me,ye-je))):(W.sortIndex=Qe,e(p,W),U||C||(U=!0,re||(re=!0,B()))),W},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(W){var ae=w;return function(){var ye=w;w=ae;try{return W.apply(this,arguments)}finally{w=ye}}}})(Lm)),Lm}var AE;function p1(){return AE||(AE=1,Um.exports=m1()),Um.exports}var jm={exports:{}},tn={};var wE;function g1(){if(wE)return tn;wE=1;var r=Bp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},tn.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:C}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},tn.useFormStatus=function(){return h.H.useHostTransitionStatus()},tn.version="19.2.0",tn}var RE;function y1(){if(RE)return jm.exports;RE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jm.exports=g1(),jm.exports}var CE;function _1(){if(CE)return Xl;CE=1;var r=p1(),e=Bp(),n=y1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case X:return"Profiler";case V:return"StrictMode";case me:return"Suspense";case re:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case ie:return t.displayName||"Context";case Y:return(t._context.displayName||"Context")+".Consumer";case le:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:Ke(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Ke(t(i))}catch{}}return null}var yt=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},je=[],Qe=-1;function k(t){return{current:t}}function te(t){0>Qe||(t.current=je[Qe],je[Qe]=null,Qe--)}function oe(t,i){Qe++,je[Qe]=t.current,t.current=i}var he=k(null),Te=k(null),Ce=k(null),Ue=k(null);function Pt(t,i){switch(oe(Ce,i),oe(Te,t),oe(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?qv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=qv(i),t=Fv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(he),oe(he,t)}function ot(){te(he),te(Te),te(Ce)}function xs(t){t.memoizedState!==null&&oe(Ue,t);var i=he.current,a=Fv(i,t.type);i!==a&&(oe(Te,t),oe(he,a))}function Ca(t){Te.current===t&&(te(he),te(Te)),Ue.current===t&&(te(Ue),Hl._currentValue=ye)}var Ia,Da;function fi(t){if(Ia===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ia=i&&i[1]||"",Da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ia+t+Da}var Ho=!1;function Ns(t,i){if(!t||Ho)return"";Ho=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var G=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){G=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){G=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),H=S.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===H.length)for(l=N.length-1,f=H.length-1;1<=l&&0<=f&&N[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==H[f]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=f);break}}}finally{Ho=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fi(a):""}function Go(t,i){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return t.child!==i&&i!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Ns(t.type,!1);case 11:return Ns(t.type.render,!1);case 1:return Ns(t.type,!0);case 31:return fi("Activity");default:return""}}function Ko(t){try{var i="",a=null;do i+=Go(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Ut=r.unstable_scheduleCallback,Dr=r.unstable_cancelCallback,Pf=r.unstable_shouldYield,zu=r.unstable_requestPaint,on=r.unstable_now,Os=r.unstable_getCurrentPriorityLevel,Qo=r.unstable_ImmediatePriority,Yo=r.unstable_UserBlockingPriority,xr=r.unstable_NormalPriority,Uf=r.unstable_LowPriority,Bu=r.unstable_IdlePriority,qu=r.log,Fu=r.unstable_setDisableYieldValue,Wn=null,Ht=null;function kn(t){if(typeof qu=="function"&&Fu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Wn,t)}catch{}}var _t=Math.clz32?Math.clz32:Gu,Hu=Math.log,xa=Math.LN2;function Gu(t){return t>>>=0,t===0?32:31-(Hu(t)/xa|0)|0}var di=256,Ms=262144,At=4194304;function mi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=mi(l):(_&=S,_!==0?f=mi(_):a||(a=S&~t,a!==0&&(f=mi(a))))):(S=l&~d,S!==0?f=mi(S):_!==0?f=mi(_):a||(a=l&~t,a!==0&&(f=mi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Jn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Lf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ku(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function gi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Vs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-_t(a),Z=1<<$;S[$]=0,N[$]=-1;var G=H[$];if(G!==null)for(H[$]=null,$=0;$<G.length;$++){var Q=G[$];Q!==null&&(Q.lane&=-536870913)}a&=~Z}l!==0&&ks(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ks(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-_t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Xo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-_t(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function $o(t,i){var a=i&-i;return a=(a&42)!==0?1:Ps(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:fE(t.type))}function Zn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var ei=Math.random().toString(36).slice(2),wt="__reactFiber$"+ei,zt="__reactProps$"+ei,yi="__reactContainer$"+ei,Na="__reactEvents$"+ei,zf="__reactListeners$"+ei,Yu="__reactHandles$"+ei,Xu="__reactResources$"+ei,_i="__reactMarker$"+ei;function Oa(t){delete t[wt],delete t[zt],delete t[Na],delete t[zf],delete t[Yu]}function vi(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[yi]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=$v(t);t!==null;){if(a=t[wt])return a;t=$v(t)}return i}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[wt]||t[yi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Sn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ei(t){var i=t[Xu];return i||(i=t[Xu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Rt(t){t[_i]=!0}var Wo=new Set,Jo={};function Ti(t,i){Si(t,i),Si(t+"Capture",i)}function Si(t,i){for(Jo[t]=i,t=0;t<i.length;t++)Wo.add(i[t])}var Zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),el={},tl={};function $u(t){return bt.call(tl,t)?!0:bt.call(el,t)?!1:Zo.test(t)?tl[t]=!0:(el[t]=!0,!1)}function Ma(t,i,a){if($u(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function bn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ct(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function nl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=Nr(t)?"checked":"value";t._valueTracker=nl(t,i,""+t[i])}}function Us(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Nr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ls=/[\n"\\]/g;function hn(t){return t.replace(Ls,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Va(t,i,a,l,f,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Bt(i)):t.value!==""+Bt(i)&&(t.value=""+Bt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?il(t,_,Bt(i)):a!=null?il(t,_,Bt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Bt(S):t.removeAttribute("name")}function Wu(t,i,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Bt(a):"",i=i!=null?""+Bt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function il(t,i,a){i==="number"&&bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Or(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Ju(t,i,a){if(i!=null&&(i=""+Bt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Bt(a):""}function Mr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(yt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Bt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function fn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Zu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function sl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&rl(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&rl(t,d,i[d])}function ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(t){return Vr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var al=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kr=null,Ai=null;function js(t){var i=Pn(t);if(i&&(t=i.stateNode)){var a=t[zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[zt]||null;if(!f)throw Error(s(90));Va(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Us(l)}break e;case"textarea":Ju(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Or(t,!!a.multiple,i,!1)}}}var Ua=!1;function Pr(t,i,a){if(Ua)return t(i,a);Ua=!0;try{var l=t(i);return l}finally{if(Ua=!1,(kr!==null||Ai!==null)&&(Qc(),kr&&(i=kr,t=Ai,Ai=kr=null,js(i),t)))for(i=0;i<t.length;i++)js(t[i])}}function ni(t,i){var a=t.stateNode;if(a===null)return null;var l=a[zt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(Ln)try{var We={};Object.defineProperty(We,"passive",{get:function(){zs=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{zs=!1}var wi=null,ol=null,Bs=null;function ll(){if(Bs)return Bs;var t,i=ol,a=i.length,l,f="value"in wi?wi.value:wi.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Bs=f.slice(t,1<l?1-l:void 0)}function qs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ii(){return!1}function Gt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$i:ii,this.isPropagationStopped=ii,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),i}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Gt(Wi),Ur=T({},Wi,{view:0,detail:0}),ul=Gt(Ur),Lr,La,Ci,ja=T({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(Lr=t.screenX-Ci.screenX,La=t.screenY-Ci.screenY):La=Lr=0,Ci=t),Lr)},movementY:function(t){return"movementY"in t?t.movementY:La}}),cl=Gt(ja),Fs=T({},ja,{dataTransfer:0}),tc=Gt(Fs),nc=T({},Ur,{relatedTarget:0}),Hs=Gt(nc),hl=T({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),ic=Gt(hl),za=T({},Wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rc=Gt(za),sc=T({},Wi,{data:0}),Ii=Gt(sc),ac={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=lc[t])?!!i[t]:!1}function jr(){return uc}var ln=T({},Ur,{key:function(t){if(t.key){var i=ac[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(t){return t.type==="keypress"?qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cc=Gt(ln),hc=T({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Gt(hc),c=T({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),y=Gt(c),E=T({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Gt(E),q=T({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Gt(q),se=T({},Wi,{newState:0,oldState:0}),we=Gt(se),vt=[9,13,27,32],qe=Ln&&"CompositionEvent"in window,lt=null;Ln&&"documentMode"in document&&(lt=document.documentMode);var jn=Ln&&"TextEvent"in window&&!lt,Di=Ln&&(!qe||lt&&8<lt&&11>=lt),ri=" ",si=!1;function Gs(t,i){switch(t){case"keyup":return vt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function VA(t,i){switch(t){case"compositionend":return Ba(i);case"keypress":return i.which!==32?null:(si=!0,ri);case"textInput":return t=i.data,t===ri&&si?null:t;default:return null}}function kA(t,i){if(qa)return t==="compositionend"||!qe&&Gs(t,i)?(t=ll(),Bs=ol=wi=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Di&&i.locale!=="ko"?null:i.data;default:return null}}var PA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!PA[t.type]:i==="textarea"}function ey(t,i,a,l){kr?Ai?Ai.push(l):Ai=[l]:kr=l,i=eh(i,"onChange"),0<i.length&&(a=new Ri("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var fl=null,dl=null;function UA(t){Pv(t,0)}function fc(t){var i=Sn(t);if(Us(i))return t}function ty(t,i){if(t==="change")return i}var ny=!1;if(Ln){var Bf;if(Ln){var qf="oninput"in document;if(!qf){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),qf=typeof iy.oninput=="function"}Bf=qf}else Bf=!1;ny=Bf&&(!document.documentMode||9<document.documentMode)}function ry(){fl&&(fl.detachEvent("onpropertychange",sy),dl=fl=null)}function sy(t){if(t.propertyName==="value"&&fc(dl)){var i=[];ey(i,dl,t,Un(t)),Pr(UA,i)}}function LA(t,i,a){t==="focusin"?(ry(),fl=i,dl=a,fl.attachEvent("onpropertychange",sy)):t==="focusout"&&ry()}function jA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fc(dl)}function zA(t,i){if(t==="click")return fc(i)}function BA(t,i){if(t==="input"||t==="change")return fc(i)}function qA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var An=typeof Object.is=="function"?Object.is:qA;function ml(t,i){if(An(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bt.call(i,f)||!An(t[f],i[f]))return!1}return!0}function ay(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oy(t,i){var a=ay(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ay(a)}}function ly(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ly(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function uy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=bi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=bi(t.document)}return i}function Ff(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var FA=Ln&&"documentMode"in document&&11>=document.documentMode,Fa=null,Hf=null,pl=null,Gf=!1;function cy(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gf||Fa==null||Fa!==bi(l)||(l=Fa,"selectionStart"in l&&Ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&ml(pl,l)||(pl=l,l=eh(Hf,"onSelect"),0<l.length&&(i=new Ri("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Fa)))}function Ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ha={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Kf={},hy={};Ln&&(hy=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Qs(t){if(Kf[t])return Kf[t];if(!Ha[t])return t;var i=Ha[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in hy)return Kf[t]=i[a];return t}var fy=Qs("animationend"),dy=Qs("animationiteration"),my=Qs("animationstart"),HA=Qs("transitionrun"),GA=Qs("transitionstart"),KA=Qs("transitioncancel"),py=Qs("transitionend"),gy=new Map,Qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qf.push("scrollEnd");function ai(t,i){gy.set(t,i),Ti(i,[t])}var dc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],Ga=0,Yf=0;function mc(){for(var t=Ga,i=Yf=Ga=0;i<t;){var a=zn[i];zn[i++]=null;var l=zn[i];zn[i++]=null;var f=zn[i];zn[i++]=null;var d=zn[i];if(zn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&yy(a,f,d)}}function pc(t,i,a,l){zn[Ga++]=t,zn[Ga++]=i,zn[Ga++]=a,zn[Ga++]=l,Yf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xf(t,i,a,l){return pc(t,i,a,l),gc(t)}function Ys(t,i){return pc(t,null,null,i),gc(t)}function yy(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-_t(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function gc(t){if(50<Ul)throw Ul=0,rm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ka={};function QA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,i,a,l){return new QA(t,i,a,l)}function $f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,i){var a=t.alternate;return a===null?(a=wn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function _y(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function yc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")$f(t)&&(_=1);else if(typeof t=="string")_=Jw(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=wn(31,a,i,f),t.elementType=I,t.lanes=d,t;case j:return Xs(a.children,f,d,i);case V:_=8,f|=24;break;case X:return t=wn(12,a,i,f|2),t.elementType=X,t.lanes=d,t;case me:return t=wn(13,a,i,f),t.elementType=me,t.lanes=d,t;case re:return t=wn(19,a,i,f),t.elementType=re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case Y:_=9;break e;case le:_=11;break e;case D:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=wn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Xs(t,i,a,l){return t=wn(7,t,l,i),t.lanes=a,t}function Wf(t,i,a){return t=wn(6,t,null,i),t.lanes=a,t}function vy(t){var i=wn(18,null,null,0);return i.stateNode=t,i}function Jf(t,i,a){return i=wn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ey=new WeakMap;function Bn(t,i){if(typeof t=="object"&&t!==null){var a=Ey.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ko(i)},Ey.set(t,i),i)}return{value:t,source:i,stack:Ko(i)}}var Qa=[],Ya=0,_c=null,gl=0,qn=[],Fn=0,zr=null,xi=1,Ni="";function er(t,i){Qa[Ya++]=gl,Qa[Ya++]=_c,_c=t,gl=i}function Ty(t,i,a){qn[Fn++]=xi,qn[Fn++]=Ni,qn[Fn++]=zr,zr=t;var l=xi;t=Ni;var f=32-_t(l)-1;l&=~(1<<f),a+=1;var d=32-_t(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,xi=1<<32-_t(i)+f|a<<f|l,Ni=d+t}else xi=1<<d|a<<f|l,Ni=t}function Zf(t){t.return!==null&&(er(t,1),Ty(t,1,0))}function ed(t){for(;t===_c;)_c=Qa[--Ya],Qa[Ya]=null,gl=Qa[--Ya],Qa[Ya]=null;for(;t===zr;)zr=qn[--Fn],qn[Fn]=null,Ni=qn[--Fn],qn[Fn]=null,xi=qn[--Fn],qn[Fn]=null}function Sy(t,i){qn[Fn++]=xi,qn[Fn++]=Ni,qn[Fn++]=zr,xi=i.id,Ni=i.overflow,zr=t}var Kt=null,rt=null,Pe=!1,Br=null,Hn=!1,td=Error(s(519));function qr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(Bn(i,t)),td}function by(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[zt]=l,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<jl.length;a++)xe(jl[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),Wu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),Mr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||zv(i.textContent,a)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=ti),i=!0):i=!1,i||qr(t,!0)}function Ay(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Kt=Kt.return}}function Xa(t){if(t!==Kt)return!1;if(!Pe)return Ay(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||vm(t.type,t.memoizedProps)),a=!a),a&&rt&&qr(t),Ay(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=Xv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=Xv(t)}else i===27?(i=rt,ns(t.type)?(t=Am,Am=null,rt=t):rt=i):rt=Kt?Kn(t.stateNode.nextSibling):null;return!0}function $s(){rt=Kt=null,Pe=!1}function nd(){var t=Br;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Br=null),t}function yl(t){Br===null?Br=[t]:Br.push(t)}var id=k(null),Ws=null,tr=null;function Fr(t,i,a){oe(id,i._currentValue),i._currentValue=a}function nr(t){t._currentValue=id.current,te(id)}function rd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function sd(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),rd(d.return,a,t),l||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),rd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function $a(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;An(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}f=f.return}t!==null&&sd(i,t,a,l),i.flags|=262144}function vc(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Js(t){Ws=t,tr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return wy(Ws,t)}function Ec(t,i){return Ws===null&&Js(t),wy(t,i)}function wy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},tr===null){if(t===null)throw Error(s(308));tr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else tr=tr.next=i;return a}var YA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},XA=r.unstable_scheduleCallback,$A=r.unstable_NormalPriority,It={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ad(){return{controller:new YA,data:new Map,refCount:0}}function _l(t){t.refCount--,t.refCount===0&&XA($A,function(){t.controller.abort()})}var vl=null,od=0,Wa=0,Ja=null;function WA(t,i){if(vl===null){var a=vl=[];od=0,Wa=cm(),Ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return od++,i.then(Ry,Ry),i}function Ry(){if(--od===0&&vl!==null){Ja!==null&&(Ja.status="fulfilled");var t=vl;vl=null,Wa=0,Ja=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function JA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Cy=W.S;W.S=function(t,i){cv=on(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&WA(t,i),Cy!==null&&Cy(t,i)};var Zs=k(null);function ld(){var t=Zs.current;return t!==null?t:tt.pooledCache}function Tc(t,i){i===null?oe(Zs,Zs.current):oe(Zs,i.pool)}function Iy(){var t=ld();return t===null?null:{parent:It._currentValue,pool:t}}var Za=Error(s(460)),ud=Error(s(474)),Sc=Error(s(542)),bc={then:function(){}};function Dy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ti,ti),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Oy(t),t;default:if(typeof i.status=="string")i.then(ti,ti);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Oy(t),t}throw ta=i,Za}}function ea(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Za):a}}var ta=null;function Ny(){if(ta===null)throw Error(s(459));var t=ta;return ta=null,t}function Oy(t){if(t===Za||t===Sc)throw Error(s(483))}var eo=null,El=0;function Ac(t){var i=El;return El+=1,eo===null&&(eo=[]),xy(eo,t,i)}function Tl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function wc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function My(t){function i(z,M){if(t){var F=z.deletions;F===null?(z.deletions=[M],z.flags|=16):F.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)i(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function f(z,M){return z=Zi(z,M),z.index=0,z.sibling=null,z}function d(z,M,F){return z.index=F,t?(F=z.alternate,F!==null?(F=F.index,F<M?(z.flags|=67108866,M):F):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function S(z,M,F,J){return M===null||M.tag!==6?(M=Wf(F,z.mode,J),M.return=z,M):(M=f(M,F),M.return=z,M)}function N(z,M,F,J){var pe=F.type;return pe===j?$(z,M,F.props.children,J,F.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&ea(pe)===M.type)?(M=f(M,F.props),Tl(M,F),M.return=z,M):(M=yc(F.type,F.key,F.props,null,z.mode,J),Tl(M,F),M.return=z,M)}function H(z,M,F,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==F.containerInfo||M.stateNode.implementation!==F.implementation?(M=Jf(F,z.mode,J),M.return=z,M):(M=f(M,F.children||[]),M.return=z,M)}function $(z,M,F,J,pe){return M===null||M.tag!==7?(M=Xs(F,z.mode,J,pe),M.return=z,M):(M=f(M,F),M.return=z,M)}function Z(z,M,F){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Wf(""+M,z.mode,F),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return F=yc(M.type,M.key,M.props,null,z.mode,F),Tl(F,M),F.return=z,F;case U:return M=Jf(M,z.mode,F),M.return=z,M;case R:return M=ea(M),Z(z,M,F)}if(yt(M)||B(M))return M=Xs(M,z.mode,F,null),M.return=z,M;if(typeof M.then=="function")return Z(z,Ac(M),F);if(M.$$typeof===ie)return Z(z,Ec(z,M),F);wc(z,M)}return null}function G(z,M,F,J){var pe=M!==null?M.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return pe!==null?null:S(z,M,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return F.key===pe?N(z,M,F,J):null;case U:return F.key===pe?H(z,M,F,J):null;case R:return F=ea(F),G(z,M,F,J)}if(yt(F)||B(F))return pe!==null?null:$(z,M,F,J,null);if(typeof F.then=="function")return G(z,M,Ac(F),J);if(F.$$typeof===ie)return G(z,M,Ec(z,F),J);wc(z,F)}return null}function Q(z,M,F,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(F)||null,S(M,z,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return z=z.get(J.key===null?F:J.key)||null,N(M,z,J,pe);case U:return z=z.get(J.key===null?F:J.key)||null,H(M,z,J,pe);case R:return J=ea(J),Q(z,M,F,J,pe)}if(yt(J)||B(J))return z=z.get(F)||null,$(M,z,J,pe,null);if(typeof J.then=="function")return Q(z,M,F,Ac(J),pe);if(J.$$typeof===ie)return Q(z,M,F,Ec(M,J),pe);wc(M,J)}return null}function fe(z,M,F,J){for(var pe=null,ze=null,de=M,Ie=M=0,Oe=null;de!==null&&Ie<F.length;Ie++){de.index>Ie?(Oe=de,de=null):Oe=de.sibling;var Be=G(z,de,F[Ie],J);if(Be===null){de===null&&(de=Oe);break}t&&de&&Be.alternate===null&&i(z,de),M=d(Be,M,Ie),ze===null?pe=Be:ze.sibling=Be,ze=Be,de=Oe}if(Ie===F.length)return a(z,de),Pe&&er(z,Ie),pe;if(de===null){for(;Ie<F.length;Ie++)de=Z(z,F[Ie],J),de!==null&&(M=d(de,M,Ie),ze===null?pe=de:ze.sibling=de,ze=de);return Pe&&er(z,Ie),pe}for(de=l(de);Ie<F.length;Ie++)Oe=Q(de,z,Ie,F[Ie],J),Oe!==null&&(t&&Oe.alternate!==null&&de.delete(Oe.key===null?Ie:Oe.key),M=d(Oe,M,Ie),ze===null?pe=Oe:ze.sibling=Oe,ze=Oe);return t&&de.forEach(function(os){return i(z,os)}),Pe&&er(z,Ie),pe}function _e(z,M,F,J){if(F==null)throw Error(s(151));for(var pe=null,ze=null,de=M,Ie=M=0,Oe=null,Be=F.next();de!==null&&!Be.done;Ie++,Be=F.next()){de.index>Ie?(Oe=de,de=null):Oe=de.sibling;var os=G(z,de,Be.value,J);if(os===null){de===null&&(de=Oe);break}t&&de&&os.alternate===null&&i(z,de),M=d(os,M,Ie),ze===null?pe=os:ze.sibling=os,ze=os,de=Oe}if(Be.done)return a(z,de),Pe&&er(z,Ie),pe;if(de===null){for(;!Be.done;Ie++,Be=F.next())Be=Z(z,Be.value,J),Be!==null&&(M=d(Be,M,Ie),ze===null?pe=Be:ze.sibling=Be,ze=Be);return Pe&&er(z,Ie),pe}for(de=l(de);!Be.done;Ie++,Be=F.next())Be=Q(de,z,Ie,Be.value,J),Be!==null&&(t&&Be.alternate!==null&&de.delete(Be.key===null?Ie:Be.key),M=d(Be,M,Ie),ze===null?pe=Be:ze.sibling=Be,ze=Be);return t&&de.forEach(function(u1){return i(z,u1)}),Pe&&er(z,Ie),pe}function et(z,M,F,J){if(typeof F=="object"&&F!==null&&F.type===j&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case C:e:{for(var pe=F.key;M!==null;){if(M.key===pe){if(pe=F.type,pe===j){if(M.tag===7){a(z,M.sibling),J=f(M,F.props.children),J.return=z,z=J;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&ea(pe)===M.type){a(z,M.sibling),J=f(M,F.props),Tl(J,F),J.return=z,z=J;break e}a(z,M);break}else i(z,M);M=M.sibling}F.type===j?(J=Xs(F.props.children,z.mode,J,F.key),J.return=z,z=J):(J=yc(F.type,F.key,F.props,null,z.mode,J),Tl(J,F),J.return=z,z=J)}return _(z);case U:e:{for(pe=F.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===F.containerInfo&&M.stateNode.implementation===F.implementation){a(z,M.sibling),J=f(M,F.children||[]),J.return=z,z=J;break e}else{a(z,M);break}else i(z,M);M=M.sibling}J=Jf(F,z.mode,J),J.return=z,z=J}return _(z);case R:return F=ea(F),et(z,M,F,J)}if(yt(F))return fe(z,M,F,J);if(B(F)){if(pe=B(F),typeof pe!="function")throw Error(s(150));return F=pe.call(F),_e(z,M,F,J)}if(typeof F.then=="function")return et(z,M,Ac(F),J);if(F.$$typeof===ie)return et(z,M,Ec(z,F),J);wc(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,M!==null&&M.tag===6?(a(z,M.sibling),J=f(M,F),J.return=z,z=J):(a(z,M),J=Wf(F,z.mode,J),J.return=z,z=J),_(z)):a(z,M)}return function(z,M,F,J){try{El=0;var pe=et(z,M,F,J);return eo=null,pe}catch(de){if(de===Za||de===Sc)throw de;var ze=wn(29,de,null,z.mode);return ze.lanes=J,ze.return=z,ze}finally{}}}var na=My(!0),Vy=My(!1),Hr=!1;function cd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Kr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=gc(t),yy(t,null,a),i}return pc(t,l,i,a),gc(t)}function Sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Xo(t,a)}}function fd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var dd=!1;function bl(){if(dd){var t=Ja;if(t!==null)throw t}}function Al(t,i,a,l){dd=!1;var f=t.updateQueue;Hr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,H=N.next;N.next=null,_===null?d=H:_.next=H,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=H:S.next=H,$.lastBaseUpdate=N))}if(d!==null){var Z=f.baseState;_=0,$=H=N=null,S=d;do{var G=S.lane&-536870913,Q=G!==S.lane;if(Q?(Ne&G)===G:(l&G)===G){G!==0&&G===Wa&&(dd=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=t,_e=S;G=i;var et=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){Z=fe.call(et,Z,G);break e}Z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,G=typeof fe=="function"?fe.call(et,Z,G):fe,G==null)break e;Z=T({},Z,G);break e;case 2:Hr=!0}}G=S.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(H=$=Q,N=Z):$=$.next=Q,_|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);$===null&&(N=Z),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),Wr|=_,t.lanes=_,t.memoizedState=Z}}function ky(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Py(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ky(a[t],i)}var to=k(null),Rc=k(0);function Uy(t,i){t=hr,oe(Rc,t),oe(to,i),hr=t|i.baseLanes}function md(){oe(Rc,hr),oe(to,to.current)}function pd(){hr=Rc.current,te(to),te(Rc)}var Rn=k(null),Gn=null;function Qr(t){var i=t.alternate;oe(Et,Et.current&1),oe(Rn,t),Gn===null&&(i===null||to.current!==null||i.memoizedState!==null)&&(Gn=t)}function gd(t){oe(Et,Et.current),oe(Rn,t),Gn===null&&(Gn=t)}function Ly(t){t.tag===22?(oe(Et,Et.current),oe(Rn,t),Gn===null&&(Gn=t)):Yr()}function Yr(){oe(Et,Et.current),oe(Rn,Rn.current)}function Cn(t){te(Rn),Gn===t&&(Gn=null),te(Et)}var Et=k(0);function Cc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sm(a)||bm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ir=0,Re=null,Je=null,Dt=null,Ic=!1,no=!1,ia=!1,Dc=0,wl=0,io=null,ZA=0;function mt(){throw Error(s(321))}function yd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!An(t[a],i[a]))return!1;return!0}function _d(t,i,a,l,f,d){return ir=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?T_:Md,ia=!1,d=a(l,f),ia=!1,no&&(d=zy(i,a,l,f)),jy(t),d}function jy(t){W.H=Il;var i=Je!==null&&Je.next!==null;if(ir=0,Dt=Je=Re=null,Ic=!1,wl=0,io=null,i)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&vc(t)&&(xt=!0))}function zy(t,i,a,l){Re=t;var f=0;do{if(no&&(io=null),wl=0,no=!1,25<=f)throw Error(s(301));if(f+=1,Dt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=S_,d=i(a,l)}while(no);return d}function ew(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?Rl(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Re.flags|=1024),i}function vd(){var t=Dc!==0;return Dc=0,t}function Ed(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Td(t){if(Ic){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ic=!1}ir=0,Dt=Je=Re=null,no=!1,wl=Dc=0,io=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Re.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function Tt(){if(Je===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=Dt===null?Re.memoizedState:Dt.next;if(i!==null)Dt=i,Je=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Dt===null?Re.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var i=wl;return wl+=1,io===null&&(io=[]),t=xy(io,t,i),i=Re,(Dt===null?i.memoizedState:Dt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?T_:Md),t}function Nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===ie)return Qt(t)}throw Error(s(438,String(t)))}function Sd(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=xc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=P;return i.index++,a}function rr(t,i){return typeof i=="function"?i(t):i}function Oc(t){var i=Tt();return bd(i,Je,t)}function bd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=_=null,N=null,H=i,$=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(Ne&Z)===Z:(ir&Z)===Z){var G=H.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===Wa&&($=!0);else if((ir&G)===G){H=H.next,G===Wa&&($=!0);continue}else Z={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=Z,_=d):N=N.next=Z,Re.lanes|=G,Wr|=G;Z=H.action,ia&&a(d,Z),d=H.hasEagerState?H.eagerState:a(d,Z)}else G={lane:Z,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=G,_=d):N=N.next=G,Re.lanes|=Z,Wr|=Z;H=H.next}while(H!==null&&H!==i);if(N===null?_=d:N.next=S,!An(d,t.memoizedState)&&(xt=!0,$&&(a=Ja,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ad(t){var i=Tt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);An(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function By(t,i,a){var l=Re,f=Tt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!An((Je||f).memoizedState,a);if(_&&(f.memoizedState=a,xt=!0),f=f.queue,Cd(Hy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,ro(9,{destroy:void 0},Fy.bind(null,l,f,a,i),null),tt===null)throw Error(s(349));d||(ir&127)!==0||qy(l,i,a)}return a}function qy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=xc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Fy(t,i,a,l){i.value=a,i.getSnapshot=l,Gy(i)&&Ky(t)}function Hy(t,i,a){return a(function(){Gy(i)&&Ky(t)})}function Gy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!An(t,a)}catch{return!0}}function Ky(t){var i=Ys(t,2);i!==null&&yn(i,t,2)}function wd(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),ia){kn(!0);try{a()}finally{kn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:t},i}function Qy(t,i,a,l){return t.baseState=a,bd(t,Je,typeof l=="function"?l:rr)}function tw(t,i,a,l,f){if(kc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Yy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Yy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=W.T,_={};W.T=_;try{var S=a(f,l),N=W.S;N!==null&&N(_,S),Xy(t,i,S)}catch(H){Rd(t,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),W.T=d}}else try{d=a(f,l),Xy(t,i,d)}catch(H){Rd(t,i,H)}}function Xy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$y(t,i,l)},function(l){return Rd(t,i,l)}):$y(t,i,a)}function $y(t,i,a){i.status="fulfilled",i.value=a,Wy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Yy(t,a)))}function Rd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Wy(i),i=i.next;while(i!==l)}t.action=null}function Wy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Jy(t,i){return i}function Zy(t,i){if(Pe){var a=tt.formState;if(a!==null){e:{var l=Re;if(Pe){if(rt){t:{for(var f=rt,d=Hn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){rt=Kn(f.nextSibling),l=f.data==="F!";break e}}qr(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jy,lastRenderedState:i},a.queue=l,a=__.bind(null,Re,l),l.dispatch=a,l=wd(!1),d=Od.bind(null,Re,!1,l.queue),l=un(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=tw.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function e_(t){var i=Tt();return t_(i,Je,t)}function t_(t,i,a){if(i=bd(t,i,Jy)[0],t=Oc(rr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Rl(i)}catch(_){throw _===Za?Sc:_}else l=i;i=Tt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,ro(9,{destroy:void 0},nw.bind(null,f,a),null)),[l,d,t]}function nw(t,i){t.action=i}function n_(t){var i=Tt(),a=Je;if(a!==null)return t_(i,a,t);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ro(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=xc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function i_(){return Tt().memoizedState}function Mc(t,i,a,l){var f=un();Re.flags|=t,f.memoizedState=ro(1|i,{destroy:void 0},a,l===void 0?null:l)}function Vc(t,i,a,l){var f=Tt();l=l===void 0?null:l;var d=f.memoizedState.inst;Je!==null&&l!==null&&yd(l,Je.memoizedState.deps)?f.memoizedState=ro(i,d,a,l):(Re.flags|=t,f.memoizedState=ro(1|i,d,a,l))}function r_(t,i){Mc(8390656,8,t,i)}function Cd(t,i){Vc(2048,8,t,i)}function iw(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=xc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function s_(t){var i=Tt().memoizedState;return iw({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function a_(t,i){return Vc(4,2,t,i)}function o_(t,i){return Vc(4,4,t,i)}function l_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function u_(t,i,a){a=a!=null?a.concat([t]):null,Vc(4,4,l_.bind(null,i,t),a)}function Id(){}function c_(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&yd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function h_(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&yd(i,l[1]))return l[0];if(l=t(),ia){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,i],l}function Dd(t,i,a){return a===void 0||(ir&1073741824)!==0&&(Ne&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=fv(),Re.lanes|=t,Wr|=t,a)}function f_(t,i,a,l){return An(a,i)?a:to.current!==null?(t=Dd(t,a,l),An(t,i)||(xt=!0),t):(ir&42)===0||(ir&1073741824)!==0&&(Ne&261930)===0?(xt=!0,t.memoizedState=a):(t=fv(),Re.lanes|=t,Wr|=t,i)}function d_(t,i,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=W.T,S={};W.T=S,Od(t,!1,i,a);try{var N=f(),H=W.S;if(H!==null&&H(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=JA(N,l);Cl(t,i,$,xn(t))}else Cl(t,i,l,xn(t))}catch(Z){Cl(t,i,{then:function(){},status:"rejected",reason:Z},xn())}finally{ae.p=d,_!==null&&S.types!==null&&(_.types=S.types),W.T=_}}function rw(){}function xd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=m_(t).queue;d_(t,f,i,ye,a===null?rw:function(){return p_(t),a(l)})}function m_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function p_(t){var i=m_(t);i.next===null&&(i=t.alternate.memoizedState),Cl(t,i.next.queue,{},xn())}function Nd(){return Qt(Hl)}function g_(){return Tt().memoizedState}function y_(){return Tt().memoizedState}function sw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();t=Gr(a);var l=Kr(i,t,a);l!==null&&(yn(l,i,a),Sl(l,i,a)),i={cache:ad()},t.payload=i;return}i=i.return}}function aw(t,i,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kc(t)?v_(i,a):(a=Xf(t,i,a,l),a!==null&&(yn(a,t,l),E_(a,i,l)))}function __(t,i,a){var l=xn();Cl(t,i,a,l)}function Cl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(kc(t))v_(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,An(S,_))return pc(t,i,f,0),tt===null&&mc(),!1}catch{}finally{}if(a=Xf(t,i,f,l),a!==null)return yn(a,t,l),E_(a,i,l),!0}return!1}function Od(t,i,a,l){if(l={lane:2,revertLane:cm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},kc(t)){if(i)throw Error(s(479))}else i=Xf(t,a,l,2),i!==null&&yn(i,t,2)}function kc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function v_(t,i){no=Ic=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function E_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Xo(t,a)}}var Il={readContext:Qt,use:Nc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Il.useEffectEvent=mt;var T_={readContext:Qt,use:Nc,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:r_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Mc(4194308,4,l_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Mc(4194308,4,t,i)},useInsertionEffect:function(t,i){Mc(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var l=t();if(ia){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=un();if(a!==void 0){var f=a(i);if(ia){kn(!0);try{a(i)}finally{kn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=aw.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=wd(t);var i=t.queue,a=__.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Id,useDeferredValue:function(t,i){var a=un();return Dd(a,t,i)},useTransition:function(){var t=wd(!1);return t=d_.bind(null,Re,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=un();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Ne&127)!==0||qy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,r_(Hy.bind(null,l,d,t),[t]),l.flags|=2048,ro(9,{destroy:void 0},Fy.bind(null,l,d,a,i),null),a},useId:function(){var t=un(),i=tt.identifierPrefix;if(Pe){var a=Ni,l=xi;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Dc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=ZA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Nd,useFormState:Zy,useActionState:Zy,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Od.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Sd,useCacheRefresh:function(){return un().memoizedState=sw.bind(null,Re)},useEffectEvent:function(t){var i=un(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Md={readContext:Qt,use:Nc,useCallback:c_,useContext:Qt,useEffect:Cd,useImperativeHandle:u_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:h_,useReducer:Oc,useRef:i_,useState:function(){return Oc(rr)},useDebugValue:Id,useDeferredValue:function(t,i){var a=Tt();return f_(a,Je.memoizedState,t,i)},useTransition:function(){var t=Oc(rr)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:Rl(t),i]},useSyncExternalStore:By,useId:g_,useHostTransitionStatus:Nd,useFormState:e_,useActionState:e_,useOptimistic:function(t,i){var a=Tt();return Qy(a,Je,t,i)},useMemoCache:Sd,useCacheRefresh:y_};Md.useEffectEvent=s_;var S_={readContext:Qt,use:Nc,useCallback:c_,useContext:Qt,useEffect:Cd,useImperativeHandle:u_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:h_,useReducer:Ad,useRef:i_,useState:function(){return Ad(rr)},useDebugValue:Id,useDeferredValue:function(t,i){var a=Tt();return Je===null?Dd(a,t,i):f_(a,Je.memoizedState,t,i)},useTransition:function(){var t=Ad(rr)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:Rl(t),i]},useSyncExternalStore:By,useId:g_,useHostTransitionStatus:Nd,useFormState:n_,useActionState:n_,useOptimistic:function(t,i){var a=Tt();return Je!==null?Qy(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Sd,useCacheRefresh:y_};S_.useEffectEvent=s_;function Vd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var kd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=xn(),f=Gr(l);f.payload=i,a!=null&&(f.callback=a),i=Kr(t,f,l),i!==null&&(yn(i,t,l),Sl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=xn(),f=Gr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Kr(t,f,l),i!==null&&(yn(i,t,l),Sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=xn(),l=Gr(a);l.tag=2,i!=null&&(l.callback=i),i=Kr(t,l,a),i!==null&&(yn(i,t,a),Sl(i,t,a))}};function b_(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ml(a,l)||!ml(f,d):!0}function A_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&kd.enqueueReplaceState(i,i.state,null)}function ra(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function w_(t){dc(t)}function R_(t){console.error(t)}function C_(t){dc(t)}function Pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function I_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Pd(t,i,a){return a=Gr(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(t,i)},a}function D_(t){return t=Gr(t),t.tag=3,t}function x_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){I_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){I_(i,a,l),typeof f!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function ow(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&$a(i,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?Yc():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===bc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),om(t,l,f)),!1;case 22:return a.flags|=65536,l===bc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),om(t,l,f)),!1}throw Error(s(435,a.tag))}return om(t,l,f),Yc(),!1}if(Pe)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==td&&(t=Error(s(422),{cause:l}),yl(Bn(t,a)))):(l!==td&&(i=Error(s(423),{cause:l}),yl(Bn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Bn(l,a),f=Pd(t.stateNode,l,f),fd(t,f),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=Bn(d,a),Pl===null?Pl=[d]:Pl.push(d),pt!==4&&(pt=2),i===null)return!0;l=Bn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Pd(a.stateNode,l,t),fd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Jr===null||!Jr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=D_(f),x_(f,t,a,l),fd(a,f),!1}a=a.return}while(a!==null);return!1}var Ud=Error(s(461)),xt=!1;function Yt(t,i,a,l){i.child=t===null?Vy(i,null,a,l):na(i,t.child,a,l)}function N_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Js(i),l=_d(t,i,a,_,d,f),S=vd(),t!==null&&!xt?(Ed(t,i,f),sr(t,i,f)):(Pe&&S&&Zf(i),i.flags|=1,Yt(t,i,l,f),i.child)}function O_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!$f(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,M_(t,i,d,l,f)):(t=yc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Gd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(_,l)&&t.ref===i.ref)return sr(t,i,f)}return i.flags|=1,t=Zi(d,l),t.ref=i.ref,t.return=i,i.child=t}function M_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(ml(d,l)&&t.ref===i.ref)if(xt=!1,i.pendingProps=l=d,Gd(t,f))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,sr(t,i,f)}return Ld(t,i,a,l,f)}function V_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return k_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tc(i,d!==null?d.cachePool:null),d!==null?Uy(i,d):md(),Ly(i);else return l=i.lanes=536870912,k_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Tc(i,d.cachePool),Uy(i,d),Yr(),i.memoizedState=null):(t!==null&&Tc(i,null),md(),Yr());return Yt(t,i,f,a),i.child}function Dl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function k_(t,i,a,l,f){var d=ld();return d=d===null?null:{parent:It._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Tc(i,null),md(),Ly(i),t!==null&&$a(t,i,l,!0),i.childLanes=f,null}function Uc(t,i){return i=jc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function P_(t,i,a){return na(i,t.child,null,a),t=Uc(i,i.pendingProps),t.flags|=2,Cn(i),i.memoizedState=null,t}function lw(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Uc(i,l),i.lanes=536870912,Dl(null,t);if(gd(i),(t=rt)?(t=Yv(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zr!==null?{id:xi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=vy(t),a.return=i,i.child=a,Kt=i,rt=null)):t=null,t===null)throw qr(i);return i.lanes=536870912,null}return Uc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(gd(i),f)if(i.flags&256)i.flags&=-257,i=P_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(xt||$a(t,i,a,!1),f=(a&t.childLanes)!==0,xt||f){if(l=tt,l!==null&&(_=$o(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ys(t,_),yn(l,t,_),Ud;Yc(),i=P_(t,i,a)}else t=d.treeContext,rt=Kn(_.nextSibling),Kt=i,Pe=!0,Br=null,Hn=!1,t!==null&&Sy(i,t),i=Uc(i,l),i.flags|=4096;return i}return t=Zi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Lc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Ld(t,i,a,l,f){return Js(i),a=_d(t,i,a,l,void 0,f),l=vd(),t!==null&&!xt?(Ed(t,i,f),sr(t,i,f)):(Pe&&l&&Zf(i),i.flags|=1,Yt(t,i,a,f),i.child)}function U_(t,i,a,l,f,d){return Js(i),i.updateQueue=null,a=zy(i,l,a,f),jy(t),l=vd(),t!==null&&!xt?(Ed(t,i,d),sr(t,i,d)):(Pe&&l&&Zf(i),i.flags|=1,Yt(t,i,a,d),i.child)}function L_(t,i,a,l,f){if(Js(i),i.stateNode===null){var d=Ka,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},cd(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qt(_):Ka,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Vd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&kd.enqueueReplaceState(d,d.state,null),Al(i,l,d,f),bl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=ra(a,S);d.props=N;var H=d.context,$=a.contextType;_=Ka,typeof $=="object"&&$!==null&&(_=Qt($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==_)&&A_(i,d,l,_),Hr=!1;var G=i.memoizedState;d.state=G,Al(i,l,d,f),bl(),H=i.memoizedState,S||G!==H||Hr?(typeof Z=="function"&&(Vd(i,a,Z,l),H=i.memoizedState),(N=Hr||b_(i,a,N,l,G,H,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,hd(t,i),_=i.memoizedProps,$=ra(a,_),d.props=$,Z=i.pendingProps,G=d.context,H=a.contextType,N=Ka,typeof H=="object"&&H!==null&&(N=Qt(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||G!==N)&&A_(i,d,l,N),Hr=!1,G=i.memoizedState,d.state=G,Al(i,l,d,f),bl();var Q=i.memoizedState;_!==Z||G!==Q||Hr||t!==null&&t.dependencies!==null&&vc(t.dependencies)?(typeof S=="function"&&(Vd(i,a,S,l),Q=i.memoizedState),($=Hr||b_(i,a,$,l,G,Q,N)||t!==null&&t.dependencies!==null&&vc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Lc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=na(i,t.child,null,f),i.child=na(i,null,a,f)):Yt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=sr(t,i,f),t}function j_(t,i,a,l){return $s(),i.flags|=256,Yt(t,i,a,l),i.child}var jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zd(t){return{baseLanes:t,cachePool:Iy()}}function Bd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Dn),t}function z_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(f?Qr(i):Yr(),(t=rt)?(t=Yv(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zr!==null?{id:xi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=vy(t),a.return=i,i.child=a,Kt=i,rt=null)):t=null,t===null)throw qr(i);return bm(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Yr(),f=i.mode,S=jc({mode:"hidden",children:S},f),l=Xs(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=zd(a),l.childLanes=Bd(t,_,a),i.memoizedState=jd,Dl(null,l)):(Qr(i),qd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Qr(i),i.flags&=-257,i=Fd(t,i,a)):i.memoizedState!==null?(Yr(),i.child=t.child,i.flags|=128,i=null):(Yr(),S=l.fallback,f=i.mode,l=jc({mode:"visible",children:l.children},f),S=Xs(S,f,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,na(i,t.child,null,a),l=i.child,l.memoizedState=zd(a),l.childLanes=Bd(t,_,a),i.memoizedState=jd,i=Dl(null,l));else if(Qr(i),bm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,yl({value:l,source:null,stack:null}),i=Fd(t,i,a)}else if(xt||$a(t,i,a,!1),_=(a&t.childLanes)!==0,xt||_){if(_=tt,_!==null&&(l=$o(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ys(t,l),yn(_,t,l),Ud;Sm(S)||Yc(),i=Fd(t,i,a)}else Sm(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,rt=Kn(S.nextSibling),Kt=i,Pe=!0,Br=null,Hn=!1,t!==null&&Sy(i,t),i=qd(i,l.children),i.flags|=4096);return i}return f?(Yr(),S=l.fallback,f=i.mode,N=t.child,H=N.sibling,l=Zi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?S=Zi(H,S):(S=Xs(S,f,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Dl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=zd(a):(f=S.cachePool,f!==null?(N=It._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=Iy(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Bd(t,_,a),i.memoizedState=jd,Dl(t.child,l)):(Qr(i),a=t.child,t=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function qd(t,i){return i=jc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function jc(t,i){return t=wn(22,t,null,i),t.lanes=0,t}function Fd(t,i,a){return na(i,t.child,null,a),t=qd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function B_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),rd(t.return,i,a)}function Hd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function q_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Et.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,oe(Et,_),Yt(t,i,l,a),l=Pe?gl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B_(t,a,i);else if(t.tag===19)B_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Cc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Hd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Cc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Hd(i,!0,a,null,d,l);break;case"together":Hd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function sr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Wr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if($a(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Zi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Zi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Gd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&vc(t)))}function uw(t,i,a){switch(i.tag){case 3:Pt(i,i.stateNode.containerInfo),Fr(i,It,t.memoizedState.cache),$s();break;case 27:case 5:xs(i);break;case 4:Pt(i,i.stateNode.containerInfo);break;case 10:Fr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,gd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Qr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?z_(t,i,a):(Qr(i),t=sr(t,i,a),t!==null?t.sibling:null);Qr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||($a(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return q_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(Et,Et.current),l)break;return null;case 22:return i.lanes=0,V_(t,i,a,i.pendingProps);case 24:Fr(i,It,t.memoizedState.cache)}return sr(t,i,a)}function F_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!Gd(t,a)&&(i.flags&128)===0)return xt=!1,uw(t,i,a);xt=(t.flags&131072)!==0}else xt=!1,Pe&&(i.flags&1048576)!==0&&Ty(i,gl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ea(i.elementType),i.type=t,typeof t=="function")$f(t)?(l=ra(t,l),i.tag=1,i=L_(null,i,t,l,a)):(i.tag=0,i=Ld(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===le){i.tag=11,i=N_(null,i,t,l,a);break e}else if(f===D){i.tag=14,i=O_(null,i,t,l,a);break e}}throw i=Ke(t)||t,Error(s(306,i,""))}}return i;case 0:return Ld(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=ra(l,i.pendingProps),L_(t,i,l,f,a);case 3:e:{if(Pt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,hd(t,i),Al(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Fr(i,It,l),l!==d.cache&&sd(i,[It],a,!0),bl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=j_(t,i,l,a);break e}else if(l!==f){f=Bn(Error(s(424)),i),yl(f),i=j_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=Kn(t.firstChild),Kt=i,Pe=!0,Br=null,Hn=!0,a=Vy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($s(),l===f){i=sr(t,i,a);break e}Yt(t,i,l,a)}i=i.child}return i;case 26:return Lc(t,i),t===null?(a=eE(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=th(Ce.current).createElement(a),l[wt]=i,l[zt]=t,Xt(l,a,t),Rt(l),i.stateNode=l):i.memoizedState=eE(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return xs(i),t===null&&Pe&&(l=i.stateNode=Wv(i.type,i.pendingProps,Ce.current),Kt=i,Hn=!0,f=rt,ns(i.type)?(Am=f,rt=Kn(l.firstChild)):rt=f),Yt(t,i,i.pendingProps.children,a),Lc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((f=l=rt)&&(l=jw(l,i.type,i.pendingProps,Hn),l!==null?(i.stateNode=l,Kt=i,rt=Kn(l.firstChild),Hn=!1,f=!0):f=!1),f||qr(i)),xs(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,vm(f,d)?l=null:_!==null&&vm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=_d(t,i,ew,null,null,a),Hl._currentValue=f),Lc(t,i),Yt(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=rt)&&(a=zw(a,i.pendingProps,Hn),a!==null?(i.stateNode=a,Kt=i,rt=null,t=!0):t=!1),t||qr(i)),null;case 13:return z_(t,i,a);case 4:return Pt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=na(i,null,l,a):Yt(t,i,l,a),i.child;case 11:return N_(t,i,i.type,i.pendingProps,a);case 7:return Yt(t,i,i.pendingProps,a),i.child;case 8:return Yt(t,i,i.pendingProps.children,a),i.child;case 12:return Yt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Fr(i,i.type,l.value),Yt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Js(i),f=Qt(f),l=l(f),i.flags|=1,Yt(t,i,l,a),i.child;case 14:return O_(t,i,i.type,i.pendingProps,a);case 15:return M_(t,i,i.type,i.pendingProps,a);case 19:return q_(t,i,a);case 31:return lw(t,i,a);case 22:return V_(t,i,a,i.pendingProps);case 24:return Js(i),l=Qt(It),t===null?(f=ld(),f===null&&(f=tt,d=ad(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},cd(i),Fr(i,It,f)):((t.lanes&a)!==0&&(hd(t,i),Al(i,null,null,a),bl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Fr(i,It,l)):(l=d.cache,Fr(i,It,l),l!==f.cache&&sd(i,[It],a,!0))),Yt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ar(t){t.flags|=4}function Kd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(gv())t.flags|=8192;else throw ta=bc,ud}else t.flags&=-16777217}function H_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sE(i))if(gv())t.flags|=8192;else throw ta=bc,ud}function zc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ku():536870912,t.lanes|=i,lo|=i)}function xl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function cw(t,i,a){var l=i.pendingProps;switch(ed(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),nr(It),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xa(i)?ar(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,nd())),st(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(ar(i),d!==null?(st(i),H_(i,d)):(st(i),Kd(i,f,null,l,a))):d?d!==t.memoizedState?(ar(i),st(i),H_(i,d)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ar(i),st(i),Kd(i,f,t,l,a)),null;case 27:if(Ca(i),a=Ce.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ar(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=he.current,Xa(i)?by(i):(t=Wv(f,l,a),i.stateNode=t,ar(i))}return st(i),null;case 5:if(Ca(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ar(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(d=he.current,Xa(i))by(i);else{var _=th(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[wt]=i,d[zt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Xt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ar(i)}}return st(i),Kd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ar(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Xa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Kt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||zv(t.nodeValue,a)),t||qr(i,!0)}else t=th(t).createTextNode(l),t[wt]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Xa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=i}else $s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=nd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Cn(i),i):(Cn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Xa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[wt]=i}else $s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),f=!1}else f=nd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Cn(i),i):(Cn(i),null)}return Cn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),zc(i,i.updateQueue),st(i),null);case 4:return ot(),t===null&&mm(i.stateNode.containerInfo),st(i),null;case 10:return nr(i.type),st(i),null;case 19:if(te(Et),l=i.memoizedState,l===null)return st(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)xl(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Cc(t),d!==null){for(i.flags|=128,xl(l,!1),t=d.updateQueue,i.updateQueue=t,zc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)_y(a,t),a=a.sibling;return oe(Et,Et.current&1|2),Pe&&er(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&on()>Gc&&(i.flags|=128,f=!0,xl(l,!1),i.lanes=4194304)}else{if(!f)if(t=Cc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,zc(i,t),xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return st(i),null}else 2*on()-l.renderingStartTime>Gc&&a!==536870912&&(i.flags|=128,f=!0,xl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=on(),t.sibling=null,a=Et.current,oe(Et,f?a&1|2:a&1),Pe&&er(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return Cn(i),pd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&zc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(Zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),nr(It),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function hw(t,i){switch(ed(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return nr(It),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ca(i),null;case 31:if(i.memoizedState!==null){if(Cn(i),i.alternate===null)throw Error(s(340));$s()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Cn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));$s()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(Et),null;case 4:return ot(),null;case 10:return nr(i.type),null;case 22:case 23:return Cn(i),pd(),t!==null&&te(Zs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return nr(It),null;case 25:return null;default:return null}}function G_(t,i){switch(ed(i),i.tag){case 3:nr(It),ot();break;case 26:case 27:case 5:Ca(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&Cn(i);break;case 13:Cn(i);break;case 19:te(Et);break;case 10:nr(i.type);break;case 22:case 23:Cn(i),pd(),t!==null&&te(Zs);break;case 24:nr(It)}}function Nl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){$e(i,i.return,S)}}function Xr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var N=a,H=S;try{H()}catch($){$e(f,N,$)}}}l=l.next}while(l!==d)}}catch($){$e(i,i.return,$)}}function K_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Py(i,a)}catch(l){$e(t,t.return,l)}}}function Q_(t,i,a){a.props=ra(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function Ol(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){$e(t,i,f)}}function Oi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$e(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$e(t,i,f)}else a.current=null}function Y_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$e(t,t.return,f)}}function Qd(t,i,a){try{var l=t.stateNode;Mw(l,t.type,a,i),l[zt]=i}catch(f){$e(t,t.return,f)}}function X_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ns(t.type)||t.tag===4}function Yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||X_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ti));else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Xd(t,i,a),t=t.sibling;t!==null;)Xd(t,i,a),t=t.sibling}function Bc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Bc(t,i,a),t=t.sibling;t!==null;)Bc(t,i,a),t=t.sibling}function $_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Xt(i,l,a),i[wt]=t,i[zt]=a}catch(d){$e(t,t.return,d)}}var or=!1,Nt=!1,$d=!1,W_=typeof WeakSet=="function"?WeakSet:Set,qt=null;function fw(t,i){if(t=t.containerInfo,ym=lh,t=uy(t),Ff(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,H=0,$=0,Z=t,G=null;t:for(;;){for(var Q;Z!==a||f!==0&&Z.nodeType!==3||(S=_+f),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)G=Z,Z=Q;for(;;){if(Z===t)break t;if(G===a&&++H===f&&(S=_),G===d&&++$===l&&(N=_),(Q=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=Q}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(_m={focusedElem:t,selectionRange:a},lh=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=ra(a.type,f);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){$e(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Tm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Tm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function J_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ur(t,a),l&4&&Nl(5,a);break;case 1:if(ur(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var f=ra(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&K_(a),l&512&&Ol(a,a.return);break;case 3:if(ur(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Py(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&l&4&&$_(a);case 26:case 5:ur(t,a),i===null&&l&4&&Y_(a),l&512&&Ol(a,a.return);break;case 12:ur(t,a);break;case 31:ur(t,a),l&4&&tv(t,a);break;case 13:ur(t,a),l&4&&nv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Tw.bind(null,a),Bw(t,a))));break;case 22:if(l=a.memoizedState!==null||or,!l){i=i!==null&&i.memoizedState!==null||Nt,f=or;var d=Nt;or=l,(Nt=i)&&!d?cr(t,a,(a.subtreeFlags&8772)!==0):ur(t,a),or=f,Nt=d}break;case 30:break;default:ur(t,a)}}function Z_(t){var i=t.alternate;i!==null&&(t.alternate=null,Z_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Oa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,dn=!1;function lr(t,i,a){for(a=a.child;a!==null;)ev(t,i,a),a=a.sibling}function ev(t,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:Nt||Oi(a,i),lr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Oi(a,i);var l=ut,f=dn;ns(a.type)&&(ut=a.stateNode,dn=!1),lr(t,i,a),Bl(a.stateNode),ut=l,dn=f;break;case 5:Nt||Oi(a,i);case 6:if(l=ut,f=dn,ut=null,lr(t,i,a),ut=l,dn=f,ut!==null)if(dn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:ut!==null&&(dn?(t=ut,Kv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yo(t)):Kv(ut,a.stateNode));break;case 4:l=ut,f=dn,ut=a.stateNode.containerInfo,dn=!0,lr(t,i,a),ut=l,dn=f;break;case 0:case 11:case 14:case 15:Xr(2,a,i),Nt||Xr(4,a,i),lr(t,i,a);break;case 1:Nt||(Oi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Q_(a,i,l)),lr(t,i,a);break;case 21:lr(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,lr(t,i,a),Nt=l;break;default:lr(t,i,a)}}function tv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yo(t)}catch(a){$e(i,i.return,a)}}}function nv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yo(t)}catch(a){$e(i,i.return,a)}}function dw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new W_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new W_),i;default:throw Error(s(435,t.tag))}}function qc(t,i){var a=dw(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=Sw.bind(null,t,l);l.then(f,f)}})}function mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(ns(S.type)){ut=S.stateNode,dn=!1;break e}break;case 5:ut=S.stateNode,dn=!1;break e;case 3:case 4:ut=S.stateNode.containerInfo,dn=!0;break e}S=S.return}if(ut===null)throw Error(s(160));ev(d,_,f),ut=null,dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)iv(i,t),i=i.sibling}var oi=null;function iv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),pn(t),l&4&&(Xr(3,t,t.return),Nl(3,t),Xr(5,t,t.return));break;case 1:mn(i,t),pn(t),l&512&&(Nt||a===null||Oi(a,a.return)),l&64&&or&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=oi;if(mn(i,t),pn(t),l&512&&(Nt||a===null||Oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[_i]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xt(d,l,a),d[wt]=t,Rt(d),l=d;break e;case"link":var _=iE("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=iE("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,Rt(d),l=d}t.stateNode=l}else rE(f,t.type,t.stateNode);else t.stateNode=nE(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?rE(f,t.type,t.stateNode):nE(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qd(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(i,t),pn(t),l&512&&(Nt||a===null||Oi(a,a.return)),a!==null&&l&4&&Qd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,t),pn(t),l&512&&(Nt||a===null||Oi(a,a.return)),t.flags&32){f=t.stateNode;try{fn(f,"")}catch(fe){$e(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Qd(t,f,a!==null?a.memoizedProps:f)),l&1024&&($d=!0);break;case 6:if(mn(i,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){$e(t,t.return,fe)}}break;case 3:if(rh=null,f=oi,oi=nh(i.containerInfo),mn(i,t),oi=f,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{yo(i.containerInfo)}catch(fe){$e(t,t.return,fe)}$d&&($d=!1,rv(t));break;case 4:l=oi,oi=nh(t.stateNode.containerInfo),mn(i,t),pn(t),oi=l;break;case 12:mn(i,t),pn(t);break;case 31:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 13:mn(i,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hc=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=or,$=Nt;if(or=H||f,Nt=$||N,mn(i,t),Nt=$,or=H,pn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||or||Nt||sa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var Z=N.memoizedProps.style,G=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(fe){$e(N,N.return,fe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(fe){$e(N,N.return,fe)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;f?Qv(Q,!0):Qv(N.stateNode,!1)}catch(fe){$e(N,N.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,qc(t,a))));break;case 19:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 30:break;case 21:break;default:mn(i,t),pn(t)}}function pn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(X_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Yd(t);Bc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(fn(_,""),a.flags&=-33);var S=Yd(t);Bc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,H=Yd(t);Xd(t,H,N);break;default:throw Error(s(161))}}catch($){$e(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function rv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;rv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ur(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)J_(t,i.alternate,i),i=i.sibling}function sa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Xr(4,i,i.return),sa(i);break;case 1:Oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Q_(i,i.return,a),sa(i);break;case 27:Bl(i.stateNode);case 26:case 5:Oi(i,i.return),sa(i);break;case 22:i.memoizedState===null&&sa(i);break;case 30:sa(i);break;default:sa(i)}t=t.sibling}}function cr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:cr(f,d,a),Nl(4,d);break;case 1:if(cr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){$e(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)ky(N[f],S)}catch(H){$e(l,l.return,H)}}a&&_&64&&K_(d),Ol(d,d.return);break;case 27:$_(d);case 26:case 5:cr(f,d,a),a&&l===null&&_&4&&Y_(d),Ol(d,d.return);break;case 12:cr(f,d,a);break;case 31:cr(f,d,a),a&&_&4&&tv(f,d);break;case 13:cr(f,d,a),a&&_&4&&nv(f,d);break;case 22:d.memoizedState===null&&cr(f,d,a),Ol(d,d.return);break;case 30:break;default:cr(f,d,a)}i=i.sibling}}function Wd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&_l(a))}function Jd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&_l(t))}function li(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sv(t,i,a,l),i=i.sibling}function sv(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:li(t,i,a,l),f&2048&&Nl(9,i);break;case 1:li(t,i,a,l);break;case 3:li(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&_l(t)));break;case 12:if(f&2048){li(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){$e(i,i.return,N)}}else li(t,i,a,l);break;case 31:li(t,i,a,l);break;case 13:li(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?li(t,i,a,l):Ml(t,i):d._visibility&2?li(t,i,a,l):(d._visibility|=2,so(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Wd(_,i);break;case 24:li(t,i,a,l),f&2048&&Jd(i.alternate,i);break;default:li(t,i,a,l)}}function so(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:so(d,_,S,N,f),Nl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?so(d,_,S,N,f):Ml(d,_):($._visibility|=2,so(d,_,S,N,f)),f&&H&2048&&Wd(_.alternate,_);break;case 24:so(d,_,S,N,f),f&&H&2048&&Jd(_.alternate,_);break;default:so(d,_,S,N,f)}i=i.sibling}}function Ml(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Ml(a,l),f&2048&&Wd(l.alternate,l);break;case 24:Ml(a,l),f&2048&&Jd(l.alternate,l);break;default:Ml(a,l)}i=i.sibling}}var Vl=8192;function ao(t,i,a){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)av(t,i,a),t=t.sibling}function av(t,i,a){switch(t.tag){case 26:ao(t,i,a),t.flags&Vl&&t.memoizedState!==null&&Zw(a,oi,t.memoizedState,t.memoizedProps);break;case 5:ao(t,i,a);break;case 3:case 4:var l=oi;oi=nh(t.stateNode.containerInfo),ao(t,i,a),oi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Vl,Vl=16777216,ao(t,i,a),Vl=l):ao(t,i,a));break;default:ao(t,i,a)}}function ov(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function kl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qt=l,uv(l,t)}ov(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lv(t),t=t.sibling}function lv(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&Xr(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Fc(t)):kl(t);break;default:kl(t)}}function Fc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qt=l,uv(l,t)}ov(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Xr(8,i,i.return),Fc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Fc(i));break;default:Fc(i)}t=t.sibling}}function uv(t,i){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Xr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var f=l.sibling,d=l.return;if(Z_(l),l===a){qt=null;break e}if(f!==null){f.return=d,qt=f;break e}qt=d}}}var mw={getCacheForType:function(t){var i=Qt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Qt(It).controller.signal}},pw=typeof WeakMap=="function"?WeakMap:Map,Fe=0,tt=null,De=null,Ne=0,Xe=0,In=null,$r=!1,oo=!1,Zd=!1,hr=0,pt=0,Wr=0,aa=0,em=0,Dn=0,lo=0,Pl=null,gn=null,tm=!1,Hc=0,cv=0,Gc=1/0,Kc=null,Jr=null,Lt=0,Zr=null,uo=null,fr=0,nm=0,im=null,hv=null,Ul=0,rm=null;function xn(){return(Fe&2)!==0&&Ne!==0?Ne&-Ne:W.T!==null?cm():Qu()}function fv(){if(Dn===0)if((Ne&536870912)===0||Pe){var t=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),Dn=t}else Dn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Dn}function yn(t,i,a){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(co(t,0),es(t,Ne,Dn,!1)),Vs(t,a),((Fe&2)===0||t!==tt)&&(t===tt&&((Fe&2)===0&&(aa|=a),pt===4&&es(t,Ne,Dn,!1)),Mi(t))}function dv(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Jn(t,i),f=l?_w(t,i):am(t,i,!0),d=l;do{if(f===0){oo&&!l&&es(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!gw(a)){f=am(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;f=Pl;var N=S.current.memoizedState.isDehydrated;if(N&&(co(S,_).flags|=256),_=am(S,_,!1),_!==2){if(Zd&&!N){S.errorRecoveryDisabledLanes|=d,aa|=d,f=4;break e}d=gn,gn=f,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){co(t,0),es(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:es(l,i,Dn,!$r);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Hc+300-on(),10<f)){if(es(l,i,Dn,!$r),pi(l,0,!0)!==0)break e;fr=i,l.timeoutHandle=Hv(mv.bind(null,l,a,gn,Kc,tm,i,Dn,aa,lo,$r,d,"Throttled",-0,0),f);break e}mv(l,a,gn,Kc,tm,i,Dn,aa,lo,$r,d,null,-0,0)}}break}while(!0);Mi(t)}function mv(t,i,a,l,f,d,_,S,N,H,$,Z,G,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},av(i,d,Z);var fe=(d&62914560)===d?Hc-on():(d&4194048)===d?cv-on():0;if(fe=e1(Z,fe),fe!==null){fr=d,t.cancelPendingCommit=fe(Sv.bind(null,t,i,d,a,l,f,_,S,N,$,Z,null,G,Q)),es(t,d,_,!H);return}}Sv(t,i,d,a,l,f,_,S,N)}function gw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!An(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function es(t,i,a,l){i&=~em,i&=~aa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-_t(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&ks(t,a,i)}function Qc(){return(Fe&6)===0?(Ll(0),!1):!0}function sm(){if(De!==null){if(Xe===0)var t=De.return;else t=De,tr=Ws=null,Td(t),eo=null,El=0,t=De;for(;t!==null;)G_(t.alternate,t),t=t.return;De=null}}function co(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Pw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fr=0,sm(),tt=t,De=a=Zi(t.current,null),Ne=i,Xe=0,In=null,$r=!1,oo=Jn(t,i),Zd=!1,lo=Dn=em=aa=Wr=pt=0,gn=Pl=null,tm=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-_t(l),d=1<<f;i|=t[f],l&=~d}return hr=i,mc(),a}function pv(t,i){Re=null,W.H=Il,i===Za||i===Sc?(i=Ny(),Xe=3):i===ud?(i=Ny(),Xe=4):Xe=i===Ud?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,De===null&&(pt=1,Pc(t,Bn(i,t.current)))}function gv(){var t=Rn.current;return t===null?!0:(Ne&4194048)===Ne?Gn===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?t===Gn:!1}function yv(){var t=W.H;return W.H=Il,t===null?Il:t}function _v(){var t=W.A;return W.A=mw,t}function Yc(){pt=4,$r||(Ne&4194048)!==Ne&&Rn.current!==null||(oo=!0),(Wr&134217727)===0&&(aa&134217727)===0||tt===null||es(tt,Ne,Dn,!1)}function am(t,i,a){var l=Fe;Fe|=2;var f=yv(),d=_v();(tt!==t||Ne!==i)&&(Kc=null,co(t,i)),i=!1;var _=pt;e:do try{if(Xe!==0&&De!==null){var S=De,N=In;switch(Xe){case 8:sm(),_=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var H=Xe;if(Xe=0,In=null,ho(t,S,N,H),a&&oo){_=0;break e}break;default:H=Xe,Xe=0,In=null,ho(t,S,N,H)}}yw(),_=pt;break}catch($){pv(t,$)}while(!0);return i&&t.shellSuspendCounter++,tr=Ws=null,Fe=l,W.H=f,W.A=d,De===null&&(tt=null,Ne=0,mc()),_}function yw(){for(;De!==null;)vv(De)}function _w(t,i){var a=Fe;Fe|=2;var l=yv(),f=_v();tt!==t||Ne!==i?(Kc=null,Gc=on()+500,co(t,i)):oo=Jn(t,i);e:do try{if(Xe!==0&&De!==null){i=De;var d=In;t:switch(Xe){case 1:Xe=0,In=null,ho(t,i,d,1);break;case 2:case 9:if(Dy(d)){Xe=0,In=null,Ev(i);break}i=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),Mi(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Dy(d)?(Xe=0,In=null,Ev(i)):(Xe=0,In=null,ho(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var S=De;if(_?sE(_):S.stateNode.complete){Xe=0,In=null;var N=S.sibling;if(N!==null)De=N;else{var H=S.return;H!==null?(De=H,Xc(H)):De=null}break t}}Xe=0,In=null,ho(t,i,d,5);break;case 6:Xe=0,In=null,ho(t,i,d,6);break;case 8:sm(),pt=6;break e;default:throw Error(s(462))}}vw();break}catch($){pv(t,$)}while(!0);return tr=Ws=null,W.H=l,W.A=f,Fe=a,De!==null?0:(tt=null,Ne=0,mc(),pt)}function vw(){for(;De!==null&&!Pf();)vv(De)}function vv(t){var i=F_(t.alternate,t,hr);t.memoizedProps=t.pendingProps,i===null?Xc(t):De=i}function Ev(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=U_(a,i,i.pendingProps,i.type,void 0,Ne);break;case 11:i=U_(a,i,i.pendingProps,i.type.render,i.ref,Ne);break;case 5:Td(i);default:G_(a,i),i=De=_y(i,hr),i=F_(a,i,hr)}t.memoizedProps=t.pendingProps,i===null?Xc(t):De=i}function ho(t,i,a,l){tr=Ws=null,Td(i),eo=null,El=0;var f=i.return;try{if(ow(t,f,i,a,Ne)){pt=1,Pc(t,Bn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;pt=1,Pc(t,Bn(a,t.current)),De=null;return}i.flags&32768?(Pe||l===1?t=!0:oo||(Ne&536870912)!==0?t=!1:($r=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tv(i,t)):Xc(i)}function Xc(t){var i=t;do{if((i.flags&32768)!==0){Tv(i,$r);return}t=i.return;var a=cw(i.alternate,i,hr);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);pt===0&&(pt=5)}function Tv(t,i){do{var a=hw(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);pt=6,De=null}function Sv(t,i,a,l,f,d,_,S,N){t.cancelPendingCommit=null;do $c();while(Lt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Yf,jf(t,a,d,_,S,N),t===tt&&(De=tt=null,Ne=0),uo=i,Zr=t,fr=a,nm=d,im=f,hv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bw(xr,function(){return Cv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=ae.p,ae.p=2,_=Fe,Fe|=4;try{fw(t,i,a)}finally{Fe=_,ae.p=f,W.T=l}}Lt=1,bv(),Av(),wv()}}function bv(){if(Lt===1){Lt=0;var t=Zr,i=uo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var f=Fe;Fe|=4;try{iv(i,t);var d=_m,_=uy(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&ly(S.ownerDocument.documentElement,S)){if(N!==null&&Ff(S)){var H=N.start,$=N.end;if($===void 0&&($=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min($,S.value.length);else{var Z=S.ownerDocument||document,G=Z&&Z.defaultView||window;if(G.getSelection){var Q=G.getSelection(),fe=S.textContent.length,_e=Math.min(N.start,fe),et=N.end===void 0?_e:Math.min(N.end,fe);!Q.extend&&_e>et&&(_=et,et=_e,_e=_);var z=oy(S,_e),M=oy(S,et);if(z&&M&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var F=Z.createRange();F.setStart(z.node,z.offset),Q.removeAllRanges(),_e>et?(Q.addRange(F),Q.extend(M.node,M.offset)):(F.setEnd(M.node,M.offset),Q.addRange(F))}}}}for(Z=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var J=Z[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}lh=!!ym,_m=ym=null}finally{Fe=f,ae.p=l,W.T=a}}t.current=i,Lt=2}}function Av(){if(Lt===2){Lt=0;var t=Zr,i=uo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var f=Fe;Fe|=4;try{J_(t,i.alternate,i)}finally{Fe=f,ae.p=l,W.T=a}}Lt=3}}function wv(){if(Lt===4||Lt===3){Lt=0,zu();var t=Zr,i=uo,a=fr,l=hv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,uo=Zr=null,Rv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Jr=null),Xi(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Wn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,f=ae.p,ae.p=2,W.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{W.T=i,ae.p=f}}(fr&3)!==0&&$c(),Mi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===rm?Ul++:(Ul=0,rm=t):Ul=0,Ll(0)}}function Rv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,_l(i)))}function $c(){return bv(),Av(),wv(),Cv()}function Cv(){if(Lt!==5)return!1;var t=Zr,i=nm;nm=0;var a=Xi(fr),l=W.T,f=ae.p;try{ae.p=32>a?32:a,W.T=null,a=im,im=null;var d=Zr,_=fr;if(Lt=0,uo=Zr=null,fr=0,(Fe&6)!==0)throw Error(s(331));var S=Fe;if(Fe|=4,lv(d.current),sv(d,d.current,_,a),Fe=S,Ll(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Wn,d)}catch{}return!0}finally{ae.p=f,W.T=l,Rv(t,i)}}function Iv(t,i,a){i=Bn(a,i),i=Pd(t.stateNode,i,2),t=Kr(t,i,2),t!==null&&(Vs(t,2),Mi(t))}function $e(t,i,a){if(t.tag===3)Iv(t,t,a);else for(;i!==null;){if(i.tag===3){Iv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Jr===null||!Jr.has(l))){t=Bn(a,t),a=D_(2),l=Kr(i,a,2),l!==null&&(x_(a,l,i,t),Vs(l,2),Mi(l));break}}i=i.return}}function om(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new pw;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Zd=!0,f.add(a),t=Ew.bind(null,t,i,a),i.then(t,t))}function Ew(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Ne&a)===a&&(pt===4||pt===3&&(Ne&62914560)===Ne&&300>on()-Hc?(Fe&2)===0&&co(t,0):em|=a,lo===Ne&&(lo=0)),Mi(t)}function Dv(t,i){i===0&&(i=Ku()),t=Ys(t,i),t!==null&&(Vs(t,i),Mi(t))}function Tw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Dv(t,a)}function Sw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Dv(t,a)}function bw(t,i){return Ut(t,i)}var Wc=null,fo=null,lm=!1,Jc=!1,um=!1,ts=0;function Mi(t){t!==fo&&t.next===null&&(fo===null?Wc=fo=t:fo=fo.next=t),Jc=!0,lm||(lm=!0,ww())}function Ll(t,i){if(!um&&Jc){um=!0;do for(var a=!1,l=Wc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-_t(42|t)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Mv(l,d))}else d=Ne,d=pi(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jn(l,d)||(a=!0,Mv(l,d));l=l.next}while(a);um=!1}}function Aw(){xv()}function xv(){Jc=lm=!1;var t=0;ts!==0&&kw()&&(t=ts);for(var i=on(),a=null,l=Wc;l!==null;){var f=l.next,d=Nv(l,i);d===0?(l.next=null,a===null?Wc=f:a.next=f,f===null&&(fo=a)):(a=l,(t!==0||(d&3)!==0)&&(Jc=!0)),l=f}Lt!==0&&Lt!==5||Ll(t),ts!==0&&(ts=0)}function Nv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-_t(d),S=1<<_,N=f[_];N===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Lf(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=tt,a=Ne,a=pi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Dr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Dr(l),Xi(a)){case 2:case 8:a=Yo;break;case 32:a=xr;break;case 268435456:a=Bu;break;default:a=xr}return l=Ov.bind(null,t),a=Ut(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Dr(l),t.callbackPriority=2,t.callbackNode=null,2}function Ov(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if($c()&&t.callbackNode!==a)return null;var l=Ne;return l=pi(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(dv(t,l,i),Nv(t,on()),t.callbackNode!=null&&t.callbackNode===a?Ov.bind(null,t):null)}function Mv(t,i){if($c())return null;dv(t,i,!0)}function ww(){Uw(function(){(Fe&6)!==0?Ut(Qo,Aw):xv()})}function cm(){if(ts===0){var t=Wa;t===0&&(t=di,di<<=1,(di&261888)===0&&(di=256)),ts=t}return ts}function Vv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pa(""+t)}function kv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Rw(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=Vv((f[zt]||null).action),_=l.submitter;_&&(i=(i=_[zt]||null)?Vv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ri("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ts!==0){var N=_?kv(f,_):new FormData(f);xd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?kv(f,_):new FormData(f),xd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var hm=0;hm<Qf.length;hm++){var fm=Qf[hm],Cw=fm.toLowerCase(),Iw=fm[0].toUpperCase()+fm.slice(1);ai(Cw,"on"+Iw)}ai(fy,"onAnimationEnd"),ai(dy,"onAnimationIteration"),ai(my,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(HA,"onTransitionRun"),ai(GA,"onTransitionStart"),ai(KA,"onTransitionCancel"),ai(py,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function Pv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,H=S.currentTarget;if(S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=H;try{d(f)}catch($){dc($)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,H=S.currentTarget,S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=H;try{d(f)}catch($){dc($)}f.currentTarget=null,d=N}}}}function xe(t,i){var a=i[Na];a===void 0&&(a=i[Na]=new Set);var l=t+"__bubble";a.has(l)||(Uv(i,t,2,!1),a.add(l))}function dm(t,i,a){var l=0;i&&(l|=4),Uv(a,t,l,i)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function mm(t){if(!t[Zc]){t[Zc]=!0,Wo.forEach(function(a){a!=="selectionchange"&&(Dw.has(a)||dm(a,!1,t),dm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Zc]||(i[Zc]=!0,dm("selectionchange",!1,i))}}function Uv(t,i,a,l){switch(fE(i)){case 2:var f=i1;break;case 8:f=r1;break;default:f=Dm}a=f.bind(null,i,a,t),f=void 0,!zs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function pm(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=vi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Pr(function(){var H=d,$=Un(a),Z=[];e:{var G=gy.get(t);if(G!==void 0){var Q=Ri,fe=t;switch(t){case"keypress":if(qs(a)===0)break e;case"keydown":case"keyup":Q=cc;break;case"focusin":fe="focus",Q=Hs;break;case"focusout":fe="blur",Q=Hs;break;case"beforeblur":case"afterblur":Q=Hs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case fy:case dy:case my:Q=ic;break;case py:Q=A;break;case"scroll":case"scrollend":Q=ul;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=rc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ji;break;case"toggle":case"beforetoggle":Q=we}var _e=(i&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),z=_e?G!==null?G+"Capture":null:G;_e=[];for(var M=H,F;M!==null;){var J=M;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||z===null||(J=ni(M,z),J!=null&&_e.push(zl(M,J,F))),et)break;M=M.return}0<_e.length&&(G=new Q(G,fe,null,a,$),Z.push({event:G,listeners:_e}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==al&&(fe=a.relatedTarget||a.fromElement)&&(vi(fe)||fe[yi]))break e;if((Q||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=H,fe=fe?vi(fe):null,fe!==null&&(et=u(fe),_e=fe.tag,fe!==et||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(Q=null,fe=H),Q!==fe)){if(_e=cl,J="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ji,J="onPointerLeave",z="onPointerEnter",M="pointer"),et=Q==null?G:Sn(Q),F=fe==null?G:Sn(fe),G=new _e(J,M+"leave",Q,a,$),G.target=et,G.relatedTarget=F,J=null,vi($)===H&&(_e=new _e(z,M+"enter",fe,a,$),_e.target=F,_e.relatedTarget=et,J=_e),et=J,Q&&fe)t:{for(_e=xw,z=Q,M=fe,F=0,J=z;J;J=_e(J))F++;J=0;for(var pe=M;pe;pe=_e(pe))J++;for(;0<F-J;)z=_e(z),F--;for(;0<J-F;)M=_e(M),J--;for(;F--;){if(z===M||M!==null&&z===M.alternate){_e=z;break t}z=_e(z),M=_e(M)}_e=null}else _e=null;Q!==null&&Lv(Z,G,Q,_e,!1),fe!==null&&et!==null&&Lv(Z,et,fe,_e,!0)}}e:{if(G=H?Sn(H):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var ze=ty;else if(Zg(G))if(ny)ze=BA;else{ze=jA;var de=LA}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&ka(H.elementType)&&(ze=ty):ze=zA;if(ze&&(ze=ze(t,H))){ey(Z,ze,a,$);break e}de&&de(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&il(G,"number",G.value)}switch(de=H?Sn(H):window,t){case"focusin":(Zg(de)||de.contentEditable==="true")&&(Fa=de,Hf=H,pl=null);break;case"focusout":pl=Hf=Fa=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,cy(Z,a,$);break;case"selectionchange":if(FA)break;case"keydown":case"keyup":cy(Z,a,$)}var Ie;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else qa?Gs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Di&&a.locale!=="ko"&&(qa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&qa&&(Ie=ll()):(wi=$,ol="value"in wi?wi.value:wi.textContent,qa=!0)),de=eh(H,Oe),0<de.length&&(Oe=new Ii(Oe,t,null,a,$),Z.push({event:Oe,listeners:de}),Ie?Oe.data=Ie:(Ie=Ba(a),Ie!==null&&(Oe.data=Ie)))),(Ie=jn?VA(t,a):kA(t,a))&&(Oe=eh(H,"onBeforeInput"),0<Oe.length&&(de=new Ii("onBeforeInput","beforeinput",null,a,$),Z.push({event:de,listeners:Oe}),de.data=Ie)),Rw(Z,t,H,a,$)}Pv(Z,i)})}function zl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function eh(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ni(t,a),f!=null&&l.unshift(zl(t,f,d)),f=ni(t,i),f!=null&&l.push(zl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function xw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Lv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,H=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||H===null||(N=H,f?(H=ni(a,d),H!=null&&_.unshift(zl(a,H,N))):f||(H=ni(a,d),H!=null&&_.push(zl(a,H,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Nw=/\r\n?/g,Ow=/\u0000|\uFFFD/g;function jv(t){return(typeof t=="string"?t:""+t).replace(Nw,`
`).replace(Ow,"")}function zv(t,i){return i=jv(i),jv(t)===i}function Ze(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&fn(t,""+l);break;case"className":bn(t,"class",l);break;case"tabIndex":bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,a,l);break;case"style":sl(t,l,d);break;case"data":if(i!=="object"){bn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",f.name,f,null),Ze(t,i,"formEncType",f.formEncType,f,null),Ze(t,i,"formMethod",f.formMethod,f,null),Ze(t,i,"formTarget",f.formTarget,f,null)):(Ze(t,i,"encType",f.encType,f,null),Ze(t,i,"method",f.method,f,null),Ze(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ti);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),Ma(t,"popover",l);break;case"xlinkActuate":Ct(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ct(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ct(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ct(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ct(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ct(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ec.get(a)||a,Ma(t,a,l))}}function gm(t,i,a,l,f,d){switch(a){case"style":sl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[zt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ma(t,a,l)}}}function Xt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}f&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var S=d=_=f=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Ze(t,i,l,$,a,null)}}Wu(t,d,S,N,H,_,f,!1);return;case"select":xe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Ze(t,i,f,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Or(t,!!l,i,!1):a!=null&&Or(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ze(t,i,_,S,a,null)}Mr(t,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,N,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)xe(jl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,H,l,a,null)}return;default:if(ka(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&gm(t,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ze(t,i,S,l,a,null))}function Mw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,N=null,H=null,$=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(Q)||Ze(t,i,Q,null,l,Z)}}for(var G in l){var Q=l[G];if(Z=a[G],l.hasOwnProperty(G)&&(Q!=null||Z!=null))switch(G){case"type":d=Q;break;case"name":f=Q;break;case"checked":H=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==Z&&Ze(t,i,G,Q,l,Z)}}Va(t,_,S,N,H,$,d,f);return;case"select":Q=_=S=G=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&Ze(t,i,f,d,l,N)}i=S,a=_,l=Q,G!=null?Or(t,!!a,G,!1):!!l!=!!a&&(i!=null?Or(t,!!a,i,!0):Or(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(t,i,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(t,i,_,f,l,d)}Ju(t,G,Q);return;case"option":for(var fe in a)if(G=a[fe],a.hasOwnProperty(fe)&&G!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Ze(t,i,fe,null,l,G)}for(N in l)if(G=l[N],Q=a[N],l.hasOwnProperty(N)&&G!==Q&&(G!=null||Q!=null))switch(N){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(t,i,N,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)G=a[_e],a.hasOwnProperty(_e)&&G!=null&&!l.hasOwnProperty(_e)&&Ze(t,i,_e,null,l,G);for(H in l)if(G=l[H],Q=a[H],l.hasOwnProperty(H)&&G!==Q&&(G!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Ze(t,i,H,G,l,Q)}return;default:if(ka(i)){for(var et in a)G=a[et],a.hasOwnProperty(et)&&G!==void 0&&!l.hasOwnProperty(et)&&gm(t,i,et,void 0,l,G);for($ in l)G=l[$],Q=a[$],!l.hasOwnProperty($)||G===Q||G===void 0&&Q===void 0||gm(t,i,$,G,l,Q);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&Ze(t,i,z,null,l,G);for(Z in l)G=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||G===Q||G==null&&Q==null||Ze(t,i,Z,G,l,Q)}function Bv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&Bv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>S)break;var $=N.transferSize,Z=N.initiatorType;$&&Bv(Z)&&(N=N.responseEnd,_+=$*(N<S?1:(S-H)/(N-H)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ym=null,_m=null;function th(t){return t.nodeType===9?t:t.ownerDocument}function qv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function vm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Em=null;function kw(){var t=window.event;return t&&t.type==="popstate"?t===Em?!1:(Em=t,!0):(Em=null,!1)}var Hv=typeof setTimeout=="function"?setTimeout:void 0,Pw=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,Uw=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(t){return Gv.resolve(null).then(t).catch(Lw)}:Hv;function Lw(t){setTimeout(function(){throw t})}function ns(t){return t==="head"}function Kv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),yo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Bl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Bl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[_i]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Bl(t.ownerDocument.body);a=f}while(a);yo(i)}function Qv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Tm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tm(a),Oa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jw(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_i])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function zw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function Yv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Kn(t.nextSibling),t===null))return null;return t}function Sm(t){return t.data==="$?"||t.data==="$~"}function bm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Bw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Am=null;function Xv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function $v(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Wv(t,i,a){switch(i=th(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Oa(t)}var Qn=new Map,Jv=new Set;function nh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var dr=ae.d;ae.d={f:qw,r:Fw,D:Hw,C:Gw,L:Kw,m:Qw,X:Xw,S:Yw,M:$w};function qw(){var t=dr.f(),i=Qc();return t||i}function Fw(t){var i=Pn(t);i!==null&&i.tag===5&&i.type==="form"?p_(i):dr.r(t)}var mo=typeof document>"u"?null:document;function Zv(t,i,a){var l=mo;if(l&&typeof i=="string"&&i){var f=hn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Jv.has(f)||(Jv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Xt(i,"link",t),Rt(i),l.head.appendChild(i)))}}function Hw(t){dr.D(t),Zv("dns-prefetch",t,null)}function Gw(t,i){dr.C(t,i),Zv("preconnect",t,i)}function Kw(t,i,a){dr.L(t,i,a);var l=mo;if(l&&t&&i){var f='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+hn(a.imageSizes)+'"]')):f+='[href="'+hn(t)+'"]';var d=f;switch(i){case"style":d=po(t);break;case"script":d=go(t)}Qn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Qn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(ql(d))||i==="script"&&l.querySelector(Fl(d))||(i=l.createElement("link"),Xt(i,"link",t),Rt(i),l.head.appendChild(i)))}}function Qw(t,i){dr.m(t,i);var a=mo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=go(t)}if(!Qn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Qn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(d)))return}l=a.createElement("link"),Xt(l,"link",t),Rt(l),a.head.appendChild(l)}}}function Yw(t,i,a){dr.S(t,i,a);var l=mo;if(l&&t){var f=Ei(l).hoistableStyles,d=po(t);i=i||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(ql(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Qn.get(d))&&wm(t,a);var N=_=l.createElement("link");Rt(N),Xt(N,"link",t),N._p=new Promise(function(H,$){N.onload=H,N.onerror=$}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ih(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function Xw(t,i){dr.X(t,i);var a=mo;if(a&&t){var l=Ei(a).hoistableScripts,f=go(t),d=l.get(f);d||(d=a.querySelector(Fl(f)),d||(t=T({src:t,async:!0},i),(i=Qn.get(f))&&Rm(t,i),d=a.createElement("script"),Rt(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function $w(t,i){dr.M(t,i);var a=mo;if(a&&t){var l=Ei(a).hoistableScripts,f=go(t),d=l.get(f);d||(d=a.querySelector(Fl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Qn.get(f))&&Rm(t,i),d=a.createElement("script"),Rt(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function eE(t,i,a,l){var f=(f=Ce.current)?nh(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=po(a.href),a=Ei(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=po(a.href);var d=Ei(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(ql(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),d||Ww(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=go(a),a=Ei(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function po(t){return'href="'+hn(t)+'"'}function ql(t){return'link[rel="stylesheet"]['+t+"]"}function tE(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Ww(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xt(i,"link",a),Rt(i),t.head.appendChild(i))}function go(t){return'[src="'+hn(t)+'"]'}function Fl(t){return"script[async]"+t}function nE(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return i.instance=l,Rt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Rt(l),Xt(l,"style",f),ih(l,a.precedence,t),i.instance=l;case"stylesheet":f=po(a.href);var d=t.querySelector(ql(f));if(d)return i.state.loading|=4,i.instance=d,Rt(d),d;l=tE(a),(f=Qn.get(f))&&wm(l,f),d=(t.ownerDocument||t).createElement("link"),Rt(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Xt(d,"link",l),i.state.loading|=4,ih(d,a.precedence,t),i.instance=d;case"script":return d=go(a.src),(f=t.querySelector(Fl(d)))?(i.instance=f,Rt(f),f):(l=a,(f=Qn.get(d))&&(l=T({},a),Rm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Rt(f),Xt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ih(l,a.precedence,t));return i.instance}function ih(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function wm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var rh=null;function iE(t,i,a){if(rh===null){var l=new Map,f=rh=new Map;f.set(a,l)}else f=rh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[_i]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function rE(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Jw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function sE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Zw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=po(l.href),d=i.querySelector(ql(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=sh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Rt(d);return}d=i.ownerDocument||i,l=tE(l),(f=Qn.get(f))&&wm(l,f),d=d.createElement("link"),Rt(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Xt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=sh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Cm=0;function e1(t,i){return t.stylesheets&&t.count===0&&oh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Cm===0&&(Cm=62500*Vw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Cm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ah=null;function oh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ah=new Map,i.forEach(t1,t),ah=null,sh.call(t))}function t1(t,i){if(!(i.state.loading&4)){var a=ah.get(t);if(a)var l=a.get(null);else{a=new Map,ah.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=sh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Hl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function n1(t,i,a,l,f,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function aE(t,i,a,l,f,d,_,S,N,H,$,Z){return t=new n1(t,i,a,_,N,H,$,Z,S),i=1,d===!0&&(i|=24),d=wn(3,null,null,i),t.current=d,d.stateNode=t,i=ad(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},cd(d),t}function oE(t){return t?(t=Ka,t):Ka}function lE(t,i,a,l,f,d){f=oE(f),l.context===null?l.context=f:l.pendingContext=f,l=Gr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Kr(t,l,i),a!==null&&(yn(a,t,i),Sl(a,t,i))}function uE(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Im(t,i){uE(t,i),(t=t.alternate)&&uE(t,i)}function cE(t){if(t.tag===13||t.tag===31){var i=Ys(t,67108864);i!==null&&yn(i,t,67108864),Im(t,67108864)}}function hE(t){if(t.tag===13||t.tag===31){var i=xn();i=Ps(i);var a=Ys(t,i);a!==null&&yn(a,t,i),Im(t,i)}}var lh=!0;function i1(t,i,a,l){var f=W.T;W.T=null;var d=ae.p;try{ae.p=2,Dm(t,i,a,l)}finally{ae.p=d,W.T=f}}function r1(t,i,a,l){var f=W.T;W.T=null;var d=ae.p;try{ae.p=8,Dm(t,i,a,l)}finally{ae.p=d,W.T=f}}function Dm(t,i,a,l){if(lh){var f=xm(l);if(f===null)pm(t,i,l,uh,a),dE(t,l);else if(a1(f,t,i,a,l))l.stopPropagation();else if(dE(t,l),i&4&&-1<s1.indexOf(t)){for(;f!==null;){var d=Pn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=mi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-_t(_);S.entanglements[1]|=N,_&=~N}Mi(d),(Fe&6)===0&&(Gc=on()+500,Ll(0))}}break;case 31:case 13:S=Ys(d,2),S!==null&&yn(S,d,2),Qc(),Im(d,2)}if(d=xm(l),d===null&&pm(t,i,l,uh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else pm(t,i,l,null,a)}}function xm(t){return t=Un(t),Nm(t)}var uh=null;function Nm(t){if(uh=null,t=vi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return uh=t,null}function fE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Os()){case Qo:return 2;case Yo:return 8;case xr:case Uf:return 32;case Bu:return 268435456;default:return 32}default:return 32}}var Om=!1,is=null,rs=null,ss=null,Gl=new Map,Kl=new Map,as=[],s1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dE(t,i){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(i.pointerId)}}function Ql(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Pn(i),i!==null&&cE(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function a1(t,i,a,l,f){switch(i){case"focusin":return is=Ql(is,t,i,a,l,f),!0;case"dragenter":return rs=Ql(rs,t,i,a,l,f),!0;case"mouseover":return ss=Ql(ss,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Gl.set(d,Ql(Gl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Kl.set(d,Ql(Kl.get(d)||null,t,i,a,l,f)),!0}return!1}function mE(t){var i=vi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Zn(t.priority,function(){hE(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Zn(t.priority,function(){hE(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=xm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);al=l,a.target.dispatchEvent(l),al=null}else return i=Pn(a),i!==null&&cE(i),t.blockedOn=a,!1;i.shift()}return!0}function pE(t,i,a){ch(t)&&a.delete(i)}function o1(){Om=!1,is!==null&&ch(is)&&(is=null),rs!==null&&ch(rs)&&(rs=null),ss!==null&&ch(ss)&&(ss=null),Gl.forEach(pE),Kl.forEach(pE)}function hh(t,i){t.blockedOn===i&&(t.blockedOn=null,Om||(Om=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,o1)))}var fh=null;function gE(t){fh!==t&&(fh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fh===t&&(fh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Nm(l||a)===null)continue;break}var d=Pn(a);d!==null&&(t.splice(i,3),i-=3,xd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function yo(t){function i(N){return hh(N,t)}is!==null&&hh(is,t),rs!==null&&hh(rs,t),ss!==null&&hh(ss,t),Gl.forEach(i),Kl.forEach(i);for(var a=0;a<as.length;a++){var l=as[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<as.length&&(a=as[0],a.blockedOn===null);)mE(a),a.blockedOn===null&&as.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[zt]||null;if(typeof d=="function")_||gE(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[zt]||null)S=_.formAction;else if(Nm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),gE(a)}}}function yE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Mm(t){this._internalRoot=t}dh.prototype.render=Mm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xn();lE(a,l,t,i,null,null)},dh.prototype.unmount=Mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;lE(t.current,2,null,t,null,null),Qc(),i[yi]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Qu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<as.length&&i!==0&&i<as[a].priority;a++);as.splice(a,0,t),a===0&&mE(t)}};var _E=e.version;if(_E!=="19.2.0")throw Error(s(527,_E,"19.2.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var l1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{Wn=mh.inject(l1),Ht=mh}catch{}}return Xl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=w_,d=R_,_=C_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=aE(t,1,!1,null,null,a,l,null,f,d,_,yE),t[yi]=i.current,mm(t),new Mm(i)},Xl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=w_,_=R_,S=C_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=aE(t,1,!0,i,a??null,l,f,N,d,_,S,yE),i.context=oE(null),a=i.current,l=xn(),l=Ps(l),f=Gr(l),f.callback=null,Kr(a,f,l),a=l,i.current.lanes=a,Vs(i,a),Mi(i),t[yi]=i.current,mm(t),new dh(i)},Xl.version="19.2.0",Xl}var IE;function v1(){if(IE)return Pm.exports;IE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pm.exports=_1(),Pm.exports}var E1=v1();const T1=c1(E1);var DE="popstate";function S1(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return hp("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:hu(o)}return A1(e,n,null,r)}function ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Gi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b1(){return Math.random().toString(36).substring(2,10)}function xE(r,e){return{usr:r.state,key:r.key,idx:e}}function hp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ko(e):e,state:n,key:e&&e.key||s||b1()}}function hu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ko(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function A1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let V=v(),X=V==null?null:V-g;g=V,p&&p({action:m,location:j.location,delta:X})}function w(V,X){m="PUSH";let Y=hp(j.location,V,X);g=v()+1;let ie=xE(Y,g),le=j.createHref(Y);try{h.pushState(ie,"",le)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(le)}u&&p&&p({action:m,location:j.location,delta:1})}function C(V,X){m="REPLACE";let Y=hp(j.location,V,X);g=v();let ie=xE(Y,g),le=j.createHref(Y);h.replaceState(ie,"",le),u&&p&&p({action:m,location:j.location,delta:0})}function U(V){return w1(V)}let j={get action(){return m},get location(){return r(o,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(DE,T),p=V,()=>{o.removeEventListener(DE,T),p=null}},createHref(V){return e(o,V)},createURL:U,encodeLocation(V){let X=U(V);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:w,replace:C,go(V){return h.go(V)}};return j}function w1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:hu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function R0(r,e,n="/"){return R1(r,e,n,!1)}function R1(r,e,n,s){let o=typeof e=="string"?ko(e):e,u=Er(o.pathname||"/",n);if(u==null)return null;let h=C0(r);C1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=L1(u);m=P1(h[p],g,s)}return m}function C0(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;ht(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=gr([s,v.relativePath]),w=n.concat(v);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),C0(h.children,e,w,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:V1(T,h.index),routesMeta:w})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of I0(h.path))u(h,m,!0,p)}),e}function I0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=I0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function C1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:k1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var I1=/^:[\w-]+$/,D1=3,x1=2,N1=1,O1=10,M1=-2,NE=r=>r==="*";function V1(r,e){let n=r.split("/"),s=n.length;return n.some(NE)&&(s+=M1),e&&(s+=x1),n.filter(o=>!NE(o)).reduce((o,u)=>o+(I1.test(u)?D1:u===""?N1:O1),s)}function k1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function P1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=Ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:gr([u,T.pathname]),pathnameBase:q1(gr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=gr([u,T.pathnameBase]))}return h}function Ph(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=U1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},w)=>{if(v==="*"){let U=m[w]||"";h=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const C=m[w];return T&&!C?g[v]=void 0:g[v]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function U1(r,e=!1,n=!0){Gi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function L1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Er(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function j1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ko(r):r;return{pathname:n?n.startsWith("/")?n:z1(n,e):e,search:F1(s),hash:H1(o)}}function z1(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function zm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function D0(r){let e=B1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function x0(r,e,n,s=!1){let o;typeof r=="string"?o=ko(r):(o={...r},ht(!o.pathname||!o.pathname.includes("?"),zm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),zm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),zm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=j1(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var gr=r=>r.join("/").replace(/\/\/+/g,"/"),q1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),F1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,H1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function G1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var N0=["POST","PUT","PATCH","DELETE"];new Set(N0);var K1=["GET",...N0];new Set(K1);var Po=L.createContext(null);Po.displayName="DataRouter";var af=L.createContext(null);af.displayName="DataRouterState";L.createContext(!1);var O0=L.createContext({isTransitioning:!1});O0.displayName="ViewTransition";var Q1=L.createContext(new Map);Q1.displayName="Fetchers";var Y1=L.createContext(null);Y1.displayName="Await";var Qi=L.createContext(null);Qi.displayName="Navigation";var Su=L.createContext(null);Su.displayName="Location";var Rr=L.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var qp=L.createContext(null);qp.displayName="RouteError";function X1(r,{relative:e}={}){ht(bu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Qi),{hash:o,pathname:u,search:h}=Au(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:gr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function bu(){return L.useContext(Su)!=null}function Ta(){return ht(bu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Su).location}var M0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V0(r){L.useContext(Qi).static||L.useLayoutEffect(r)}function of(){let{isDataRoute:r}=L.useContext(Rr);return r?lR():$1()}function $1(){ht(bu(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Po),{basename:e,navigator:n}=L.useContext(Qi),{matches:s}=L.useContext(Rr),{pathname:o}=Ta(),u=JSON.stringify(D0(s)),h=L.useRef(!1);return V0(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(Gi(h.current,M0),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=x0(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:gr([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}L.createContext(null);function Au(r,{relative:e}={}){let{matches:n}=L.useContext(Rr),{pathname:s}=Ta(),o=JSON.stringify(D0(n));return L.useMemo(()=>x0(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function W1(r,e){return k0(r,e)}function k0(r,e,n,s,o){ht(bu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(Qi),{matches:h}=L.useContext(Rr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let Y=T&&T.path||"";P0(g,!T||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let w=Ta(),C;if(e){let Y=typeof e=="string"?ko(e):e;ht(v==="/"||Y.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),C=Y}else C=w;let U=C.pathname||"/",j=U;if(v!=="/"){let Y=v.replace(/^\//,"").split("/");j="/"+U.replace(/^\//,"").split("/").slice(Y.length).join("/")}let V=R0(r,{pathname:j});Gi(T||V!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Gi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=nR(V&&V.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:gr([v,u.encodeLocation?u.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?v:gr([v,u.encodeLocation?u.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),h,n,s,o);return e&&X?L.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},X):X}function J1(){let r=oR(),e=G1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var Z1=L.createElement(J1,null),eR=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?L.createElement(Rr.Provider,{value:this.props.routeContext},L.createElement(qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tR({routeContext:r,match:e,children:n}){let s=L.useContext(Po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Rr.Provider,{value:r},n)}function nR(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let g=u.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);ht(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:T,errors:w}=n,C=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||C){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,v,T)=>{let w,C=!1,U=null,j=null;n&&(w=h&&v.route.id?h[v.route.id]:void 0,U=v.route.errorElement||Z1,m&&(p<0&&T===0?(P0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,j=null):p===T&&(C=!0,j=v.route.hydrateFallbackElement||null)));let V=e.concat(u.slice(0,T+1)),X=()=>{let Y;return w?Y=U:C?Y=j:v.route.Component?Y=L.createElement(v.route.Component,null):v.route.element?Y=v.route.element:Y=g,L.createElement(tR,{match:v,routeContext:{outlet:g,matches:V,isDataRoute:n!=null},children:Y})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?L.createElement(eR,{location:n.location,revalidation:n.revalidation,component:U,error:w,children:X(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:s}):X()},null)}function Fp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iR(r){let e=L.useContext(Po);return ht(e,Fp(r)),e}function rR(r){let e=L.useContext(af);return ht(e,Fp(r)),e}function sR(r){let e=L.useContext(Rr);return ht(e,Fp(r)),e}function Hp(r){let e=sR(r),n=e.matches[e.matches.length-1];return ht(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function aR(){return Hp("useRouteId")}function oR(){let r=L.useContext(qp),e=rR("useRouteError"),n=Hp("useRouteError");return r!==void 0?r:e.errors?.[n]}function lR(){let{router:r}=iR("useNavigate"),e=Hp("useNavigate"),n=L.useRef(!1);return V0(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{Gi(n.current,M0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var OE={};function P0(r,e,n){!e&&!OE[r]&&(OE[r]=!0,Gi(!1,n))}L.memo(uR);function uR({routes:r,future:e,state:n,unstable_onError:s}){return k0(r,void 0,n,s,e)}function la(r){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cR({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ht(!bu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=ko(n));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:w="default"}=n,C=L.useMemo(()=>{let U=Er(p,h);return U==null?null:{location:{pathname:U,search:g,hash:v,state:T,key:w},navigationType:s}},[h,p,g,v,T,w,s]);return Gi(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:L.createElement(Qi.Provider,{value:m},L.createElement(Su.Provider,{children:e,value:C}))}function hR({children:r,location:e}){return W1(fp(r),e)}function fp(r,e=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,fp(s.props.children,u));return}ht(s.type===la,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=fp(s.props.children,u)),n.push(h)}),n}var Ah="get",wh="application/x-www-form-urlencoded";function lf(r){return r!=null&&typeof r.tagName=="string"}function fR(r){return lf(r)&&r.tagName.toLowerCase()==="button"}function dR(r){return lf(r)&&r.tagName.toLowerCase()==="form"}function mR(r){return lf(r)&&r.tagName.toLowerCase()==="input"}function pR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function gR(r,e){return r.button===0&&(!e||e==="_self")&&!pR(r)}var ph=null;function yR(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var _R=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bm(r){return r!=null&&!_R.has(r)?(Gi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):r}function vR(r,e){let n,s,o,u,h;if(dR(r)){let m=r.getAttribute("action");s=m?Er(m,e):null,n=r.getAttribute("method")||Ah,o=Bm(r.getAttribute("enctype"))||wh,u=new FormData(r)}else if(fR(r)||mR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Er(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Ah,o=Bm(r.getAttribute("formenctype"))||Bm(m.getAttribute("enctype"))||wh,u=new FormData(m,r),!yR()){let{name:g,type:v,value:T}=r;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(lf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ah,s=null,o=wh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ER(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Er(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function TR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function bR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await TR(u,n);return h.links?h.links():[]}return[]}));return CR(s.flat(1).filter(SR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ME(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function AR(r,e,{includeHydrateFallback:n}={}){return wR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function wR(r){return[...new Set(r)]}function RR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function CR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(RR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function U0(){let r=L.useContext(Po);return Gp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function IR(){let r=L.useContext(af);return Gp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Kp=L.createContext(void 0);Kp.displayName="FrameworkContext";function L0(){let r=L.useContext(Kp);return Gp(r,"You must render this element inside a <HydratedRouter> element"),r}function DR(r,e){let n=L.useContext(Kp),[s,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,w=L.useRef(null);L.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let j=X=>{X.forEach(Y=>{h(Y.isIntersecting)})},V=new IntersectionObserver(j,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[r]),L.useEffect(()=>{if(s){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[s]);let C=()=>{o(!0)},U=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:$l(m,C),onBlur:$l(p,U),onMouseEnter:$l(g,C),onMouseLeave:$l(v,U),onTouchStart:$l(T,C)}]:[!1,w,{}]}function $l(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function xR({page:r,...e}){let{router:n}=U0(),s=L.useMemo(()=>R0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(OR,{page:r,matches:s,...e}):null}function NR(r){let{manifest:e,routeModules:n}=L0(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return bR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function OR({page:r,matches:e,...n}){let s=Ta(),{manifest:o,routeModules:u}=L0(),{basename:h}=U0(),{loaderData:m,matches:p}=IR(),g=L.useMemo(()=>ME(r,e,p,o,s,"data"),[r,e,p,o,s]),v=L.useMemo(()=>ME(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,j=!1;if(e.forEach(X=>{let Y=o.routes[X.route.id];!Y||!Y.hasLoader||(!g.some(ie=>ie.route.id===X.route.id)&&X.route.id in m&&u[X.route.id]?.shouldRevalidate||Y.hasClientLoader?j=!0:U.add(X.route.id))}),U.size===0)return[];let V=ER(r,h,"data");return j&&U.size>0&&V.searchParams.set("_routes",e.filter(X=>U.has(X.route.id)).map(X=>X.route.id).join(",")),[V.pathname+V.search]},[h,m,s,o,g,e,r,u]),w=L.useMemo(()=>AR(v,o),[v,o]),C=NR(v);return L.createElement(L.Fragment,null,T.map(U=>L.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),w.map(U=>L.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),C.map(({key:U,link:j})=>L.createElement("link",{key:U,nonce:n.nonce,...j})))}function MR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var j0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j0&&(window.__reactRouterVersion="7.9.5")}catch{}function VR({basename:r,children:e,window:n}){let s=L.useRef();s.current==null&&(s.current=S1({window:n,v5Compat:!0}));let o=s.current,[u,h]=L.useState({action:o.action,location:o.location}),m=L.useCallback(p=>{L.startTransition(()=>h(p))},[h]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(cR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uh=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,...w},C){let{basename:U}=L.useContext(Qi),j=typeof g=="string"&&z0.test(g),V,X=!1;if(typeof g=="string"&&j&&(V=g,j0))try{let I=new URL(window.location.href),P=g.startsWith("//")?new URL(I.protocol+g):new URL(g),O=Er(P.pathname,U);P.origin===I.origin&&O!=null?g=O+P.search+P.hash:X=!0}catch{Gi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=X1(g,{relative:o}),[ie,le,me]=DR(s,w),re=LR(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T});function D(I){e&&e(I),I.defaultPrevented||re(I)}let R=L.createElement("a",{...w,...me,href:V||Y,onClick:X||u?e:D,ref:MR(C,le),target:p,"data-discover":!j&&n==="render"?"true":void 0});return ie&&!j?L.createElement(L.Fragment,null,R,L.createElement(xR,{page:Y})):R});Uh.displayName="Link";var kR=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let T=Au(h,{relative:g.relative}),w=Ta(),C=L.useContext(af),{navigator:U,basename:j}=L.useContext(Qi),V=C!=null&&FR(T)&&m===!0,X=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,Y=w.pathname,ie=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),ie=ie?ie.toLowerCase():null,X=X.toLowerCase()),ie&&j&&(ie=Er(ie,j)||ie);const le=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let me=Y===X||!o&&Y.startsWith(X)&&Y.charAt(le)==="/",re=ie!=null&&(ie===X||!o&&ie.startsWith(X)&&ie.charAt(X.length)==="/"),D={isActive:me,isPending:re,isTransitioning:V},R=me?e:void 0,I;typeof s=="function"?I=s(D):I=[s,me?"active":null,re?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(D):u;return L.createElement(Uh,{...g,"aria-current":R,className:I,ref:v,style:P,to:h,viewTransition:m},typeof p=="function"?p(D):p)});kR.displayName="NavLink";var PR=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Ah,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...w},C)=>{let U=BR(),j=qR(m,{relative:g}),V=h.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&z0.test(m),Y=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let le=ie.nativeEvent.submitter,me=le?.getAttribute("formmethod")||h;U(le||ie.currentTarget,{fetcherKey:e,method:me,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return L.createElement("form",{ref:C,method:V,action:j,onSubmit:s?p:Y,...w,"data-discover":!X&&r==="render"?"true":void 0})});PR.displayName="Form";function UR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B0(r){let e=L.useContext(Po);return ht(e,UR(r)),e}function LR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=of(),p=Ta(),g=Au(r,{relative:u});return L.useCallback(v=>{if(gR(v,e)){v.preventDefault();let T=n!==void 0?n:hu(p)===hu(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,r,o,u,h])}var jR=0,zR=()=>`__${String(++jR)}__`;function BR(){let{router:r}=B0("useSubmit"),{basename:e}=L.useContext(Qi),n=aR();return L.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=vR(s,e);if(o.navigate===!1){let v=o.fetcherKey||zR();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function qR(r,{relative:e}={}){let{basename:n}=L.useContext(Qi),s=L.useContext(Rr);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Au(r||".",{relative:e})},h=Ta();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gr([n,u.pathname])),hu(u)}function FR(r,{relative:e}={}){let n=L.useContext(O0);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=B0("useViewTransitionState"),o=Au(r,{relative:e});if(!n.isTransitioning)return!1;let u=Er(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ph(o.pathname,h)!=null||Ph(o.pathname,u)!=null}const HR=()=>{};var VE={};const q0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},GR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},F0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,C=g&63;p||(C=64,h||(w=64)),s.push(n[v],n[T],n[w],n[C])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(q0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):GR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new KR;const w=u<<2|m>>4;if(s.push(w),g!==64){const C=m<<4&240|g>>2;if(s.push(C),T!==64){const U=g<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class KR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QR=function(r){const e=q0(r);return F0.encodeByteArray(e,!0)},Lh=function(r){return QR(r).replace(/\./g,"")},H0=function(r){try{return F0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const XR=()=>YR().__FIREBASE_DEFAULTS__,$R=()=>{if(typeof process>"u"||typeof VE>"u")return;const r=VE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},WR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&H0(r[1]);return e&&JSON.parse(e)},uf=()=>{try{return HR()||XR()||$R()||WR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},G0=r=>uf()?.emulatorHosts?.[r],K0=r=>{const e=G0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Q0=()=>uf()?.config,Y0=r=>uf()?.[`_${r}`];class JR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Rs(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qp(r){return(await fetch(r,{credentials:"include"})).ok}function X0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Lh(JSON.stringify(n)),Lh(JSON.stringify(h)),""].join(".")}const ru={};function ZR(){const r={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?r.emulator.push(e):r.prod.push(e);return r}function eC(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let kE=!1;function Yp(r,e){if(typeof window>"u"||typeof document>"u"||!Rs(window.location.host)||ru[r]===e||ru[r]||kE)return;ru[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=ZR().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{kE=!0,h()},w}function v(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=eC(s),C=n("text"),U=document.getElementById(C)||document.createElement("span"),j=n("learnmore"),V=document.getElementById(j)||document.createElement("a"),X=n("preprendIcon"),Y=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ie=w.element;m(ie),v(V,j);const le=g();p(Y,X),ie.append(Y,U,V,le),document.body.appendChild(ie)}u?(U.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function nC(){const r=uf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aC(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oC(){return!nC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lC(){try{return typeof indexedDB=="object"}catch{return!1}}function uC(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const cC="FirebaseError";class Yi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=cC,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?hC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Yi(o,m,s)}}function hC(r,e){return r.replace(fC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fC=/\{\$([^}]+)}/g;function dC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ma(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(PE(u)&&PE(h)){if(!ma(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function PE(r){return r!==null&&typeof r=="object"}function Ru(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Zl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function mC(r,e){const n=new pC(r,e);return n.subscribe.bind(n)}class pC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=qm),o.error===void 0&&(o.error=qm),o.complete===void 0&&(o.complete=qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function qm(){}function ct(r){return r&&r._delegate?r._delegate:r}class vs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ua="[DEFAULT]";class yC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new JR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vC(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_C(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _C(r){return r===ua?void 0:r}function vC(r){return r.instantiationMode==="EAGER"}class EC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const TC={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},SC=Me.INFO,bC={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},AC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=bC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xp{constructor(e){this.name=e,this._logLevel=SC,this._logHandler=AC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const wC=(r,e)=>e.some(n=>r instanceof n);let UE,LE;function RC(){return UE||(UE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CC(){return LE||(LE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $0=new WeakMap,dp=new WeakMap,W0=new WeakMap,Fm=new WeakMap,$p=new WeakMap;function IC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ps(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&$0.set(n,r)}).catch(()=>{}),$p.set(e,r),e}function DC(r){if(dp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});dp.set(r,e)}let mp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return dp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||W0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function xC(r){mp=r(mp)}function NC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Hm(this),e,...n);return W0.set(s,e.sort?e.sort():[e]),ps(s)}:CC().includes(r)?function(...e){return r.apply(Hm(this),e),ps($0.get(this))}:function(...e){return ps(r.apply(Hm(this),e))}}function OC(r){return typeof r=="function"?NC(r):(r instanceof IDBTransaction&&DC(r),wC(r,RC())?new Proxy(r,mp):r)}function ps(r){if(r instanceof IDBRequest)return IC(r);if(Fm.has(r))return Fm.get(r);const e=OC(r);return e!==r&&(Fm.set(r,e),$p.set(e,r)),e}const Hm=r=>$p.get(r);function MC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ps(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ps(h.result),p.oldVersion,p.newVersion,ps(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const VC=["get","getKey","getAll","getAllKeys","count"],kC=["put","add","delete","clear"],Gm=new Map;function jE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gm.get(e))return Gm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=kC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Gm.set(e,u),u}xC(r=>({...r,get:(e,n,s)=>jE(e,n)||r.get(e,n,s),has:(e,n)=>!!jE(e,n)||r.has(e,n)}));class PC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function UC(r){return r.getComponent()?.type==="VERSION"}const pp="@firebase/app",zE="0.14.5";const Tr=new Xp("@firebase/app"),LC="@firebase/app-compat",jC="@firebase/analytics-compat",zC="@firebase/analytics",BC="@firebase/app-check-compat",qC="@firebase/app-check",FC="@firebase/auth",HC="@firebase/auth-compat",GC="@firebase/database",KC="@firebase/data-connect",QC="@firebase/database-compat",YC="@firebase/functions",XC="@firebase/functions-compat",$C="@firebase/installations",WC="@firebase/installations-compat",JC="@firebase/messaging",ZC="@firebase/messaging-compat",eI="@firebase/performance",tI="@firebase/performance-compat",nI="@firebase/remote-config",iI="@firebase/remote-config-compat",rI="@firebase/storage",sI="@firebase/storage-compat",aI="@firebase/firestore",oI="@firebase/ai",lI="@firebase/firestore-compat",uI="firebase",cI="12.5.0";const gp="[DEFAULT]",hI={[pp]:"fire-core",[LC]:"fire-core-compat",[zC]:"fire-analytics",[jC]:"fire-analytics-compat",[qC]:"fire-app-check",[BC]:"fire-app-check-compat",[FC]:"fire-auth",[HC]:"fire-auth-compat",[GC]:"fire-rtdb",[KC]:"fire-data-connect",[QC]:"fire-rtdb-compat",[YC]:"fire-fn",[XC]:"fire-fn-compat",[$C]:"fire-iid",[WC]:"fire-iid-compat",[JC]:"fire-fcm",[ZC]:"fire-fcm-compat",[eI]:"fire-perf",[tI]:"fire-perf-compat",[nI]:"fire-rc",[iI]:"fire-rc-compat",[rI]:"fire-gcs",[sI]:"fire-gcs-compat",[aI]:"fire-fst",[lI]:"fire-fst-compat",[oI]:"fire-vertex","fire-js":"fire-js",[uI]:"fire-js-all"};const jh=new Map,fI=new Map,yp=new Map;function BE(r,e){try{r.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function pa(r){const e=r.name;if(yp.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,r);for(const n of jh.values())BE(n,r);for(const n of fI.values())BE(n,r);return!0}function cf(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Nn(r){return r==null?!1:r.settings!==void 0}const dI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new wu("app","Firebase",dI);class mI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}const Sa=cI;function J0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:gp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw gs.create("bad-app-name",{appName:String(o)});if(n||(n=Q0()),!n)throw gs.create("no-options");const u=jh.get(o);if(u){if(ma(n,u.options)&&ma(s,u.config))return u;throw gs.create("duplicate-app",{appName:o})}const h=new EC(o);for(const p of yp.values())h.addComponent(p);const m=new mI(n,s,h);return jh.set(o,m),m}function Wp(r=gp){const e=jh.get(r);if(!e&&r===gp&&Q0())return J0();if(!e)throw gs.create("no-app",{appName:r});return e}function Li(r,e,n){let s=hI[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(h.join(" "));return}pa(new vs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const pI="firebase-heartbeat-database",gI=1,fu="firebase-heartbeat-store";let Km=null;function Z0(){return Km||(Km=MC(pI,gI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(r=>{throw gs.create("idb-open",{originalErrorMessage:r.message})})),Km}async function yI(r){try{const n=(await Z0()).transaction(fu),s=await n.objectStore(fu).get(eS(r));return await n.done,s}catch(e){if(e instanceof Yi)Tr.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e?.message});Tr.warn(n.message)}}}async function qE(r,e){try{const s=(await Z0()).transaction(fu,"readwrite");await s.objectStore(fu).put(e,eS(r)),await s.done}catch(n){if(n instanceof Yi)Tr.warn(n.message);else{const s=gs.create("idb-set",{originalErrorMessage:n?.message});Tr.warn(s.message)}}}function eS(r){return`${r.name}!${r.options.appId}`}const _I=1024,vI=30;class EI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=FE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>vI){const o=bI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Tr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=FE(),{heartbeatsToSend:n,unsentEntries:s}=TI(this._heartbeatsCache.heartbeats),o=Lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Tr.warn(e),""}}}function FE(){return new Date().toISOString().substring(0,10)}function TI(r,e=_I){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),HE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),HE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class SI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lC()?uC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function HE(r){return Lh(JSON.stringify({version:2,heartbeats:r})).length}function bI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function AI(r){pa(new vs("platform-logger",e=>new PC(e),"PRIVATE")),pa(new vs("heartbeat",e=>new EI(e),"PRIVATE")),Li(pp,zE,r),Li(pp,zE,"esm2020"),Li("fire-js","")}AI("");var wI="firebase",RI="12.5.0";Li(wI,RI,"app");var GE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ys,tS;(function(){var r;function e(D,R){function I(){}I.prototype=R.prototype,D.F=R.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(P,O,B){for(var x=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)x[Ke-2]=arguments[Ke];return R.prototype[O].apply(P,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,I){I||(I=0);const P=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)P[O]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(O=0;O<16;++O)P[O]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=D.g[0],I=D.g[1],O=D.g[2];let B=D.g[3],x;x=R+(B^I&(O^B))+P[0]+3614090360&4294967295,R=I+(x<<7&4294967295|x>>>25),x=B+(O^R&(I^O))+P[1]+3905402710&4294967295,B=R+(x<<12&4294967295|x>>>20),x=O+(I^B&(R^I))+P[2]+606105819&4294967295,O=B+(x<<17&4294967295|x>>>15),x=I+(R^O&(B^R))+P[3]+3250441966&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(B^I&(O^B))+P[4]+4118548399&4294967295,R=I+(x<<7&4294967295|x>>>25),x=B+(O^R&(I^O))+P[5]+1200080426&4294967295,B=R+(x<<12&4294967295|x>>>20),x=O+(I^B&(R^I))+P[6]+2821735955&4294967295,O=B+(x<<17&4294967295|x>>>15),x=I+(R^O&(B^R))+P[7]+4249261313&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(B^I&(O^B))+P[8]+1770035416&4294967295,R=I+(x<<7&4294967295|x>>>25),x=B+(O^R&(I^O))+P[9]+2336552879&4294967295,B=R+(x<<12&4294967295|x>>>20),x=O+(I^B&(R^I))+P[10]+4294925233&4294967295,O=B+(x<<17&4294967295|x>>>15),x=I+(R^O&(B^R))+P[11]+2304563134&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(B^I&(O^B))+P[12]+1804603682&4294967295,R=I+(x<<7&4294967295|x>>>25),x=B+(O^R&(I^O))+P[13]+4254626195&4294967295,B=R+(x<<12&4294967295|x>>>20),x=O+(I^B&(R^I))+P[14]+2792965006&4294967295,O=B+(x<<17&4294967295|x>>>15),x=I+(R^O&(B^R))+P[15]+1236535329&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(O^B&(I^O))+P[1]+4129170786&4294967295,R=I+(x<<5&4294967295|x>>>27),x=B+(I^O&(R^I))+P[6]+3225465664&4294967295,B=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(B^R))+P[11]+643717713&4294967295,O=B+(x<<14&4294967295|x>>>18),x=I+(B^R&(O^B))+P[0]+3921069994&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(O^B&(I^O))+P[5]+3593408605&4294967295,R=I+(x<<5&4294967295|x>>>27),x=B+(I^O&(R^I))+P[10]+38016083&4294967295,B=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(B^R))+P[15]+3634488961&4294967295,O=B+(x<<14&4294967295|x>>>18),x=I+(B^R&(O^B))+P[4]+3889429448&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(O^B&(I^O))+P[9]+568446438&4294967295,R=I+(x<<5&4294967295|x>>>27),x=B+(I^O&(R^I))+P[14]+3275163606&4294967295,B=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(B^R))+P[3]+4107603335&4294967295,O=B+(x<<14&4294967295|x>>>18),x=I+(B^R&(O^B))+P[8]+1163531501&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(O^B&(I^O))+P[13]+2850285829&4294967295,R=I+(x<<5&4294967295|x>>>27),x=B+(I^O&(R^I))+P[2]+4243563512&4294967295,B=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(B^R))+P[7]+1735328473&4294967295,O=B+(x<<14&4294967295|x>>>18),x=I+(B^R&(O^B))+P[12]+2368359562&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(I^O^B)+P[5]+4294588738&4294967295,R=I+(x<<4&4294967295|x>>>28),x=B+(R^I^O)+P[8]+2272392833&4294967295,B=R+(x<<11&4294967295|x>>>21),x=O+(B^R^I)+P[11]+1839030562&4294967295,O=B+(x<<16&4294967295|x>>>16),x=I+(O^B^R)+P[14]+4259657740&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(I^O^B)+P[1]+2763975236&4294967295,R=I+(x<<4&4294967295|x>>>28),x=B+(R^I^O)+P[4]+1272893353&4294967295,B=R+(x<<11&4294967295|x>>>21),x=O+(B^R^I)+P[7]+4139469664&4294967295,O=B+(x<<16&4294967295|x>>>16),x=I+(O^B^R)+P[10]+3200236656&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(I^O^B)+P[13]+681279174&4294967295,R=I+(x<<4&4294967295|x>>>28),x=B+(R^I^O)+P[0]+3936430074&4294967295,B=R+(x<<11&4294967295|x>>>21),x=O+(B^R^I)+P[3]+3572445317&4294967295,O=B+(x<<16&4294967295|x>>>16),x=I+(O^B^R)+P[6]+76029189&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(I^O^B)+P[9]+3654602809&4294967295,R=I+(x<<4&4294967295|x>>>28),x=B+(R^I^O)+P[12]+3873151461&4294967295,B=R+(x<<11&4294967295|x>>>21),x=O+(B^R^I)+P[15]+530742520&4294967295,O=B+(x<<16&4294967295|x>>>16),x=I+(O^B^R)+P[2]+3299628645&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(O^(I|~B))+P[0]+4096336452&4294967295,R=I+(x<<6&4294967295|x>>>26),x=B+(I^(R|~O))+P[7]+1126891415&4294967295,B=R+(x<<10&4294967295|x>>>22),x=O+(R^(B|~I))+P[14]+2878612391&4294967295,O=B+(x<<15&4294967295|x>>>17),x=I+(B^(O|~R))+P[5]+4237533241&4294967295,I=O+(x<<21&4294967295|x>>>11),x=R+(O^(I|~B))+P[12]+1700485571&4294967295,R=I+(x<<6&4294967295|x>>>26),x=B+(I^(R|~O))+P[3]+2399980690&4294967295,B=R+(x<<10&4294967295|x>>>22),x=O+(R^(B|~I))+P[10]+4293915773&4294967295,O=B+(x<<15&4294967295|x>>>17),x=I+(B^(O|~R))+P[1]+2240044497&4294967295,I=O+(x<<21&4294967295|x>>>11),x=R+(O^(I|~B))+P[8]+1873313359&4294967295,R=I+(x<<6&4294967295|x>>>26),x=B+(I^(R|~O))+P[15]+4264355552&4294967295,B=R+(x<<10&4294967295|x>>>22),x=O+(R^(B|~I))+P[6]+2734768916&4294967295,O=B+(x<<15&4294967295|x>>>17),x=I+(B^(O|~R))+P[13]+1309151649&4294967295,I=O+(x<<21&4294967295|x>>>11),x=R+(O^(I|~B))+P[4]+4149444226&4294967295,R=I+(x<<6&4294967295|x>>>26),x=B+(I^(R|~O))+P[11]+3174756917&4294967295,B=R+(x<<10&4294967295|x>>>22),x=O+(R^(B|~I))+P[2]+718787259&4294967295,O=B+(x<<15&4294967295|x>>>17),x=I+(B^(O|~R))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+B&4294967295}s.prototype.v=function(D,R){R===void 0&&(R=D.length);const I=R-this.blockSize,P=this.C;let O=this.h,B=0;for(;B<R;){if(O==0)for(;B<=I;)o(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<R;)if(P[O++]=D.charCodeAt(B++),O==this.blockSize){o(this,P),O=0;break}}else for(;B<R;)if(P[O++]=D[B++],O==this.blockSize){o(this,P),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)D[R++]=this.g[I]>>>P&255;return D};function u(D,R){var I=m;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=R(D)}function h(D,R){this.h=R;const I=[];let P=!0;for(let O=D.length-1;O>=0;O--){const B=D[O]|0;P&&B==R||(I[O]=B,P=!1)}this.g=I}var m={};function p(D){return-128<=D&&D<128?u(D,function(R){return new h([R|0],R<0?-1:0)}):new h([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return V(g(-D));const R=[];let I=1;for(let P=0;D>=I;P++)R[P]=D/I|0,I*=4294967296;return new h(R,0)}function v(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return V(v(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let P=T;for(let B=0;B<D.length;B+=8){var O=Math.min(8,D.length-B);const x=parseInt(D.substring(B,B+O),R);O<8?(O=g(Math.pow(R,O)),P=P.j(O).add(g(x))):(P=P.j(I),P=P.add(g(x)))}return P}var T=p(0),w=p(1),C=p(16777216);r=h.prototype,r.m=function(){if(j(this))return-V(this).m();let D=0,R=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);D+=(P>=0?P:4294967296+P)*R,R*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(U(this))return"0";if(j(this))return"-"+V(this).toString(D);const R=g(Math.pow(D,6));var I=this;let P="";for(;;){const O=le(I,R).g;I=X(I,O.j(R));let B=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=O,U(I))return B+P;for(;B.length<6;)B="0"+B;P=B+P}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function U(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function j(D){return D.h==-1}r.l=function(D){return D=X(this,D),j(D)?-1:U(D)?0:1};function V(D){const R=D.g.length,I=[];for(let P=0;P<R;P++)I[P]=~D.g[P];return new h(I,~D.h).add(w)}r.abs=function(){return j(this)?V(this):this},r.add=function(D){const R=Math.max(this.g.length,D.g.length),I=[];let P=0;for(let O=0;O<=R;O++){let B=P+(this.i(O)&65535)+(D.i(O)&65535),x=(B>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);P=x>>>16,B&=65535,x&=65535,I[O]=x<<16|B}return new h(I,I[I.length-1]&-2147483648?-1:0)};function X(D,R){return D.add(V(R))}r.j=function(D){if(U(this)||U(D))return T;if(j(this))return j(D)?V(this).j(V(D)):V(V(this).j(D));if(j(D))return V(this.j(V(D)));if(this.l(C)<0&&D.l(C)<0)return g(this.m()*D.m());const R=this.g.length+D.g.length,I=[];for(var P=0;P<2*R;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let O=0;O<D.g.length;O++){const B=this.i(P)>>>16,x=this.i(P)&65535,Ke=D.i(O)>>>16,yt=D.i(O)&65535;I[2*P+2*O]+=x*yt,Y(I,2*P+2*O),I[2*P+2*O+1]+=B*yt,Y(I,2*P+2*O+1),I[2*P+2*O+1]+=x*Ke,Y(I,2*P+2*O+1),I[2*P+2*O+2]+=B*Ke,Y(I,2*P+2*O+2)}for(D=0;D<R;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=R;D<2*R;D++)I[D]=0;return new h(I,0)};function Y(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function ie(D,R){this.g=D,this.h=R}function le(D,R){if(U(R))throw Error("division by zero");if(U(D))return new ie(T,T);if(j(D))return R=le(V(D),R),new ie(V(R.g),V(R.h));if(j(R))return R=le(D,V(R)),new ie(V(R.g),R.h);if(D.g.length>30){if(j(D)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,P=R;P.l(D)<=0;)I=me(I),P=me(P);var O=re(I,1),B=re(P,1);for(P=re(P,2),I=re(I,2);!U(P);){var x=B.add(P);x.l(D)<=0&&(O=O.add(I),B=x),P=re(P,1),I=re(I,1)}return R=X(D,O.j(R)),new ie(O,R)}for(O=T;D.l(R)>=0;){for(I=Math.max(1,Math.floor(D.m()/R.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),B=g(I),x=B.j(R);j(x)||x.l(D)>0;)I-=P,B=g(I),x=B.j(R);U(B)&&(B=w),O=O.add(B),D=X(D,x)}return new ie(O,D)}r.B=function(D){return le(this,D).h},r.and=function(D){const R=Math.max(this.g.length,D.g.length),I=[];for(let P=0;P<R;P++)I[P]=this.i(P)&D.i(P);return new h(I,this.h&D.h)},r.or=function(D){const R=Math.max(this.g.length,D.g.length),I=[];for(let P=0;P<R;P++)I[P]=this.i(P)|D.i(P);return new h(I,this.h|D.h)},r.xor=function(D){const R=Math.max(this.g.length,D.g.length),I=[];for(let P=0;P<R;P++)I[P]=this.i(P)^D.i(P);return new h(I,this.h^D.h)};function me(D){const R=D.g.length+1,I=[];for(let P=0;P<R;P++)I[P]=D.i(P)<<1|D.i(P-1)>>>31;return new h(I,D.h)}function re(D,R){const I=R>>5;R%=32;const P=D.g.length-I,O=[];for(let B=0;B<P;B++)O[B]=R>0?D.i(B+I)>>>R|D.i(B+I+1)<<32-R:D.i(B+I);return new h(O,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,tS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,ys=h}).apply(typeof GE<"u"?GE:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nS,eu,iS,Rh,_p,rS,sS,aS;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var q=c[A];if(!(q in E))break e;E=E[q]}c=c[c.length-1],A=E[c],y=y(A),y!=A&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function v(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,q,K){for(var se=Array(arguments.length-2),we=2;we<arguments.length;we++)se[we-2]=arguments[we];return y.prototype[q].apply(A,se)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function C(c){const y=c.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=c[A];return E}return[]}function U(c,y){for(let A=1;A<arguments.length;A++){const q=arguments[A];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=c.length||0;const K=q.length||0;c.length=E+K;for(let se=0;se<K;se++)c[E+se]=q[se]}else c.push(q)}}class j{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(c){h.setTimeout(()=>{throw c},0)}function X(){var c=D;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Y{constructor(){this.h=this.g=null}add(y,E){const A=ie.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ie=new j(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let me,re=!1,D=new Y,R=()=>{const c=Promise.resolve(void 0);me=()=>{c.then(I)}};function I(){for(var c;c=X();){try{c.h.call(c.g)}catch(E){V(E)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}re=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function Ke(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Ke,O),Ke.prototype.init=function(c,y){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),W=0;function ae(c,y,E,A,q){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=q,this.key=++W,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,E){for(const A in c)y.call(E,c[A],A,c)}function Qe(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function k(c){const y={};for(const E in c)y[E]=c[E];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)c[E]=A[E];for(let K=0;K<te.length;K++)E=te[K],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,y,E,A,q){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const se=Ce(c,y,A,q);return se>-1?(y=c[se],E||(y.fa=!1)):(y=new ae(y,this.src,K,!!A,q),y.fa=E,c.push(y)),y};function Te(c,y){const E=y.type;if(E in c.g){var A=c.g[E],q=Array.prototype.indexOf.call(A,y,void 0),K;(K=q>=0)&&Array.prototype.splice.call(A,q,1),K&&(ye(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ce(c,y,E,A){for(let q=0;q<c.length;++q){const K=c[q];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==A)return q}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Pt={};function ot(c,y,E,A,q){if(Array.isArray(y)){for(let K=0;K<y.length;K++)ot(c,y[K],E,A,q);return null}return E=Ko(E),c&&c[yt]?c.J(y,E,m(A)?!!A.capture:!1,q):xs(c,y,E,!1,A,q)}function xs(c,y,E,A,q,K){if(!y)throw Error("Invalid event type");const se=m(q)?!!q.capture:!!q;let we=Ns(c);if(we||(c[Ue]=we=new he(c)),E=we.add(y,E,A,se,K),E.proxy)return E;if(A=Ca(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)B||(q=se),q===void 0&&(q=!1),c.addEventListener(y.toString(),A,q);else if(c.attachEvent)c.attachEvent(fi(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ca(){function c(E){return y.call(c.src,c.listener,E)}const y=Ho;return c}function Ia(c,y,E,A,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ia(c,y[K],E,A,q);else A=m(A)?!!A.capture:!!A,E=Ko(E),c&&c[yt]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],E=Ce(y,E,A,q),E>-1&&(ye(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Ns(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,E,A,q)),(E=c>-1?y[c]:null)&&Da(E))}function Da(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[yt])Te(y.i,c);else{var E=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(E,A,c.capture):y.detachEvent?y.detachEvent(fi(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Ns(y))?(Te(E,c),E.h==0&&(E.src=null,y[Ue]=null)):ye(c)}}}function fi(c){return c in Pt?Pt[c]:Pt[c]="on"+c}function Ho(c,y){if(c.da)c=!0;else{y=new Ke(y,this);const E=c.listener,A=c.ha||c.src;c.fa&&Da(c),c=E.call(A,y)}return c}function Ns(c){return c=c[Ue],c instanceof he?c:null}var Go="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ko(c){return typeof c=="function"?c:(c[Go]||(c[Go]=function(y){return c.handleEvent(y)}),c[Go])}function bt(){P.call(this),this.i=new he(this),this.M=this,this.G=null}T(bt,P),bt.prototype[yt]=!0,bt.prototype.removeEventListener=function(c,y,E,A){Ia(this,c,y,E,A)};function Ut(c,y){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var q=y;y=new O(A,c),oe(y,q)}q=!0;let K,se;if(E)for(se=E.length-1;se>=0;se--)K=y.g=E[se],q=Dr(K,A,!0,y)&&q;if(K=y.g=c,q=Dr(K,A,!0,y)&&q,q=Dr(K,A,!1,y)&&q,E)for(se=0;se<E.length;se++)K=y.g=E[se],q=Dr(K,A,!1,y)&&q}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let A=0;A<E.length;A++)ye(E[A]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,E,A){return this.i.add(String(c),y,!1,E,A)},bt.prototype.K=function(c,y,E,A){return this.i.add(String(c),y,!0,E,A)};function Dr(c,y,E,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==E){const we=se.listener,vt=se.ha||se.src;se.fa&&Te(c.i,se),q=we.call(vt,A)!==!1&&q}}return q&&!A.defaultPrevented}function Pf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function zu(c){c.g=Pf(()=>{c.g=null,c.i&&(c.i=!1,zu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class on extends P{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(c){P.call(this),this.h=c,this.g={}}T(Os,P);var Qo=[];function Yo(c){je(c.g,function(y,E){this.g.hasOwnProperty(E)&&Da(y)},c),c.g={}}Os.prototype.N=function(){Os.Z.N.call(this),Yo(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=h.JSON.stringify,Uf=h.JSON.parse,Bu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function qu(){}function Fu(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){O.call(this,"d")}T(Ht,O);function kn(){O.call(this,"c")}T(kn,O);var _t={},Hu=null;function xa(){return Hu=Hu||new bt}_t.Ia="serverreachability";function Gu(c){O.call(this,_t.Ia,c)}T(Gu,O);function di(c){const y=xa();Ut(y,new Gu(y))}_t.STAT_EVENT="statevent";function Ms(c,y){O.call(this,_t.STAT_EVENT,c),this.stat=y}T(Ms,O);function At(c){const y=xa();Ut(y,new Ms(y,c))}_t.Ja="timingevent";function mi(c,y){O.call(this,_t.Ja,c),this.size=y}T(mi,O);function pi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Lf(c,y,E,A,q,K){c.info(function(){if(c.g)if(K){var se="",we=K.split("&");for(let qe=0;qe<we.length;qe++){var vt=we[qe].split("=");if(vt.length>1){const lt=vt[0];vt=vt[1];const jn=lt.split("_");se=jn.length>=2&&jn[1]=="type"?se+(lt+"="+vt+"&"):se+(lt+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+E+`
`+se})}function Ku(c,y,E,A,q,K,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+E+`
`+K+" "+se})}function gi(c,y,E,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+jf(c,E)+(A?" "+A:"")})}function Vs(c,y){c.info(function(){return"TIMEOUT: "+y})}Jn.prototype.info=function(){};function jf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var E=K[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return xr(K)}catch{return y}}var ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$o;function Ps(){}T(Ps,qu),Ps.prototype.g=function(){return new XMLHttpRequest},$o=new Ps;function Xi(c){return encodeURIComponent(String(c))}function Qu(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Zn(c,y,E,A){this.j=c,this.i=y,this.l=E,this.S=A||1,this.V=new Os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var wt={},zt={};function yi(c,y,E){c.M=1,c.A=Us(Ct(y)),c.u=E,c.R=!0,Na(c,null)}function Na(c,y){c.F=Date.now(),_i(c),c.B=Ct(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ka(E.i,"t",A),c.C=0,E=c.j.L,c.h=new ei,c.g=lc(c.j,E?y:null,!c.u),c.P>0&&(c.O=new on(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,A=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(Qo[0]=q.toString()),q=Qo);for(let K=0;K<q.length;K++){const se=ot(E,q[K],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),di(),Lf(c.i,c.v,c.B,c.l,c.S,c.u)}Zn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ii(c)==3?y.j():this.Y(c)},Zn.prototype.Y=function(c){try{if(c==this.g)e:{const we=ii(this.g),vt=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||we!=4||vt==7||(vt==8||qe<=0?di(3):di(2)),vi(this);var y=this.g.ca();this.X=y;var E=zf(this);if(this.o=y==200,Ku(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var K=A;break t}}K=null}if(c=K)gi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,c);else{this.o=!1,this.m=3,At(12),Sn(this),Pn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<E.length;)if(lt=Xu(this,E),lt==zt){we==4&&(this.m=4,At(14),c=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==wt){this.m=4,At(15),gi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else gi(this.i,this.l,lt,null),Ei(this,lt);if(Yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||E.length!=0||this.h.h||(this.m=1,At(16),c=!1),this.o=this.o&&c,!c)gi(this.i,this.l,E,"[Invalid Chunked Response]"),Sn(this),Pn(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),hl(se),se.P=!0,At(11))}}else gi(this.i,this.l,E,null),Ei(this,E);we==4&&Sn(this),this.o&&!this.K&&(we==4?rc(this.j,this):(this.o=!1,_i(this)))}else Wi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Sn(this),Pn(this)}}}catch{}finally{}};function zf(c){if(!Yu(c))return c.g.la();const y=Gt(c.g);if(y==="")return"";let E="";const A=y.length,q=ii(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Sn(c),Pn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<A;K++)c.h.h=!0,E+=c.h.i.decode(y[K],{stream:!(q&&K==A-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Yu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Xu(c,y){var E=c.C,A=y.indexOf(`
`,E);return A==-1?zt:(E=Number(y.substring(E,A)),isNaN(E)?wt:(A+=1,A+E>y.length?zt:(y=y.slice(A,A+E),c.C=A+E,y)))}Zn.prototype.cancel=function(){this.K=!0,Sn(this)};function _i(c){c.T=Date.now()+c.H,Oa(c,c.H)}function Oa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=pi(g(c.aa,c),y)}function vi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Vs(this.i,this.B),this.M!=2&&(di(),At(17)),Sn(this),this.m=2,Pn(this)):Oa(this,this.T-c)};function Pn(c){c.j.I==0||c.K||rc(c.j,c)}function Sn(c){vi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Yo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ei(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||Si(E.h,c))){if(!c.L&&Si(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)za(E),Lr(E);else break e;Hs(E),At(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=pi(g(E.Va,E),6e3));Ti(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ii(E,11)}else if((c.L||E.g==c)&&za(E),!x(y))for(q=E.Ba.g.parse(y),y=0;y<q.length;y++){let qe=q[y];const lt=qe[0];if(!(lt<=E.K))if(E.K=lt,qe=qe[1],E.I==2)if(qe[0]=="c"){E.M=qe[1],E.ba=qe[2];const jn=qe[3];jn!=null&&(E.ka=jn,E.j.info("VER="+E.ka));const Di=qe[4];Di!=null&&(E.za=Di,E.j.info("SVER="+E.za));const ri=qe[5];ri!=null&&typeof ri=="number"&&ri>0&&(A=1.5*ri,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const si=c.g;if(si){const Gs=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var K=A.h;K.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Zo(K,K.h),K.h=null))}if(A.G){const Ba=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(A.wa=Ba,Ye(A.J,A.G,Ba))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var se=c;if(A.na=oc(A,A.L?A.ba:null,A.W),se.L){el(A.h,se);var we=se,vt=A.O;vt&&(we.H=vt),we.D&&(vi(we),_i(we)),A.g=se}else nc(A);E.i.length>0&&Ci(E)}else qe[0]!="stop"&&qe[0]!="close"||Ii(E,7);else E.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ii(E,7):ul(E):qe[0]!="noop"&&E.l&&E.l.qa(qe),E.A=0)}}di(4)}catch{}}var Rt=class{constructor(c,y){this.g=c,this.map=y}};function Wo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ti(c){return c.h?1:c.g?c.g.size:0}function Si(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Zo(c,y){c.g?c.g.add(y):c.h=y}function el(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Wo.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return C(c.i)}var $u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let q,K=null;A>=0?(q=c[E].substring(0,A),K=c[E].substring(A+1)):q=c[E],y(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof bn?(this.l=c.l,Bt(this,c.j),this.o=c.o,this.g=c.g,Nr(this,c.u),this.h=c.h,nl(this,ec(c.i)),this.m=c.m):c&&(y=String(c).match($u))?(this.l=!1,Bt(this,y[1]||"",!0),this.o=bi(y[2]||""),this.g=bi(y[3]||"",!0),Nr(this,y[4]),this.h=bi(y[5]||"",!0),nl(this,y[6]||"",!0),this.m=bi(y[7]||"")):(this.l=!1,this.i=new Mr(null,this.l))}bn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ls(y,Va,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ls(y,Va,!0),"@"),c.push(Xi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ls(E,E.charAt(0)=="/"?il:Wu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ls(E,Ju)),c.join("")},bn.prototype.resolve=function(c){const y=Ct(this);let E=!!c.j;E?Bt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var A=c.h;if(E)Nr(y,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=y.h.lastIndexOf("/");q!=-1&&(A=y.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let se=0;se<q.length;){const we=q[se++];we=="."?A&&se==q.length&&K.push(""):we==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&se==q.length&&K.push("")):(K.push(we),A=!0)}A=K.join("/")}else A=q}return E?y.h=A:E=c.i.toString()!=="",E?nl(y,ec(c.i)):E=!!c.m,E&&(y.m=c.m),y};function Ct(c){return new bn(c)}function Bt(c,y,E){c.j=E?bi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Nr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function nl(c,y,E){y instanceof Mr?(c.i=y,Pa(c.i,c.l)):(E||(y=Ls(y,Or)),c.i=new Mr(y,c.l))}function Ye(c,y,E){c.i.set(y,E)}function Us(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function bi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ls(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,hn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Va=/[#\/\?@]/g,Wu=/[#\?:]/g,il=/[#\?]/g,Or=/[#\?@]/g,Ju=/#/g;function Mr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function fn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ma(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=Mr.prototype,r.add=function(c,y){fn(this),this.i=null,c=Vr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Zu(c,y){fn(c),y=Vr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function rl(c,y){return fn(c),y=Vr(c,y),c.g.has(y)}r.forEach=function(c,y){fn(this),this.g.forEach(function(E,A){E.forEach(function(q){c.call(y,q,A,this)},this)},this)};function sl(c,y){fn(c);let E=[];if(typeof y=="string")rl(c,y)&&(E=E.concat(c.g.get(Vr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return fn(this),this.i=null,c=Vr(this,c),rl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=sl(this,c),c.length>0?String(c[0]):y):y};function ka(c,y,E){Zu(c,y),E.length>0&&(c.i=null,c.g.set(Vr(c,y),C(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const q=Xi(E);E=sl(this,E);for(let K=0;K<E.length;K++){let se=q;E[K]!==""&&(se+="="+Xi(E[K])),c.push(se)}}return this.i=c.join("&")};function ec(c){const y=new Mr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Vr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Pa(c,y){y&&!c.j&&(fn(c),c.i=null,c.g.forEach(function(E,A){const q=A.toLowerCase();A!=q&&(Zu(this,A),ka(this,q,E))},c)),c.j=y}function ti(c,y){const E=new Jn;if(h.Image){const A=new Image;A.onload=v(Un,E,"TestLoadImage: loaded",!0,y,A),A.onerror=v(Un,E,"TestLoadImage: error",!1,y,A),A.onabort=v(Un,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=v(Un,E,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function al(c,y){const E=new Jn,A=new AbortController,q=setTimeout(()=>{A.abort(),Un(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(q),K.ok?Un(E,"TestPingServer: ok",!0,y):Un(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Un(E,"TestPingServer: error",!1,y)})}function Un(c,y,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function kr(){this.g=new Bu}function Ai(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ai,qu),Ai.prototype.g=function(){return new js(this.i,this.h)};function js(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(js,bt),r=js.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ni(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ua(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ua(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Pr(this):ni(this),this.readyState==3&&Ua(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Pr(this))},r.Na=function(c){this.g&&(this.response=c,Pr(this))},r.ga=function(){this.g&&Pr(this)};function Pr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ni(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ln(c){let y="";return je(c,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function zs(c,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Ln(E),typeof c=="string"?E!=null&&Xi(E):Ye(c,y,E))}function We(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(We,bt);var wi=/^https?$/i,ol=["POST","PUT"];r=We.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$o.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Bs(this,K);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())E.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(ol,y,void 0)>=0)||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of E)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Bs(this,K)}};function Bs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,ll(c),$i(c)}function ll(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ut(this,"complete"),Ut(this,"abort"),$i(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),We.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},r.Xa=function(){qs(this)};function qs(c){if(c.h&&typeof u<"u"){if(c.v&&ii(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ut(c,"readystatechange"),ii(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=K===0){let se=String(c.D).match($u)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),A=!wi.test(se?se.toLowerCase():"")}E=A}if(E)Ut(c,"complete"),Ut(c,"success");else{c.o=6;try{var q=ii(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",ll(c)}}finally{$i(c)}}}}function $i(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Ut(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ii(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Uf(y)}};function Gt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(c){const y={};c=(c.g&&ii(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(x(c[A]))continue;var E=Qu(c[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[q]||[];y[q]=K,K.push(E)}Qe(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Ur(c){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,c),this.Za=Ri("retryDelaySeedMs",1e4,c),this.Ta=Ri("forwardChannelMaxRetries",2,c),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Wo(c&&c.concurrentRequestLimit),this.Ba=new kr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ur.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,A){At(0),this.W=c,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=oc(this,null,this.W),Ci(this)};function ul(c){if(La(c),c.I==3){var y=c.V++,E=Ct(c.J);if(Ye(E,"SID",c.M),Ye(E,"RID",y),Ye(E,"TYPE","terminate"),Fs(c,E),y=new Zn(c,c.j,y),y.M=2,y.A=Us(Ct(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=lc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),_i(y)}ac(c)}function Lr(c){c.g&&(hl(c),c.g.cancel(),c.g=null)}function La(c){Lr(c),c.v&&(h.clearTimeout(c.v),c.v=null),za(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ci(c){if(!Jo(c.h)&&!c.m){c.m=!0;var y=c.Ea;me||R(),re||(me(),re=!0),D.add(y,c),c.D=0}}function ja(c,y){return Ti(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=pi(g(c.Ea,c,y),sc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new Zn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=k(K),oe(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=tc(this,q,y),E=Ct(this.J),Ye(E,"RID",c),Ye(E,"CVER",22),this.G&&Ye(E,"X-HTTP-Session-Id",this.G),Fs(this,E),K&&(this.R?y="headers="+Xi(Ln(K))+"&"+y:this.u&&zs(E,this.u,K)),Zo(this.h,q),this.Ra&&Ye(E,"TYPE","init"),this.S?(Ye(E,"$req",y),Ye(E,"SID","null"),q.U=!0,yi(q,E,null)):yi(q,E,y),this.I=2}}else this.I==3&&(c?cl(this,c):this.i.length==0||Jo(this.h)||cl(this))};function cl(c,y){var E;y?E=y.l:E=c.V++;const A=Ct(c.J);Ye(A,"SID",c.M),Ye(A,"RID",E),Ye(A,"AID",c.K),Fs(c,A),c.u&&c.o&&zs(A,c.u,c.o),E=new Zn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=tc(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Zo(c.h,E),yi(E,A,y)}function Fs(c,y){c.H&&je(c.H,function(E,A){Ye(y,A,E)}),c.l&&je({},function(E,A){Ye(y,A,E)})}function tc(c,y,E){E=Math.min(c.i.length,E);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var q=c.i;let we=-1;for(;;){const vt=["count="+E];we==-1?E>0?(we=q[0].g,vt.push("ofs="+we)):we=0:vt.push("ofs="+we);let qe=!0;for(let lt=0;lt<E;lt++){var K=q[lt].g;const jn=q[lt].map;if(K-=we,K<0)we=Math.max(0,q[lt].g-100),qe=!1;else try{K="req"+K+"_"||"";try{var se=jn instanceof Map?jn:Object.entries(jn);for(const[Di,ri]of se){let si=ri;m(ri)&&(si=xr(ri)),vt.push(K+Di+"="+encodeURIComponent(si))}}catch(Di){throw vt.push(K+"type="+encodeURIComponent("_badmap")),Di}}catch{A&&A(jn)}}if(qe){se=vt.join("&");break e}}se=void 0}return c=c.i.splice(0,E),y.G=c,se}function nc(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;me||R(),re||(me(),re=!0),D.add(y,c),c.A=0}}function Hs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=pi(g(c.Da,c),sc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,ic(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=pi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Lr(this),ic(this))};function hl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function ic(c){c.g=new Zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Ct(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),Fs(c,y),c.u&&c.o&&zs(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Us(Ct(y)),E.u=null,E.R=!0,Na(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Lr(this),Hs(this),At(19))};function za(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function rc(c,y){var E=null;if(c.g==y){za(c),hl(c),c.g=null;var A=2}else if(Si(c.h,y))E=y.G,el(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;A=xa(),Ut(A,new mi(A,E)),Ci(c)}else nc(c);else if(q=y.m,q==3||q==0&&y.X>0||!(A==1&&ja(c,y)||A==2&&Hs(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),q){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function sc(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Ii(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),A=c.Ua;const q=!A;A=new bn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Bt(A,"https"),Us(A),q?ti(A.toString(),E):al(A.toString(),E)}else At(2);c.I=0,c.l&&c.l.pa(y),ac(c),La(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function ac(c){if(c.I=0,c.ja=[],c.l){const y=tl(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ja,y),U(c.ja,c.i),c.h.i.length=0,C(c.i),c.i.length=0),c.l.oa()}}function oc(c,y,E){var A=E instanceof bn?Ct(E):new bn(E);if(A.g!="")y&&(A.g=y+"."+A.g),Nr(A,A.u);else{var q=h.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const K=new bn(null);A&&Bt(K,A),y&&(K.g=y),q&&Nr(K,q),E&&(K.h=E),A=K}return E=c.G,y=c.wa,E&&y&&Ye(A,E,y),Ye(A,"VER",c.ka),Fs(c,A),A}function lc(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new We(new Ai({ab:E})):new We(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function uc(){}r=uc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function jr(){}jr.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){bt.call(this),this.g=new Ur(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!x(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ji(this)}T(ln,bt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ul(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=xr(c),c=E);y.i.push(new Rt(y.Ya++,c)),y.I==3&&Ci(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,ln.Z.N.call(this)};function cc(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(cc,Ht);function hc(){kn.call(this),this.status=1}T(hc,kn);function Ji(c){this.g=c}T(Ji,uc),Ji.prototype.ra=function(){Ut(this.g,"a")},Ji.prototype.qa=function(c){Ut(this.g,new cc(c))},Ji.prototype.pa=function(c){Ut(this.g,new hc)},Ji.prototype.oa=function(){Ut(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,aS=function(){return new jr},sS=function(){return xa()},rS=_t,_p={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,Rh=ks,Xo.COMPLETE="complete",iS=Xo,Fu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,eu=Fu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,nS=We}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const KE="@firebase/firestore",QE="4.9.2";class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let Uo="12.3.0";const ga=new Xp("@firebase/firestore");function vo(){return ga.logLevel}function ce(r,...e){if(ga.logLevel<=Me.DEBUG){const n=e.map(Jp);ga.debug(`Firestore (${Uo}): ${r}`,...n)}}function Sr(r,...e){if(ga.logLevel<=Me.ERROR){const n=e.map(Jp);ga.error(`Firestore (${Uo}): ${r}`,...n)}}function Do(r,...e){if(ga.logLevel<=Me.WARN){const n=e.map(Jp);ga.warn(`Firestore (${Uo}): ${r}`,...n)}}function Jp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,oS(r,s,n)}function oS(r,e,n){let s=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Sr(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||oS(e,o,s)}function Ae(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class lS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class II{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DI{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new lS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class xI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new xI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class YE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new YE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new YE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function MI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=MI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function vp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Qm(o)===Qm(u)?Ve(o,u):Qm(o)?1:-1}return Ve(r.length,e.length)}const VI=55296,kI=57343;function Qm(r){const e=r.charCodeAt(0);return e>=VI&&e<=kI}function xo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const XE="__name__";class Pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Pi.isNumericId(e),o=Pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):vp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class it extends Pi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const PI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Pi{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return PI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XE}static keyField(){return new Wt([XE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}function uS(r,e,n){if(!n)throw new ue(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function UI(r,e,n,s){if(e===!0&&s===!0)throw new ue(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function $E(r){if(!ge.isDocumentKey(r))throw new ue(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function WE(r){if(ge.isDocumentKey(r))throw new ue(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function hf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Tn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(r);throw new ue(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Vt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Cu(r,e){if(!cS(r))throw new ue(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(ee.INVALID_ARGUMENT,n);return!0}const JE=-62135596800,ZE=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ZE);return new He(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<JE)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-JE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:Vt("string",He._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new He(0,0))}static max(){return new Se(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const du=-1;function LI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new He(n+1,0):new He(n,s));return new Es(o,ge.empty(),e)}function jI(r){return new Es(r.readTime,r.key,du)}class Es{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Es(Se.min(),ge.empty(),du)}static max(){return new Es(Se.max(),ge.empty(),du)}}function zI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const BI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==BI)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((v=>{h[g]=v,++m,m===u&&s(h)}),(v=>o(v)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function FI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(r){return r.name==="IndexedDbTransactionError"}class ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ff.ce=-1;const eg=-1;function df(r){return r==null}function zh(r){return r===0&&1/r==-1/0}function HI(r){return typeof r=="number"&&Number.isInteger(r)&&!zh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const hS="";function GI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=eT(e)),e=KI(r.get(n),e);return eT(e)}function KI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case hS:n+="";break;default:n+=u}}return n}function eT(r){return r+hS+""}function tT(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function fS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(e){return new nT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class nT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new On([])}unionWith(e){let n=new jt(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class dS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new dS("Invalid base64 string: "+u):u}})(e);return new en(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const QI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=QI.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(r.seconds),nanos:St(r.nanos)}}function St(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ss(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const mS="server_timestamp",pS="__type__",gS="__previous_value__",yS="__local_write_time__";function tg(r){return(r?.mapValue?.fields||{})[pS]?.stringValue===mS}function mf(r){const e=r.mapValue.fields[gS];return tg(e)?mf(e):e}function mu(r){const e=Ts(r.mapValue.fields[yS].timestampValue);return new He(e.seconds,e.nanos)}class YI{constructor(e,n,s,o,u,h,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Bh="(default)";class pu{constructor(e,n){this.projectId=e,this.database=n||Bh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}const _S="__type__",XI="__max__",_h={mapValue:{}},vS="__vector__",qh="value";function bs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tg(r)?4:WI(r)?9007199254740991:$I(r)?10:11:Ee(28295,{value:r})}function Ki(r,e){if(r===e)return!0;const n=bs(r);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return mu(r).isEqual(mu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ts(o.timestampValue),m=Ts(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ss(o.bytesValue).isEqual(Ss(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return St(o.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return St(o.integerValue)===St(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=St(o.doubleValue),m=St(u.doubleValue);return h===m?zh(h)===zh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return xo(r.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(tT(h)!==tT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ki(h[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function gu(r,e){return(r.values||[]).find((n=>Ki(n,e)))!==void 0}function No(r,e){if(r===e)return 0;const n=bs(r),s=bs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=St(u.integerValue||u.doubleValue),p=St(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return iT(r.timestampValue,e.timestampValue);case 4:return iT(mu(r),mu(e));case 5:return vp(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=Ss(u),p=Ss(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ve(m[g],p[g]);if(v!==0)return v}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(St(u.latitude),St(h.latitude));return m!==0?m:Ve(St(u.longitude),St(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return rT(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[qh]?.arrayValue,v=p[qh]?.arrayValue,T=Ve(g?.values?.length||0,v?.values?.length||0);return T!==0?T:rT(g,v)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===_h.mapValue&&h===_h.mapValue)return 0;if(u===_h.mapValue)return 1;if(h===_h.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const w=vp(p[T],v[T]);if(w!==0)return w;const C=No(m[p[T]],g[v[T]]);if(C!==0)return C}return Ve(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function iT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=Ts(r),s=Ts(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function rT(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=No(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function Oo(r){return Ep(r)}function Ep(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ts(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ss(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ep(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Ep(n.fields[h])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function Ch(r){switch(bs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(r);return e?16+Ch(e):16;case 5:return 2*r.stringValue.length;case 6:return Ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ch(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Cs(s.fields,((u,h)=>{o+=u.length+Ch(h)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function sT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Tp(r){return!!r&&"integerValue"in r}function ng(r){return!!r&&"arrayValue"in r}function aT(r){return!!r&&"nullValue"in r}function oT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ih(r){return!!r&&"mapValue"in r}function $I(r){return(r?.mapValue?.fields||{})[_S]?.stringValue===vS}function su(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Cs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=su(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(r.arrayValue.values[n]);return e}return{...r}}function WI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XI}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=su(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Cs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new En(su(this.value))}}function ES(r){const e=[];return Cs(r.fields,((n,s)=>{const o=new Wt([n]);if(Ih(s)){const u=ES(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new On(e)}class sn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,Se.min(),Se.min(),Se.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new sn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new sn(e,2,n,Se.min(),Se.min(),En.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Se.min(),Se.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fh{constructor(e,n){this.position=e,this.inclusive=n}}function lT(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),n.key):s=No(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function uT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ki(r.position[n],e.position[n]))return!1;return!0}class Hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function JI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class TS{}class Mt extends TS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new e2(e,n,s):n==="array-contains"?new i2(e,s):n==="in"?new r2(e,s):n==="not-in"?new s2(e,s):n==="array-contains-any"?new a2(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new t2(e,s):new n2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(No(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends TS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return SS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SS(r){return r.op==="and"}function bS(r){return ZI(r)&&SS(r)}function ZI(r){for(const e of r.filters)if(e instanceof ci)return!1;return!0}function Sp(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+Oo(r.value);if(bS(r))return r.filters.map((e=>Sp(e))).join(",");{const e=r.filters.map((n=>Sp(n))).join(",");return`${r.op}(${e})`}}function AS(r,e){return r instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Ki(s.value,o.value)})(r,e):r instanceof ci?(function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&AS(h,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function wS(r){return r instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`})(r):r instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(wS).join(" ,")+"}"})(r):"Filter"}class e2 extends Mt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class t2 extends Mt{constructor(e,n){super(e,"in",n),this.keys=RS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class n2 extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=RS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function RS(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class i2 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ng(n)&&gu(n.arrayValue,this.value)}}class r2 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class s2 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gu(this.value.arrayValue,n)}}class a2 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>gu(this.value.arrayValue,s)))}}class o2{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function cT(r,e=null,n=[],s=[],o=null,u=null,h=null){return new o2(r,e,n,s,o,u,h)}function ig(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Sp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),df(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Oo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Oo(s))).join(",")),e.Te=n}return e.Te}function rg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!JI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!AS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!uT(r.startAt,e.startAt)&&uT(r.endAt,e.endAt)}function bp(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Iu{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function l2(r,e,n,s,o,u,h,m){return new Iu(r,e,n,s,o,u,h,m)}function pf(r){return new Iu(r)}function hT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function CS(r){return r.collectionGroup!==null}function au(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new jt(Wt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Hh(u,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new Hh(Wt.keyField(),s))}return e.Ie}function ji(r){const e=Ae(r);return e.Ee||(e.Ee=u2(e,au(r))),e.Ee}function u2(r,e){if(r.limitType==="F")return cT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Hh(o.field,u)}));const n=r.endAt?new Fh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Fh(r.startAt.position,r.startAt.inclusive):null;return cT(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Ap(r,e){const n=r.filters.concat([e]);return new Iu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function wp(r,e,n){return new Iu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function gf(r,e){return rg(ji(r),ji(e))&&r.limitType===e.limitType}function IS(r){return`${ig(ji(r))}|lt:${r.limitType}`}function Eo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>wS(o))).join(", ")}]`),df(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Oo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Oo(o))).join(",")),`Target(${s})`})(ji(r))}; limitType=${r.limitType})`}function yf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=lT(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,au(s),o)||s.endAt&&!(function(h,m,p){const g=lT(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,au(s),o))})(r,e)}function c2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function DS(r){return(e,n)=>{let s=!1;for(const o of au(r)){const u=h2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function h2(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?No(p,g):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return fS(this.inner)}size(){return this.innerSize}}const f2=new ft(ge.comparator);function br(){return f2}const xS=new ft(ge.comparator);function tu(...r){let e=xS;for(const n of r)e=e.insert(n.key,n);return e}function NS(r){let e=xS;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ca(){return ou()}function OS(){return ou()}function ou(){return new ba((r=>r.toString()),((r,e)=>r.isEqual(e)))}const d2=new ft(ge.comparator),m2=new jt(ge.comparator);function ke(...r){let e=m2;for(const n of r)e=e.add(n);return e}const p2=new jt(Ve);function g2(){return p2}function sg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function MS(r){return{integerValue:""+r}}function y2(r,e){return HI(e)?MS(e):sg(r,e)}class _f{constructor(){this._=void 0}}function _2(r,e,n){return r instanceof yu?(function(o,u){const h={fields:{[pS]:{stringValue:mS},[yS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tg(u)&&(u=mf(u)),u&&(h.fields[gS]=u),{mapValue:h}})(n,e):r instanceof _u?kS(r,e):r instanceof vu?PS(r,e):(function(o,u){const h=VS(o,u),m=fT(h)+fT(o.Ae);return Tp(h)&&Tp(o.Ae)?MS(m):sg(o.serializer,m)})(r,e)}function v2(r,e,n){return r instanceof _u?kS(r,e):r instanceof vu?PS(r,e):n}function VS(r,e){return r instanceof Gh?(function(s){return Tp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class yu extends _f{}class _u extends _f{constructor(e){super(),this.elements=e}}function kS(r,e){const n=US(e);for(const s of r.elements)n.some((o=>Ki(o,s)))||n.push(s);return{arrayValue:{values:n}}}class vu extends _f{constructor(e){super(),this.elements=e}}function PS(r,e){let n=US(e);for(const s of r.elements)n=n.filter((o=>!Ki(o,s)));return{arrayValue:{values:n}}}class Gh extends _f{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fT(r){return St(r.integerValue||r.doubleValue)}function US(r){return ng(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class E2{constructor(e,n){this.field=e,this.transform=n}}function T2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof _u&&o instanceof _u||s instanceof vu&&o instanceof vu?xo(s.elements,o.elements,Ki):s instanceof Gh&&o instanceof Gh?Ki(s.Ae,o.Ae):s instanceof yu&&o instanceof yu})(r.transform,e.transform)}class S2{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class vf{}function LS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ag(r.key,Xn.none()):new Du(r.key,r.data,Xn.none());{const n=r.data,s=En.empty();let o=new jt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Is(r.key,s,new On(o.toArray()),Xn.none())}}function b2(r,e,n){r instanceof Du?(function(o,u,h){const m=o.value.clone(),p=mT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Is?(function(o,u,h){if(!Dh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=mT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(jS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function lu(r,e,n,s){return r instanceof Du?(function(u,h,m,p){if(!Dh(u.precondition,h))return m;const g=u.value.clone(),v=pT(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Is?(function(u,h,m,p){if(!Dh(u.precondition,h))return m;const g=pT(u.fieldTransforms,p,h),v=h.data;return v.setAll(jS(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return Dh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function A2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=VS(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function dT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&xo(s,o,((u,h)=>T2(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Du extends vf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Is extends vf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function jS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function mT(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,v2(h,m,n[o]))}return s}function pT(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,_2(u,h,e))}return s}class ag extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w2 extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class R2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&b2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=OS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=LS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,((n,s)=>dT(n,s)))&&xo(this.baseMutations,e.baseMutations,((n,s)=>dT(n,s)))}}class og{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return d2})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new og(e,n,s,o)}}class C2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class I2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ot,Le;function D2(r){switch(r){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function zS(r){if(r===void 0)return Sr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Ot.OK:return ee.OK;case Ot.CANCELLED:return ee.CANCELLED;case Ot.UNKNOWN:return ee.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ee.INTERNAL;case Ot.UNAVAILABLE:return ee.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ee.NOT_FOUND;case Ot.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ot.ABORTED:return ee.ABORTED;case Ot.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ot.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:r})}}(Le=Ot||(Ot={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function x2(){return new TextEncoder}const N2=new ys([4294967295,4294967295],0);function gT(r){const e=x2().encode(r),n=new tS;return n.update(e),new Uint8Array(n.digest())}function yT(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ys([n,s],0),new ys([o,u],0)]}class lg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ys.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ys.fromNumber(s)));return o.compare(N2)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=gT(e),[s,o]=yT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new lg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=gT(e),[s,o]=yT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ef{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ef(Se.min(),o,new ft(Ve),br(),ke())}}class xu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new xu(s,n,ke(),ke(),ke())}}class xh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class BS{constructor(e,n){this.targetId=e,this.Ce=n}}class qS{constructor(e,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class _T{constructor(){this.ve=0,this.Fe=vT(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new xu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=vT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class O2{constructor(e){this.Ge=e,this.ze=new Map,this.je=br(),this.Je=vh(),this.He=vh(),this.Ye=new ft(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(bp(u))if(s===0){const h=new ge(u.path);this.et(n,h,sn.newNoDocument(h,Se.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Ss(s).toUint8Array()}catch(p){if(p instanceof dS)return Do("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new lg(h,o,u)}catch(p){return Do(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&bp(m.target)){const p=new ge(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,sn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Ef(e,n,this.Ye,this.je,s);return this.je=br(),this.Je=vh(),this.He=vh(),this.Ye=new ft(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new _T,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _T),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function vh(){return new ft(ge.comparator)}function vT(){return new ft(ge.comparator)}const M2={asc:"ASCENDING",desc:"DESCENDING"},V2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k2={and:"AND",or:"OR"};class P2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rp(r,e){return r.useProto3Json||df(e)?e:{value:e}}function Kh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function U2(r,e){return Kh(r,e.toTimestamp())}function zi(r){return Ge(!!r,49232),Se.fromTimestamp((function(n){const s=Ts(n);return new He(s.seconds,s.nanos)})(r))}function ug(r,e){return Cp(r,e).canonicalString()}function Cp(r,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function HS(r){const e=it.fromString(r);return Ge(XS(e),10190,{key:e.toString()}),e}function Ip(r,e){return ug(r.databaseId,e.path)}function Ym(r,e){const n=HS(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(KS(n))}function GS(r,e){return ug(r.databaseId,e)}function L2(r){const e=HS(r);return e.length===4?it.emptyPath():KS(e)}function Dp(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function KS(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ET(r,e,n){return{name:Ip(r,e),fields:n.value.mapValue.fields}}function j2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Ge(v===void 0||typeof v=="string",58123),en.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),en.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const v=g.code===void 0?ee.UNKNOWN:zS(g.code);return new ue(v,g.message||"")})(h);n=new qS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ym(r,s.document.name),u=zi(s.document.updateTime),h=s.document.createTime?zi(s.document.createTime):Se.min(),m=new En({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new xh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ym(r,s.document),u=s.readTime?zi(s.readTime):Se.min(),h=sn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new xh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ym(r,s.document),u=s.removedTargetIds||[];n=new xh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new I2(o,u),m=s.targetId;n=new BS(m,h)}}return n}function z2(r,e){let n;if(e instanceof Du)n={update:ET(r,e.key,e.value)};else if(e instanceof ag)n={delete:Ip(r,e.key)};else if(e instanceof Is)n={update:ET(r,e.key,e.data),updateMask:X2(e.fieldMask)};else{if(!(e instanceof w2))return Ee(16599,{Vt:e.type});n={verify:Ip(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof yu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _u)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Gh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:U2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function B2(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?zi(o.updateTime):zi(u);return h.isEqual(Se.min())&&(h=zi(u)),new S2(h,o.transformResults||[])})(n,e)))):[]}function q2(r,e){return{documents:[GS(r,e.path)]}}function F2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=GS(r,o);const u=(function(g){if(g.length!==0)return YS(ci.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:To(w.field),direction:K2(w.dir)}})(v)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Rp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function H2(r){let e=L2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const w=QS(T);return w instanceof ci&&bS(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((w=>(function(U){return new Hh(So(U.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,df(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,C=T.values||[];return new Fh(C,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,C=T.values||[];return new Fh(C,w)})(n.endAt)),l2(e,o,h,u,m,"F",p,g)}function G2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=So(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=So(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=So(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=So(n.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Mt.create(So(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((s=>QS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function K2(r){return M2[r]}function Q2(r){return V2[r]}function Y2(r){return k2[r]}function To(r){return{fieldPath:r.canonicalString()}}function So(r){return Wt.fromServerFormat(r.fieldPath)}function YS(r){return r instanceof Mt?(function(n){if(n.op==="=="){if(oT(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(aT(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oT(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(aT(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:Q2(n.op),value:n.value}}})(r):r instanceof ci?(function(n){const s=n.getFilters().map((o=>YS(o)));return s.length===1?s[0]:{compositeFilter:{op:Y2(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function X2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function XS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ms{constructor(e,n,s,o,u=Se.min(),h=Se.min(),m=en.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $2{constructor(e){this.yt=e}}function W2(r){const e=H2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?wp(e,e.limit,"L"):e}class J2{constructor(){this.Cn=new Z2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Es.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class Z2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(it.comparator)).toArray()}}const TT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$S=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n($S,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mo(0)}static cr(){return new Mo(-1)}}const ST="LruGarbageCollector",eD=1048576;function bT([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class tD{constructor(e){this.Ir=e,this.buffer=new jt(bT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();bT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(ST,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?ce(ST,"Ignoring IndexedDB error during garbage collection: ",n):await Lo(n)}await this.Vr(3e5)}))}}class iD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(ff.ce);const s=new tD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(TT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),vo()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function rD(r,e){return new iD(r,e)}class sD{constructor(){this.changes=new ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class oD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&lu(s.mutation,o,On.empty(),He.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=ca();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=tu();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ca();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=br();const h=ou(),m=(function(){return ou()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Is)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),lu(v.mutation,g,v.mutation.getFieldMask(),He.now())):h.set(g.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>h.set(g,v))),n.forEach(((g,v)=>m.set(g,new aD(v,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=ou();let o=new ft(((h,m)=>h-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||On.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=OS();v.forEach((w=>{if(!u.has(w)){const C=LS(n.get(w),s.get(w));C!==null&&T.set(w,C),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(ca());let m=du,p=u;return h.next((g=>ne.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{p=p.insert(v,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ke()))).next((v=>({batchId:m,changes:NS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=tu();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(T,w){return new Iu(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((T,w)=>{h=h.insert(T,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,sn.newInvalidDocument(v)))}));let m=tu();return h.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&lu(v.mutation,g,On.empty(),He.now()),yf(n,g)&&(m=m.insert(p,g))})),m}))}}class lD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:W2(o.bundledQuery),readTime:zi(o.readTime)}})(n)),ne.resolve()}}class uD{constructor(){this.overlays=new ft(ge.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ca();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ca(),u=n.length+1,h=new ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ca(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ca(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new C2(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class cD{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class cg{constructor(){this.Qr=new jt(Ft.$r),this.Ur=new jt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ft(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ft(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new it([])),s=new Ft(n,e),o=new Ft(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new it([])),s=new Ft(n,e),o=new Ft(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Ft(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}class hD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt(Ft.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new R2(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Ft(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?eg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ft(n,0),o=new Ft(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(Ve);return n.forEach((o=>{const u=new Ft(o,0),h=new Ft(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Ft(new ge(u),0);let m=new jt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Ft(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ft(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class fD{constructor(e){this.ri=e,this.docs=(function(){return new ft(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let s=br();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=br();const h=n.path,m=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||zI(jI(v),s)<=0||(o.has(v.key)||yf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new dD(this)}getSize(e){return ne.resolve(this.size)}}class dD extends sD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class mD{constructor(e){this.persistence=e,this.si=new ba((n=>ig(n)),rg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new cg,this.targetCount=0,this.ai=Mo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class WS{constructor(e,n){this.ui={},this.overlays={},this.ci=new ff(0),this.li=!1,this.li=!0,this.hi=new cD,this.referenceDelegate=e(this),this.Pi=new mD(this),this.indexManager=new J2,this.remoteDocumentCache=(function(o){return new fD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new $2(n),this.Ii=new lD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new hD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new pD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class pD extends qI{constructor(e){super(),this.currentSequenceNumber=e}}class hg{constructor(e){this.persistence=e,this.Ri=new cg,this.Vi=null}static mi(e){return new hg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Qh{constructor(e,n){this.persistence=e,this.pi=new ba((s=>GI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=rD(this,n)}static mi(e,n){return new Qh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ch(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class fg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new fg(e,n.fromCache,s,o)}}class gD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oC()?8:FI(an())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new gD;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(vo()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(vo()<=Me.DEBUG&&ce("QueryEngine","Query:",Eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(vo()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):ne.resolve())}ys(e,n){if(hT(n))return ne.resolve(null);let s=ji(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=wp(n,null,"F"),s=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=ke(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,wp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return hT(n)||o.isEqual(Se.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(vo()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(n)),this.vs(e,h,n,LI(o,du)).next((m=>m)))}))}Ds(e,n){let s=new jt(DS(e));return n.forEach(((o,u)=>{yf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return vo()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.ps.getDocumentsMatchingQuery(e,n,Es.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const dg="LocalStore",_D=3e8;class vD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Ve),this.xs=new ba((u=>ig(u)),rg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ED(r,e,n,s){return new vD(r,e,n,s)}async function JS(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=ke();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function TD(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,w=T.keys();let C=ne.resolve();return w.forEach((U=>{C=C.next((()=>v.getEntry(p,U))).next((j=>{const V=g.docVersions.get(U);Ge(V!==null,48541),j.version.compareTo(V)<0&&(T.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function ZS(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function SD(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((v,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,T))));let C=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(en.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,s)),o=o.insert(T,C),(function(j,V,X){return j.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=_D?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(w,C,v)&&m.push(n.Pi.updateTargetData(u,C))}));let p=br(),g=ke();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(bD(u,h,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Se.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function bD(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=br();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(dg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function AD(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=eg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function wD(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ms(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function xp(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!jo(h))throw h;ce(dg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function AT(r,e,n){const s=Ae(r);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,v){const T=Ae(p),w=T.xs.get(v);return w!==void 0?ne.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,v)})(s,h,ji(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?u:ke()))).next((m=>(RD(s,c2(e),m),{documents:m,Qs:u})))))}function RD(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class wT{constructor(){this.activeTargetIds=g2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CD{constructor(){this.Mo=new wT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ID{Oo(e){}shutdown(){}}const RT="ConnectivityMonitor";class CT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(RT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(RT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Eh=null;function Np(){return Eh===null?Eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eh++,"0x"+Eh.toString(16)}const Xm="RestConnection",DD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Np(),m=this.zo(e,n.toUriEncodedString());ce(Xm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=Rs(g);return this.Jo(e,m,p,s,v).then((T=>(ce(Xm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Do(Xm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=DD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class ND{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const nn="WebChannelConnection";class OD extends xD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Np();return new Promise(((m,p)=>{const g=new nS;g.setWithCredentials(!0),g.listenOnce(iS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Rh.NO_ERROR:const T=g.getResponseJson();ce(nn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Rh.TIMEOUT:ce(nn,`RPC '${e}' ${h} timed out`),p(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const w=g.getStatus();if(ce(nn,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const U=C?.error;if(U&&U.status&&U.message){const j=(function(X){const Y=X.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Y)>=0?Y:ee.UNKNOWN})(U.status);p(new ue(j,U.message))}else p(new ue(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(nn,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);ce(nn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=Np(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=aS(),m=sS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ce(nn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=h.createWebChannel(v,p);this.I_(T);let w=!1,C=!1;const U=new ND({Yo:V=>{C?ce(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(w||(ce(nn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ce(nn,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Zo:()=>T.close()}),j=(V,X,Y)=>{V.listen(X,(ie=>{try{Y(ie)}catch(le){setTimeout((()=>{throw le}),0)}}))};return j(T,eu.EventType.OPEN,(()=>{C||(ce(nn,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),j(T,eu.EventType.CLOSE,(()=>{C||(C=!0,ce(nn,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(T))})),j(T,eu.EventType.ERROR,(V=>{C||(C=!0,Do(nn,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),U.a_(new ue(ee.UNAVAILABLE,"The operation could not be completed")))})),j(T,eu.EventType.MESSAGE,(V=>{if(!C){const X=V.data[0];Ge(!!X,16349);const Y=X,ie=Y?.error||Y[0]?.error;if(ie){ce(nn,`RPC '${e}' stream ${o} received error:`,ie);const le=ie.status;let me=(function(R){const I=Ot[R];if(I!==void 0)return zS(I)})(le),re=ie.message;me===void 0&&(me=ee.INTERNAL,re="Unknown error status: "+le+" with message "+ie.message),C=!0,U.a_(new ue(me,re)),T.close()}else ce(nn,`RPC '${e}' stream ${o} received:`,X),U.u_(X)}})),j(m,rS.STAT_EVENT,(V=>{V.stat===_p.PROXY?ce(nn,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===_p.NOPROXY&&ce(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function $m(){return typeof document<"u"?document:null}function Tf(r){return new P2(r,!0)}class eb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const IT="PersistentStream";class tb{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(IT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(IT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MD extends tb{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=j2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?zi(h.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Dp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=bp(p)?{documents:q2(u,p)}:{query:F2(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=FS(u,h.resumeToken);const g=Rp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Kh(u,h.snapshotVersion.toTimestamp());const g=Rp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=G2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Dp(this.serializer),n.removeTarget=e,this.q_(n)}}class VD extends tb{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=B2(e.writeResults,e.commitTime),s=zi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Dp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>z2(this.serializer,s)))};this.q_(n)}}class kD{}class PD extends kD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Cp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Cp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ya="RemoteStore";class LD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Aa(this)&&(ce(ya,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await Nu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Sf(g)})(this))}))})),this.Ra=new UD(s,o)}}async function Sf(r){if(Aa(r))for(const e of r.da)await e(!0)}async function Nu(r){for(const e of r.da)await e(!1)}function nb(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yg(n)?gg(n):zo(n).O_()&&pg(n,e))}function mg(r,e){const n=Ae(r),s=zo(n);n.Ia.delete(e),s.O_()&&ib(n,e),n.Ia.size===0&&(s.O_()?s.L_():Aa(n)&&n.Ra.set("Unknown"))}function pg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(r).Y_(e)}function ib(r,e){r.Va.Ue(e),zo(r).Z_(e)}function gg(r){r.Va=new O2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),zo(r).start(),r.Ra.ua()}function yg(r){return Aa(r)&&!zo(r).x_()&&r.Ia.size>0}function Aa(r){return Ae(r).Ea.size===0}function rb(r){r.Va=void 0}async function jD(r){r.Ra.set("Online")}async function zD(r){r.Ia.forEach(((e,n)=>{pg(r,e)}))}async function BD(r,e){rb(r),yg(r)?(r.Ra.ha(e),gg(r)):r.Ra.set("Unknown")}async function qD(r,e,n){if(r.Ra.set("Online"),e instanceof qS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Yh(r,s)}else if(e instanceof xh?r.Va.Ze(e):e instanceof BS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await ZS(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(en.EMPTY_BYTE_STRING,v.snapshotVersion)),ib(u,p);const T=new ms(v.target,p,g,v.sequenceNumber);pg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(ya,"Failed to raise snapshot:",s),await Yh(r,s)}}async function Yh(r,e,n){if(!jo(e))throw e;r.Ea.add(1),await Nu(r),r.Ra.set("Offline"),n||(n=()=>ZS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(ya,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Sf(r)}))}function sb(r,e){return e().catch((n=>Yh(r,n,e)))}async function bf(r){const e=Ae(r),n=As(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:eg;for(;FD(e);)try{const o=await AD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,HD(e,o)}catch(o){await Yh(e,o)}ab(e)&&ob(e)}function FD(r){return Aa(r)&&r.Ta.length<10}function HD(r,e){r.Ta.push(e);const n=As(r);n.O_()&&n.X_&&n.ea(e.mutations)}function ab(r){return Aa(r)&&!As(r).x_()&&r.Ta.length>0}function ob(r){As(r).start()}async function GD(r){As(r).ra()}async function KD(r){const e=As(r);for(const n of r.Ta)e.ea(n.mutations)}async function QD(r,e,n){const s=r.Ta.shift(),o=og.from(s,e,n);await sb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await bf(r)}async function YD(r,e){e&&As(r).X_&&await(async function(s,o){if((function(h){return D2(h)&&h!==ee.ABORTED})(o.code)){const u=s.Ta.shift();As(s).B_(),await sb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await bf(s)}})(r,e),ab(r)&&ob(r)}async function DT(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ce(ya,"RemoteStore received new credentials");const s=Aa(n);n.Ea.add(3),await Nu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sf(n)}async function XD(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Sf(n)):e||(n.Ea.add(2),await Nu(n),n.Ra.set("Unknown"))}function zo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new MD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:jD.bind(null,r),t_:zD.bind(null,r),r_:BD.bind(null,r),H_:qD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),yg(r)?gg(r):r.Ra.set("Unknown")):(await r.ma.stop(),rb(r))}))),r.ma}function As(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new VD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:GD.bind(null,r),r_:YD.bind(null,r),ta:KD.bind(null,r),na:QD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await bf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(ya,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class _g{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new _g(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(r,e){if(Sr("AsyncQueue",`${e}: ${r}`),jo(r))return new ue(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class xT{constructor(){this.ga=new ft(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Vo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Vo(e,n,wo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class $D{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class WD{constructor(){this.queries=NT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=NT(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function NT(){return new ba((r=>IS(r)),gf)}async function Eg(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new $D,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=vg(h,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Sg(n)}async function Tg(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function JD(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Sg(n)}function ZD(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Sg(r){r.Ca.forEach((e=>{e.next()}))}var Op,OT;(OT=Op||(Op={})).Ma="default",OT.Cache="cache";class bg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Op.Cache}}class lb{constructor(e){this.key=e}}class ub{constructor(e){this.key=e}}class ex{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=DS(e),this.tu=new wo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new xT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const w=o.get(v),C=yf(this.query,T)?T:null,U=!!w&&this.mutatedKeys.has(w.key),j=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let V=!1;w&&C?w.data.isEqual(C.data)?U!==j&&(s.track({type:3,doc:C}),V=!0):this.su(w,C)||(s.track({type:2,doc:C}),V=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(m=!0)):!w&&C?(s.track({type:0,doc:C}),V=!0):w&&!C&&(s.track({type:1,doc:w}),V=!0,(p||g)&&(m=!0)),V&&(C?(h=h.add(C),u=j?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,T)=>(function(C,U){const j=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:V})}};return j(C)-j(U)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Vo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new ub(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new lb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ag="SyncEngine";class tx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class nx{constructor(e){this.key=e,this.hu=!1}}class ix{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ba((m=>IS(m)),gf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(ge.comparator),this.Au=new Map,this.Ru=new cg,this.Vu={},this.mu=new Map,this.fu=Mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rx(r,e,n=!0){const s=pb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await cb(s,e,n,!0),o}async function sx(r,e){const n=pb(r);await cb(n,e,!0,!1)}async function cb(r,e,n,s){const o=await wD(r.localStore,ji(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ax(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&nb(r.remoteStore,o),m}async function ax(r,e,n,s,o){r.pu=(T,w,C)=>(async function(j,V,X,Y){let ie=V.view.ru(X);ie.Cs&&(ie=await AT(j.localStore,V.query,!1).then((({documents:D})=>V.view.ru(D,ie))));const le=Y&&Y.targetChanges.get(V.targetId),me=Y&&Y.targetMismatches.get(V.targetId)!=null,re=V.view.applyChanges(ie,j.isPrimaryClient,le,me);return VT(j,V.targetId,re.au),re.snapshot})(r,T,w,C);const u=await AT(r.localStore,e,!0),h=new ex(e,u.Qs),m=h.ru(u.documents),p=xu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);VT(r,n,g.au);const v=new tx(e,n,h);return r.Tu.set(e,v),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function ox(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!gf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await xp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&mg(s.remoteStore,o.targetId),Mp(s,o.targetId)})).catch(Lo)):(Mp(s,o.targetId),await xp(s.localStore,o.targetId,!0))}async function lx(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),mg(n.remoteStore,s.targetId))}async function ux(r,e,n){const s=gx(r);try{const o=await(function(h,m){const p=Ae(h),g=He.now(),v=m.reduce(((C,U)=>C.add(U.key)),ke());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let U=br(),j=ke();return p.Ns.getEntries(C,v).next((V=>{U=V,U.forEach(((X,Y)=>{Y.isValidDocument()||(j=j.add(X))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,U))).next((V=>{T=V;const X=[];for(const Y of m){const ie=A2(Y,T.get(Y.key).overlayedDocument);ie!=null&&X.push(new Is(Y.key,ie,ES(ie.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,X,m)})).next((V=>{w=V;const X=V.applyToLocalDocumentSet(T,j);return p.documentOverlayCache.saveOverlays(C,V.batchId,X)}))})).then((()=>({batchId:w.batchId,changes:NS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ft(Ve)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Ou(s,o.changes),await bf(s.remoteStore)}catch(o){const u=vg(o,"Failed to persist write");n.reject(u)}}async function hb(r,e){const n=Ae(r);try{const s=await SD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await Ou(n,s,e)}catch(s){await Lo(s)}}function MT(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&Sg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function cx(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ft(ge.comparator);h=h.insert(u,sn.newNoDocument(u,Se.min()));const m=ke().add(u),p=new Ef(Se.min(),new Map,new ft(Ve),h,m);await hb(s,p),s.du=s.du.remove(u),s.Au.delete(e),wg(s)}else await xp(s.localStore,e,!1).then((()=>Mp(s,e,n))).catch(Lo)}async function hx(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await TD(n.localStore,e);db(n,s,null),fb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(n,o)}catch(o){await Lo(o)}}async function fx(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ge(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);db(s,e,n),fb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ou(s,o)}catch(o){await Lo(o)}}function fb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function db(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Mp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||mb(r,s)}))}function mb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(mg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),wg(r))}function VT(r,e,n){for(const s of n)s instanceof lb?(r.Ru.addReference(s.key,e),dx(r,s)):s instanceof ub?(ce(Ag,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||mb(r,s.key)):Ee(19791,{wu:s})}function dx(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(Ag,"New document in limbo: "+n),r.Eu.add(s),wg(r))}function wg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(it.fromString(e)),s=r.fu.next();r.Au.set(s,new nx(n)),r.du=r.du.insert(n,s),nb(r.remoteStore,new ms(ji(pf(n.path)),s,"TargetPurposeLimboResolution",ff.ce))}}async function Ou(r,e,n){const s=Ae(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=fg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const v=Ae(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(w=>ne.forEach(w.Es,(C=>v.persistence.referenceDelegate.addReference(T,w.targetId,C))).next((()=>ne.forEach(w.ds,(C=>v.persistence.referenceDelegate.removeReference(T,w.targetId,C)))))))))}catch(T){if(!jo(T))throw T;ce(dg,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const C=v.Ms.get(w),U=C.snapshotVersion,j=C.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(w,j)}}})(s.localStore,u))}async function mx(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ce(Ag,"User change. New user:",e.toKey());const s=await JS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ue(ee.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ou(n,s.Ls)}}function px(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function pb(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=hb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=px.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cx.bind(null,e),e.Pu.H_=JD.bind(null,e.eventManager),e.Pu.yu=ZD.bind(null,e.eventManager),e}function gx(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fx.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ED(this.persistence,new yD,e.initialUser,this.serializer)}Cu(e){return new WS(hg.mi,this.serializer)}Du(e){return new CD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class yx extends Xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new nD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new WS((s=>Qh.mi(s,n)),this.serializer)}}class Vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>MT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mx.bind(null,this.syncEngine),await XD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new WD})()}createDatastore(e){const n=Tf(e.databaseInfo.databaseId),s=(function(u){return new OD(u)})(e.databaseInfo);return(function(u,h,m,p){return new PD(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new LD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>MT(this.syncEngine,n,0)),(function(){return CT.v()?new CT:new ID})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,v){const T=new ix(o,u,h,m,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);ce(ya,"RemoteStore shutting down."),s.Ea.add(5),await Nu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vp.provider={build:()=>new Vp};class Rg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ws="FirestoreClient";class _x{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ce(ws,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(ws,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=vg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Wm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(ws,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await JS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function kT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await vx(r);ce(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>DT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>DT(e.remoteStore,o))),r._onlineComponents=e}async function vx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(ws,"Using user provided OfflineComponentProvider");try{await Wm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await Wm(r,new Xh)}}else ce(ws,"Using default OfflineComponentProvider"),await Wm(r,new yx(void 0));return r._offlineComponents}async function gb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(ws,"Using user provided OnlineComponentProvider"),await kT(r,r._uninitializedComponentsProvider._online)):(ce(ws,"Using default OnlineComponentProvider"),await kT(r,new Vp))),r._onlineComponents}function Ex(r){return gb(r).then((e=>e.syncEngine))}async function $h(r){const e=await gb(r),n=e.eventManager;return n.onListen=rx.bind(null,e.syncEngine),n.onUnlisten=ox.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lx.bind(null,e.syncEngine),n}function Tx(r,e,n={}){const s=new yr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new Rg({next:w=>{v.Nu(),h.enqueueAndForget((()=>Tg(u,T)));const C=w.docs.has(m);!C&&w.fromCache?g.reject(new ue(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&p&&p.source==="server"?g.reject(new ue(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new bg(pf(m.path),v,{includeMetadataChanges:!0,qa:!0});return Eg(u,T)})(await $h(r),r.asyncQueue,e,n,s))),s.promise}function Sx(r,e,n={}){const s=new yr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new Rg({next:w=>{v.Nu(),h.enqueueAndForget((()=>Tg(u,T))),w.fromCache&&p.source==="server"?g.reject(new ue(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new bg(m,v,{includeMetadataChanges:!0,qa:!0});return Eg(u,T)})(await $h(r),r.asyncQueue,e,n,s))),s.promise}function yb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const PT=new Map;const _b="firestore.googleapis.com",UT=!0;class LT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_b,this.ssl=UT}else this.host=e.host,this.ssl=e.ssl??UT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$S;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eD)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Af{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new CI;switch(s.type){case"firstParty":return new NI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=PT.get(n);s&&(ce("ComponentProvider","Removing Datastore"),PT.delete(n),s.terminate())})(this),Promise.resolve()}}function bx(r,e,n,s={}){r=Tn(r,Af);const o=Rs(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Qp(`https://${m}`),Yp("Firestore",!0)),u.host!==_b&&u.host!==m&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ma(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=rn.MOCK_USER;else{g=X0(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new rn(T)}r._authCredentials=new II(new lS(g,v))}}class wa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Cu(n,gt._jsonSchema))return new gt(e,s||null,new ge(it.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Vt("string",gt._jsonSchemaVersion),referencePath:Vt("string")};class _s extends wa{constructor(e,n,s){super(e,n,pf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new ge(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function kt(r,e,...n){if(r=ct(r),uS("collection","path",e),r instanceof Af){const s=it.fromString(e,...n);return WE(s),new _s(r,null,s)}{if(!(r instanceof gt||r instanceof _s))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return WE(s),new _s(r.firestore,null,s)}}function Ds(r,e,...n){if(r=ct(r),arguments.length===1&&(e=Zp.newId()),uS("doc","path",e),r instanceof Af){const s=it.fromString(e,...n);return $E(s),new gt(r,null,new ge(s))}{if(!(r instanceof gt||r instanceof _s))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return $E(s),new gt(r.firestore,r instanceof _s?r.converter:null,new ge(s))}}const jT="AsyncQueue";class zT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eb(this,"async_queue_retry"),this._c=()=>{const s=$m();s&&ce(jT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=$m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;ce(jT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Sr("INTERNAL UNHANDLED ERROR: ",BT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=_g.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:BT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function BT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function qT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Ar extends Af{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new zT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zT(e),this._firestoreClient=void 0,await e}}}function Ax(r,e){const n=typeof r=="object"?r:Wp(),s=typeof r=="string"?r:Bh,o=cf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=K0("firestore");u&&bx(o,...u)}return o}function wf(r){if(r._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wx(r),r._firestoreClient}function wx(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new YI(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,yb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new _x(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(en.fromBase64String(e))}catch(n){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Vt("string",Yn._jsonSchemaVersion),bytes:Vt("string")};class Rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cf{constructor(e){this._methodName=e}}class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Vt("string",Bi._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class qi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qi(e.vectorValues);throw new ue(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Vt("string",qi._jsonSchemaVersion),vectorValues:Vt("object")};const Rx=/^__.*__$/;class Cx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Du(e,this.data,n,this.fieldTransforms)}}class vb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Eb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class Cg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Eb(this.Ac)&&Rx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ix{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Tf(e)}Cc(e,n,s,o=!1){return new Cg({Ac:e,methodName:n,Dc:s,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function If(r){const e=r._freezeSettings(),n=Tf(r._databaseId);return new Ix(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Tb(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Dg("Data must be an object, but it was:",h,s);const m=Sb(s,h);let p,g;if(u.merge)p=new On(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const w=kp(e,T,n);if(!h.contains(w))throw new ue(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Ab(v,w)||v.push(w)}p=new On(v),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new Cx(new En(m),p,g)}class Df extends Cf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Df}}class Ig extends Cf{_toFieldTransform(e){return new E2(e.path,new yu)}isEqual(e){return e instanceof Ig}}function Dx(r,e,n,s){const o=r.Cc(1,e,n);Dg("Data must be an object, but it was:",o,s);const u=[],h=En.empty();Cs(s,((p,g)=>{const v=xg(e,p,n);g=ct(g);const T=o.yc(v);if(g instanceof Df)u.push(v);else{const w=Mu(g,T);w!=null&&(u.push(v),h.set(v,w))}}));const m=new On(u);return new vb(h,m,o.fieldTransforms)}function xx(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[kp(e,s,n)],p=[o];if(u.length%2!=0)throw new ue(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(kp(e,u[w])),p.push(u[w+1]);const g=[],v=En.empty();for(let w=m.length-1;w>=0;--w)if(!Ab(g,m[w])){const C=m[w];let U=p[w];U=ct(U);const j=h.yc(C);if(U instanceof Df)g.push(C);else{const V=Mu(U,j);V!=null&&(g.push(C),v.set(C,V))}}const T=new On(g);return new vb(v,T,h.fieldTransforms)}function Nx(r,e,n,s=!1){return Mu(n,r.Cc(s?4:3,e))}function Mu(r,e){if(bb(r=ct(r)))return Dg("Unsupported field value:",e,r),Sb(r,e);if(r instanceof Cf)return(function(s,o){if(!Eb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Mu(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=ct(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return y2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=He.fromDate(s);return{timestampValue:Kh(o.serializer,u)}}if(s instanceof He){const u=new He(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kh(o.serializer,u)}}if(s instanceof Bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yn)return{bytesValue:FS(o.serializer,s._byteString)};if(s instanceof gt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ug(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qi)return(function(h,m){return{mapValue:{fields:{[_S]:{stringValue:vS},[qh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return sg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${hf(s)}`)})(r,e)}function Sb(r,e){const n={};return fS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(r,((s,o)=>{const u=Mu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function bb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof He||r instanceof Bi||r instanceof Yn||r instanceof gt||r instanceof Cf||r instanceof qi)}function Dg(r,e,n){if(!bb(n)||!cS(n)){const s=hf(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function kp(r,e,n){if((e=ct(e))instanceof Rf)return e._internalPath;if(typeof e=="string")return xg(r,e);throw Wh("Field path arguments must be of type string or ",r,!1,void 0,n)}const Ox=new RegExp("[~\\*/\\[\\]]");function xg(r,e,n){if(e.search(Ox)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Rf(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Wh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ue(ee.INVALID_ARGUMENT,m+r+p)}function Ab(r,e){return r.some((n=>n.isEqual(e)))}class wb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Mx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ng("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Mx extends wb{data(){return super.data()}}function Ng(r,e){return typeof e=="string"?xg(r,e):e instanceof Rf?e._internalPath:e._delegate._internalPath}function Rb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class Vx extends Og{}function $n(r,e,...n){let s=[];e instanceof Og&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Mg)).length,m=u.filter((p=>p instanceof xf)).length;if(h>1||h>0&&m>0)throw new ue(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class xf extends Vx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new xf(e,n,s)}_apply(e){const n=this._parse(e);return Cb(e._query,n),new wa(e.firestore,e.converter,Ap(e._query,n))}_parse(e){const n=If(e.firestore);return(function(u,h,m,p,g,v,T){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){HT(T,v);const U=[];for(const j of T)U.push(FT(p,u,j));w={arrayValue:{values:U}}}else w=FT(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||HT(T,v),w=Nx(m,h,T,v==="in"||v==="not-in");return Mt.create(g,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Jt(r,e,n){const s=e,o=Ng("where",r);return xf._create(o,s,n)}class Mg extends Og{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Mg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Cb(h,p),h=Ap(h,p)})(e._query,n),new wa(e.firestore,e.converter,Ap(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function FT(r,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CS(e)&&n.indexOf("/")!==-1)throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ge.isDocumentKey(s))throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return sT(r,new ge(s))}if(n instanceof gt)return sT(r,n._key);throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function HT(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Cb(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kx{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Cs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[qh].arrayValue?.values?.map((s=>St(s.doubleValue)));return new qi(n)}convertGeoPoint(e){return new Bi(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=mf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ge(XS(s),9688,{name:e});const o=new pu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||Sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Ib(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends wb{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ng("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Vt("string",ha._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Nh extends ha{data(e={}){return super.data(e)}}class fa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Nh(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:Px(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Px(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function Db(r){r=Tn(r,gt);const e=Tn(r.firestore,Ar);return Tx(wf(e),r._key).then((n=>xb(e,r,n)))}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:Vt("string",fa._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Vg extends kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function Vn(r){r=Tn(r,wa);const e=Tn(r.firestore,Ar),n=wf(e),s=new Vg(e);return Rb(r._query),Sx(n,r._query).then((o=>new fa(e,s,r,o)))}function kg(r,e,n){r=Tn(r,gt);const s=Tn(r.firestore,Ar),o=Ib(r.converter,e);return Nf(s,[Tb(If(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Xn.none())])}function Ux(r,e,n,...s){r=Tn(r,gt);const o=Tn(r.firestore,Ar),u=If(o);let h;return h=typeof(e=ct(e))=="string"||e instanceof Rf?xx(u,"updateDoc",r._key,e,n,s):Dx(u,"updateDoc",r._key,e),Nf(o,[h.toMutation(r._key,Xn.exists(!0))])}function Lx(r){return Nf(Tn(r.firestore,Ar),[new ag(r._key,Xn.none())])}function Bo(r,e){const n=Tn(r.firestore,Ar),s=Ds(r),o=Ib(r.converter,e);return Nf(n,[Tb(If(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then((()=>s))}function jx(r,...e){r=ct(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||qT(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(qT(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(r instanceof gt)h=Tn(r.firestore,Ar),m=pf(r._key.path),u={next:p=>{e[s]&&e[s](xb(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Tn(r,wa);h=Tn(p.firestore,Ar),m=p._query;const g=new Vg(h);u={next:v=>{e[s]&&e[s](new fa(h,g,p,v))},error:e[s+1],complete:e[s+2]},Rb(r._query)}return(function(g,v,T,w){const C=new Rg(w),U=new bg(v,C,T);return g.asyncQueue.enqueueAndForget((async()=>Eg(await $h(g),U))),()=>{C.Nu(),g.asyncQueue.enqueueAndForget((async()=>Tg(await $h(g),U)))}})(wf(h),m,o,u)}function Nf(r,e){return(function(s,o){const u=new yr;return s.asyncQueue.enqueueAndForget((async()=>ux(await Ex(s),o,u))),u.promise})(wf(r),e)}function xb(r,e,n){const s=n.docs.get(e._key),o=new Vg(r);return new ha(r,o,e._key,s,new iu(n.hasPendingWrites,n.fromCache),e.converter)}function Pg(){return new Ig("serverTimestamp")}(function(e,n=!0){(function(o){Uo=o})(Sa),pa(new vs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ar(new DI(s.getProvider("auth-internal")),new OI(h,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,v)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Li(KE,QE,e),Li(KE,QE,"esm2020")})();function Nb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zx=Nb,Ob=new wu("auth","Firebase",Nb());const Jh=new Xp("@firebase/auth");function Bx(r,...e){Jh.logLevel<=Me.WARN&&Jh.warn(`Auth (${Sa}): ${r}`,...e)}function Oh(r,...e){Jh.logLevel<=Me.ERROR&&Jh.error(`Auth (${Sa}): ${r}`,...e)}function hi(r,...e){throw Ug(r,...e)}function Fi(r,...e){return Ug(r,...e)}function Mb(r,e,n){const s={...zx(),[e]:n};return new wu("auth","Firebase",s).create(e,{appName:r.name})}function _r(r){return Mb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ug(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Ob.create(r,...e)}function ve(r,e,...n){if(!r)throw Ug(e,...n)}function mr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oh(e),new Error(e)}function wr(r,e){r||mr(e)}function Pp(){return typeof self<"u"&&self.location?.href||""}function qx(){return GT()==="http:"||GT()==="https:"}function GT(){return typeof self<"u"&&self.location?.protocol||null}function Fx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qx()||rC()||"connection"in navigator)?navigator.onLine:!0}function Hx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,wr(n>e,"Short delay should be less than long delay!"),this.isMobile=tC()||sC()}get(){return Fx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lg(r,e){wr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Vb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Gx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Kx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qx=new Vu(3e4,6e4);function Cr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ir(r,e,n,s,o={}){return kb(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Ru({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return iC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Rs(r.emulatorConfig.host)&&(g.credentials="include"),Vb.fetch()(await Pb(r,r.config.apiHost,n,m),g)})}async function kb(r,e,n){r._canInitEmulator=!1;const s={...Gx,...e};try{const o=new Xx(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Th(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Th(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Th(r,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Mb(r,v,g);hi(r,v)}}catch(o){if(o instanceof Yi)throw o;hi(r,"network-request-failed",{message:String(o)})}}async function ku(r,e,n,s,o={}){const u=await Ir(r,e,n,s,o);return"mfaPendingCredential"in u&&hi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Pb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Lg(r.config,o):`${r.config.apiScheme}://${o}`;return Kx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function Yx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Fi(this.auth,"network-request-failed")),Qx.get())})}}function Th(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Fi(r,e,s);return o.customData._tokenResponse=n,o}function KT(r){return r!==void 0&&r.enterprise!==void 0}class $x{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Yx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Wx(r,e){return Ir(r,"GET","/v2/recaptchaConfig",Cr(r,e))}async function Jx(r,e){return Ir(r,"POST","/v1/accounts:delete",e)}async function Zh(r,e){return Ir(r,"POST","/v1/accounts:lookup",e)}function uu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Zx(r,e=!1){const n=ct(r),s=await n.getIdToken(e),o=jg(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:uu(Jm(o.auth_time)),issuedAtTime:uu(Jm(o.iat)),expirationTime:uu(Jm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Jm(r){return Number(r)*1e3}function jg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=H0(n);return o?JSON.parse(o):(Oh("Failed to decode base64 JWT payload"),null)}catch(o){return Oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function QT(r){const e=jg(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Eu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Yi&&eN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function eN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class tN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Up{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ef(r){const e=r.auth,n=await r.getIdToken(),s=await Eu(r,Zh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Ub(o.providerUserInfo):[],h=iN(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Up(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function nN(r){const e=ct(r);await ef(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Ub(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function rN(r,e){const n=await kb(r,{},async()=>{const s=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await Pb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Rs(r.emulatorConfig.host)&&(p.credentials="include"),Vb.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sN(r,e){return Ir(r,"POST","/v2/accounts:revokeToken",Cr(r,e))}class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=QT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await rN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Ro;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return mr("not implemented")}}function ls(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new tN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Up(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Zx(this,e)}reload(){return nN(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ef(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(_r(this.auth));const e=await this.getIdToken();return await Eu(this,Jx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:C,providerData:U,stsTokenManager:j}=n;ve(T&&j,e,"internal-error");const V=Ro.fromJSON(this.name,j);ve(typeof T=="string",e,"internal-error"),ls(s,e.name),ls(o,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof C=="boolean",e,"internal-error"),ls(u,e.name),ls(h,e.name),ls(m,e.name),ls(p,e.name),ls(g,e.name),ls(v,e.name);const X=new ui({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:C,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:V,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&(X.providerData=U.map(Y=>({...Y}))),p&&(X._redirectEventId=p),X}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ro;o.updateFromServerResponse(n);const u=new ui({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ef(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Ub(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Ro;m.updateFromIdToken(s);const p=new ui({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Up(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const YT=new Map;function pr(r){wr(r instanceof Function,"Expected a class definition");let e=YT.get(r);return e?(wr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,YT.set(r,e),e)}class Lb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Lb.type="NONE";const XT=Lb;function Mh(r,e,n){return`firebase:${r}:${e}:${n}`}class Co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Mh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zh(this.auth,{idToken:e}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Co(pr(XT),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||pr(XT);const h=Mh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let T;if(typeof v=="string"){const w=await Zh(e,{idToken:v}).catch(()=>{});if(!w)break;T=await ui._fromGetAccountInfoResponse(e,w,v)}else T=ui._fromJSON(e,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Co(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Co(u,e,s))}}function $T(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hb(e))return"Blackberry";if(Gb(e))return"Webos";if(zb(e))return"Safari";if((e.includes("chrome/")||Bb(e))&&!e.includes("edge/"))return"Chrome";if(Fb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function jb(r=an()){return/firefox\//i.test(r)}function zb(r=an()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bb(r=an()){return/crios\//i.test(r)}function qb(r=an()){return/iemobile/i.test(r)}function Fb(r=an()){return/android/i.test(r)}function Hb(r=an()){return/blackberry/i.test(r)}function Gb(r=an()){return/webos/i.test(r)}function zg(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function aN(r=an()){return zg(r)&&!!window.navigator?.standalone}function oN(){return aC()&&document.documentMode===10}function Kb(r=an()){return zg(r)||Fb(r)||Gb(r)||Hb(r)||/windows phone/i.test(r)||qb(r)}function Qb(r,e=[]){let n;switch(r){case"Browser":n=$T(an());break;case"Worker":n=`${$T(an())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sa}/${s}`}class lN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function uN(r,e={}){return Ir(r,"GET","/v2/passwordPolicy",Cr(r,e))}const cN=6;class hN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class fN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WT(this),this.idTokenSubscription=new WT(this),this.beforeStateQueue=new lN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ob,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zh(this,{idToken:e}),s=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Nn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ef(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Hx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(_r(this));const n=e?ct(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uN(this),n=new hN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await sN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Bx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ra(r){return ct(r)}class WT{constructor(e){this.auth=e,this.observer=null,this.addObserver=mC(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dN(r){Of=r}function Yb(r){return Of.loadJS(r)}function mN(){return Of.recaptchaEnterpriseScript}function pN(){return Of.gapiScript}function gN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class yN{constructor(){this.enterprise=new _N}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _N{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const vN="recaptcha-enterprise",Xb="NO_RECAPTCHA";class EN{constructor(e){this.type=vN,this.auth=Ra(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{Wx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new $x(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;KT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(Xb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yN().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&KT(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=mN();p.length!==0&&(p+=m),Yb(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function JT(r,e,n,s=!1,o=!1){const u=new EN(r);let h;if(o)h=Xb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Lp(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await JT(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await JT(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function TN(r,e){const n=cf(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ma(u,e??{}))return o;hi(o,"already-initialized")}return n.initialize({options:e})}function SN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(pr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function bN(r,e,n){const s=Ra(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=$b(e),{host:h,port:m}=AN(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ma(g,s.config.emulator)&&ma(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Rs(h)?(Qp(`${u}//${h}${p}`),Yp("Auth",!0)):wN()}function $b(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function AN(r){const e=$b(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:ZT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:ZT(h)}}}function ZT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function wN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Bg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}async function RN(r,e){return Ir(r,"POST","/v1/accounts:signUp",e)}async function CN(r,e){return ku(r,"POST","/v1/accounts:signInWithPassword",Cr(r,e))}async function IN(r,e){return Ir(r,"POST","/v1/accounts:sendOobCode",Cr(r,e))}async function DN(r,e){return IN(r,e)}async function xN(r,e){return ku(r,"POST","/v1/accounts:signInWithEmailLink",Cr(r,e))}async function NN(r,e){return ku(r,"POST","/v1/accounts:signInWithEmailLink",Cr(r,e))}class Tu extends Bg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Tu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Tu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,n,"signInWithPassword",CN);case"emailLink":return xN(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,s,"signUpPassword",RN);case"emailLink":return NN(e,{idToken:n,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Io(r,e){return ku(r,"POST","/v1/accounts:signInWithIdp",Cr(r,e))}const ON="http://localhost";class _a extends Bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new _a(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Io(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Io(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Io(e,n)}buildRequest(){const e={requestUri:ON,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}function MN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VN(r){const e=Jl(Zl(r)).link,n=e?Jl(Zl(e)).deep_link_id:null,s=Jl(Zl(r)).deep_link_id;return(s?Jl(Zl(s)).link:null)||s||n||e||r}class qg{constructor(e){const n=Jl(Zl(e)),s=n.apiKey??null,o=n.oobCode??null,u=MN(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=VN(e);try{return new qg(n)}catch{return null}}}class qo{constructor(){this.providerId=qo.PROVIDER_ID}static credential(e,n){return Tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=qg.parseLink(n);return ve(s,"argument-error"),Tu._fromEmailAndCode(e,s.code,s.tenantId)}}qo.PROVIDER_ID="password";qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Wb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Pu extends Wb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class us extends Pu{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";class cs extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _a._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return cs.credential(n,s)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";class hs extends Pu{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";class fs extends Pu{constructor(){super("twitter.com")}static credential(e,n){return _a._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return fs.credential(n,s)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";async function kN(r,e){return ku(r,"POST","/v1/accounts:signUp",Cr(r,e))}class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ui._fromIdTokenResponse(e,s,o),h=e0(s);return new va({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=e0(s);return new va({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function e0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class tf extends Yi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,tf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new tf(e,n,s,o)}}function Jb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?tf._fromErrorAndOperation(r,u,e,s):u})}async function PN(r,e,n=!1){const s=await Eu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return va._forOperation(r,"link",s)}async function UN(r,e,n=!1){const{auth:s}=r;if(Nn(s.app))return Promise.reject(_r(s));const o="reauthenticate";try{const u=await Eu(r,Jb(s,o,e,r),n);ve(u.idToken,s,"internal-error");const h=jg(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(r.uid===m,s,"user-mismatch"),va._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&hi(s,"user-mismatch"),u}}async function Zb(r,e,n=!1){if(Nn(r.app))return Promise.reject(_r(r));const s="signIn",o=await Jb(r,s,e),u=await va._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function LN(r,e){return Zb(Ra(r),e)}async function eA(r){const e=Ra(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Fg(r,e,n){if(Nn(r.app))return Promise.reject(_r(r));const s=Ra(r),h=await Lp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&eA(r),p}),m=await va._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function jN(r,e,n){return Nn(r.app)?Promise.reject(_r(r)):LN(ct(r),qo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&eA(r),s})}async function tA(r,e){const n=ct(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await DN(n.auth,o);u!==r.email&&await r.reload()}function zN(r,e,n,s){return ct(r).onIdTokenChanged(e,n,s)}function BN(r,e,n){return ct(r).beforeAuthStateChanged(e,n)}function qN(r,e,n,s){return ct(r).onAuthStateChanged(e,n,s)}function FN(r){return ct(r).signOut()}const nf="__sak";class nA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const HN=1e3,GN=10;class iA extends nA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);oN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,GN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},HN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iA.type="LOCAL";const KN=iA;class rA extends nA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rA.type="SESSION";const sA=rA;function QN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Mf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await QN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mf.receivers=[];function Hg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class YN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Hg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Hi(){return window}function XN(r){Hi().location.href=r}function aA(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function $N(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WN(){return navigator?.serviceWorker?.controller||null}function JN(){return aA()?self:null}const oA="firebaseLocalStorageDb",ZN=1,rf="firebaseLocalStorage",lA="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vf(r,e){return r.transaction([rf],e?"readwrite":"readonly").objectStore(rf)}function eO(){const r=indexedDB.deleteDatabase(oA);return new Uu(r).toPromise()}function jp(){const r=indexedDB.open(oA,ZN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(rf,{keyPath:lA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(rf)?e(s):(s.close(),await eO(),e(await jp()))})})}async function t0(r,e,n){const s=Vf(r,!0).put({[lA]:e,value:n});return new Uu(s).toPromise()}async function tO(r,e){const n=Vf(r,!1).get(e),s=await new Uu(n).toPromise();return s===void 0?null:s.value}function n0(r,e){const n=Vf(r,!0).delete(e);return new Uu(n).toPromise()}const nO=800,iO=3;class uA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>iO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mf._getInstance(JN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $N(),!this.activeServiceWorker)return;this.sender=new YN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await t0(e,nf,"1"),await n0(e,nf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>t0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>tO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>n0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Vf(o,!1).getAll();return new Uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uA.type="LOCAL";const rO=uA;new Vu(3e4,6e4);function sO(r,e){return e?pr(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Gg extends Bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aO(r){return Zb(r.auth,new Gg(r),r.bypassAuthState)}function oO(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),UN(n,new Gg(r),r.bypassAuthState)}async function lO(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),PN(n,new Gg(r),r.bypassAuthState)}class cA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aO;case"linkViaPopup":case"linkViaRedirect":return lO;case"reauthViaPopup":case"reauthViaRedirect":return oO;default:hi(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uO=new Vu(2e3,1e4);class Ao extends cA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=Hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uO.get())};e()}}Ao.currentPopupAction=null;const cO="pendingRedirect",Vh=new Map;class hO extends cA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Vh.get(this.auth._key());if(!e){try{const s=await fO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Vh.set(this.auth._key(),e)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fO(r,e){const n=pO(e),s=mO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function dO(r,e){Vh.set(r._key(),e)}function mO(r){return pr(r._redirectPersistence)}function pO(r){return Mh(cO,r.config.apiKey,r.name)}async function gO(r,e,n=!1){if(Nn(r.app))return Promise.reject(_r(r));const s=Ra(r),o=sO(s,e),h=await new hO(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const yO=600*1e3;class _O{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!hA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Fi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yO&&this.cachedEventUids.clear(),this.cachedEventUids.has(i0(e))}saveEventToCache(e){this.cachedEventUids.add(i0(e)),this.lastProcessedEventTime=Date.now()}}function i0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function hA({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function vO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hA(r);default:return!1}}async function EO(r,e={}){return Ir(r,"GET","/v1/projects",e)}const TO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SO=/^https?/;async function bO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await EO(r);for(const n of e)try{if(AO(n))return}catch{}hi(r,"unauthorized-domain")}function AO(r){const e=Pp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!SO.test(n))return!1;if(TO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const wO=new Vu(3e4,6e4);function r0(){const r=Hi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function RO(r){return new Promise((e,n)=>{function s(){r0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r0(),n(Fi(r,"network-request-failed"))},timeout:wO.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)s();else{const o=gN("iframefcb");return Hi()[o]=()=>{gapi.load?s():n(Fi(r,"network-request-failed"))},Yb(`${pN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw kh=null,e})}let kh=null;function CO(r){return kh=kh||RO(r),kh}const IO=new Vu(5e3,15e3),DO="__/auth/iframe",xO="emulator/auth/iframe",NO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MO(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Lg(e,xO):`https://${r.config.authDomain}/${DO}`,s={apiKey:e.apiKey,appName:r.name,v:Sa},o=OO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ru(s).slice(1)}`}async function VO(r){const e=await CO(r),n=Hi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:MO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Fi(r,"network-request-failed"),m=Hi().setTimeout(()=>{u(h)},IO.get());function p(){Hi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const kO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PO=500,UO=600,LO="_blank",jO="http://localhost";class s0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zO(r,e,n,s=PO,o=UO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...kO,width:s.toString(),height:o.toString(),top:u,left:h},g=an().toLowerCase();n&&(m=Bb(g)?LO:n),jb(g)&&(e=e||jO,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[C,U])=>`${w}${C}=${U},`,"");if(aN(g)&&m!=="_self")return BO(e||"",m),new s0(null);const T=window.open(e||"",m,v);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new s0(T)}function BO(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const qO="__/auth/handler",FO="emulator/auth/handler",HO=encodeURIComponent("fac");async function a0(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Sa,eventId:o};if(e instanceof Wb){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",dC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(e instanceof Pu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${HO}=${encodeURIComponent(p)}`:"";return`${GO(r)}?${Ru(m).slice(1)}${g}`}function GO({config:r}){return r.emulator?Lg(r,FO):`https://${r.authDomain}/${qO}`}const Zm="webStorageSupport";class KO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sA,this._completeRedirectFn=gO,this._overrideRedirectResult=dO}async _openPopup(e,n,s,o){wr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await a0(e,n,s,Pp(),o);return zO(e,u,Hg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await a0(e,n,s,Pp(),o);return XN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(wr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await VO(e),s=new _O(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zm,{type:Zm},o=>{const u=o?.[0]?.[Zm];u!==void 0&&n(!!u),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kb()||zb()||zg()}}const QO=KO;var o0="@firebase/auth",l0="1.11.1";class YO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $O(r){pa(new vs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qb(r)},g=new fN(s,o,u,p);return SN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),pa(new vs("auth-internal",e=>{const n=Ra(e.getProvider("auth").getImmediate());return(s=>new YO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(o0,l0,XO(r)),Li(o0,l0,"esm2020")}const WO=300,JO=Y0("authIdTokenMaxAge")||WO;let u0=null;const ZO=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>JO)return;const o=n?.token;u0!==o&&(u0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eM(r=Wp()){const e=cf(r,"auth");if(e.isInitialized())return e.getImmediate();const n=TN(r,{popupRedirectResolver:QO,persistence:[rO,KN,sA]}),s=Y0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=ZO(u.toString());BN(n,h,()=>h(n.currentUser)),zN(n,m=>h(m))}}const o=G0("auth");return o&&bN(n,`http://${o}`),n}function tM(){return document.getElementsByTagName("head")?.[0]??document}dN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Fi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",tM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$O("Browser");const fA="firebasestorage.googleapis.com",dA="storageBucket",nM=120*1e3,iM=600*1e3,rM=1e3;class dt extends Yi{constructor(e,n,s=0){super(ep(e),`Firebase Storage: ${n} (${ep(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ep(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var at;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(at||(at={}));function ep(r){return"storage/"+r}function Kg(){const r="An unknown error occurred, please check the error payload for server response.";return new dt(at.UNKNOWN,r)}function sM(r){return new dt(at.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function aM(r){return new dt(at.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function oM(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(at.UNAUTHENTICATED,r)}function lM(){return new dt(at.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uM(r){return new dt(at.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function mA(){return new dt(at.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pA(){return new dt(at.CANCELED,"User canceled the upload/download.")}function cM(r){return new dt(at.INVALID_URL,"Invalid URL '"+r+"'.")}function hM(r){return new dt(at.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function fM(){return new dt(at.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dA+"' property when initializing the app?")}function gA(){return new dt(at.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function dM(){return new dt(at.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function mM(){return new dt(at.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function pM(r){return new dt(at.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zp(r){return new dt(at.INVALID_ARGUMENT,r)}function yA(){return new dt(at.APP_DELETED,"The Firebase app was deleted.")}function gM(r){return new dt(at.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cu(r,e){return new dt(at.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Wl(r){throw new dt(at.INTERNAL_ERROR,"Internal error: "+r)}class Mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Mn.makeFromUrl(e,n)}catch{return new Mn(e,"")}if(s.path==="")return s;throw hM(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(le){le.path_=decodeURIComponent(le.path)}const v="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",C=new RegExp(`^https?://${T}/${v}/b/${o}/o${w}`,"i"),U={bucket:1,path:3},j=n===fA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",X=new RegExp(`^https?://${j}/${o}/${V}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:C,indices:U,postModify:g},{regex:X,indices:{bucket:1,path:2},postModify:g}];for(let le=0;le<ie.length;le++){const me=ie[le],re=me.regex.exec(e);if(re){const D=re[me.indices.bucket];let R=re[me.indices.path];R||(R=""),s=new Mn(D,R),me.postModify(s);break}}if(s==null)throw cM(e);return s}}class yM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _M(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function v(...V){g||(g=!0,e.apply(null,V))}function T(V){o=setTimeout(()=>{o=null,r(C,p())},V)}function w(){u&&clearTimeout(u)}function C(V,...X){if(g){w();return}if(V){w(),v.call(null,V,...X);return}if(p()||h){w(),v.call(null,V,...X);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,T(ie)}let U=!1;function j(V){U||(U=!0,w(),!g&&(o!==null?(V||(m=2),clearTimeout(o),T(0)):V||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,j(!0)},n),j}function vM(r){r(!1)}function EM(r){return r!==void 0}function TM(r){return typeof r=="function"}function SM(r){return typeof r=="object"&&!Array.isArray(r)}function kf(r){return typeof r=="string"||r instanceof String}function c0(r){return Qg()&&r instanceof Blob}function Qg(){return typeof Blob<"u"}function h0(r,e,n,s){if(s<e)throw zp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw zp(`Invalid value for '${r}'. Expected ${n} or less.`)}function Lu(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function _A(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var da;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(da||(da={}));function vA(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class bM{constructor(e,n,s,o,u,h,m,p,g,v,T,w=!0,C=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=T,this.retry=w,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,j)=>{this.resolve_=U,this.reject_=j,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Sh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===da.NO_ERROR,p=u.getStatus();if(!m||vA(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===da.ABORT;s(!1,new Sh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Sh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());EM(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Kg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?yA():pA();h(p)}else{const p=mA();h(p)}};this.canceled_?n(!1,new Sh(!1,null,!0)):this.backoffId_=_M(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function AM(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function wM(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function RM(r,e){e&&(r["X-Firebase-GMPID"]=e)}function CM(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function IM(r,e,n,s,o,u,h=!0,m=!1){const p=_A(r.urlParams),g=r.url+p,v=Object.assign({},r.headers);return RM(v,e),AM(v,n),wM(v,u),CM(v,s),new bM(g,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}function DM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xM(...r){const e=DM();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(Qg())return new Blob(r);throw new dt(at.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function NM(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}function OM(r){if(typeof atob>"u")throw pM("base-64");return atob(r)}const Ui={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tp{constructor(e,n){this.data=e,this.contentType=n||null}}function MM(r,e){switch(r){case Ui.RAW:return new tp(EA(e));case Ui.BASE64:case Ui.BASE64URL:return new tp(TA(r,e));case Ui.DATA_URL:return new tp(kM(e),PM(e))}throw Kg()}function EA(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function VM(r){let e;try{e=decodeURIComponent(r)}catch{throw cu(Ui.DATA_URL,"Malformed data URL.")}return EA(e)}function TA(r,e){switch(r){case Ui.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw cu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ui.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw cu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=OM(e)}catch(o){throw o.message.includes("polyfill")?o:cu(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class SA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw cu(Ui.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=UM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function kM(r){const e=new SA(r);return e.base64?TA(Ui.BASE64,e.rest):VM(e.rest)}function PM(r){return new SA(r).contentType}function UM(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class ds{constructor(e,n){let s=0,o="";c0(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(c0(this.data_)){const s=this.data_,o=NM(s,e,n);return o===null?null:new ds(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ds(s,!0)}}static getBlob(...e){if(Qg()){const n=e.map(s=>s instanceof ds?s.data_:s);return new ds(xM.apply(null,n))}else{const n=e.map(h=>kf(h)?MM(Ui.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new ds(o,!0)}}uploadData(){return this.data_}}function bA(r){let e;try{e=JSON.parse(r)}catch{return null}return SM(e)?e:null}function LM(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function jM(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function AA(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function zM(r,e){return e}class cn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||zM}}let bh=null;function BM(r){return!kf(r)||r.length<2?r:AA(r)}function wA(){if(bh)return bh;const r=[];r.push(new cn("bucket")),r.push(new cn("generation")),r.push(new cn("metageneration")),r.push(new cn("name","fullPath",!0));function e(u,h){return BM(h)}const n=new cn("name");n.xform=e,r.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new cn("size");return o.xform=s,r.push(o),r.push(new cn("timeCreated")),r.push(new cn("updated")),r.push(new cn("md5Hash",null,!0)),r.push(new cn("cacheControl",null,!0)),r.push(new cn("contentDisposition",null,!0)),r.push(new cn("contentEncoding",null,!0)),r.push(new cn("contentLanguage",null,!0)),r.push(new cn("contentType",null,!0)),r.push(new cn("metadata","customMetadata",!0)),bh=r,bh}function qM(r,e){function n(){const s=r.bucket,o=r.fullPath,u=new Mn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function FM(r,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return qM(s,r),s}function RA(r,e,n){const s=bA(e);return s===null?null:FM(r,s,n)}function HM(r,e,n,s){const o=bA(e);if(o===null||!kf(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const v=r.bucket,T=r.fullPath,w="/b/"+h(v)+"/o/"+h(T),C=Lu(w,n,s),U=_A({alt:"media",token:g});return C+U})[0]}function CA(r,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class Fo{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vr(r){if(!r)throw Kg()}function Yg(r,e){function n(s,o){const u=RA(r,o,e);return vr(u!==null),u}return n}function GM(r,e){function n(s,o){const u=RA(r,o,e);return vr(u!==null),HM(u,o,r.host,r._protocol)}return n}function ju(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=lM():o=oM():n.getStatus()===402?o=aM(r.bucket):n.getStatus()===403?o=uM(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function IA(r){const e=ju(r);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=sM(r.path)),u.serverResponse=o.serverResponse,u}return n}function KM(r,e,n){const s=e.fullServerUrl(),o=Lu(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new Fo(o,u,Yg(r,n),h);return m.errorHandler=IA(e),m}function QM(r,e,n){const s=e.fullServerUrl(),o=Lu(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new Fo(o,u,GM(r,n),h);return m.errorHandler=IA(e),m}function YM(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function DA(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=YM(null,e)),s}function XM(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let ie="";for(let le=0;le<2;le++)ie=ie+Math.random().toString().slice(2);return ie}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=DA(e,s,o),v=CA(g,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",C=ds.getBlob(T,s,w);if(C===null)throw gA();const U={name:g.fullPath},j=Lu(u,r.host,r._protocol),V="POST",X=r.maxUploadRetryTime,Y=new Fo(j,V,Yg(r,n),X);return Y.urlParams=U,Y.headers=h,Y.body=C.uploadData(),Y.errorHandler=ju(e),Y}class sf{constructor(e,n,s,o){this.current=e,this.total=n,this.finalized=!!s,this.metadata=o||null}}function Xg(r,e){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch{vr(!1)}return vr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function $M(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h=DA(e,s,o),m={name:h.fullPath},p=Lu(u,r.host,r._protocol),g="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},T=CA(h,n),w=r.maxUploadRetryTime;function C(j){Xg(j);let V;try{V=j.getResponseHeader("X-Goog-Upload-URL")}catch{vr(!1)}return vr(kf(V)),V}const U=new Fo(p,g,C,w);return U.urlParams=m,U.headers=v,U.body=T,U.errorHandler=ju(e),U}function WM(r,e,n,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const v=Xg(g,["active","final"]);let T=null;try{T=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{vr(!1)}T||vr(!1);const w=Number(T);return vr(!isNaN(w)),new sf(w,s.size(),v==="final")}const h="POST",m=r.maxUploadRetryTime,p=new Fo(n,h,u,m);return p.headers=o,p.errorHandler=ju(e),p}const f0=256*1024;function JM(r,e,n,s,o,u,h,m){const p=new sf(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw dM();const g=p.total-p.current;let v=g;o>0&&(v=Math.min(v,o));const T=p.current,w=T+v;let C="";v===0?C="finalize":g===v?C="upload, finalize":C="upload";const U={"X-Goog-Upload-Command":C,"X-Goog-Upload-Offset":`${p.current}`},j=s.slice(T,w);if(j===null)throw gA();function V(le,me){const re=Xg(le,["active","final"]),D=p.current+v,R=s.size();let I;return re==="final"?I=Yg(e,u)(le,me):I=null,new sf(D,R,re==="final",I)}const X="POST",Y=e.maxUploadRetryTime,ie=new Fo(n,X,V,Y);return ie.headers=U,ie.body=j.uploadData(),ie.progressCallback=m||null,ie.errorHandler=ju(r),ie}const vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function np(r){switch(r){case"running":case"pausing":case"canceling":return vn.RUNNING;case"paused":return vn.PAUSED;case"success":return vn.SUCCESS;case"canceled":return vn.CANCELED;case"error":return vn.ERROR;default:return vn.ERROR}}class ZM{constructor(e,n,s){if(TM(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function _o(r){return(...e)=>{Promise.resolve().then(()=>r(...e))}}class eV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=da.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=da.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=da.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Wl("cannot .send() more than once");if(Rs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tV extends eV{initXhr(){this.xhr_.responseType="text"}}function bo(){return new tV}class nV{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=wA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(at.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(vA(o.status,[]))if(u)o=mA();else{this.sleepTime=Math.max(this.sleepTime*2,rM),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(at.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=$M(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,bo,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const o=WM(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,bo,n,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=f0*this._chunkMultiplier,n=new sf(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=JM(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,bo,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){f0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=KM(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,bo,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=XM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,bo,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=pA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=np(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,o){const u=new ZM(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(np(this._state)){case vn.SUCCESS:_o(this._resolve.bind(null,this.snapshot))();break;case vn.CANCELED:case vn.ERROR:const n=this._reject;_o(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(np(this._state)){case vn.RUNNING:case vn.PAUSED:e.next&&_o(e.next.bind(e,this.snapshot))();break;case vn.SUCCESS:e.complete&&_o(e.complete.bind(e))();break;case vn.CANCELED:case vn.ERROR:e.error&&_o(e.error.bind(e,this._error))();break;default:e.error&&_o(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class Ea{constructor(e,n){this._service=e,n instanceof Mn?this._location=n:this._location=Mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ea(e,n)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AA(this._location.path)}get storage(){return this._service}get parent(){const e=LM(this._location.path);if(e===null)return null;const n=new Mn(this._location.bucket,e);return new Ea(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gM(e)}}function iV(r,e,n){return r._throwIfRoot("uploadBytesResumable"),new nV(r,new ds(e),n)}function rV(r){r._throwIfRoot("getDownloadURL");const e=QM(r.storage,r._location,wA());return r.storage.makeRequestWithTokens(e,bo).then(n=>{if(n===null)throw mM();return n})}function sV(r,e){const n=jM(r._location.path,e),s=new Mn(r._location.bucket,n);return new Ea(r.storage,s)}function aV(r){return/^[A-Za-z]+:\/\//.test(r)}function oV(r,e){return new Ea(r,e)}function xA(r,e){if(r instanceof $g){const n=r;if(n._bucket==null)throw fM();const s=new Ea(n,n._bucket);return e!=null?xA(s,e):s}else return e!==void 0?sV(r,e):r}function lV(r,e){if(e&&aV(e)){if(r instanceof $g)return oV(r,e);throw zp("To use ref(service, url), the first argument must be a Storage instance.")}else return xA(r,e)}function d0(r,e){const n=e?.[dA];return n==null?null:Mn.makeFromBucketSpec(n,r)}function uV(r,e,n,s={}){r.host=`${e}:${n}`;const o=Rs(e);o&&(Qp(`https://${r.host}/b`),Yp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:X0(u,r.app.options.projectId))}class $g{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=fA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nM,this._maxUploadRetryTime=iM,this._requests=new Set,o!=null?this._bucket=Mn.makeFromBucketSpec(o,this._host):this._bucket=d0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=d0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){h0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){h0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ea(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new yM(yA());{const h=IM(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const m0="@firebase/storage",p0="0.14.0";const NA="storage";function cV(r,e,n){return r=ct(r),iV(r,e,n)}function hV(r){return r=ct(r),rV(r)}function fV(r,e){return r=ct(r),lV(r,e)}function dV(r=Wp(),e){r=ct(r);const s=cf(r,NA).getImmediate({identifier:e}),o=K0("storage");return o&&mV(s,...o),s}function mV(r,e,n,s={}){uV(r,e,n,s)}function pV(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new $g(n,s,o,e,Sa)}function gV(){pa(new vs(NA,pV,"PUBLIC").setMultipleInstances(!0)),Li(m0,p0,""),Li(m0,p0,"esm2020")}gV();const yV={apiKey:"AIzaSyDm20Plug9S3EWQo4umsdnrMXaEn8i_Jeo",authDomain:"medical-project-6a2aa.firebaseapp.com",projectId:"medical-project-6a2aa",storageBucket:"medical-project-6a2aa.firebasestorage.app",messagingSenderId:"533053954463",appId:"1:533053954463:web:bbb60e3bd068baa90405aa",measurementId:"G-GMQZJYE7WW"},Wg=J0(yV),nt=Ax(Wg),_V=dV(Wg),Zt=eM(Wg),g0=["New York City","Boston","New Jersey City","Long Island"];function vV(){const r=of(),[e,n]=L.useState({first_name:"",last_name:"",email:"",password:"",phone_number:"",specialty:"",location:""}),[s,o]=L.useState(""),u=m=>{const{name:p,value:g}=m.target;n(v=>({...v,[p]:g}))},h=async m=>{if(m.preventDefault(),o("Saving..."),!g0.includes(e.location)){o(" Invalid location selected.");return}try{const g=(await Fg(Zt,e.email,e.password)).user;await tA(g);const v=Date.now();await Bo(kt(nt,"Doctors"),{...e,doctor_id:v,user_id:g.uid,phone_number:Number(e.phone_number),created_at:He.now()}),await kg(Ds(nt,"Users",g.uid),{uid:g.uid,email:e.email,role:"doctor",created_at:He.now()}),o(" Doctor registered successfully! Check your email for verification."),setTimeout(()=>{r("/login")},3e3),n({first_name:"",last_name:"",email:"",password:"",phone_number:"",specialty:""})}catch(p){console.error("Error adding doctor:",p),o(" Error adding doctor. Check console.")}};return b.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[b.jsx("h2",{style:{textAlign:"center",fontSize:"1.1rem",letterSpacing:"0.18em",textTransform:"uppercase",color:"#4b5563",marginBottom:"0.5rem"},children:"Doctor Registration"}),b.jsx("p",{style:{textAlign:"center",fontSize:"0.9rem",color:"#6b7280",marginBottom:"1.6rem"},children:"Create an account for a doctor to access the system."}),b.jsxs("form",{onSubmit:h,style:{display:"grid",gap:"0.85rem"},children:[b.jsx("input",{placeholder:"First Name",name:"first_name",value:e.first_name,onChange:u,required:!0,style:oa}),b.jsx("input",{placeholder:"Last Name",name:"last_name",value:e.last_name,onChange:u,required:!0,style:oa}),b.jsx("input",{placeholder:"Email",type:"email",name:"email",value:e.email,onChange:u,required:!0,style:oa}),b.jsx("input",{placeholder:"Password",type:"password",name:"password",value:e.password,onChange:u,required:!0,style:oa}),b.jsx("input",{placeholder:"Phone Number",name:"phone_number",value:e.phone_number,onChange:u,required:!0,style:oa}),b.jsx("input",{placeholder:"Specialty",name:"specialty",value:e.specialty,onChange:u,required:!0,style:oa}),b.jsxs("select",{name:"location",value:e.location,onChange:u,required:!0,style:oa,children:[b.jsx("option",{value:"",children:"Select Location"}),g0.map(m=>b.jsx("option",{value:m,children:m},m))]}),b.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1.1rem"},children:[b.jsx("button",{type:"button",style:TV,onClick:()=>n({first_name:"",last_name:"",email:"",password:"",phone_number:"",specialty:""}),children:"Cancel"}),b.jsx("button",{type:"submit",style:EV,children:"Register"})]})]}),s&&b.jsx("p",{style:{textAlign:"center",marginTop:"1rem"},children:s})]})}const oa={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},EV={border:"none",borderRadius:"999px",padding:"0.75rem 1.8rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #7C3AED 0%, #A78BFA 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(124,58,237,0.22)",transition:"0.3s ease"},TV={borderRadius:"999px",padding:"0.75rem 1.6rem",fontSize:"0.9rem",fontWeight:500,cursor:"pointer",background:"#ffffff",border:"1.5px solid #D1D5DB",boxShadow:"0 4px 12px rgba(0,0,0,0.04)",transition:"0.25s ease"};function SV(){const[r,e]=L.useState(""),[n,s]=L.useState(""),[o,u]=L.useState(""),h=of(),[m,p]=L.useState(""),g=async v=>{v.preventDefault(),u("");try{const w=(await jN(Zt,r,n)).user.uid,C=await Db(Ds(nt,"Users",w));if(C.exists()){const U=C.data().role;U==="doctor"?h("/doctor"):U==="patient"?h("/patient"):u("Role not assigned.")}else u("User profile not found in Firestore.")}catch(T){console.error(T),u("Login failed. Check email and password.")}};return b.jsx("div",{className:"app-shell",children:b.jsxs("div",{className:"card card--compact",children:[b.jsx("h1",{className:"card-title",children:"Medical Login"}),b.jsxs("form",{onSubmit:g,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Email"}),b.jsx("input",{type:"email",className:"form-input",value:r,onChange:v=>e(v.target.value),required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Password"}),b.jsx("input",{type:"password",className:"form-input",value:n,onChange:v=>s(v.target.value),required:!0})]}),b.jsx("button",{type:"submit",className:"btn-primary btn-block",children:"Sign In"}),o&&b.jsx("p",{className:"form-error",children:o})]}),b.jsx("div",{style:{marginTop:"1.25rem"},children:b.jsx("button",{type:"button",onClick:()=>h("/doctor-signup"),className:"btn-secondary btn-block",children:"Doctor Sign Up?"})})]})})}function bV(){const[r,e]=L.useState({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""}),[n,s]=L.useState(null),[o,u]=L.useState(""),[h,m]=L.useState(null),[p,g]=L.useState(!1),[v,T]=L.useState(null);L.useEffect(()=>{const j=qN(Zt,async V=>{if(!V){m(null),u("No user logged in");return}m(V),u("Fetching patient info...");try{const X=$n(kt(nt,"Patients"),Jt("uid","==",V.uid)),Y=await Vn(X);if(Y.empty)u("No patient record found");else{const ie=Y.docs[0],le=ie.data();le.date_of_birth?.seconds&&(le.date_of_birth=new Date(le.date_of_birth.seconds*1e3).toISOString().slice(0,10)),T(ie.id),e(le),s(le),u("Patient info loaded")}}catch(X){console.error("Error fetching patient data:",X),u("Error fetching data")}});return()=>j()},[]);const w=j=>{e(V=>({...V,[j.target.name]:j.target.value}))},C=async()=>{if(!v)return;const j=Ds(nt,"Patients",v);try{await Ux(j,r),s(r),g(!1),u("Information updated!")}catch(V){console.error("Error updating Firestore:",V),u("Update failed.")}},U=()=>{e(n),g(!1)};return b.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[b.jsx("h2",{style:{textAlign:"center",fontSize:"1.1rem",letterSpacing:"0.18em",textTransform:"uppercase",color:"#4b5563",marginBottom:"0.5rem"},children:"View Patient Info"}),b.jsx("p",{style:{textAlign:"center",fontSize:"0.9rem",color:"#6b7280",marginBottom:"1.6rem"},children:"View and edit your information below"}),h&&b.jsx("div",{style:AV,children:Object.entries({"First Name":"first_name","Last Name":"last_name",Email:"email",Address:"address","Date of Birth":"date_of_birth",Gender:"gender","Phone Number":"phone_number","Emergency Contact Name":"emergency_contact_name","Emergency Contact Phone":"emergency_contact_phone"}).map(([j,V])=>b.jsxs("div",{children:[b.jsx("span",{style:wV,children:j}),p?V==="date_of_birth"?b.jsx("input",{type:"date",name:V,value:r[V]||"",onChange:w,style:ip}):V==="gender"?b.jsxs("select",{name:V,value:r[V]||"",onChange:w,style:ip,children:[b.jsx("option",{value:"",children:"Select Gender"}),b.jsx("option",{value:"Male",children:"Male"}),b.jsx("option",{value:"Female",children:"Female"}),b.jsx("option",{value:"Other",children:"Other"})]}):b.jsx("input",{name:V,value:r[V]||"",onChange:w,style:ip}):b.jsx("div",{style:RV,children:r[V]})]},V))}),p?b.jsxs(b.Fragment,{children:[b.jsx("button",{style:CV,onClick:C,children:"Save Changes"}),b.jsx("button",{style:IV,onClick:U,children:"Cancel"})]}):b.jsx("button",{style:Jg,onClick:()=>g(!0),children:"Edit"})]})}const AV={marginTop:"1rem",lineHeight:"1.8"},wV={fontSize:"0.78rem",fontWeight:"600",letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151",display:"block",marginBottom:"0.25rem"},RV={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",backgroundColor:"#f9fafb",marginBottom:"0.75rem"},ip={width:"100%",borderRadius:"999px",border:"1px solid #60A5FA",padding:"0.7rem 1rem",fontSize:"0.9rem",backgroundColor:"#ffffff",marginBottom:"0.75rem",outline:"none"},Jg={border:"none",borderRadius:"999px",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #3B82F6 0%, #93C5FD 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(59,130,246,0.22)",transition:"0.3s ease",width:"100%",marginTop:"1.5rem"},CV={...Jg,background:"linear-gradient(135deg, #10B981 0%, #6EE7B7 100%)",boxShadow:"0 8px 22px rgba(16,185,129,0.22)"},IV={...Jg,background:"#e5e7eb",color:"#374151",boxShadow:"none",marginTop:"0.8rem"};function OA(){const r=of(),e=async()=>{try{await FN(Zt),r("/"),window.location.reload()}catch(n){console.error("Error logging out:",n)}};return b.jsx("button",{onClick:e,style:{border:"none",borderRadius:"999px",display:"block",margin:"1.5rem auto 0 auto",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #EF4444 0%, #FCA5A5 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(239,68,68,0.22)",transition:"0.3s ease"},children:"Logout"})}function DV(){const[r,e]=L.useState(null),[n,s]=L.useState(null),[o,u]=L.useState(""),[h,m]=L.useState([]),[p,g]=L.useState(""),[v,T]=L.useState(!1);L.useEffect(()=>{(async()=>{const U=Zt.currentUser;if(U)try{const j=$n(kt(nt,"Patients"),Jt("uid","==",U.uid)),V=await Vn(j);if(V.empty)console.warn("No patient record found.");else{const X=V.docs[0].data();e(X.uid),s(X.doctor_id)}}catch(j){console.error("Error fetching patient:",j)}})()},[]),L.useEffect(()=>{if(!n||!o)return;(async()=>{try{const U=new Date(o);U.setHours(0,0,0,0);const j=new Date(o);j.setHours(23,59,59,999);const V=$n(kt(nt,"Reservations"),Jt("doctorId","==",n),Jt("appointmentDate",">=",U),Jt("appointmentDate","<=",j)),Y=(await Vn(V)).docs.map(me=>new Date(me.data().appointmentDate).getHours()),le=Array.from({length:9},(me,re)=>re+9).filter(me=>!Y.includes(me));m(le),g("")}catch(U){console.error("Error fetching available times:",U)}})()},[n,o]);const w=async C=>{if(C.preventDefault(),!o||p==="")return alert("Select date and time.");if(!n)return alert("No assigned doctor found.");T(!0);try{const U=new Date(o);U.setHours(p,0,0,0),await Bo(kt(nt,"Reservations"),{uid:r,doctorId:n,appointmentDate:U,status:"pending",email:Zt.currentUser.email,createdAt:Pg()}),alert("Appointment requested successfully!"),u(""),g(""),m([])}catch(U){console.error("Error creating appointment:",U),alert("Failed to create appointment.")}finally{T(!1)}};return b.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[b.jsx("h2",{style:xV,children:"Create Appointment"}),b.jsx("p",{style:NV,children:"Schedule a new appointment below."}),b.jsxs("form",{onSubmit:w,style:{display:"grid",gap:"1rem"},children:[b.jsxs("div",{children:[b.jsx("label",{style:y0,children:"Date"}),b.jsx("input",{type:"date",value:o,onChange:C=>u(C.target.value),style:_0,required:!0})]}),h.length>0&&b.jsxs("div",{children:[b.jsx("label",{style:y0,children:"Time"}),b.jsxs("select",{value:p,onChange:C=>g(parseInt(C.target.value)),style:_0,required:!0,children:[b.jsx("option",{value:"",children:"Select Time"}),h.map(C=>b.jsxs("option",{value:C,children:[C,":00"]},C))]})]}),b.jsx("button",{type:"submit",style:OV,disabled:v,children:v?"Submitting...":"Request Appointment"})]})]})}const xV={textAlign:"center",marginBottom:"1rem",letterSpacing:"0.16em",textTransform:"uppercase",fontSize:"0.9rem",color:"#6b7280"},NV={textAlign:"center",marginBottom:"1.8rem",fontSize:"0.9rem",color:"#4b5563"},y0={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},_0={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},OV={padding:"0.75rem 1.5rem",fontSize:"0.95rem",fontWeight:600,color:"#fff",background:"linear-gradient(135deg, #10B981 0%, #6EE7B7 100%)",border:"none",borderRadius:"999px",cursor:"pointer"};function MV(){const[r,e]=L.useState(null),[n,s]=L.useState([]),[o,u]=L.useState([]),[h,m]=L.useState(null),[p,g]=L.useState(""),[v,T]=L.useState("");L.useEffect(()=>{m(null)},[p,v]),L.useEffect(()=>{(async()=>{if(!Zt.currentUser)return;const U=$n(kt(nt,"Patients"),Jt("uid","==",Zt.currentUser.uid)),j=await Vn(U);j.empty||e(j.docs[0].id)})()},[]),L.useEffect(()=>{if(!Zt.currentUser)return;(async()=>{const U=$n(kt(nt,"Reservations"),Jt("uid","==",Zt.currentUser.uid)),j=await Vn(U);u(j.docs.map(V=>({id:V.id,...V.data()})))})()},[]),L.useEffect(()=>{if(!r)return;(async()=>{const U=await Vn(kt(nt,`Patients/${r}/files`));s(U.docs.map(j=>({id:j.id,...j.data()}))),m(null),g(""),T("")})()},[r]);const w=n.filter(C=>{const U=p?C.uploadType===p:!0,j=v?C.appointmentId===v:!0;return U&&j});return b.jsxs("div",{style:VV,children:[b.jsx("h2",{style:kV,children:"View Records"}),b.jsx("p",{style:PV,children:"Review your uploaded medical records below."}),n.length>0&&b.jsxs("div",{style:{marginBottom:"1rem"},children:[b.jsx("label",{style:rp,children:"Filter by Type:"}),b.jsxs("select",{style:sp,value:p,onChange:C=>g(C.target.value),children:[b.jsx("option",{value:"",children:"All Types"}),b.jsx("option",{value:"Forms",children:"Forms"}),b.jsx("option",{value:"Test Results",children:"Test Results"}),b.jsx("option",{value:"Scans",children:"Scans"}),b.jsx("option",{value:"Notes",children:"Notes"}),b.jsx("option",{value:"Other",children:"Other"})]})]}),o.length>0&&b.jsxs("div",{style:{marginBottom:"1rem"},children:[b.jsx("label",{style:rp,children:"Filter by Appointment:"}),b.jsxs("select",{style:sp,value:v,onChange:C=>T(C.target.value),children:[b.jsx("option",{value:"",children:"All Appointments"}),o.map(C=>b.jsx("option",{value:C.id,children:C.appointmentDate?.toDate?C.appointmentDate.toDate().toLocaleString():"Unknown date"},C.id))]})]}),w.length>0&&b.jsxs("div",{style:{marginBottom:"1rem"},children:[b.jsx("label",{style:rp,children:"Select File:"}),b.jsxs("select",{style:sp,onChange:C=>m(w.find(U=>U.id===C.target.value)),value:h?.id||"",children:[b.jsx("option",{value:"",children:"-- Choose File --"}),w.map(C=>b.jsxs("option",{value:C.id,children:[C.name,"  Uploaded:"," ",C.uploadedAt?.toDate?C.uploadedAt.toDate().toLocaleString():"N/A"]},C.id))]})]}),h&&b.jsx("div",{style:{marginTop:"1rem"},children:h.name.endsWith(".pdf")?b.jsx("iframe",{src:h.url,width:"100%",height:"600px",title:h.name}):b.jsx("img",{src:h.url,alt:h.name,style:{width:"100%",maxHeight:"600px",objectFit:"contain"}})})]})}const VV={maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},kV={textAlign:"center",marginBottom:"1rem",letterSpacing:"0.16em",textTransform:"uppercase",fontSize:"0.9rem",color:"#6b7280"},PV={textAlign:"center",marginBottom:"1.8rem",fontSize:"0.9rem",color:"#4b5563"},rp={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},sp={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"};function UV(){const[r,e]=L.useState(null),[n,s]=L.useState([]);L.useEffect(()=>{(async()=>{const p=Zt.currentUser;if(p)try{const g=$n(kt(nt,"Patients"),Jt("uid","==",p.uid)),v=await Vn(g);v.empty?console.warn("No patient record found for this user."):e(v.docs[0].data().uid)}catch(g){console.error("Error fetching patient UID:",g)}})()},[]),L.useEffect(()=>{if(!r)return;const m=kt(nt,"Reservations"),p=$n(m,Jt("uid","==",r)),g=jx(p,async v=>{const T=await Promise.all(v.docs.map(async w=>{const C=w.data(),U=C.appointmentDate.toDate();let j="Unknown Doctor",V="Unknown Location";if(C.doctorId){const X=await Db(Ds(nt,"Doctors",C.doctorId));if(X.exists()){const Y=X.data();j=`${Y.first_name} ${Y.last_name}`,V=Y.location||"Unknown"}}return{id:w.id,...C,doctorName:j,location:V,appointmentDateJS:U}}));s(T)});return()=>g()},[r]);const o=new Date,u=n.filter(m=>m.appointmentDateJS>=o),h=n.filter(m=>m.appointmentDateJS<o);return b.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif"},children:[b.jsx("h2",{style:LV,children:"View Appointments"}),b.jsx("p",{style:jV,children:"View previous and upcoming appointments below."}),b.jsx("h3",{style:E0,children:"Upcoming Appointments"}),u.length===0?b.jsx("p",{style:T0,children:"No upcoming appointments."}):u.map(m=>b.jsx(v0,{appt:m,isUpcoming:!0},m.id)),b.jsx("h3",{style:E0,children:"Previous Appointments"}),h.length===0?b.jsx("p",{style:T0,children:"No previous appointments."}):h.map(m=>b.jsx(v0,{appt:m,isUpcoming:!1},m.id))]})}function v0({appt:r,isUpcoming:e}){const n=async()=>{try{await Lx(Ds(nt,"Reservations",r.id)),console.log("Appointment canceled:",r.id)}catch(s){console.error("Error cancelling appointment:",s)}};return b.jsxs("div",{style:zV,children:[b.jsxs("div",{style:{marginBottom:"0.4rem",fontSize:"0.95rem",fontWeight:600},children:[b.jsx("strong",{children:"Doctor:"})," ",r.doctorName]}),b.jsxs("div",{style:{fontSize:"0.85rem",color:"#4b5563"},children:[b.jsx("strong",{children:"Date:"})," ",r.appointmentDateJS.toLocaleString()]}),b.jsxs("div",{style:{fontSize:"0.85rem",color:"#4b5563",marginTop:"0.25rem"},children:[b.jsx("strong",{children:"Location:"})," ",r.location||"Unknown"]}),e&&b.jsx("button",{onClick:n,style:{marginTop:"0.8rem",padding:"0.45rem 0.9rem",fontSize:"0.85rem",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"12px",cursor:"pointer"},children:"Cancel Appointment"})]})}const LV={textAlign:"center",marginBottom:"1rem",letterSpacing:"0.16em",textTransform:"uppercase",fontSize:"0.9rem",color:"#6b7280"},jV={textAlign:"center",marginBottom:"1.8rem",fontSize:"0.9rem",color:"#4b5563"},E0={marginTop:"1.8rem",marginBottom:"0.6rem",fontSize:"0.85rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",color:"#374151"},T0={fontSize:"0.85rem",color:"#6b7280",marginBottom:"1rem"},zV={background:"#ffffff",padding:"1rem",borderRadius:"16px",marginBottom:"1rem",border:"1px solid #e5e7eb",boxShadow:"0 4px 14px rgba(0,0,0,0.05)"};function BV(){return b.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#F8FBFF",padding:"2.5rem 2rem",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, Poppins, system-ui, sans-serif"},children:[b.jsx("h1",{style:{textAlign:"center",fontSize:"2rem",fontWeight:700,marginBottom:"2.2rem",letterSpacing:"0.12em",textTransform:"uppercase",color:"#1f2937"},children:"Patient Dashboard"}),b.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:b.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:b.jsx(bV,{})})}),b.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:b.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:b.jsx(DV,{})})}),b.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:b.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:b.jsx(UV,{})})}),b.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:b.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:b.jsx(MV,{})})}),b.jsx(OA,{})]})}function qV(){const[r,e]=L.useState({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""}),[n,s]=L.useState(""),o=h=>{const{name:m,value:p}=h.target;e(g=>({...g,[m]:p}))},u=async h=>{h.preventDefault(),s("Saving...");try{const p=(await Fg(Zt,r.email,r.password)).user,g=Date.now();await Bo(kt(nt,"Patients"),{...r,patient_id:g,created_at:He.fromDate(new Date),uid:p.uid}),await kg(Ds(nt,"Users",p.uid),{email:r.email,role:"patient",patient_id:g,created_at:He.fromDate(new Date)}),s("Patient registered successfully."),e({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""})}catch(m){console.error("Error adding patient:",m),s("Error adding patient. Check console.")}};return b.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[b.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem",letterSpacing:"0.16em",textTransform:"uppercase",fontSize:"0.9rem",color:"#6b7280"},children:"Patient Registration"}),b.jsx("p",{style:{textAlign:"center",marginBottom:"1.8rem",fontSize:"0.9rem",color:"#4b5563"},children:"Please complete all required fields before submitting."}),b.jsxs("form",{onSubmit:u,style:{display:"grid",gap:"0.9rem"},children:[b.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[b.jsx("label",{style:Vi,children:"First Name"}),b.jsx("input",{style:ki,name:"first_name",value:r.first_name,onChange:o,required:!0})]}),b.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[b.jsx("label",{style:Vi,children:"Last Name"}),b.jsx("input",{style:ki,name:"last_name",value:r.last_name,onChange:o,required:!0})]}),b.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[b.jsx("label",{style:Vi,children:"Email"}),b.jsx("input",{style:ki,type:"email",name:"email",value:r.email,onChange:o,required:!0})]}),b.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[b.jsx("label",{style:Vi,children:"Password"}),b.jsx("input",{style:ki,type:"password",name:"password",value:r.password,onChange:o,required:!0})]}),b.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[b.jsx("label",{style:Vi,children:"Address"}),b.jsx("input",{style:ki,name:"address",value:r.address,onChange:o,required:!0})]}),b.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[b.jsx("label",{style:Vi,children:"Date Of Birth"}),b.jsx("input",{style:ki,type:"date",name:"date_of_birth",value:r.date_of_birth,onChange:o,required:!0})]}),b.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[b.jsx("label",{style:Vi,children:"Gender"}),b.jsxs("select",{style:ki,name:"gender",value:r.gender,onChange:o,required:!0,children:[b.jsx("option",{value:"",children:"Select gender"}),b.jsx("option",{value:"female",children:"Female"}),b.jsx("option",{value:"male",children:"Male"}),b.jsx("option",{value:"nonbinary",children:"Non-binary"}),b.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),b.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[b.jsx("label",{style:Vi,children:"Phone Number"}),b.jsx("input",{style:ki,name:"phone_number",value:r.phone_number,onChange:o,required:!0})]}),b.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[b.jsx("label",{style:Vi,children:"Emergency Contact Name"}),b.jsx("input",{style:ki,name:"emergency_contact_name",value:r.emergency_contact_name,onChange:o,required:!0})]}),b.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[b.jsx("label",{style:Vi,children:"Emergency Contact Phone"}),b.jsx("input",{style:ki,name:"emergency_contact_phone",value:r.emergency_contact_phone,onChange:o,required:!0})]}),b.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",marginTop:"0.75rem"},children:[b.jsx("button",{type:"reset",style:{...S0,backgroundColor:"#f3f4f6",color:"#374151"},children:"Clear"}),b.jsx("button",{type:"submit",style:{...S0,background:"linear-gradient(135deg, #4f46e5 0%, #6366f1 50%, #818cf8 100%)",color:"#ffffff",boxShadow:"0 12px 30px rgba(79, 70, 229, 0.35)"},children:"Submit"})]})]}),n&&b.jsx("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#4b5563"},children:n})]})}const Vi={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},ki={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},S0={border:"none",borderRadius:"999px",padding:"0.7rem 1.6rem",fontSize:"0.9rem",fontWeight:500,cursor:"pointer"};function MA({onSelectPatient:r,doctorId:e,setFiles:n,setSelectedFile:s}){const[o,u]=L.useState(""),[h,m]=L.useState([]),p=()=>{u(""),m([]),r(null),n&&n([]),s&&s(null)},g=async()=>{if(!o.trim())return alert("Enter a last name.");if(!e)return alert("You must be logged in as a doctor.");try{const v=kt(nt,"Patients"),T=$n(v,Jt("last_name","==",o.trim())),C=(await Vn(T)).docs.map(U=>({id:U.id,...U.data()}));C.length===0&&alert("No patients found with that last name."),m(C),r(null)}catch(v){console.error("Error searching patients:",v),alert("Unable to search patients. Check your permissions.")}};return b.jsxs("div",{style:{marginBottom:"1rem"},children:[b.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[b.jsx("label",{style:b0,children:"Search by Last Name"}),b.jsx("input",{type:"text",id:"lastName",style:A0,value:o,onChange:v=>u(v.target.value),placeholder:"Enter last name",required:!0})]}),b.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1.1rem"},children:[b.jsx("button",{type:"button",style:FV,onClick:p,children:"Back"}),b.jsx("button",{onClick:g,style:HV,children:"Search"})]}),h.length>0&&b.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[b.jsx("label",{style:b0,children:"Select Patient:"}),b.jsxs("select",{style:A0,onChange:v=>r(h.find(T=>T.id===v.target.value)),defaultValue:"",children:[b.jsx("option",{value:"",children:"-- Choose Patient --"}),h.map(v=>b.jsxs("option",{value:v.id,children:[v.first_name," ",v.last_name,"  DOB:"," ",v.date_of_birth?v.date_of_birth:"N/A"]},v.id))]})]})]})}const b0={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},A0={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},FV={borderRadius:"999px",padding:"0.75rem 1.6rem",fontSize:"0.9rem",fontWeight:500,cursor:"pointer",background:"#ffffff",border:"1.5px solid #D1D5DB",boxShadow:"0 4px 12px rgba(0,0,0,0.04)",transition:"0.25s ease"},HV={border:"none",borderRadius:"999px",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #10B981 0%, #6EE7B7 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(16,185,129,0.22)",transition:"0.3s ease"};function GV(){const[r,e]=L.useState(null),[n,s]=L.useState(0),[o,u]=L.useState(!1),[h,m]=L.useState(null),[p,g]=L.useState(null),[v,T]=L.useState(""),[w,C]=L.useState([]),[U,j]=L.useState("");L.useEffect(()=>{Zt.currentUser&&g(Zt.currentUser.uid)},[]),L.useEffect(()=>{if(!h)return;(async()=>{const ie=$n(kt(nt,"Reservations"),Jt("uid","==",h.uid)),me=(await Vn(ie)).docs.map(re=>({id:re.id,...re.data()}));C(me)})()},[h]);const V=Y=>e(Y.target.files[0]),X=async()=>{if(!r)return alert("Please select a file first.");if(!h)return alert("Please select a patient first.");if(!p)return alert("You must be logged in as a doctor.");if(!v)return alert("Please select an upload type.");const Y=h.id,ie=`patients/${Y}/${r.name}`,le=fV(_V,ie),me=cV(le,r);u(!0),s(0),me.on("state_changed",re=>{const D=re.bytesTransferred/re.totalBytes*100;s(Math.round(D))},re=>{console.error("Upload error:",re),alert("Upload failed."),u(!1)},async()=>{try{const re=await hV(me.snapshot.ref);await Bo(kt(nt,`Patients/${Y}/files`),{name:r.name,url:re,uploadType:v,uploadedBy:p,uploadedAt:Pg(),appointmentId:U||null}),alert("Upload complete!"),e(null),T(""),j(""),s(0)}catch(re){console.error("Error saving file metadata:",re),alert("Failed to save file information.")}finally{u(!1)}})};return b.jsxs("div",{style:KV,children:[b.jsx("h2",{style:QV,children:"Upload File For Patient"}),b.jsx(MA,{doctorId:p,onSelectPatient:m}),b.jsxs("div",{style:ap,children:[b.jsx("label",{style:op,children:"Upload Type"}),b.jsxs("select",{value:v,onChange:Y=>T(Y.target.value),style:lp,children:[b.jsx("option",{value:"",children:"Select type"}),b.jsx("option",{value:"Forms",children:"Forms"}),b.jsx("option",{value:"Test Results",children:"Test Results"}),b.jsx("option",{value:"Scans",children:"Scans"}),b.jsx("option",{value:"Notes",children:"Notes"}),b.jsx("option",{value:"Other",children:"Other"})]})]}),w.length>0&&b.jsxs("div",{style:ap,children:[b.jsx("label",{style:op,children:"Assign to Appointment (Optional)"}),b.jsxs("select",{value:U,onChange:Y=>j(Y.target.value),style:lp,children:[b.jsx("option",{value:"",children:"No appointment"}),w.map(Y=>b.jsx("option",{value:Y.id,children:new Date(Y.appointmentDate.seconds*1e3).toLocaleString()},Y.id))]})]}),b.jsxs("div",{style:ap,children:[b.jsx("label",{style:op,children:"File"}),b.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:V,style:lp})]}),o&&b.jsxs("div",{style:YV,children:[b.jsx("div",{style:{...XV,width:`${n}%`}}),b.jsxs("span",{style:$V,children:[n,"%"]})]}),b.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"1.2rem"},children:b.jsx("button",{onClick:X,style:WV,children:o?"Uploading...":"Upload"})})]})}const KV={maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif"},QV={textAlign:"center",fontSize:"1.1rem",letterSpacing:"0.18em",textTransform:"uppercase",color:"#4b5563",marginBottom:"0.6rem"},ap={display:"grid",gap:"0.35rem",marginTop:"1rem"},op={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},lp={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",backgroundColor:"#f9fafb"},YV={marginTop:"1rem",background:"#e5e7eb",borderRadius:"999px",height:"10px",position:"relative"},XV={height:"100%",background:"linear-gradient(135deg, #3B82F6, #93C5FD)",borderRadius:"999px",transition:"width 0.3s ease"},$V={fontSize:"0.75rem",textAlign:"center",marginTop:"0.3rem",color:"#374151"},WV={border:"none",borderRadius:"999px",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #3B82F6 0%, #93C5FD 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(59,130,246,0.22)"};function JV(){const[r,e]=L.useState(null),[n,s]=L.useState(null),[o,u]=L.useState([]),[h,m]=L.useState(null),[p,g]=L.useState(""),[v,T]=L.useState(""),[w,C]=L.useState([]);L.useEffect(()=>{m(null)},[p,v]),L.useEffect(()=>{Zt.currentUser&&e(Zt.currentUser.uid)},[]),L.useEffect(()=>{if(!n?.uid)return;(async()=>{try{const V=$n(kt(nt,"Reservations"),Jt("uid","==",n.uid)),Y=(await Vn(V)).docs.map(ie=>({id:ie.id,...ie.data()}));C(Y)}catch(V){console.error("Error fetching appointments:",V)}})()},[n]),L.useEffect(()=>{(async()=>{if(n)try{const V=kt(nt,`Patients/${n.id}/files`),Y=(await Vn(V)).docs.map(ie=>({id:ie.id,...ie.data()}));u(Y),m(null),T(""),g("")}catch(V){console.error("Error fetching files:",V),alert("Failed to fetch files.")}})()},[n]);const U=o.filter(j=>{const V=p?j.uploadType===p:!0,X=v?j.appointmentId===v:!0;return V&&X});return b.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[b.jsx("h2",{style:{textAlign:"center",fontSize:"1.1rem",letterSpacing:"0.18em",textTransform:"uppercase",color:"#4b5563",marginBottom:"0.5rem"},children:"View Patient Files"}),b.jsx("p",{style:{textAlign:"center",fontSize:"0.9rem",color:"#6b7280",marginBottom:"1.6rem"},children:"Search by last name to review uploaded documents."}),b.jsx(MA,{doctorId:r,onSelectPatient:s,setFiles:u,setSelectedFile:m}),o.length>0&&b.jsxs("div",{style:{marginBottom:"1rem"},children:[b.jsx("label",{style:up,children:"Filter by Type:"}),b.jsxs("select",{style:cp,value:p,onChange:j=>g(j.target.value),children:[b.jsx("option",{value:"",children:"All Types"}),b.jsx("option",{value:"Forms",children:"Forms"}),b.jsx("option",{value:"Test Results",children:"Test Results"}),b.jsx("option",{value:"Scans",children:"Scans"}),b.jsx("option",{value:"Notes",children:"Notes"}),b.jsx("option",{value:"Other",children:"Other"})]})]}),w.length>0&&b.jsxs("div",{style:{marginBottom:"1rem"},children:[b.jsx("label",{style:up,children:"Filter by Appointment:"}),b.jsxs("select",{style:cp,value:v,onChange:j=>T(j.target.value),children:[b.jsx("option",{value:"",children:"All Appointments"}),w.map(j=>b.jsx("option",{value:j.id,children:j.appointmentDate?.toDate?j.appointmentDate.toDate().toLocaleString():"Unknown date"},j.id))]})]}),U.length>0&&b.jsxs("div",{style:{marginBottom:"1rem"},children:[b.jsx("label",{style:up,children:"Select File:"}),b.jsxs("select",{style:cp,onChange:j=>m(U.find(V=>V.id===j.target.value)),defaultValue:"",children:[b.jsx("option",{value:"",children:"-- Choose File --"}),U.map(j=>b.jsxs("option",{value:j.id,children:[j.name,"  Uploaded:"," ",j.uploadedAt?.toDate?j.uploadedAt.toDate().toLocaleString():"N/A"]},j.id))]})]}),h&&b.jsx("div",{style:{marginTop:"1rem"},children:h.name.endsWith(".pdf")?b.jsx("iframe",{src:h.url,width:"100%",height:"600px",title:h.name}):b.jsx("img",{src:h.url,alt:h.name,style:{width:"100%",maxHeight:"600px",objectFit:"contain"}})})]})}const up={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},cp={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"};function ZV(){return b.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#F8FBFF",padding:"2.5rem 2rem",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, Poppins, system-ui, sans-serif"},children:[b.jsx("h1",{style:{textAlign:"center",fontSize:"2rem",fontWeight:700,marginBottom:"2.2rem",letterSpacing:"0.12em",textTransform:"uppercase",color:"#1f2937"},children:"Doctor Dashboard"}),b.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:b.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:b.jsx(qV,{})})}),b.jsx("section",{style:{background:"#e9f2ff",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(147, 197, 253, 0.18)",marginBottom:"2rem"},children:b.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:b.jsx(GV,{})})}),b.jsx("section",{style:{background:"#ecfff4",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(167, 243, 208, 0.18)",marginBottom:"2rem"},children:b.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:b.jsx(JV,{})})}),b.jsx(OA,{})]})}function e4(){return b.jsxs("div",{className:"landing-shell",children:[b.jsxs("header",{className:"landing-nav",children:[b.jsx("div",{className:"landing-nav-left",children:b.jsx("span",{className:"landing-logo",children:"MedMMO"})}),b.jsxs("nav",{className:"landing-nav-links",children:[b.jsx("a",{href:"#about",children:"About"}),b.jsx("a",{href:"#services",children:"Services"}),b.jsx("a",{href:"#contact",children:"Contacts"})]}),b.jsx(Uh,{to:"/login",children:b.jsx("button",{className:"landing-login-btn",children:"Login"})})]}),b.jsxs("main",{className:"landing-main",children:[b.jsxs("div",{className:"landing-text",children:[b.jsxs("h1",{children:[b.jsx("span",{className:"landing-line1",children:"Find a"}),b.jsx("span",{className:"landing-line2",children:"DOCTOR"})]}),b.jsx("p",{className:"landing-subtitle",children:"Your secure portal to manage medical records and connect with professionals."}),b.jsx(Uh,{to:"/FindDoctor",children:b.jsx("button",{className:"btn-primary landing-cta",children:" Get Started "})})]}),b.jsx("div",{className:"landing-image",children:b.jsx("img",{src:"Med_LandingPage.jpg",alt:"Doctor"})})]})]})}const w0=["Male","Female","Other"];function t4({selectedDoctor:r,onRegistrationComplete:e,onUidReady:n}){const[s,o]=L.useState({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""}),[u,h]=L.useState(""),m=T=>{const{name:w,value:C}=T.target;o(U=>({...U,[w]:C}))},p=async T=>{if(T.preventDefault(),h("Saving..."),!w0.includes(s.gender)){h(" Invalid Gender selected.");return}try{const C=(await Fg(Zt,s.email,s.password)).user;await tA(C);const U=Date.now();await Bo(kt(nt,"Patients"),{...s,patient_id:U,created_at:He.fromDate(new Date),uid:C.uid,doctor_id:r.id}),await kg(Ds(nt,"Users",C.uid),{email:s.email,role:"patient",patient_id:U,doctor_id:r.id,created_at:He.fromDate(new Date)}),n&&n(C.uid),h("Patient registered successfully! Verification email sent."),o({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""}),e&&e()}catch(w){console.error("Error adding patient:",w),h("Error adding patient. Check console.")}},g={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",backgroundColor:"#f9fafb",marginBottom:"0.75rem"},v={border:"none",borderRadius:"999px",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #3B82F6 0%, #93C5FD 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(59,130,246,0.22)",width:"100%",marginTop:"1rem"};return b.jsxs("div",{style:{maxWidth:520,margin:"1rem auto",padding:"1rem",border:"1px solid #e5e7eb",borderRadius:"1rem"},children:[b.jsx("h3",{style:{textAlign:"center",marginBottom:"1rem"},children:"Register to Book Appointment"}),b.jsxs("form",{onSubmit:p,style:{display:"grid",gap:"0.8rem"},children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"first_name",children:"First Name"}),b.jsx("input",{style:g,id:"first_name",name:"first_name",placeholder:"First Name",value:s.first_name,onChange:m,required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"last_name",children:"Last Name"}),b.jsx("input",{style:g,id:"last_name",name:"last_name",placeholder:"Last Name",value:s.last_name,onChange:m,required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",children:"Email"}),b.jsx("input",{style:g,type:"email",id:"email",name:"email",placeholder:"Email",value:s.email,onChange:m,required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",children:"Password"}),b.jsx("input",{style:g,type:"password",id:"password",name:"password",placeholder:"Password",value:s.password,onChange:m,required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"address",children:"Address"}),b.jsx("input",{style:g,id:"address",name:"address",placeholder:"Address",value:s.address,onChange:m})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"date_of_birth",children:"Date of Birth"}),b.jsx("input",{style:g,type:"date",id:"date_of_birth",name:"date_of_birth",value:s.date_of_birth,onChange:m,required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"phone_number",children:"Phone Number"}),b.jsx("input",{style:g,id:"phone_number",name:"phone_number",placeholder:"Phone Number",value:s.phone_number,onChange:m,required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"emergency_contact_name",children:"Emergency Contact Name"}),b.jsx("input",{style:g,id:"emergency_contact_name",name:"emergency_contact_name",placeholder:"Emergency Contact Name",value:s.emergency_contact_name,onChange:m})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"emergency_contact_phone",children:"Emergency Contact Phone"}),b.jsx("input",{style:g,id:"emergency_contact_phone",name:"emergency_contact_phone",placeholder:"Emergency Contact Phone",value:s.emergency_contact_phone,onChange:m})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"gender",children:"Gender"}),b.jsxs("select",{id:"gender",name:"gender",value:s.gender,onChange:m,required:!0,style:g,children:[b.jsx("option",{value:"",children:"Select Gender"}),w0.map(T=>b.jsx("option",{value:T,children:T},T))]})]}),b.jsx("button",{style:v,type:"submit",children:"Register & Continue Booking"})]}),u&&b.jsx("p",{style:{textAlign:"center",marginTop:"0.5rem"},children:u})]})}function n4(){const[r,e]=L.useState(""),[n,s]=L.useState([]),[o,u]=L.useState(null),[h,m]=L.useState(""),[p,g]=L.useState([]),[v,T]=L.useState(""),[w,C]=L.useState(""),[U,j]=L.useState(!1),[V,X]=L.useState(!1),[Y,ie]=L.useState(""),le=["New York City","Boston","New Jersey City","Long Island"];L.useEffect(()=>{if(!r)return;(async()=>{try{const D=kt(nt,"Doctors"),R=$n(D,Jt("location","==",r),Jt("patients","<",6)),P=(await Vn(R)).docs.map(O=>({id:O.id,...O.data()}));s(P)}catch(D){console.error("Error fetching doctors:",D)}})()},[r]),L.useEffect(()=>{if(!o||!h)return;(async()=>{const D=new Date(h);D.setHours(0,0,0,0);const R=new Date(h);R.setHours(23,59,59,999);const I=$n(kt(nt,"Reservations"),Jt("doctorId","==",o.id),Jt("appointmentDate",">=",D),Jt("appointmentDate","<=",R)),O=(await Vn(I)).docs.map(Ke=>new Date(Ke.data().appointmentDate).getHours()),x=Array.from({length:9},(Ke,yt)=>yt+9).filter(Ke=>!O.includes(Ke));g(x),T("")})()},[o,h]);const me=async()=>{if(!o||!h||v===""||!w){alert("Please select doctor, date, time, and enter your email.");return}const re=new Date(h);re.setHours(v,0,0,0);try{await Bo(kt(nt,"Reservations"),{doctorId:o.id,appointmentDate:re,email:w,uid:Y,status:"pending",createdAt:Pg()}),alert(`Appointment requested with Dr. ${o.first_name} ${o.last_name} at ${v}:00. Please check your email to confirm.`),u(null),m(""),T(""),C(""),g([]),X(!1),j(!1)}catch(D){console.error("Error booking appointment:",D),alert("Failed to book appointment.")}};return b.jsxs("div",{className:"find-doctor-container",children:[b.jsx("h1",{children:"Find a Doctor in Your Area"}),b.jsxs("select",{value:r,onChange:re=>e(re.target.value),children:[b.jsx("option",{value:"",children:"Select Location"}),le.map(re=>b.jsx("option",{value:re,children:re},re))]}),b.jsxs("div",{className:"doctor-list",children:[n.length===0&&r&&b.jsx("p",{children:"No available doctors in this area."}),n.map(re=>b.jsxs("div",{className:"doctor-card",children:[b.jsxs("h3",{children:[re.first_name," ",re.last_name]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Location:"})," ",re.location]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Specialty:"})," ",re.specialty||"General"]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Phone:"})," ",re.phone_number]}),b.jsx("button",{onClick:()=>{u(re),j(!0),X(!1)},children:"Book Now"})]},re.id))]}),o&&U&&!V&&b.jsx(t4,{selectedDoctor:o,onRegistrationComplete:()=>X(!0),onUidReady:re=>ie(re)}),o&&V&&b.jsxs("div",{className:"booking-section",children:[b.jsxs("h2",{children:["Book an Appointment with Dr. ",o.first_name," ",o.last_name]}),b.jsxs("label",{children:["Your Email:",b.jsx("input",{type:"email",value:w,onChange:re=>C(re.target.value),placeholder:"you@example.com"})]}),b.jsxs("label",{children:["Date:",b.jsx("input",{type:"date",value:h,onChange:re=>m(re.target.value)})]}),p.length>0&&b.jsxs("label",{children:["Time:",b.jsxs("select",{value:v,onChange:re=>T(parseInt(re.target.value)),children:[b.jsx("option",{value:"",children:"Select Time"}),p.map(re=>b.jsxs("option",{value:re,children:[re,":00"]},re))]})]}),b.jsx("button",{onClick:me,children:"Request Appointment"})]})]})}function i4(){return b.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f0f4ff",fontFamily:"sans-serif",padding:"2rem"},children:b.jsx("div",{style:{width:"100%",maxWidth:"500px"},children:b.jsx(vV,{})})})}function r4(){return b.jsxs(hR,{children:[b.jsx(la,{path:"/",element:b.jsx(e4,{})}),b.jsx(la,{path:"/login",element:b.jsx(SV,{})}),b.jsx(la,{path:"/FindDoctor",element:b.jsx(n4,{})}),b.jsx(la,{path:"/patient",element:b.jsx(BV,{})}),b.jsx(la,{path:"/doctor",element:b.jsx(ZV,{})}),b.jsx(la,{path:"/doctor-signup",element:b.jsx(i4,{})})]})}T1.createRoot(document.getElementById("root")).render(b.jsx(VR,{basename:"/~mballard7/medical-records-swe/medical-records-deploy",children:b.jsx(r4,{})}));
