(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function zw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var wm={exports:{}},Gl={};var Xv;function jw(){if(Xv)return Gl;Xv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=e,Gl.jsx=n,Gl.jsxs=n,Gl}var $v;function Bw(){return $v||($v=1,wm.exports=jw()),wm.exports}var N=Bw(),Rm={exports:{}},be={};var Wv;function qw(){if(Wv)return be;Wv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),A=Symbol.iterator;function k(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,P={};function W(M,Z,ae){this.props=M,this.context=Z,this.refs=P,this.updater=ae||K}W.prototype.isReactComponent={},W.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},W.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=W.prototype;function ie(M,Z,ae){this.props=M,this.context=Z,this.refs=P,this.updater=ae||K}var he=ie.prototype=new ne;he.constructor=ie,Q(he,W.prototype),he.isPureReactComponent=!0;var ye=Array.isArray;function Ee(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(M,Z,ae){var ue=ae.ref;return{$$typeof:r,type:M,key:Z,ref:ue!==void 0?ue:null,props:ae}}function V(M,Z){return R(M.type,Z,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return Z[ae]})}var I=/\/+/g;function st(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):Z.toString(36)}function xt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ee,Ee):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function X(M,Z,ae,ue,Te){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=M._init,X(Ue(M._payload),Z,ae,ue,Te)}}if(Ue)return Te=Te(M),Ue=ue===""?"."+st(M,0):ue,ye(Te)?(ae="",Ue!=null&&(ae=Ue.replace(I,"$&/")+"/"),X(Te,Z,ae,"",function(bs){return bs})):Te!=null&&(O(Te)&&(Te=V(Te,ae+(Te.key==null||M&&M.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+Ue)),Z.push(Te)),1;Ue=0;var Mt=ue===""?".":ue+":";if(ye(M))for(var at=0;at<M.length;at++)ue=M[at],Ce=Mt+st(ue,at),Ue+=X(ue,Z,ae,Ce,Te);else if(at=k(M),typeof at=="function")for(M=at.call(M),at=0;!(ue=M.next()).done;)ue=ue.value,Ce=Mt+st(ue,at++),Ue+=X(ue,Z,ae,Ce,Te);else if(Ce==="object"){if(typeof M.then=="function")return X(xt(M),Z,ae,ue,Te);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(M,Z,ae){if(M==null)return M;var ue=[],Te=0;return X(M,ue,"","",function(Ce){return Z.call(ae,Ce,Te++)}),ue}function pe(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var ze=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:se,forEach:function(M,Z,ae){se(M,function(){Z.apply(this,arguments)},ae)},count:function(M){var Z=0;return se(M,function(){Z++}),Z},toArray:function(M){return se(M,function(Z){return Z})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return be.Activity=S,be.Children=Ge,be.Component=W,be.Fragment=n,be.Profiler=o,be.PureComponent=ie,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,be.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},be.cache=function(M){return function(){return M.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(M,Z,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=Q({},M.props),Te=M.key;if(Z!=null)for(Ce in Z.key!==void 0&&(Te=""+Z.key),Z)!w.call(Z,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Z.ref===void 0||(ue[Ce]=Z[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ae;else if(1<Ce){for(var Ue=Array(Ce),Mt=0;Mt<Ce;Mt++)Ue[Mt]=arguments[Mt+2];ue.children=Ue}return R(M.type,Te,ue)},be.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},be.createElement=function(M,Z,ae){var ue,Te={},Ce=null;if(Z!=null)for(ue in Z.key!==void 0&&(Ce=""+Z.key),Z)w.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=Z[ue]);var Ue=arguments.length-2;if(Ue===1)Te.children=ae;else if(1<Ue){for(var Mt=Array(Ue),at=0;at<Ue;at++)Mt[at]=arguments[at+2];Te.children=Mt}if(M&&M.defaultProps)for(ue in Ue=M.defaultProps,Ue)Te[ue]===void 0&&(Te[ue]=Ue[ue]);return R(M,Ce,Te)},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:m,render:M}},be.isValidElement=O,be.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:pe}},be.memo=function(M,Z){return{$$typeof:g,type:M,compare:Z===void 0?null:Z}},be.startTransition=function(M){var Z=C.T,ae={};C.T=ae;try{var ue=M(),Te=C.S;Te!==null&&Te(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ee,ze)}catch(Ce){ze(Ce)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),C.T=Z}},be.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},be.use=function(M){return C.H.use(M)},be.useActionState=function(M,Z,ae){return C.H.useActionState(M,Z,ae)},be.useCallback=function(M,Z){return C.H.useCallback(M,Z)},be.useContext=function(M){return C.H.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M,Z){return C.H.useDeferredValue(M,Z)},be.useEffect=function(M,Z){return C.H.useEffect(M,Z)},be.useEffectEvent=function(M){return C.H.useEffectEvent(M)},be.useId=function(){return C.H.useId()},be.useImperativeHandle=function(M,Z,ae){return C.H.useImperativeHandle(M,Z,ae)},be.useInsertionEffect=function(M,Z){return C.H.useInsertionEffect(M,Z)},be.useLayoutEffect=function(M,Z){return C.H.useLayoutEffect(M,Z)},be.useMemo=function(M,Z){return C.H.useMemo(M,Z)},be.useOptimistic=function(M,Z){return C.H.useOptimistic(M,Z)},be.useReducer=function(M,Z,ae){return C.H.useReducer(M,Z,ae)},be.useRef=function(M){return C.H.useRef(M)},be.useState=function(M){return C.H.useState(M)},be.useSyncExternalStore=function(M,Z,ae){return C.H.useSyncExternalStore(M,Z,ae)},be.useTransition=function(){return C.H.useTransition()},be.version="19.2.0",be}var Jv;function bp(){return Jv||(Jv=1,Rm.exports=qw()),Rm.exports}var F=bp(),Cm={exports:{}},Kl={},Im={exports:{}},Dm={};var Zv;function Hw(){return Zv||(Zv=1,(function(r){function e(X,se){var pe=X.length;X.push(se);e:for(;0<pe;){var ze=pe-1>>>1,Ge=X[ze];if(0<o(Ge,se))X[ze]=se,X[pe]=Ge,pe=ze;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var se=X[0],pe=X.pop();if(pe!==se){X[0]=pe;e:for(var ze=0,Ge=X.length,M=Ge>>>1;ze<M;){var Z=2*(ze+1)-1,ae=X[Z],ue=Z+1,Te=X[ue];if(0>o(ae,pe))ue<Ge&&0>o(Te,ae)?(X[ze]=Te,X[ue]=pe,ze=ue):(X[ze]=ae,X[Z]=pe,ze=Z);else if(ue<Ge&&0>o(Te,pe))X[ze]=Te,X[ue]=pe,ze=ue;else break e}}return se}function o(X,se){var pe=X.sortIndex-se.sortIndex;return pe!==0?pe:X.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,S=null,A=3,k=!1,K=!1,Q=!1,P=!1,W=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function he(X){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=X)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function ye(X){if(Q=!1,he(X),!K)if(n(p)!==null)K=!0,Ee||(Ee=!0,L());else{var se=n(g);se!==null&&xt(ye,se.startTime-X)}}var Ee=!1,C=-1,w=5,R=-1;function V(){return P?!0:!(r.unstable_now()-R<w)}function O(){if(P=!1,Ee){var X=r.unstable_now();R=X;var se=!0;try{e:{K=!1,Q&&(Q=!1,ne(C),C=-1),k=!0;var pe=A;try{t:{for(he(X),S=n(p);S!==null&&!(S.expirationTime>X&&V());){var ze=S.callback;if(typeof ze=="function"){S.callback=null,A=S.priorityLevel;var Ge=ze(S.expirationTime<=X);if(X=r.unstable_now(),typeof Ge=="function"){S.callback=Ge,he(X),se=!0;break t}S===n(p)&&s(p),he(X)}else s(p);S=n(p)}if(S!==null)se=!0;else{var M=n(g);M!==null&&xt(ye,M.startTime-X),se=!1}}break e}finally{S=null,A=pe,k=!1}se=void 0}}finally{se?L():Ee=!1}}}var L;if(typeof ie=="function")L=function(){ie(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,st=I.port2;I.port1.onmessage=O,L=function(){st.postMessage(null)}}else L=function(){W(O,0)};function xt(X,se){C=W(function(){X(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(X){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var pe=A;A=se;try{return X()}finally{A=pe}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=A;A=X;try{return se()}finally{A=pe}},r.unstable_scheduleCallback=function(X,se,pe){var ze=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,X){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,X={id:E++,callback:se,priorityLevel:X,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>ze?(X.sortIndex=pe,e(g,X),n(p)===null&&X===n(g)&&(Q?(ne(C),C=-1):Q=!0,xt(ye,pe-ze))):(X.sortIndex=Ge,e(p,X),K||k||(K=!0,Ee||(Ee=!0,L()))),X},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(X){var se=A;return function(){var pe=A;A=se;try{return X.apply(this,arguments)}finally{A=pe}}}})(Dm)),Dm}var eE;function Fw(){return eE||(eE=1,Im.exports=Hw()),Im.exports}var Nm={exports:{}},Wt={};var tE;function Gw(){if(tE)return Wt;tE=1;var r=bp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Wt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:A,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.2.0",Wt}var nE;function Kw(){if(nE)return Nm.exports;nE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nm.exports=Gw(),Nm.exports}var iE;function Qw(){if(iE)return Kl;iE=1;var r=Fw(),e=bp(),n=Kw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,l=d;break}if(T===l){_=!0,l=f,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=f;break}if(T===l){_=!0,l=d,a=f;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,A=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case W:return"Profiler";case P:return"StrictMode";case ye:return"Suspense";case Ee:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case he:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:st(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return st(t(i))}catch{}}return null}var xt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],Ge=-1;function M(t){return{current:t}}function Z(t){0>Ge||(t.current=ze[Ge],ze[Ge]=null,Ge--)}function ae(t,i){Ge++,ze[Ge]=t.current,t.current=i}var ue=M(null),Te=M(null),Ce=M(null),Ue=M(null);function Mt(t,i){switch(ae(Ce,i),ae(Te,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?_v(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=_v(i),t=vv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ue),ae(ue,t)}function at(){Z(ue),Z(Te),Z(Ce)}function bs(t){t.memoizedState!==null&&ae(Ue,t);var i=ue.current,a=vv(i,t.type);i!==a&&(ae(Te,t),ae(ue,a))}function Ea(t){Te.current===t&&(Z(ue),Z(Te)),Ue.current===t&&(Z(Ue),Bl._currentValue=pe)}var Ta,Sa;function si(t){if(Ta===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ta=i&&i[1]||"",Sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+t+Sa}var Bo=!1;function As(t,i){if(!t||Bo)return"";Bo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var q=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){q=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){q=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),B=T.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===B.length)for(l=D.length-1,f=B.length-1;1<=l&&0<=f&&D[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==B[f]){var Y=`
`+D[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Bo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?si(a):""}function qo(t,i){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return t.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return As(t.type,!1);case 11:return As(t.type.render,!1);case 1:return As(t.type,!0);case 31:return si("Activity");default:return""}}function Ho(t){try{var i="",a=null;do i+=qo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,Sr=r.unstable_cancelCallback,Cf=r.unstable_shouldYield,Lu=r.unstable_requestPaint,nn=r.unstable_now,ws=r.unstable_getCurrentPriorityLevel,Fo=r.unstable_ImmediatePriority,Go=r.unstable_UserBlockingPriority,br=r.unstable_NormalPriority,If=r.unstable_LowPriority,zu=r.unstable_IdlePriority,ju=r.log,Bu=r.unstable_setDisableYieldValue,Hn=null,qt=null;function Cn(t){if(typeof ju=="function"&&Bu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Hn,t)}catch{}}var mt=Math.clz32?Math.clz32:Hu,qu=Math.log,ba=Math.LN2;function Hu(t){return t>>>=0,t===0?32:31-(qu(t)/ba|0)|0}var ai=256,Rs=262144,Et=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=oi(l):(_&=T,_!==0?f=oi(_):a||(a=T&~t,a!==0&&(f=oi(a))))):(T=l&~d,T!==0?f=oi(T):_!==0?f=oi(_):a||(a=l&~t,a!==0&&(f=oi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Df(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Cs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-mt(a),J=1<<Y;T[Y]=0,D[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var G=q[Y];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&Is(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Is(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Qo(t,i){var a=i&-i;return a=(a&42)!==0?1:Ds(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ds(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:qv(t.type))}function Gn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Kn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Kn,Ut="__reactProps$"+Kn,ci="__reactContainer$"+Kn,Aa="__reactEvents$"+Kn,Of="__reactListeners$"+Kn,Ku="__reactHandles$"+Kn,Qu="__reactResources$"+Kn,hi="__reactMarker$"+Kn;function wa(t){delete t[Tt],delete t[Ut],delete t[Aa],delete t[Of],delete t[Ku]}function fi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ci]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Rv(t);t!==null;){if(a=t[Tt])return a;t=Rv(t)}return i}t=a,a=t.parentNode}return null}function In(t){if(t=t[Tt]||t[ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function di(t){var i=t[Qu];return i||(i=t[Qu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[hi]=!0}var Yo=new Set,Xo={};function mi(t,i){pi(t,i),pi(t+"Capture",i)}function pi(t,i){for(Xo[t]=i,t=0;t<i.length;t++)Yo.add(i[t])}var $o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wo={},Jo={};function Yu(t){return vt.call(Jo,t)?!0:vt.call(Wo,t)?!1:$o.test(t)?Jo[t]=!0:(Wo[t]=!0,!1)}function Ra(t,i,a){if(Yu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ar(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=Ar(t)?"checked":"value";t._valueTracker=Zo(t,i,""+t[i])}}function Ns(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ar(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Os=/[\n"\\]/g;function on(t){return t.replace(Os,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ca(t,i,a,l,f,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?el(t,_,Lt(i)):a!=null?el(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Lt(T):t.removeAttribute("name")}function Xu(t,i,a,l,f,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function el(t,i,a){i==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function wr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function $u(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function Rr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(xt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Wu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function nl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&tl(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&tl(t,d,i[d])}function Ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(t){return Cr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var il=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ir=null,yi=null;function xs(t){var i=In(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Ut]||null;if(!f)throw Error(s(90));Ca(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ns(l)}break e;case"textarea":$u(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&wr(t,!!a.multiple,i,!1)}}}var Na=!1;function Dr(t,i,a){if(Na)return t(i,a);Na=!0;try{var l=t(i);return l}finally{if(Na=!1,(Ir!==null||yi!==null)&&(Gc(),Ir&&(i=Ir,t=yi,yi=Ir=null,xs(i),t)))for(i=0;i<t.length;i++)xs(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ms=!1;if(Nn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Ms=!1}var _i=null,rl=null,Vs=null;function sl(){if(Vs)return Vs;var t,i=rl,a=i.length,l,f="value"in _i?_i.value:_i.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Vs=f.slice(t,1<l?1-l:void 0)}function Ps(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function Xn(){return!1}function Ht(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:Xn,this.isPropagationStopped=Xn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Ht(Gi),Nr=S({},Gi,{view:0,detail:0}),al=Ht(Nr),Or,Oa,Ei,xa=S({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Or=t.screenX-Ei.screenX,Oa=t.screenY-Ei.screenY):Oa=Or=0,Ei=t),Or)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),ol=Ht(xa),ks=S({},xa,{dataTransfer:0}),Zu=Ht(ks),ec=S({},Nr,{relatedTarget:0}),Us=Ht(ec),ll=S({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),tc=Ht(ll),Ma=S({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nc=Ht(Ma),ic=S({},Gi,{data:0}),Ti=Ht(ic),rc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ac[t])?!!i[t]:!1}function xr(){return oc}var rn=S({},Nr,{key:function(t){if(t.key){var i=rc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lc=Ht(rn),uc=S({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Ht(uc),c=S({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),y=Ht(c),v=S({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ht(v),z=S({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Ht(z),re=S({},Gi,{newState:0,oldState:0}),we=Ht(re),pt=[9,13,27,32],qe=Nn&&"CompositionEvent"in window,ot=null;Nn&&"documentMode"in document&&(ot=document.documentMode);var On=Nn&&"TextEvent"in window&&!ot,Si=Nn&&(!qe||ot&&8<ot&&11>=ot),$n=" ",Wn=!1;function Ls(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function uA(t,i){switch(t){case"compositionend":return Va(i);case"keypress":return i.which!==32?null:(Wn=!0,$n);case"textInput":return t=i.data,t===$n&&Wn?null:t;default:return null}}function cA(t,i){if(Pa)return t==="compositionend"||!qe&&Ls(t,i)?(t=sl(),Vs=rl=_i=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Si&&i.locale!=="ko"?null:i.data;default:return null}}var hA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!hA[t.type]:i==="textarea"}function Ng(t,i,a,l){Ir?yi?yi.push(l):yi=[l]:Ir=l,i=Jc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ul=null,cl=null;function fA(t){fv(t,0)}function cc(t){var i=gn(t);if(Ns(i))return t}function Og(t,i){if(t==="change")return i}var xg=!1;if(Nn){var xf;if(Nn){var Mf="oninput"in document;if(!Mf){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Mf=typeof Mg.oninput=="function"}xf=Mf}else xf=!1;xg=xf&&(!document.documentMode||9<document.documentMode)}function Vg(){ul&&(ul.detachEvent("onpropertychange",Pg),cl=ul=null)}function Pg(t){if(t.propertyName==="value"&&cc(cl)){var i=[];Ng(i,cl,t,Dn(t)),Dr(fA,i)}}function dA(t,i,a){t==="focusin"?(Vg(),ul=i,cl=a,ul.attachEvent("onpropertychange",Pg)):t==="focusout"&&Vg()}function mA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cc(cl)}function pA(t,i){if(t==="click")return cc(i)}function gA(t,i){if(t==="input"||t==="change")return cc(i)}function yA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:yA;function hl(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!vt.call(i,f)||!_n(t[f],i[f]))return!1}return!0}function kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ug(t,i){var a=kg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kg(a)}}function Lg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Lg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function zg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=gi(t.document)}return i}function Vf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var _A=Nn&&"documentMode"in document&&11>=document.documentMode,ka=null,Pf=null,fl=null,kf=!1;function jg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kf||ka==null||ka!==gi(l)||(l=ka,"selectionStart"in l&&Vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Jc(Pf,"onSelect"),0<l.length&&(i=new vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ka)))}function zs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ua={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},Uf={},Bg={};Nn&&(Bg=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function js(t){if(Uf[t])return Uf[t];if(!Ua[t])return t;var i=Ua[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Bg)return Uf[t]=i[a];return t}var qg=js("animationend"),Hg=js("animationiteration"),Fg=js("animationstart"),vA=js("transitionrun"),EA=js("transitionstart"),TA=js("transitioncancel"),Gg=js("transitionend"),Kg=new Map,Lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lf.push("scrollEnd");function Jn(t,i){Kg.set(t,i),mi(i,[t])}var hc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],La=0,zf=0;function fc(){for(var t=La,i=zf=La=0;i<t;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var f=xn[i];xn[i++]=null;var d=xn[i];if(xn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Qg(a,f,d)}}function dc(t,i,a,l){xn[La++]=t,xn[La++]=i,xn[La++]=a,xn[La++]=l,zf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jf(t,i,a,l){return dc(t,i,a,l),mc(t)}function Bs(t,i){return dc(t,null,null,i),mc(t)}function Qg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-mt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function mc(t){if(50<Vl)throw Vl=0,Xd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var za={};function SA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new SA(t,i,a,l)}function Bf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Yg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function pc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Bf(t)&&(_=1);else if(typeof t=="string")_=Cw(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,a,i,f),t.elementType=R,t.lanes=d,t;case Q:return qs(a.children,f,d,i);case P:_=8,f|=24;break;case W:return t=vn(12,a,i,f|2),t.elementType=W,t.lanes=d,t;case ye:return t=vn(13,a,i,f),t.elementType=ye,t.lanes=d,t;case Ee:return t=vn(19,a,i,f),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ne:_=9;break e;case he:_=11;break e;case C:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function qs(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function qf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Xg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function Hf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var $g=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=$g.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ho(i)},$g.set(t,i),i)}return{value:t,source:i,stack:Ho(i)}}var ja=[],Ba=0,gc=null,dl=0,Vn=[],Pn=0,Mr=null,bi=1,Ai="";function Yi(t,i){ja[Ba++]=dl,ja[Ba++]=gc,gc=t,dl=i}function Wg(t,i,a){Vn[Pn++]=bi,Vn[Pn++]=Ai,Vn[Pn++]=Mr,Mr=t;var l=bi;t=Ai;var f=32-mt(l)-1;l&=~(1<<f),a+=1;var d=32-mt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,bi=1<<32-mt(i)+f|a<<f|l,Ai=d+t}else bi=1<<d|a<<f|l,Ai=t}function Ff(t){t.return!==null&&(Yi(t,1),Wg(t,1,0))}function Gf(t){for(;t===gc;)gc=ja[--Ba],ja[Ba]=null,dl=ja[--Ba],ja[Ba]=null;for(;t===Mr;)Mr=Vn[--Pn],Vn[Pn]=null,Ai=Vn[--Pn],Vn[Pn]=null,bi=Vn[--Pn],Vn[Pn]=null}function Jg(t,i){Vn[Pn++]=bi,Vn[Pn++]=Ai,Vn[Pn++]=Mr,bi=i.id,Ai=i.overflow,Mr=t}var Ft=null,nt=null,ke=!1,Vr=null,kn=!1,Kf=Error(s(519));function Pr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(Mn(i,t)),Kf}function Zg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[Ut]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<kl.length;a++)Ne(kl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Xu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Rr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||gv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||Pr(t,!0)}function ey(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Ft=Ft.return}}function qa(t){if(t!==Ft)return!1;if(!ke)return ey(t),ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||cm(t.type,t.memoizedProps)),a=!a),a&&nt&&Pr(t),ey(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=wv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=wv(t)}else i===27?(i=nt,Xr(t.type)?(t=pm,pm=null,nt=t):nt=i):nt=Ft?Ln(t.stateNode.nextSibling):null;return!0}function Hs(){nt=Ft=null,ke=!1}function Qf(){var t=Vr;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Vr=null),t}function ml(t){Vr===null?Vr=[t]:Vr.push(t)}var Yf=M(null),Fs=null,Xi=null;function kr(t,i,a){ae(Yf,i._currentValue),i._currentValue=a}function $i(t){t._currentValue=Yf.current,Z(Yf)}function Xf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function $f(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Xf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Xf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ha(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=f.type;_n(f.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}f=f.return}t!==null&&$f(i,t,a,l),i.flags|=262144}function yc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gs(t){Fs=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return ty(Fs,t)}function _c(t,i){return Fs===null&&Gs(t),ty(t,i)}function ty(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xi===null){if(t===null)throw Error(s(308));Xi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Xi=Xi.next=i;return a}var bA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},AA=r.unstable_scheduleCallback,wA=r.unstable_NormalPriority,At={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new bA,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&AA(wA,function(){t.controller.abort()})}var gl=null,Jf=0,Fa=0,Ga=null;function RA(t,i){if(gl===null){var a=gl=[];Jf=0,Fa=tm(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jf++,i.then(ny,ny),i}function ny(){if(--Jf===0&&gl!==null){Ga!==null&&(Ga.status="fulfilled");var t=gl;gl=null,Fa=0,Ga=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function CA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var iy=X.S;X.S=function(t,i){j_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&RA(t,i),iy!==null&&iy(t,i)};var Ks=M(null);function Zf(){var t=Ks.current;return t!==null?t:et.pooledCache}function vc(t,i){i===null?ae(Ks,Ks.current):ae(Ks,i.pool)}function ry(){var t=Zf();return t===null?null:{parent:At._currentValue,pool:t}}var Ka=Error(s(460)),ed=Error(s(474)),Ec=Error(s(542)),Tc={then:function(){}};function sy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ay(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ly(t),t;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ly(t),t}throw Ys=i,Ka}}function Qs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ys=a,Ka):a}}var Ys=null;function oy(){if(Ys===null)throw Error(s(459));var t=Ys;return Ys=null,t}function ly(t){if(t===Ka||t===Ec)throw Error(s(483))}var Qa=null,yl=0;function Sc(t){var i=yl;return yl+=1,Qa===null&&(Qa=[]),ay(Qa,t,i)}function _l(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function bc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function uy(t){function i(U,x){if(t){var j=U.deletions;j===null?(U.deletions=[x],U.flags|=16):j.push(x)}}function a(U,x){if(!t)return null;for(;x!==null;)i(U,x),x=x.sibling;return null}function l(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function f(U,x){return U=Qi(U,x),U.index=0,U.sibling=null,U}function d(U,x,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<x?(U.flags|=67108866,x):j):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,x,j,$){return x===null||x.tag!==6?(x=qf(j,U.mode,$),x.return=U,x):(x=f(x,j),x.return=U,x)}function D(U,x,j,$){var de=j.type;return de===Q?Y(U,x,j.props.children,$,j.key):x!==null&&(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Qs(de)===x.type)?(x=f(x,j.props),_l(x,j),x.return=U,x):(x=pc(j.type,j.key,j.props,null,U.mode,$),_l(x,j),x.return=U,x)}function B(U,x,j,$){return x===null||x.tag!==4||x.stateNode.containerInfo!==j.containerInfo||x.stateNode.implementation!==j.implementation?(x=Hf(j,U.mode,$),x.return=U,x):(x=f(x,j.children||[]),x.return=U,x)}function Y(U,x,j,$,de){return x===null||x.tag!==7?(x=qs(j,U.mode,$,de),x.return=U,x):(x=f(x,j),x.return=U,x)}function J(U,x,j){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=qf(""+x,U.mode,j),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case k:return j=pc(x.type,x.key,x.props,null,U.mode,j),_l(j,x),j.return=U,j;case K:return x=Hf(x,U.mode,j),x.return=U,x;case w:return x=Qs(x),J(U,x,j)}if(xt(x)||L(x))return x=qs(x,U.mode,j,null),x.return=U,x;if(typeof x.then=="function")return J(U,Sc(x),j);if(x.$$typeof===ie)return J(U,_c(U,x),j);bc(U,x)}return null}function q(U,x,j,$){var de=x!==null?x.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:T(U,x,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case k:return j.key===de?D(U,x,j,$):null;case K:return j.key===de?B(U,x,j,$):null;case w:return j=Qs(j),q(U,x,j,$)}if(xt(j)||L(j))return de!==null?null:Y(U,x,j,$,null);if(typeof j.then=="function")return q(U,x,Sc(j),$);if(j.$$typeof===ie)return q(U,x,_c(U,j),$);bc(U,j)}return null}function G(U,x,j,$,de){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(j)||null,T(x,U,""+$,de);if(typeof $=="object"&&$!==null){switch($.$$typeof){case k:return U=U.get($.key===null?j:$.key)||null,D(x,U,$,de);case K:return U=U.get($.key===null?j:$.key)||null,B(x,U,$,de);case w:return $=Qs($),G(U,x,j,$,de)}if(xt($)||L($))return U=U.get(j)||null,Y(x,U,$,de,null);if(typeof $.then=="function")return G(U,x,j,Sc($),de);if($.$$typeof===ie)return G(U,x,j,_c(x,$),de);bc(x,$)}return null}function ce(U,x,j,$){for(var de=null,je=null,fe=x,Ie=x=0,xe=null;fe!==null&&Ie<j.length;Ie++){fe.index>Ie?(xe=fe,fe=null):xe=fe.sibling;var Be=q(U,fe,j[Ie],$);if(Be===null){fe===null&&(fe=xe);break}t&&fe&&Be.alternate===null&&i(U,fe),x=d(Be,x,Ie),je===null?de=Be:je.sibling=Be,je=Be,fe=xe}if(Ie===j.length)return a(U,fe),ke&&Yi(U,Ie),de;if(fe===null){for(;Ie<j.length;Ie++)fe=J(U,j[Ie],$),fe!==null&&(x=d(fe,x,Ie),je===null?de=fe:je.sibling=fe,je=fe);return ke&&Yi(U,Ie),de}for(fe=l(fe);Ie<j.length;Ie++)xe=G(fe,U,Ie,j[Ie],$),xe!==null&&(t&&xe.alternate!==null&&fe.delete(xe.key===null?Ie:xe.key),x=d(xe,x,Ie),je===null?de=xe:je.sibling=xe,je=xe);return t&&fe.forEach(function(es){return i(U,es)}),ke&&Yi(U,Ie),de}function ge(U,x,j,$){if(j==null)throw Error(s(151));for(var de=null,je=null,fe=x,Ie=x=0,xe=null,Be=j.next();fe!==null&&!Be.done;Ie++,Be=j.next()){fe.index>Ie?(xe=fe,fe=null):xe=fe.sibling;var es=q(U,fe,Be.value,$);if(es===null){fe===null&&(fe=xe);break}t&&fe&&es.alternate===null&&i(U,fe),x=d(es,x,Ie),je===null?de=es:je.sibling=es,je=es,fe=xe}if(Be.done)return a(U,fe),ke&&Yi(U,Ie),de;if(fe===null){for(;!Be.done;Ie++,Be=j.next())Be=J(U,Be.value,$),Be!==null&&(x=d(Be,x,Ie),je===null?de=Be:je.sibling=Be,je=Be);return ke&&Yi(U,Ie),de}for(fe=l(fe);!Be.done;Ie++,Be=j.next())Be=G(fe,U,Ie,Be.value,$),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Ie:Be.key),x=d(Be,x,Ie),je===null?de=Be:je.sibling=Be,je=Be);return t&&fe.forEach(function(Lw){return i(U,Lw)}),ke&&Yi(U,Ie),de}function Ze(U,x,j,$){if(typeof j=="object"&&j!==null&&j.type===Q&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case k:e:{for(var de=j.key;x!==null;){if(x.key===de){if(de=j.type,de===Q){if(x.tag===7){a(U,x.sibling),$=f(x,j.props.children),$.return=U,U=$;break e}}else if(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Qs(de)===x.type){a(U,x.sibling),$=f(x,j.props),_l($,j),$.return=U,U=$;break e}a(U,x);break}else i(U,x);x=x.sibling}j.type===Q?($=qs(j.props.children,U.mode,$,j.key),$.return=U,U=$):($=pc(j.type,j.key,j.props,null,U.mode,$),_l($,j),$.return=U,U=$)}return _(U);case K:e:{for(de=j.key;x!==null;){if(x.key===de)if(x.tag===4&&x.stateNode.containerInfo===j.containerInfo&&x.stateNode.implementation===j.implementation){a(U,x.sibling),$=f(x,j.children||[]),$.return=U,U=$;break e}else{a(U,x);break}else i(U,x);x=x.sibling}$=Hf(j,U.mode,$),$.return=U,U=$}return _(U);case w:return j=Qs(j),Ze(U,x,j,$)}if(xt(j))return ce(U,x,j,$);if(L(j)){if(de=L(j),typeof de!="function")throw Error(s(150));return j=de.call(j),ge(U,x,j,$)}if(typeof j.then=="function")return Ze(U,x,Sc(j),$);if(j.$$typeof===ie)return Ze(U,x,_c(U,j),$);bc(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,x!==null&&x.tag===6?(a(U,x.sibling),$=f(x,j),$.return=U,U=$):(a(U,x),$=qf(j,U.mode,$),$.return=U,U=$),_(U)):a(U,x)}return function(U,x,j,$){try{yl=0;var de=Ze(U,x,j,$);return Qa=null,de}catch(fe){if(fe===Ka||fe===Ec)throw fe;var je=vn(29,fe,null,U.mode);return je.lanes=$,je.return=U,je}finally{}}}var Xs=uy(!0),cy=uy(!1),Ur=!1;function td(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=mc(t),Qg(t,null,a),i}return dc(t,l,i,a),mc(t)}function vl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ko(t,a)}}function id(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var rd=!1;function El(){if(rd){var t=Ga;if(t!==null)throw t}}function Tl(t,i,a,l){rd=!1;var f=t.updateQueue;Ur=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,B=D.next;D.next=null,_===null?d=B:_.next=B,_=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=D))}if(d!==null){var J=f.baseState;_=0,Y=B=D=null,T=d;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(Oe&q)===q:(l&q)===q){q!==0&&q===Fa&&(rd=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,ge=T;q=i;var Ze=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){J=ce.call(Ze,J,q);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,q=typeof ce=="function"?ce.call(Ze,J,q):ce,q==null)break e;J=S({},J,q);break e;case 2:Ur=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=f.callbacks,G===null?f.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=G,D=J):Y=Y.next=G,_|=q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;G=T,T=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Y===null&&(D=J),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),Fr|=_,t.lanes=_,t.memoizedState=J}}function hy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function fy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)hy(a[t],i)}var Ya=M(null),Ac=M(0);function dy(t,i){t=sr,ae(Ac,t),ae(Ya,i),sr=t|i.baseLanes}function sd(){ae(Ac,sr),ae(Ya,Ya.current)}function ad(){sr=Ac.current,Z(Ya),Z(Ac)}var En=M(null),Un=null;function jr(t){var i=t.alternate;ae(gt,gt.current&1),ae(En,t),Un===null&&(i===null||Ya.current!==null||i.memoizedState!==null)&&(Un=t)}function od(t){ae(gt,gt.current),ae(En,t),Un===null&&(Un=t)}function my(t){t.tag===22?(ae(gt,gt.current),ae(En,t),Un===null&&(Un=t)):Br()}function Br(){ae(gt,gt.current),ae(En,En.current)}function Tn(t){Z(En),Un===t&&(Un=null),Z(gt)}var gt=M(0);function wc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||dm(a)||mm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Wi=0,Re=null,We=null,wt=null,Rc=!1,Xa=!1,$s=!1,Cc=0,Sl=0,$a=null,IA=0;function ft(){throw Error(s(321))}function ld(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function ud(t,i,a,l,f,d){return Wi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?Wy:Ad,$s=!1,d=a(l,f),$s=!1,Xa&&(d=gy(i,a,l,f)),py(t),d}function py(t){X.H=wl;var i=We!==null&&We.next!==null;if(Wi=0,wt=We=Re=null,Rc=!1,Sl=0,$a=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&yc(t)&&(Rt=!0))}function gy(t,i,a,l){Re=t;var f=0;do{if(Xa&&($a=null),Sl=0,Xa=!1,25<=f)throw Error(s(301));if(f+=1,wt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Jy,d=i(a,l)}while(Xa);return d}function DA(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?bl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Re.flags|=1024),i}function cd(){var t=Cc!==0;return Cc=0,t}function hd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function fd(t){if(Rc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Rc=!1}Wi=0,wt=We=Re=null,Xa=!1,Sl=Cc=0,$a=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Re.memoizedState=wt=t:wt=wt.next=t,wt}function yt(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=wt===null?Re.memoizedState:wt.next;if(i!==null)wt=i,We=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?Re.memoizedState=wt=t:wt=wt.next=t}return wt}function Ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var i=Sl;return Sl+=1,$a===null&&($a=[]),t=ay($a,t,i),i=Re,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Wy:Ad),t}function Dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===ie)return Gt(t)}throw Error(s(438,String(t)))}function dd(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ic(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Ji(t,i){return typeof i=="function"?i(t):i}function Nc(t){var i=yt();return md(i,We,t)}function md(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var T=_=null,D=null,B=i,Y=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Oe&J)===J:(Wi&J)===J){var q=B.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===Fa&&(Y=!0);else if((Wi&q)===q){B=B.next,q===Fa&&(Y=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=J,_=d):D=D.next=J,Re.lanes|=q,Fr|=q;J=B.action,$s&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else q={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=q,_=d):D=D.next=q,Re.lanes|=J,Fr|=J;B=B.next}while(B!==null&&B!==i);if(D===null?_=d:D.next=T,!_n(d,t.memoizedState)&&(Rt=!0,Y&&(a=Ga,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function pd(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);_n(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function yy(t,i,a){var l=Re,f=yt(),d=ke;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((We||f).memoizedState,a);if(_&&(f.memoizedState=a,Rt=!0),f=f.queue,_d(Ey.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},vy.bind(null,l,f,a,i),null),et===null)throw Error(s(349));d||(Wi&127)!==0||_y(l,i,a)}return a}function _y(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=Ic(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function vy(t,i,a,l){i.value=a,i.getSnapshot=l,Ty(i)&&Sy(t)}function Ey(t,i,a){return a(function(){Ty(i)&&Sy(t)})}function Ty(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function Sy(t){var i=Bs(t,2);i!==null&&dn(i,t,2)}function gd(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),$s){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},i}function by(t,i,a,l){return t.baseState=a,md(t,We,typeof l=="function"?l:Ji)}function NA(t,i,a,l,f){if(Mc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ay(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ay(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var T=a(f,l),D=X.S;D!==null&&D(_,T),wy(t,i,T)}catch(B){yd(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),wy(t,i,d)}catch(B){yd(t,i,B)}}function wy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ry(t,i,l)},function(l){return yd(t,i,l)}):Ry(t,i,a)}function Ry(t,i,a){i.status="fulfilled",i.value=a,Cy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ay(t,a)))}function yd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Cy(i),i=i.next;while(i!==l)}t.action=null}function Cy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Iy(t,i){return i}function Dy(t,i){if(ke){var a=et.formState;if(a!==null){e:{var l=Re;if(ke){if(nt){t:{for(var f=nt,d=kn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Ln(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){nt=Ln(f.nextSibling),l=f.data==="F!";break e}}Pr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:i},a.queue=l,a=Yy.bind(null,Re,l),l.dispatch=a,l=gd(!1),d=bd.bind(null,Re,!1,l.queue),l=sn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=NA.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ny(t){var i=yt();return Oy(i,We,t)}function Oy(t,i,a){if(i=md(t,i,Iy)[0],t=Nc(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=bl(i)}catch(_){throw _===Ka?Ec:_}else l=i;i=yt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Wa(9,{destroy:void 0},OA.bind(null,f,a),null)),[l,d,t]}function OA(t,i){t.action=i}function xy(t){var i=yt(),a=We;if(a!==null)return Oy(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Wa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=Ic(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function My(){return yt().memoizedState}function Oc(t,i,a,l){var f=sn();Re.flags|=t,f.memoizedState=Wa(1|i,{destroy:void 0},a,l===void 0?null:l)}function xc(t,i,a,l){var f=yt();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&ld(l,We.memoizedState.deps)?f.memoizedState=Wa(i,d,a,l):(Re.flags|=t,f.memoizedState=Wa(1|i,d,a,l))}function Vy(t,i){Oc(8390656,8,t,i)}function _d(t,i){xc(2048,8,t,i)}function xA(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=Ic(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Py(t){var i=yt().memoizedState;return xA({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ky(t,i){return xc(4,2,t,i)}function Uy(t,i){return xc(4,4,t,i)}function Ly(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function zy(t,i,a){a=a!=null?a.concat([t]):null,xc(4,4,Ly.bind(null,i,t),a)}function vd(){}function jy(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ld(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function By(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ld(i,l[1]))return l[0];if(l=t(),$s){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function Ed(t,i,a){return a===void 0||(Wi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=q_(),Re.lanes|=t,Fr|=t,a)}function qy(t,i,a,l){return _n(a,i)?a:Ya.current!==null?(t=Ed(t,a,l),_n(t,i)||(Rt=!0),t):(Wi&42)===0||(Wi&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=a):(t=q_(),Re.lanes|=t,Fr|=t,i)}function Hy(t,i,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=X.T,T={};X.T=T,bd(t,!1,i,a);try{var D=f(),B=X.S;if(B!==null&&B(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=CA(D,l);Al(t,i,Y,An(t))}else Al(t,i,l,An(t))}catch(J){Al(t,i,{then:function(){},status:"rejected",reason:J},An())}finally{se.p=d,_!==null&&T.types!==null&&(_.types=T.types),X.T=_}}function MA(){}function Td(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Fy(t).queue;Hy(t,f,i,pe,a===null?MA:function(){return Gy(t),a(l)})}function Fy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Gy(t){var i=Fy(t);i.next===null&&(i=t.alternate.memoizedState),Al(t,i.next.queue,{},An())}function Sd(){return Gt(Bl)}function Ky(){return yt().memoizedState}function Qy(){return yt().memoizedState}function VA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=Lr(a);var l=zr(i,t,a);l!==null&&(dn(l,i,a),vl(l,i,a)),i={cache:Wf()},t.payload=i;return}i=i.return}}function PA(t,i,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mc(t)?Xy(i,a):(a=jf(t,i,a,l),a!==null&&(dn(a,t,l),$y(a,i,l)))}function Yy(t,i,a){var l=An();Al(t,i,a,l)}function Al(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mc(t))Xy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(f.hasEagerState=!0,f.eagerState=T,_n(T,_))return dc(t,i,f,0),et===null&&fc(),!1}catch{}finally{}if(a=jf(t,i,f,l),a!==null)return dn(a,t,l),$y(a,i,l),!0}return!1}function bd(t,i,a,l){if(l={lane:2,revertLane:tm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mc(t)){if(i)throw Error(s(479))}else i=jf(t,a,l,2),i!==null&&dn(i,t,2)}function Mc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Xy(t,i){Xa=Rc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function $y(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ko(t,a)}}var wl={readContext:Gt,use:Dc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};wl.useEffectEvent=ft;var Wy={readContext:Gt,use:Dc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Vy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Oc(4194308,4,Ly.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Oc(4194308,4,t,i)},useInsertionEffect:function(t,i){Oc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if($s){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var f=a(i);if($s){Cn(!0);try{a(i)}finally{Cn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=PA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=gd(t);var i=t.queue,a=Yy.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:vd,useDeferredValue:function(t,i){var a=sn();return Ed(a,t,i)},useTransition:function(){var t=gd(!1);return t=Hy.bind(null,Re,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=sn();if(ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Oe&127)!==0||_y(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Vy(Ey.bind(null,l,d,t),[t]),l.flags|=2048,Wa(9,{destroy:void 0},vy.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=et.identifierPrefix;if(ke){var a=Ai,l=bi;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Cc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=IA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Sd,useFormState:Dy,useActionState:Dy,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=bd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:dd,useCacheRefresh:function(){return sn().memoizedState=VA.bind(null,Re)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ad={readContext:Gt,use:Dc,useCallback:jy,useContext:Gt,useEffect:_d,useImperativeHandle:zy,useInsertionEffect:ky,useLayoutEffect:Uy,useMemo:By,useReducer:Nc,useRef:My,useState:function(){return Nc(Ji)},useDebugValue:vd,useDeferredValue:function(t,i){var a=yt();return qy(a,We.memoizedState,t,i)},useTransition:function(){var t=Nc(Ji)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:yy,useId:Ky,useHostTransitionStatus:Sd,useFormState:Ny,useActionState:Ny,useOptimistic:function(t,i){var a=yt();return by(a,We,t,i)},useMemoCache:dd,useCacheRefresh:Qy};Ad.useEffectEvent=Py;var Jy={readContext:Gt,use:Dc,useCallback:jy,useContext:Gt,useEffect:_d,useImperativeHandle:zy,useInsertionEffect:ky,useLayoutEffect:Uy,useMemo:By,useReducer:pd,useRef:My,useState:function(){return pd(Ji)},useDebugValue:vd,useDeferredValue:function(t,i){var a=yt();return We===null?Ed(a,t,i):qy(a,We.memoizedState,t,i)},useTransition:function(){var t=pd(Ji)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:yy,useId:Ky,useHostTransitionStatus:Sd,useFormState:xy,useActionState:xy,useOptimistic:function(t,i){var a=yt();return We!==null?by(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:dd,useCacheRefresh:Qy};Jy.useEffectEvent=Py;function wd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),f=Lr(l);f.payload=i,a!=null&&(f.callback=a),i=zr(t,f,l),i!==null&&(dn(i,t,l),vl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),f=Lr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=zr(t,f,l),i!==null&&(dn(i,t,l),vl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=Lr(a);l.tag=2,i!=null&&(l.callback=i),i=zr(t,l,a),i!==null&&(dn(i,t,a),vl(i,t,a))}};function Zy(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!hl(a,l)||!hl(f,d):!0}function e_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Rd.enqueueReplaceState(i,i.state,null)}function Ws(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function t_(t){hc(t)}function n_(t){console.error(t)}function i_(t){hc(t)}function Vc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function r_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Cd(t,i,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){Vc(t,i)},a}function s_(t){return t=Lr(t),t.tag=3,t}function a_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){r_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){r_(i,a,l),typeof f!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function kA(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ha(i,a,f,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Kc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Tc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Jd(t,l,f)),!1;case 22:return a.flags|=65536,l===Tc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Jd(t,l,f)),!1}throw Error(s(435,a.tag))}return Jd(t,l,f),Kc(),!1}if(ke)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Kf&&(t=Error(s(422),{cause:l}),ml(Mn(t,a)))):(l!==Kf&&(i=Error(s(423),{cause:l}),ml(Mn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Mn(l,a),f=Cd(t.stateNode,l,f),id(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),Ml===null?Ml=[d]:Ml.push(d),dt!==4&&(dt=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Cd(a.stateNode,l,t),id(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=s_(f),a_(f,t,a,l),id(a,f),!1}a=a.return}while(a!==null);return!1}var Id=Error(s(461)),Rt=!1;function Kt(t,i,a,l){i.child=t===null?cy(i,null,a,l):Xs(i,t.child,a,l)}function o_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Gs(i),l=ud(t,i,a,_,d,f),T=cd(),t!==null&&!Rt?(hd(t,i,f),Zi(t,i,f)):(ke&&T&&Ff(i),i.flags|=1,Kt(t,i,l,f),i.child)}function l_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Bf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,u_(t,i,d,l,f)):(t=pc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!kd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(_,l)&&t.ref===i.ref)return Zi(t,i,f)}return i.flags|=1,t=Qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function u_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(hl(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,kd(t,f))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Zi(t,i,f)}return Dd(t,i,a,l,f)}function c_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return h_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&vc(i,d!==null?d.cachePool:null),d!==null?dy(i,d):sd(),my(i);else return l=i.lanes=536870912,h_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(vc(i,d.cachePool),dy(i,d),Br(),i.memoizedState=null):(t!==null&&vc(i,null),sd(),Br());return Kt(t,i,f,a),i.child}function Rl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function h_(t,i,a,l,f){var d=Zf();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&vc(i,null),sd(),my(i),t!==null&&Ha(t,i,l,!0),i.childLanes=f,null}function Pc(t,i){return i=Uc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function f_(t,i,a){return Xs(i,t.child,null,a),t=Pc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function UA(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ke){if(l.mode==="hidden")return t=Pc(i,l),i.lanes=536870912,Rl(null,t);if(od(i),(t=nt)?(t=Av(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Xg(t),a.return=i,i.child=a,Ft=i,nt=null)):t=null,t===null)throw Pr(i);return i.lanes=536870912,null}return Pc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(od(i),f)if(i.flags&256)i.flags&=-257,i=f_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||Ha(t,i,a,!1),f=(a&t.childLanes)!==0,Rt||f){if(l=et,l!==null&&(_=Qo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Bs(t,_),dn(l,t,_),Id;Kc(),i=f_(t,i,a)}else t=d.treeContext,nt=Ln(_.nextSibling),Ft=i,ke=!0,Vr=null,kn=!1,t!==null&&Jg(i,t),i=Pc(i,l),i.flags|=4096;return i}return t=Qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function kc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Dd(t,i,a,l,f){return Gs(i),a=ud(t,i,a,l,void 0,f),l=cd(),t!==null&&!Rt?(hd(t,i,f),Zi(t,i,f)):(ke&&l&&Ff(i),i.flags|=1,Kt(t,i,a,f),i.child)}function d_(t,i,a,l,f,d){return Gs(i),i.updateQueue=null,a=gy(i,l,a,f),py(t),l=cd(),t!==null&&!Rt?(hd(t,i,d),Zi(t,i,d)):(ke&&l&&Ff(i),i.flags|=1,Kt(t,i,a,d),i.child)}function m_(t,i,a,l,f){if(Gs(i),i.stateNode===null){var d=za,_=a.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Rd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},td(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):za,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(wd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Rd.enqueueReplaceState(d,d.state,null),Tl(i,l,d,f),El(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,D=Ws(a,T);d.props=D;var B=d.context,Y=a.contextType;_=za,typeof Y=="object"&&Y!==null&&(_=Gt(Y));var J=a.getDerivedStateFromProps;Y=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==_)&&e_(i,d,l,_),Ur=!1;var q=i.memoizedState;d.state=q,Tl(i,l,d,f),El(),B=i.memoizedState,T||q!==B||Ur?(typeof J=="function"&&(wd(i,a,J,l),B=i.memoizedState),(D=Ur||Zy(i,a,D,l,q,B,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,nd(t,i),_=i.memoizedProps,Y=Ws(a,_),d.props=Y,J=i.pendingProps,q=d.context,B=a.contextType,D=za,typeof B=="object"&&B!==null&&(D=Gt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||q!==D)&&e_(i,d,l,D),Ur=!1,q=i.memoizedState,d.state=q,Tl(i,l,d,f),El();var G=i.memoizedState;_!==J||q!==G||Ur||t!==null&&t.dependencies!==null&&yc(t.dependencies)?(typeof T=="function"&&(wd(i,a,T,l),G=i.memoizedState),(Y=Ur||Zy(i,a,Y,l,q,G,D)||t!==null&&t.dependencies!==null&&yc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=D,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,kc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Xs(i,t.child,null,f),i.child=Xs(i,null,a,f)):Kt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Zi(t,i,f),t}function p_(t,i,a,l){return Hs(),i.flags|=256,Kt(t,i,a,l),i.child}var Nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Od(t){return{baseLanes:t,cachePool:ry()}}function xd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=bn),t}function g_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ke){if(f?jr(i):Br(),(t=nt)?(t=Av(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Xg(t),a.return=i,i.child=a,Ft=i,nt=null)):t=null,t===null)throw Pr(i);return mm(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,f?(Br(),f=i.mode,T=Uc({mode:"hidden",children:T},f),l=qs(l,f,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Od(a),l.childLanes=xd(t,_,a),i.memoizedState=Nd,Rl(null,l)):(jr(i),Md(i,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(jr(i),i.flags&=-257,i=Vd(t,i,a)):i.memoizedState!==null?(Br(),i.child=t.child,i.flags|=128,i=null):(Br(),T=l.fallback,f=i.mode,l=Uc({mode:"visible",children:l.children},f),T=qs(T,f,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Xs(i,t.child,null,a),l=i.child,l.memoizedState=Od(a),l.childLanes=xd(t,_,a),i.memoizedState=Nd,i=Rl(null,l));else if(jr(i),mm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,ml({value:l,source:null,stack:null}),i=Vd(t,i,a)}else if(Rt||Ha(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=et,_!==null&&(l=Qo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Bs(t,l),dn(_,t,l),Id;dm(T)||Kc(),i=Vd(t,i,a)}else dm(T)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,nt=Ln(T.nextSibling),Ft=i,ke=!0,Vr=null,kn=!1,t!==null&&Jg(i,t),i=Md(i,l.children),i.flags|=4096);return i}return f?(Br(),T=l.fallback,f=i.mode,D=t.child,B=D.sibling,l=Qi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?T=Qi(B,T):(T=qs(T,f,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Rl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Od(a):(f=T.cachePool,f!==null?(D=At._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=ry(),T={baseLanes:T.baseLanes|a,cachePool:f}),l.memoizedState=T,l.childLanes=xd(t,_,a),i.memoizedState=Nd,Rl(t.child,l)):(jr(i),a=t.child,t=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Md(t,i){return i=Uc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Uc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function Vd(t,i,a){return Xs(i,t.child,null,a),t=Md(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function y_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Xf(t.return,i,a)}function Pd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function __(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=gt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ae(gt,_),Kt(t,i,l,a),l=ke?dl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&y_(t,a,i);else if(t.tag===19)y_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&wc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Pd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&wc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Pd(i,!0,a,null,d,l);break;case"together":Pd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Fr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ha(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function kd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&yc(t)))}function LA(t,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),kr(i,At,t.memoizedState.cache),Hs();break;case 27:case 5:bs(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,od(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(jr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?g_(t,i,a):(jr(i),t=Zi(t,i,a),t!==null?t.sibling:null);jr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ha(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return __(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(gt,gt.current),l)break;return null;case 22:return i.lanes=0,c_(t,i,a,i.pendingProps);case 24:kr(i,At,t.memoizedState.cache)}return Zi(t,i,a)}function v_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!kd(t,a)&&(i.flags&128)===0)return Rt=!1,LA(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,ke&&(i.flags&1048576)!==0&&Wg(i,dl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Qs(i.elementType),i.type=t,typeof t=="function")Bf(t)?(l=Ws(t,l),i.tag=1,i=m_(null,i,t,l,a)):(i.tag=0,i=Dd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===he){i.tag=11,i=o_(null,i,t,l,a);break e}else if(f===C){i.tag=14,i=l_(null,i,t,l,a);break e}}throw i=st(t)||t,Error(s(306,i,""))}}return i;case 0:return Dd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Ws(l,i.pendingProps),m_(t,i,l,f,a);case 3:e:{if(Mt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,nd(t,i),Tl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,kr(i,At,l),l!==d.cache&&$f(i,[At],a,!0),El(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=p_(t,i,l,a);break e}else if(l!==f){f=Mn(Error(s(424)),i),ml(f),i=p_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Ln(t.firstChild),Ft=i,ke=!0,Vr=null,kn=!0,a=cy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hs(),l===f){i=Zi(t,i,a);break e}Kt(t,i,l,a)}i=i.child}return i;case 26:return kc(t,i),t===null?(a=Nv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ke||(a=i.type,t=i.pendingProps,l=Zc(Ce.current).createElement(a),l[Tt]=i,l[Ut]=t,Qt(l,a,t),St(l),i.stateNode=l):i.memoizedState=Nv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return bs(i),t===null&&ke&&(l=i.stateNode=Cv(i.type,i.pendingProps,Ce.current),Ft=i,kn=!0,f=nt,Xr(i.type)?(pm=f,nt=Ln(l.firstChild)):nt=f),Kt(t,i,i.pendingProps.children,a),kc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ke&&((f=l=nt)&&(l=mw(l,i.type,i.pendingProps,kn),l!==null?(i.stateNode=l,Ft=i,nt=Ln(l.firstChild),kn=!1,f=!0):f=!1),f||Pr(i)),bs(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,cm(f,d)?l=null:_!==null&&cm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=ud(t,i,DA,null,null,a),Bl._currentValue=f),kc(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&ke&&((t=a=nt)&&(a=pw(a,i.pendingProps,kn),a!==null?(i.stateNode=a,Ft=i,nt=null,t=!0):t=!1),t||Pr(i)),null;case 13:return g_(t,i,a);case 4:return Mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Xs(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return o_(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,kr(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Gs(i),f=Gt(f),l=l(f),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return l_(t,i,i.type,i.pendingProps,a);case 15:return u_(t,i,i.type,i.pendingProps,a);case 19:return __(t,i,a);case 31:return UA(t,i,a);case 22:return c_(t,i,a,i.pendingProps);case 24:return Gs(i),l=Gt(At),t===null?(f=Zf(),f===null&&(f=et,d=Wf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},td(i),kr(i,At,f)):((t.lanes&a)!==0&&(nd(t,i),Tl(i,null,null,a),El()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),kr(i,At,l)):(l=d.cache,kr(i,At,l),l!==f.cache&&$f(i,[At],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function er(t){t.flags|=4}function Ud(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(K_())t.flags|=8192;else throw Ys=Tc,ed}else t.flags&=-16777217}function E_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pv(i))if(K_())t.flags|=8192;else throw Ys=Tc,ed}function Lc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Fu():536870912,t.lanes|=i,to|=i)}function Cl(t,i){if(!ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function zA(t,i,a){var l=i.pendingProps;switch(Gf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(At),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(qa(i)?er(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Qf())),it(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(er(i),d!==null?(it(i),E_(i,d)):(it(i),Ud(i,f,null,l,a))):d?d!==t.memoizedState?(er(i),it(i),E_(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&er(i),it(i),Ud(i,f,t,l,a)),null;case 27:if(Ea(i),a=Ce.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=ue.current,qa(i)?Zg(i):(t=Cv(f,l,a),i.stateNode=t,er(i))}return it(i),null;case 5:if(Ea(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(d=ue.current,qa(i))Zg(i);else{var _=Zc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Tt]=i,d[Ut]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Qt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&er(i)}}return it(i),Ud(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,qa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Ft,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||gv(t.nodeValue,a)),t||Pr(i,!0)}else t=Zc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=qa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=Qf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=qa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Tt]=i}else Hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),f=!1}else f=Qf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Lc(i,i.updateQueue),it(i),null);case 4:return at(),t===null&&sm(i.stateNode.containerInfo),it(i),null;case 10:return $i(i.type),it(i),null;case 19:if(Z(gt),l=i.memoizedState,l===null)return it(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Cl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=wc(t),d!==null){for(i.flags|=128,Cl(l,!1),t=d.updateQueue,i.updateQueue=t,Lc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Yg(a,t),a=a.sibling;return ae(gt,gt.current&1|2),ke&&Yi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>Hc&&(i.flags|=128,f=!0,Cl(l,!1),i.lanes=4194304)}else{if(!f)if(t=wc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Lc(i,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ke)return it(i),null}else 2*nn()-l.renderingStartTime>Hc&&a!==536870912&&(i.flags|=128,f=!0,Cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=gt.current,ae(gt,f?a&1|2:a&1),ke&&Yi(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return Tn(i),ad(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&Lc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(Ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(At),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function jA(t,i){switch(Gf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $i(At),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ea(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Hs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Hs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(gt),null;case 4:return at(),null;case 10:return $i(i.type),null;case 22:case 23:return Tn(i),ad(),t!==null&&Z(Ks),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $i(At),null;case 25:return null;default:return null}}function T_(t,i){switch(Gf(i),i.tag){case 3:$i(At),at();break;case 26:case 27:case 5:Ea(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:Z(gt);break;case 10:$i(i.type);break;case 22:case 23:Tn(i),ad(),t!==null&&Z(Ks);break;case 24:$i(At)}}function Il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(T){Ye(i,i.return,T)}}function qr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=i;var D=a,B=T;try{B()}catch(Y){Ye(f,D,Y)}}}l=l.next}while(l!==d)}}catch(Y){Ye(i,i.return,Y)}}function S_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{fy(i,a)}catch(l){Ye(t,t.return,l)}}}function b_(t,i,a){a.props=Ws(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function Dl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ye(t,i,f)}}function wi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(t,i,f)}else a.current=null}function A_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(t,t.return,f)}}function Ld(t,i,a){try{var l=t.stateNode;lw(l,t.type,a,i),l[Ut]=i}catch(f){Ye(t,t.return,f)}}function w_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xr(t.type)||t.tag===4}function zd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||w_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(l!==4&&(l===27&&Xr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(jd(t,i,a),t=t.sibling;t!==null;)jd(t,i,a),t=t.sibling}function zc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Xr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(zc(t,i,a),t=t.sibling;t!==null;)zc(t,i,a),t=t.sibling}function R_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Qt(i,l,a),i[Tt]=t,i[Ut]=a}catch(d){Ye(t,t.return,d)}}var tr=!1,Ct=!1,Bd=!1,C_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function BA(t,i){if(t=t.containerInfo,lm=ah,t=zg(t),Vf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,B=0,Y=0,J=t,q=null;t:for(;;){for(var G;J!==a||f!==0&&J.nodeType!==3||(T=_+f),J!==d||l!==0&&J.nodeType!==3||(D=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(G=J.firstChild)!==null;)q=J,J=G;for(;;){if(J===t)break t;if(q===a&&++B===f&&(T=_),q===d&&++Y===l&&(D=_),(G=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=G}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(um={focusedElem:t,selectionRange:a},ah=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Ws(a.type,f);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ye(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)fm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":fm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function I_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ir(t,a),l&4&&Il(5,a);break;case 1:if(ir(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var f=Ws(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&S_(a),l&512&&Dl(a,a.return);break;case 3:if(ir(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{fy(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&R_(a);case 26:case 5:ir(t,a),i===null&&l&4&&A_(a),l&512&&Dl(a,a.return);break;case 12:ir(t,a);break;case 31:ir(t,a),l&4&&O_(t,a);break;case 13:ir(t,a),l&4&&x_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=$A.bind(null,a),gw(t,a))));break;case 22:if(l=a.memoizedState!==null||tr,!l){i=i!==null&&i.memoizedState!==null||Ct,f=tr;var d=Ct;tr=l,(Ct=i)&&!d?rr(t,a,(a.subtreeFlags&8772)!==0):ir(t,a),tr=f,Ct=d}break;case 30:break;default:ir(t,a)}}function D_(t){var i=t.alternate;i!==null&&(t.alternate=null,D_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&wa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,un=!1;function nr(t,i,a){for(a=a.child;a!==null;)N_(t,i,a),a=a.sibling}function N_(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Ct||wi(a,i),nr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||wi(a,i);var l=lt,f=un;Xr(a.type)&&(lt=a.stateNode,un=!1),nr(t,i,a),Ll(a.stateNode),lt=l,un=f;break;case 5:Ct||wi(a,i);case 6:if(l=lt,f=un,lt=null,nr(t,i,a),lt=l,un=f,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:lt!==null&&(un?(t=lt,Sv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),uo(t)):Sv(lt,a.stateNode));break;case 4:l=lt,f=un,lt=a.stateNode.containerInfo,un=!0,nr(t,i,a),lt=l,un=f;break;case 0:case 11:case 14:case 15:qr(2,a,i),Ct||qr(4,a,i),nr(t,i,a);break;case 1:Ct||(wi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&b_(a,i,l)),nr(t,i,a);break;case 21:nr(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,nr(t,i,a),Ct=l;break;default:nr(t,i,a)}}function O_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{uo(t)}catch(a){Ye(i,i.return,a)}}}function x_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{uo(t)}catch(a){Ye(i,i.return,a)}}function qA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new C_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new C_),i;default:throw Error(s(435,t.tag))}}function jc(t,i){var a=qA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=WA.bind(null,t,l);l.then(f,f)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Xr(T.type)){lt=T.stateNode,un=!1;break e}break;case 5:lt=T.stateNode,un=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(lt===null)throw Error(s(160));N_(d,_,f),lt=null,un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)M_(i,t),i=i.sibling}var Zn=null;function M_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),l&4&&(qr(3,t,t.return),Il(3,t),qr(5,t,t.return));break;case 1:cn(i,t),hn(t),l&512&&(Ct||a===null||wi(a,a.return)),l&64&&tr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Zn;if(cn(i,t),hn(t),l&512&&(Ct||a===null||wi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[hi]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Qt(d,l,a),d[Tt]=t,St(d),l=d;break e;case"link":var _=Mv("link","href",f).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Mv("meta","content",f).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,St(d),l=d}t.stateNode=l}else Vv(f,t.type,t.stateNode);else t.stateNode=xv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Vv(f,t.type,t.stateNode):xv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ld(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),l&512&&(Ct||a===null||wi(a,a.return)),a!==null&&l&4&&Ld(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),l&512&&(Ct||a===null||wi(a,a.return)),t.flags&32){f=t.stateNode;try{ln(f,"")}catch(ce){Ye(t,t.return,ce)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Ld(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Bd=!0);break;case 6:if(cn(i,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ye(t,t.return,ce)}}break;case 3:if(nh=null,f=Zn,Zn=eh(i.containerInfo),cn(i,t),Zn=f,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(i.containerInfo)}catch(ce){Ye(t,t.return,ce)}Bd&&(Bd=!1,V_(t));break;case 4:l=Zn,Zn=eh(t.stateNode.containerInfo),cn(i,t),hn(t),Zn=l;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jc(t,l)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jc(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=tr,Y=Ct;if(tr=B||f,Ct=Y||D,cn(i,t),Ct=Y,tr=B,hn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||D||tr||Ct||Js(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var J=D.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){Ye(D,D.return,ce)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ce){Ye(D,D.return,ce)}}}else if(i.tag===18){if(a===null){D=i;try{var G=D.stateNode;f?bv(G,!0):bv(D.stateNode,!1)}catch(ce){Ye(D,D.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jc(t,a))));break;case 19:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jc(t,l)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(w_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=zd(t);zc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var T=zd(t);zc(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,B=zd(t);jd(t,B,D);break;default:throw Error(s(161))}}catch(Y){Ye(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function V_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;V_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ir(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)I_(t,i.alternate,i),i=i.sibling}function Js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qr(4,i,i.return),Js(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&b_(i,i.return,a),Js(i);break;case 27:Ll(i.stateNode);case 26:case 5:wi(i,i.return),Js(i);break;case 22:i.memoizedState===null&&Js(i);break;case 30:Js(i);break;default:Js(i)}t=t.sibling}}function rr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:rr(f,d,a),Il(4,d);break;case 1:if(rr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Ye(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)hy(D[f],T)}catch(B){Ye(l,l.return,B)}}a&&_&64&&S_(d),Dl(d,d.return);break;case 27:R_(d);case 26:case 5:rr(f,d,a),a&&l===null&&_&4&&A_(d),Dl(d,d.return);break;case 12:rr(f,d,a);break;case 31:rr(f,d,a),a&&_&4&&O_(f,d);break;case 13:rr(f,d,a),a&&_&4&&x_(f,d);break;case 22:d.memoizedState===null&&rr(f,d,a),Dl(d,d.return);break;case 30:break;default:rr(f,d,a)}i=i.sibling}}function qd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pl(a))}function Hd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t))}function ei(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)P_(t,i,a,l),i=i.sibling}function P_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,a,l),f&2048&&Il(9,i);break;case 1:ei(t,i,a,l);break;case 3:ei(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t)));break;case 12:if(f&2048){ei(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ye(i,i.return,D)}}else ei(t,i,a,l);break;case 31:ei(t,i,a,l);break;case 13:ei(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ei(t,i,a,l):Nl(t,i):d._visibility&2?ei(t,i,a,l):(d._visibility|=2,Ja(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&qd(_,i);break;case 24:ei(t,i,a,l),f&2048&&Hd(i.alternate,i);break;default:ei(t,i,a,l)}}function Ja(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ja(d,_,T,D,f),Il(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Ja(d,_,T,D,f):Nl(d,_):(Y._visibility|=2,Ja(d,_,T,D,f)),f&&B&2048&&qd(_.alternate,_);break;case 24:Ja(d,_,T,D,f),f&&B&2048&&Hd(_.alternate,_);break;default:Ja(d,_,T,D,f)}i=i.sibling}}function Nl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Nl(a,l),f&2048&&qd(l.alternate,l);break;case 24:Nl(a,l),f&2048&&Hd(l.alternate,l);break;default:Nl(a,l)}i=i.sibling}}var Ol=8192;function Za(t,i,a){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)k_(t,i,a),t=t.sibling}function k_(t,i,a){switch(t.tag){case 26:Za(t,i,a),t.flags&Ol&&t.memoizedState!==null&&Iw(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:Za(t,i,a);break;case 3:case 4:var l=Zn;Zn=eh(t.stateNode.containerInfo),Za(t,i,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,Za(t,i,a),Ol=l):Za(t,i,a));break;default:Za(t,i,a)}}function U_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function xl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,z_(l,t)}U_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)L_(t),t=t.sibling}function L_(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&qr(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Bc(t)):xl(t);break;default:xl(t)}}function Bc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,z_(l,t)}U_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qr(8,i,i.return),Bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Bc(i));break;default:Bc(i)}t=t.sibling}}function z_(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:qr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,d=l.return;if(D_(l),l===a){zt=null;break e}if(f!==null){f.return=d,zt=f;break e}zt=d}}}var HA={getCacheForType:function(t){var i=Gt(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(At).controller.signal}},FA=typeof WeakMap=="function"?WeakMap:Map,He=0,et=null,De=null,Oe=0,Qe=0,Sn=null,Hr=!1,eo=!1,Fd=!1,sr=0,dt=0,Fr=0,Zs=0,Gd=0,bn=0,to=0,Ml=null,fn=null,Kd=!1,qc=0,j_=0,Hc=1/0,Fc=null,Gr=null,Pt=0,Kr=null,no=null,ar=0,Qd=0,Yd=null,B_=null,Vl=0,Xd=null;function An(){return(He&2)!==0&&Oe!==0?Oe&-Oe:X.T!==null?tm():Gu()}function q_(){if(bn===0)if((Oe&536870912)===0||ke){var t=Rs;Rs<<=1,(Rs&3932160)===0&&(Rs=262144),bn=t}else bn=536870912;return t=En.current,t!==null&&(t.flags|=32),bn}function dn(t,i,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(io(t,0),Qr(t,Oe,bn,!1)),Cs(t,a),((He&2)===0||t!==et)&&(t===et&&((He&2)===0&&(Zs|=a),dt===4&&Qr(t,Oe,bn,!1)),Ri(t))}function H_(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Fn(t,i),f=l?QA(t,i):Wd(t,i,!0),d=l;do{if(f===0){eo&&!l&&Qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!GA(a)){f=Wd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;f=Ml;var D=T.current.memoizedState.isDehydrated;if(D&&(io(T,_).flags|=256),_=Wd(T,_,!1),_!==2){if(Fd&&!D){T.errorRecoveryDisabledLanes|=d,Zs|=d,f=4;break e}d=fn,fn=f,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){io(t,0),Qr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Qr(l,i,bn,!Hr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=qc+300-nn(),10<f)){if(Qr(l,i,bn,!Hr),li(l,0,!0)!==0)break e;ar=i,l.timeoutHandle=Ev(F_.bind(null,l,a,fn,Fc,Kd,i,bn,Zs,to,Hr,d,"Throttled",-0,0),f);break e}F_(l,a,fn,Fc,Kd,i,bn,Zs,to,Hr,d,null,-0,0)}}break}while(!0);Ri(t)}function F_(t,i,a,l,f,d,_,T,D,B,Y,J,q,G){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},k_(i,d,J);var ce=(d&62914560)===d?qc-nn():(d&4194048)===d?j_-nn():0;if(ce=Dw(J,ce),ce!==null){ar=d,t.cancelPendingCommit=ce(J_.bind(null,t,i,d,a,l,f,_,T,D,Y,J,null,q,G)),Qr(t,d,_,!B);return}}J_(t,i,d,a,l,f,_,T,D)}function GA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qr(t,i,a,l){i&=~Gd,i&=~Zs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-mt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Is(t,a,i)}function Gc(){return(He&6)===0?(Pl(0),!1):!0}function $d(){if(De!==null){if(Qe===0)var t=De.return;else t=De,Xi=Fs=null,fd(t),Qa=null,yl=0,t=De;for(;t!==null;)T_(t.alternate,t),t=t.return;De=null}}function io(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,hw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ar=0,$d(),et=t,De=a=Qi(t.current,null),Oe=i,Qe=0,Sn=null,Hr=!1,eo=Fn(t,i),Fd=!1,to=bn=Gd=Zs=Fr=dt=0,fn=Ml=null,Kd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-mt(l),d=1<<f;i|=t[f],l&=~d}return sr=i,fc(),a}function G_(t,i){Re=null,X.H=wl,i===Ka||i===Ec?(i=oy(),Qe=3):i===ed?(i=oy(),Qe=4):Qe=i===Id?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,De===null&&(dt=1,Vc(t,Mn(i,t.current)))}function K_(){var t=En.current;return t===null?!0:(Oe&4194048)===Oe?Un===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Un:!1}function Q_(){var t=X.H;return X.H=wl,t===null?wl:t}function Y_(){var t=X.A;return X.A=HA,t}function Kc(){dt=4,Hr||(Oe&4194048)!==Oe&&En.current!==null||(eo=!0),(Fr&134217727)===0&&(Zs&134217727)===0||et===null||Qr(et,Oe,bn,!1)}function Wd(t,i,a){var l=He;He|=2;var f=Q_(),d=Y_();(et!==t||Oe!==i)&&(Fc=null,io(t,i)),i=!1;var _=dt;e:do try{if(Qe!==0&&De!==null){var T=De,D=Sn;switch(Qe){case 8:$d(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var B=Qe;if(Qe=0,Sn=null,ro(t,T,D,B),a&&eo){_=0;break e}break;default:B=Qe,Qe=0,Sn=null,ro(t,T,D,B)}}KA(),_=dt;break}catch(Y){G_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Xi=Fs=null,He=l,X.H=f,X.A=d,De===null&&(et=null,Oe=0,fc()),_}function KA(){for(;De!==null;)X_(De)}function QA(t,i){var a=He;He|=2;var l=Q_(),f=Y_();et!==t||Oe!==i?(Fc=null,Hc=nn()+500,io(t,i)):eo=Fn(t,i);e:do try{if(Qe!==0&&De!==null){i=De;var d=Sn;t:switch(Qe){case 1:Qe=0,Sn=null,ro(t,i,d,1);break;case 2:case 9:if(sy(d)){Qe=0,Sn=null,$_(i);break}i=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),Ri(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:sy(d)?(Qe=0,Sn=null,$_(i)):(Qe=0,Sn=null,ro(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var T=De;if(_?Pv(_):T.stateNode.complete){Qe=0,Sn=null;var D=T.sibling;if(D!==null)De=D;else{var B=T.return;B!==null?(De=B,Qc(B)):De=null}break t}}Qe=0,Sn=null,ro(t,i,d,5);break;case 6:Qe=0,Sn=null,ro(t,i,d,6);break;case 8:$d(),dt=6;break e;default:throw Error(s(462))}}YA();break}catch(Y){G_(t,Y)}while(!0);return Xi=Fs=null,X.H=l,X.A=f,He=a,De!==null?0:(et=null,Oe=0,fc(),dt)}function YA(){for(;De!==null&&!Cf();)X_(De)}function X_(t){var i=v_(t.alternate,t,sr);t.memoizedProps=t.pendingProps,i===null?Qc(t):De=i}function $_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=d_(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=d_(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:fd(i);default:T_(a,i),i=De=Yg(i,sr),i=v_(a,i,sr)}t.memoizedProps=t.pendingProps,i===null?Qc(t):De=i}function ro(t,i,a,l){Xi=Fs=null,fd(i),Qa=null,yl=0;var f=i.return;try{if(kA(t,f,i,a,Oe)){dt=1,Vc(t,Mn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;dt=1,Vc(t,Mn(a,t.current)),De=null;return}i.flags&32768?(ke||l===1?t=!0:eo||(Oe&536870912)!==0?t=!1:(Hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),W_(i,t)):Qc(i)}function Qc(t){var i=t;do{if((i.flags&32768)!==0){W_(i,Hr);return}t=i.return;var a=zA(i.alternate,i,sr);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);dt===0&&(dt=5)}function W_(t,i){do{var a=jA(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);dt=6,De=null}function J_(t,i,a,l,f,d,_,T,D){t.cancelPendingCommit=null;do Yc();while(Pt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=zf,Nf(t,a,d,_,T,D),t===et&&(De=et=null,Oe=0),no=i,Kr=t,ar=a,Qd=d,Yd=f,B_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,JA(br,function(){return iv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=se.p,se.p=2,_=He,He|=4;try{BA(t,i,a)}finally{He=_,se.p=f,X.T=l}}Pt=1,Z_(),ev(),tv()}}function Z_(){if(Pt===1){Pt=0;var t=Kr,i=no,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{M_(i,t);var d=um,_=zg(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Lg(T.ownerDocument.documentElement,T)){if(D!==null&&Vf(T)){var B=D.start,Y=D.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var G=q.getSelection(),ce=T.textContent.length,ge=Math.min(D.start,ce),Ze=D.end===void 0?ge:Math.min(D.end,ce);!G.extend&&ge>Ze&&(_=Ze,Ze=ge,ge=_);var U=Ug(T,ge),x=Ug(T,Ze);if(U&&x&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==x.node||G.focusOffset!==x.offset)){var j=J.createRange();j.setStart(U.node,U.offset),G.removeAllRanges(),ge>Ze?(G.addRange(j),G.extend(x.node,x.offset)):(j.setEnd(x.node,x.offset),G.addRange(j))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var $=J[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}ah=!!lm,um=lm=null}finally{He=f,se.p=l,X.T=a}}t.current=i,Pt=2}}function ev(){if(Pt===2){Pt=0;var t=Kr,i=no,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{I_(t,i.alternate,i)}finally{He=f,se.p=l,X.T=a}}Pt=3}}function tv(){if(Pt===4||Pt===3){Pt=0,Lu();var t=Kr,i=no,a=ar,l=B_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,no=Kr=null,nv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Gr=null),Hi(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=se.p,se.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{X.T=i,se.p=f}}(ar&3)!==0&&Yc(),Ri(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Xd?Vl++:(Vl=0,Xd=t):Vl=0,Pl(0)}}function nv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,pl(i)))}function Yc(){return Z_(),ev(),tv(),iv()}function iv(){if(Pt!==5)return!1;var t=Kr,i=Qd;Qd=0;var a=Hi(ar),l=X.T,f=se.p;try{se.p=32>a?32:a,X.T=null,a=Yd,Yd=null;var d=Kr,_=ar;if(Pt=0,no=Kr=null,ar=0,(He&6)!==0)throw Error(s(331));var T=He;if(He|=4,L_(d.current),P_(d,d.current,_,a),He=T,Pl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{se.p=f,X.T=l,nv(t,i)}}function rv(t,i,a){i=Mn(a,i),i=Cd(t.stateNode,i,2),t=zr(t,i,2),t!==null&&(Cs(t,2),Ri(t))}function Ye(t,i,a){if(t.tag===3)rv(t,t,a);else for(;i!==null;){if(i.tag===3){rv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=Mn(a,t),a=s_(2),l=zr(i,a,2),l!==null&&(a_(a,l,i,t),Cs(l,2),Ri(l));break}}i=i.return}}function Jd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new FA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Fd=!0,f.add(a),t=XA.bind(null,t,i,a),i.then(t,t))}function XA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Oe&a)===a&&(dt===4||dt===3&&(Oe&62914560)===Oe&&300>nn()-qc?(He&2)===0&&io(t,0):Gd|=a,to===Oe&&(to=0)),Ri(t)}function sv(t,i){i===0&&(i=Fu()),t=Bs(t,i),t!==null&&(Cs(t,i),Ri(t))}function $A(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),sv(t,a)}function WA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),sv(t,a)}function JA(t,i){return Vt(t,i)}var Xc=null,so=null,Zd=!1,$c=!1,em=!1,Yr=0;function Ri(t){t!==so&&t.next===null&&(so===null?Xc=so=t:so=so.next=t),$c=!0,Zd||(Zd=!0,ew())}function Pl(t,i){if(!em&&$c){em=!0;do for(var a=!1,l=Xc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=f&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,uv(l,d))}else d=Oe,d=li(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(a=!0,uv(l,d));l=l.next}while(a);em=!1}}function ZA(){av()}function av(){$c=Zd=!1;var t=0;Yr!==0&&cw()&&(t=Yr);for(var i=nn(),a=null,l=Xc;l!==null;){var f=l.next,d=ov(l,i);d===0?(l.next=null,a===null?Xc=f:a.next=f,f===null&&(so=a)):(a=l,(t!==0||(d&3)!==0)&&($c=!0)),l=f}Pt!==0&&Pt!==5||Pl(t),Yr!==0&&(Yr=0)}function ov(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),T=1<<_,D=f[_];D===-1?((T&a)===0||(T&l)!==0)&&(f[_]=Df(T,i)):D<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,a=Oe,a=li(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Sr(l),Hi(a)){case 2:case 8:a=Go;break;case 32:a=br;break;case 268435456:a=zu;break;default:a=br}return l=lv.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Sr(l),t.callbackPriority=2,t.callbackNode=null,2}function lv(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yc()&&t.callbackNode!==a)return null;var l=Oe;return l=li(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(H_(t,l,i),ov(t,nn()),t.callbackNode!=null&&t.callbackNode===a?lv.bind(null,t):null)}function uv(t,i){if(Yc())return null;H_(t,i,!0)}function ew(){fw(function(){(He&6)!==0?Vt(Fo,ZA):av()})}function tm(){if(Yr===0){var t=Fa;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Yr=t}return Yr}function cv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Da(""+t)}function hv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function tw(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=cv((f[Ut]||null).action),_=l.submitter;_&&(i=(i=_[Ut]||null)?cv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new vi("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var D=_?hv(f,_):new FormData(f);Td(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?hv(f,_):new FormData(f),Td(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var nm=0;nm<Lf.length;nm++){var im=Lf[nm],nw=im.toLowerCase(),iw=im[0].toUpperCase()+im.slice(1);Jn(nw,"on"+iw)}Jn(qg,"onAnimationEnd"),Jn(Hg,"onAnimationIteration"),Jn(Fg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(vA,"onTransitionRun"),Jn(EA,"onTransitionStart"),Jn(TA,"onTransitionCancel"),Jn(Gg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function fv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,B=T.currentTarget;if(T=T.listener,D!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=B;try{d(f)}catch(Y){hc(Y)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,B=T.currentTarget,T=T.listener,D!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=B;try{d(f)}catch(Y){hc(Y)}f.currentTarget=null,d=D}}}}function Ne(t,i){var a=i[Aa];a===void 0&&(a=i[Aa]=new Set);var l=t+"__bubble";a.has(l)||(dv(i,t,2,!1),a.add(l))}function rm(t,i,a){var l=0;i&&(l|=4),dv(a,t,l,i)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function sm(t){if(!t[Wc]){t[Wc]=!0,Yo.forEach(function(a){a!=="selectionchange"&&(rw.has(a)||rm(a,!1,t),rm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Wc]||(i[Wc]=!0,rm("selectionchange",!1,i))}}function dv(t,i,a,l){switch(qv(i)){case 2:var f=xw;break;case 8:f=Mw;break;default:f=Em}a=f.bind(null,i,a,t),f=void 0,!Ms||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function am(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=fi(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Dr(function(){var B=d,Y=Dn(a),J=[];e:{var q=Kg.get(t);if(q!==void 0){var G=vi,ce=t;switch(t){case"keypress":if(Ps(a)===0)break e;case"keydown":case"keyup":G=lc;break;case"focusin":ce="focus",G=Us;break;case"focusout":ce="blur",G=Us;break;case"beforeblur":case"afterblur":G=Us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case qg:case Hg:case Fg:G=tc;break;case Gg:G=b;break;case"scroll":case"scrollend":G=al;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ki;break;case"toggle":case"beforetoggle":G=we}var ge=(i&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),U=ge?q!==null?q+"Capture":null:q;ge=[];for(var x=B,j;x!==null;){var $=x;if(j=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||j===null||U===null||($=Yn(x,U),$!=null&&ge.push(Ul(x,$,j))),Ze)break;x=x.return}0<ge.length&&(q=new G(q,ce,null,a,Y),J.push({event:q,listeners:ge}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==il&&(ce=a.relatedTarget||a.fromElement)&&(fi(ce)||ce[ci]))break e;if((G||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,G?(ce=a.relatedTarget||a.toElement,G=B,ce=ce?fi(ce):null,ce!==null&&(Ze=u(ce),ge=ce.tag,ce!==Ze||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(G=null,ce=B),G!==ce)){if(ge=ol,$="onMouseLeave",U="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Ki,$="onPointerLeave",U="onPointerEnter",x="pointer"),Ze=G==null?q:gn(G),j=ce==null?q:gn(ce),q=new ge($,x+"leave",G,a,Y),q.target=Ze,q.relatedTarget=j,$=null,fi(Y)===B&&(ge=new ge(U,x+"enter",ce,a,Y),ge.target=j,ge.relatedTarget=Ze,$=ge),Ze=$,G&&ce)t:{for(ge=sw,U=G,x=ce,j=0,$=U;$;$=ge($))j++;$=0;for(var de=x;de;de=ge(de))$++;for(;0<j-$;)U=ge(U),j--;for(;0<$-j;)x=ge(x),$--;for(;j--;){if(U===x||x!==null&&U===x.alternate){ge=U;break t}U=ge(U),x=ge(x)}ge=null}else ge=null;G!==null&&mv(J,q,G,ge,!1),ce!==null&&Ze!==null&&mv(J,Ze,ce,ge,!0)}}e:{if(q=B?gn(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var je=Og;else if(Dg(q))if(xg)je=gA;else{je=mA;var fe=dA}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ia(B.elementType)&&(je=Og):je=pA;if(je&&(je=je(t,B))){Ng(J,je,a,Y);break e}fe&&fe(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&el(q,"number",q.value)}switch(fe=B?gn(B):window,t){case"focusin":(Dg(fe)||fe.contentEditable==="true")&&(ka=fe,Pf=B,fl=null);break;case"focusout":fl=Pf=ka=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,jg(J,a,Y);break;case"selectionchange":if(_A)break;case"keydown":case"keyup":jg(J,a,Y)}var Ie;if(qe)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Pa?Ls(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Si&&a.locale!=="ko"&&(Pa||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Pa&&(Ie=sl()):(_i=Y,rl="value"in _i?_i.value:_i.textContent,Pa=!0)),fe=Jc(B,xe),0<fe.length&&(xe=new Ti(xe,t,null,a,Y),J.push({event:xe,listeners:fe}),Ie?xe.data=Ie:(Ie=Va(a),Ie!==null&&(xe.data=Ie)))),(Ie=On?uA(t,a):cA(t,a))&&(xe=Jc(B,"onBeforeInput"),0<xe.length&&(fe=new Ti("onBeforeInput","beforeinput",null,a,Y),J.push({event:fe,listeners:xe}),fe.data=Ie)),tw(J,t,B,a,Y)}fv(J,i)})}function Ul(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Jc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Yn(t,a),f!=null&&l.unshift(Ul(t,f,d)),f=Yn(t,i),f!=null&&l.push(Ul(t,f,d))),t.tag===3)return l;t=t.return}return[]}function sw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,B=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||B===null||(D=B,f?(B=Yn(a,d),B!=null&&_.unshift(Ul(a,B,D))):f||(B=Yn(a,d),B!=null&&_.push(Ul(a,B,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var aw=/\r\n?/g,ow=/\u0000|\uFFFD/g;function pv(t){return(typeof t=="string"?t:""+t).replace(aw,`
`).replace(ow,"")}function gv(t,i){return i=pv(i),pv(t)===i}function Je(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":nl(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",f.name,f,null),Je(t,i,"formEncType",f.formEncType,f,null),Je(t,i,"formMethod",f.formMethod,f,null),Je(t,i,"formTarget",f.formTarget,f,null)):(Je(t,i,"encType",f.encType,f,null),Je(t,i,"method",f.method,f,null),Je(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Ra(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ju.get(a)||a,Ra(t,a,l))}}function om(t,i,a,l,f,d){switch(a){case"style":nl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ra(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}f&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var T=d=_=f=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":D=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Je(t,i,l,Y,a,null)}}Xu(t,d,T,D,B,_,f,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Je(t,i,f,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?wr(t,!!l,i,!1):a!=null&&wr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,_,T,a,null)}Rr(t,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,D,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)Ne(kl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(Ia(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&om(t,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,i,T,l,a,null))}function lw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,T=null,D=null,B=null,Y=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(G)||Je(t,i,G,null,l,J)}}for(var q in l){var G=l[q];if(J=a[q],l.hasOwnProperty(q)&&(G!=null||J!=null))switch(q){case"type":d=G;break;case"name":f=G;break;case"checked":B=G;break;case"defaultChecked":Y=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==J&&Je(t,i,q,G,l,J)}}Ca(t,_,T,D,B,Y,d,f);return;case"select":G=_=T=q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&Je(t,i,f,d,l,D)}i=T,a=_,l=G,q!=null?wr(t,!!a,q,!1):!!l!=!!a&&(i!=null?wr(t,!!a,i,!0):wr(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,i,_,f,l,d)}$u(t,q,G);return;case"option":for(var ce in a)if(q=a[ce],a.hasOwnProperty(ce)&&q!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Je(t,i,ce,null,l,q)}for(D in l)if(q=l[D],G=a[D],l.hasOwnProperty(D)&&q!==G&&(q!=null||G!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(t,i,D,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)q=a[ge],a.hasOwnProperty(ge)&&q!=null&&!l.hasOwnProperty(ge)&&Je(t,i,ge,null,l,q);for(B in l)if(q=l[B],G=a[B],l.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Je(t,i,B,q,l,G)}return;default:if(Ia(i)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&om(t,i,Ze,void 0,l,q);for(Y in l)q=l[Y],G=a[Y],!l.hasOwnProperty(Y)||q===G||q===void 0&&G===void 0||om(t,i,Y,q,l,G);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&Je(t,i,U,null,l,q);for(J in l)q=l[J],G=a[J],!l.hasOwnProperty(J)||q===G||q==null&&G==null||Je(t,i,J,q,l,G)}function yv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,T=f.duration;if(d&&T&&yv(_)){for(_=0,T=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>T)break;var Y=D.transferSize,J=D.initiatorType;Y&&yv(J)&&(D=D.responseEnd,_+=Y*(D<T?1:(T-B)/(D-B)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var lm=null,um=null;function Zc(t){return t.nodeType===9?t:t.ownerDocument}function _v(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function cm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hm=null;function cw(){var t=window.event;return t&&t.type==="popstate"?t===hm?!1:(hm=t,!0):(hm=null,!1)}var Ev=typeof setTimeout=="function"?setTimeout:void 0,hw=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,fw=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(t){return Tv.resolve(null).then(t).catch(dw)}:Ev;function dw(t){setTimeout(function(){throw t})}function Xr(t){return t==="head"}function Sv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),uo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[hi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ll(t.ownerDocument.body);a=f}while(a);uo(i)}function bv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function fm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fm(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function mw(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function pw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function Av(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function dm(t){return t.data==="$?"||t.data==="$~"}function mm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function gw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var pm=null;function wv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Rv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Cv(t,i,a){switch(i=Zc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ll(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);wa(t)}var zn=new Map,Iv=new Set;function eh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var or=se.d;se.d={f:yw,r:_w,D:vw,C:Ew,L:Tw,m:Sw,X:Aw,S:bw,M:ww};function yw(){var t=or.f(),i=Gc();return t||i}function _w(t){var i=In(t);i!==null&&i.tag===5&&i.type==="form"?Gy(i):or.r(t)}var ao=typeof document>"u"?null:document;function Dv(t,i,a){var l=ao;if(l&&typeof i=="string"&&i){var f=on(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Iv.has(f)||(Iv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Qt(i,"link",t),St(i),l.head.appendChild(i)))}}function vw(t){or.D(t),Dv("dns-prefetch",t,null)}function Ew(t,i){or.C(t,i),Dv("preconnect",t,i)}function Tw(t,i,a){or.L(t,i,a);var l=ao;if(l&&t&&i){var f='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+on(a.imageSizes)+'"]')):f+='[href="'+on(t)+'"]';var d=f;switch(i){case"style":d=oo(t);break;case"script":d=lo(t)}zn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),zn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(zl(d))||i==="script"&&l.querySelector(jl(d))||(i=l.createElement("link"),Qt(i,"link",t),St(i),l.head.appendChild(i)))}}function Sw(t,i){or.m(t,i);var a=ao;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=lo(t)}if(!zn.has(d)&&(t=S({rel:"modulepreload",href:t},i),zn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(d)))return}l=a.createElement("link"),Qt(l,"link",t),St(l),a.head.appendChild(l)}}}function bw(t,i,a){or.S(t,i,a);var l=ao;if(l&&t){var f=di(l).hoistableStyles,d=oo(t);i=i||"default";var _=f.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(zl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=zn.get(d))&&gm(t,a);var D=_=l.createElement("link");St(D),Qt(D,"link",t),D._p=new Promise(function(B,Y){D.onload=B,D.onerror=Y}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,th(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(d,_)}}}function Aw(t,i){or.X(t,i);var a=ao;if(a&&t){var l=di(a).hoistableScripts,f=lo(t),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(t=S({src:t,async:!0},i),(i=zn.get(f))&&ym(t,i),d=a.createElement("script"),St(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function ww(t,i){or.M(t,i);var a=ao;if(a&&t){var l=di(a).hoistableScripts,f=lo(t),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(t=S({src:t,async:!0,type:"module"},i),(i=zn.get(f))&&ym(t,i),d=a.createElement("script"),St(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Nv(t,i,a,l){var f=(f=Ce.current)?eh(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=oo(a.href),a=di(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=oo(a.href);var d=di(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(zl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),d||Rw(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=lo(a),a=di(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function oo(t){return'href="'+on(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function Ov(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Rw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),St(i),t.head.appendChild(i))}function lo(t){return'[src="'+on(t)+'"]'}function jl(t){return"script[async]"+t}function xv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,St(l),l;var f=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Qt(l,"style",f),th(l,a.precedence,t),i.instance=l;case"stylesheet":f=oo(a.href);var d=t.querySelector(zl(f));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=Ov(a),(f=zn.get(f))&&gm(l,f),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Qt(d,"link",l),i.state.loading|=4,th(d,a.precedence,t),i.instance=d;case"script":return d=lo(a.src),(f=t.querySelector(jl(d)))?(i.instance=f,St(f),f):(l=a,(f=zn.get(d))&&(l=S({},a),ym(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),St(f),Qt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,th(l,a.precedence,t));return i.instance}function th(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function gm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ym(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var nh=null;function Mv(t,i,a){if(nh===null){var l=new Map,f=nh=new Map;f.set(a,l)}else f=nh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[hi]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Vv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Cw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Pv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Iw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=oo(l.href),d=i.querySelector(zl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ih.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=Ov(l),(f=zn.get(f))&&gm(l,f),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ih.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var _m=0;function Dw(t,i){return t.stylesheets&&t.count===0&&sh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&sh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&_m===0&&(_m=62500*uw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&sh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>_m?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ih(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rh=null;function sh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rh=new Map,i.forEach(Nw,t),rh=null,ih.call(t))}function Nw(t,i){if(!(i.state.loading&4)){var a=rh.get(t);if(a)var l=a.get(null);else{a=new Map,rh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=ih.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Bl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Ow(t,i,a,l,f,d,_,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function kv(t,i,a,l,f,d,_,T,D,B,Y,J){return t=new Ow(t,i,a,_,D,B,Y,J,T),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Wf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},td(d),t}function Uv(t){return t?(t=za,t):za}function Lv(t,i,a,l,f,d){f=Uv(f),l.context===null?l.context=f:l.pendingContext=f,l=Lr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=zr(t,l,i),a!==null&&(dn(a,t,i),vl(a,t,i))}function zv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function vm(t,i){zv(t,i),(t=t.alternate)&&zv(t,i)}function jv(t){if(t.tag===13||t.tag===31){var i=Bs(t,67108864);i!==null&&dn(i,t,67108864),vm(t,67108864)}}function Bv(t){if(t.tag===13||t.tag===31){var i=An();i=Ds(i);var a=Bs(t,i);a!==null&&dn(a,t,i),vm(t,i)}}var ah=!0;function xw(t,i,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=2,Em(t,i,a,l)}finally{se.p=d,X.T=f}}function Mw(t,i,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=8,Em(t,i,a,l)}finally{se.p=d,X.T=f}}function Em(t,i,a,l){if(ah){var f=Tm(l);if(f===null)am(t,i,l,oh,a),Hv(t,l);else if(Pw(f,t,i,a,l))l.stopPropagation();else if(Hv(t,l),i&4&&-1<Vw.indexOf(t)){for(;f!==null;){var d=In(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=oi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-mt(_);T.entanglements[1]|=D,_&=~D}Ri(d),(He&6)===0&&(Hc=nn()+500,Pl(0))}}break;case 31:case 13:T=Bs(d,2),T!==null&&dn(T,d,2),Gc(),vm(d,2)}if(d=Tm(l),d===null&&am(t,i,l,oh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else am(t,i,l,null,a)}}function Tm(t){return t=Dn(t),Sm(t)}var oh=null;function Sm(t){if(oh=null,t=fi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return oh=t,null}function qv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ws()){case Fo:return 2;case Go:return 8;case br:case If:return 32;case zu:return 268435456;default:return 32}default:return 32}}var bm=!1,$r=null,Wr=null,Jr=null,ql=new Map,Hl=new Map,Zr=[],Vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hv(t,i){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(i.pointerId)}}function Fl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=In(i),i!==null&&jv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Pw(t,i,a,l,f){switch(i){case"focusin":return $r=Fl($r,t,i,a,l,f),!0;case"dragenter":return Wr=Fl(Wr,t,i,a,l,f),!0;case"mouseover":return Jr=Fl(Jr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return ql.set(d,Fl(ql.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Hl.set(d,Fl(Hl.get(d)||null,t,i,a,l,f)),!0}return!1}function Fv(t){var i=fi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){Bv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){Bv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Tm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);il=l,a.target.dispatchEvent(l),il=null}else return i=In(a),i!==null&&jv(i),t.blockedOn=a,!1;i.shift()}return!0}function Gv(t,i,a){lh(t)&&a.delete(i)}function kw(){bm=!1,$r!==null&&lh($r)&&($r=null),Wr!==null&&lh(Wr)&&(Wr=null),Jr!==null&&lh(Jr)&&(Jr=null),ql.forEach(Gv),Hl.forEach(Gv)}function uh(t,i){t.blockedOn===i&&(t.blockedOn=null,bm||(bm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kw)))}var ch=null;function Kv(t){ch!==t&&(ch=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ch===t&&(ch=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Sm(l||a)===null)continue;break}var d=In(a);d!==null&&(t.splice(i,3),i-=3,Td(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function uo(t){function i(D){return uh(D,t)}$r!==null&&uh($r,t),Wr!==null&&uh(Wr,t),Jr!==null&&uh(Jr,t),ql.forEach(i),Hl.forEach(i);for(var a=0;a<Zr.length;a++){var l=Zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)Fv(a),a.blockedOn===null&&Zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Ut]||null;if(typeof d=="function")_||Kv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ut]||null)T=_.formAction;else if(Sm(f)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Kv(a)}}}function Qv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Am(t){this._internalRoot=t}hh.prototype.render=Am.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();Lv(a,l,t,i,null,null)},hh.prototype.unmount=Am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Lv(t.current,2,null,t,null,null),Gc(),i[ci]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Gu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Zr.length&&i!==0&&i<Zr[a].priority;a++);Zr.splice(a,0,t),a===0&&Fv(t)}};var Yv=e.version;if(Yv!=="19.2.0")throw Error(s(527,Yv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Uw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Hn=fh.inject(Uw),qt=fh}catch{}}return Kl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=t_,d=n_,_=i_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=kv(t,1,!1,null,null,a,l,null,f,d,_,Qv),t[ci]=i.current,sm(t),new Am(i)},Kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=t_,_=n_,T=i_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=kv(t,1,!0,i,a??null,l,f,D,d,_,T,Qv),i.context=Uv(null),a=i.current,l=An(),l=Ds(l),f=Lr(l),f.callback=null,zr(a,f,l),a=l,i.current.lanes=a,Cs(i,a),Ri(i),t[ci]=i.current,sm(t),new hh(i)},Kl.version="19.2.0",Kl}var rE;function Yw(){if(rE)return Cm.exports;rE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cm.exports=Qw(),Cm.exports}var Xw=Yw();const $w=zw(Xw);var sE="popstate";function Ww(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Ym("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:lu(o)}return Zw(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jw(){return Math.random().toString(36).substring(2,10)}function aE(r,e){return{usr:r.state,key:r.key,idx:e}}function Ym(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?xo(e):e,state:n,key:e&&e.key||s||Jw()}}function lu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function xo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Zw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function S(){m="POP";let P=E(),W=P==null?null:P-g;g=P,p&&p({action:m,location:Q.location,delta:W})}function A(P,W){m="PUSH";let ne=Ym(Q.location,P,W);g=E()+1;let ie=aE(ne,g),he=Q.createHref(ne);try{h.pushState(ie,"",he)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;o.location.assign(he)}u&&p&&p({action:m,location:Q.location,delta:1})}function k(P,W){m="REPLACE";let ne=Ym(Q.location,P,W);g=E();let ie=aE(ne,g),he=Q.createHref(ne);h.replaceState(ie,"",he),u&&p&&p({action:m,location:Q.location,delta:0})}function K(P){return e1(P)}let Q={get action(){return m},get location(){return r(o,h)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(sE,S),p=P,()=>{o.removeEventListener(sE,S),p=null}},createHref(P){return e(o,P)},createURL:K,encodeLocation(P){let W=K(P);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:A,replace:k,go(P){return h.go(P)}};return Q}function e1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:lu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function YT(r,e,n="/"){return t1(r,e,n,!1)}function t1(r,e,n,s){let o=typeof e=="string"?xo(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let h=XT(r);n1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=d1(u);m=h1(h[p],g,s)}return m}function XT(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=cr([s,E.relativePath]),A=n.concat(E);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),XT(h.children,e,A,S,p)),!(h.path==null&&!h.index)&&e.push({path:S,score:u1(S,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of $T(h.path))u(h,m,!0,p)}),e}function $T(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=$T(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function n1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:c1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var i1=/^:[\w-]+$/,r1=3,s1=2,a1=1,o1=10,l1=-2,oE=r=>r==="*";function u1(r,e){let n=r.split("/"),s=n.length;return n.some(oE)&&(s+=l1),e&&(s+=s1),n.filter(o=>!oE(o)).reduce((o,u)=>o+(i1.test(u)?r1:u===""?a1:o1),s)}function c1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function h1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:cr([u,S.pathname]),pathnameBase:y1(cr([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=cr([u,S.pathnameBase]))}return h}function Vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=f1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},A)=>{if(E==="*"){let K=m[A]||"";h=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const k=m[A];return S&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function f1(r,e=!1,n=!0){zi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function d1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function m1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?xo(r):r;return{pathname:n?n.startsWith("/")?n:p1(n,e):e,search:_1(s),hash:v1(o)}}function p1(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Om(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function g1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function WT(r){let e=g1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function JT(r,e,n,s=!1){let o;typeof r=="string"?o=xo(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Om("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Om("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Om("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let S=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}m=S>=0?e[S]:"/"}let p=m1(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),y1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),_1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,v1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function E1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZT=["POST","PUT","PATCH","DELETE"];new Set(ZT);var T1=["GET",...ZT];new Set(T1);var Mo=F.createContext(null);Mo.displayName="DataRouter";var nf=F.createContext(null);nf.displayName="DataRouterState";F.createContext(!1);var e0=F.createContext({isTransitioning:!1});e0.displayName="ViewTransition";var S1=F.createContext(new Map);S1.displayName="Fetchers";var b1=F.createContext(null);b1.displayName="Await";var Bi=F.createContext(null);Bi.displayName="Navigation";var Eu=F.createContext(null);Eu.displayName="Location";var Tr=F.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var Ap=F.createContext(null);Ap.displayName="RouteError";function A1(r,{relative:e}={}){ut(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(Bi),{hash:o,pathname:u,search:h}=Su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:cr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Tu(){return F.useContext(Eu)!=null}function da(){return ut(Tu(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Eu).location}var t0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n0(r){F.useContext(Bi).static||F.useLayoutEffect(r)}function i0(){let{isDataRoute:r}=F.useContext(Tr);return r?U1():w1()}function w1(){ut(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(Mo),{basename:e,navigator:n}=F.useContext(Bi),{matches:s}=F.useContext(Tr),{pathname:o}=da(),u=JSON.stringify(WT(s)),h=F.useRef(!1);return n0(()=>{h.current=!0}),F.useCallback((p,g={})=>{if(zi(h.current,t0),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=JT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:cr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}F.createContext(null);function Su(r,{relative:e}={}){let{matches:n}=F.useContext(Tr),{pathname:s}=da(),o=JSON.stringify(WT(n));return F.useMemo(()=>JT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function R1(r,e){return r0(r,e)}function r0(r,e,n,s,o){ut(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=F.useContext(Bi),{matches:h}=F.useContext(Tr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let ne=S&&S.path||"";s0(g,!S||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let A=da(),k;if(e){let ne=typeof e=="string"?xo(e):e;ut(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),k=ne}else k=A;let K=k.pathname||"/",Q=K;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");Q="/"+K.replace(/^\//,"").split("/").slice(ne.length).join("/")}let P=YT(r,{pathname:Q});zi(S||P!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),zi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=O1(P&&P.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:cr([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:cr([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),h,n,s,o);return e&&W?F.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},W):W}function C1(){let r=k1(),e=E1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,h)}var I1=F.createElement(C1,null),D1=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?F.createElement(Tr.Provider,{value:this.props.routeContext},F.createElement(Ap.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function N1({routeContext:r,match:e,children:n}){let s=F.useContext(Mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Tr.Provider,{value:r},n)}function O1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let g=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:S,errors:A}=n,k=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!A||A[E.route.id]===void 0);if(E.route.lazy||k){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,E,S)=>{let A,k=!1,K=null,Q=null;n&&(A=h&&E.route.id?h[E.route.id]:void 0,K=E.route.errorElement||I1,m&&(p<0&&S===0?(s0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,Q=null):p===S&&(k=!0,Q=E.route.hydrateFallbackElement||null)));let P=e.concat(u.slice(0,S+1)),W=()=>{let ne;return A?ne=K:k?ne=Q:E.route.Component?ne=F.createElement(E.route.Component,null):E.route.element?ne=E.route.element:ne=g,F.createElement(N1,{match:E,routeContext:{outlet:g,matches:P,isDataRoute:n!=null},children:ne})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?F.createElement(D1,{location:n.location,revalidation:n.revalidation,component:K,error:A,children:W(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:s}):W()},null)}function wp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x1(r){let e=F.useContext(Mo);return ut(e,wp(r)),e}function M1(r){let e=F.useContext(nf);return ut(e,wp(r)),e}function V1(r){let e=F.useContext(Tr);return ut(e,wp(r)),e}function Rp(r){let e=V1(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function P1(){return Rp("useRouteId")}function k1(){let r=F.useContext(Ap),e=M1("useRouteError"),n=Rp("useRouteError");return r!==void 0?r:e.errors?.[n]}function U1(){let{router:r}=x1("useNavigate"),e=Rp("useNavigate"),n=F.useRef(!1);return n0(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{zi(n.current,t0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var lE={};function s0(r,e,n){!e&&!lE[r]&&(lE[r]=!0,zi(!1,n))}F.memo(L1);function L1({routes:r,future:e,state:n,unstable_onError:s}){return r0(r,void 0,n,s,e)}function mo(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function z1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=xo(n));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:A="default"}=n,k=F.useMemo(()=>{let K=pr(p,h);return K==null?null:{location:{pathname:K,search:g,hash:E,state:S,key:A},navigationType:s}},[h,p,g,E,S,A,s]);return zi(k!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:F.createElement(Bi.Provider,{value:m},F.createElement(Eu.Provider,{children:e,value:k}))}function j1({children:r,location:e}){return R1(Xm(r),e)}function Xm(r,e=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){n.push.apply(n,Xm(s.props.children,u));return}ut(s.type===mo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Xm(s.props.children,u)),n.push(h)}),n}var Sh="get",bh="application/x-www-form-urlencoded";function rf(r){return r!=null&&typeof r.tagName=="string"}function B1(r){return rf(r)&&r.tagName.toLowerCase()==="button"}function q1(r){return rf(r)&&r.tagName.toLowerCase()==="form"}function H1(r){return rf(r)&&r.tagName.toLowerCase()==="input"}function F1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function G1(r,e){return r.button===0&&(!e||e==="_self")&&!F1(r)}var dh=null;function K1(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch{dh=!0}return dh}var Q1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(r){return r!=null&&!Q1.has(r)?(zi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bh}"`),null):r}function Y1(r,e){let n,s,o,u,h;if(q1(r)){let m=r.getAttribute("action");s=m?pr(m,e):null,n=r.getAttribute("method")||Sh,o=xm(r.getAttribute("enctype"))||bh,u=new FormData(r)}else if(B1(r)||H1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?pr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Sh,o=xm(r.getAttribute("formenctype"))||xm(m.getAttribute("enctype"))||bh,u=new FormData(m,r),!K1()){let{name:g,type:E,value:S}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,S)}}else{if(rf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Sh,s=null,o=bh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function X1(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&pr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function $1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function J1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await $1(u,n);return h.links?h.links():[]}return[]}));return nR(s.flat(1).filter(W1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function uE(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Z1(r,e,{includeHydrateFallback:n}={}){return eR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function eR(r){return[...new Set(r)]}function tR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function nR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(tR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function a0(){let r=F.useContext(Mo);return Cp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function iR(){let r=F.useContext(nf);return Cp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ip=F.createContext(void 0);Ip.displayName="FrameworkContext";function o0(){let r=F.useContext(Ip);return Cp(r,"You must render this element inside a <HydratedRouter> element"),r}function rR(r,e){let n=F.useContext(Ip),[s,o]=F.useState(!1),[u,h]=F.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,A=F.useRef(null);F.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Q=W=>{W.forEach(ne=>{h(ne.isIntersecting)})},P=new IntersectionObserver(Q,{threshold:.5});return A.current&&P.observe(A.current),()=>{P.disconnect()}}},[r]),F.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let k=()=>{o(!0)},K=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Ql(m,k),onBlur:Ql(p,K),onMouseEnter:Ql(g,k),onMouseLeave:Ql(E,K),onTouchStart:Ql(S,k)}]:[!1,A,{}]}function Ql(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function sR({page:r,...e}){let{router:n}=a0(),s=F.useMemo(()=>YT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(oR,{page:r,matches:s,...e}):null}function aR(r){let{manifest:e,routeModules:n}=o0(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return J1(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function oR({page:r,matches:e,...n}){let s=da(),{manifest:o,routeModules:u}=o0(),{basename:h}=a0(),{loaderData:m,matches:p}=iR(),g=F.useMemo(()=>uE(r,e,p,o,s,"data"),[r,e,p,o,s]),E=F.useMemo(()=>uE(r,e,p,o,s,"assets"),[r,e,p,o,s]),S=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,Q=!1;if(e.forEach(W=>{let ne=o.routes[W.route.id];!ne||!ne.hasLoader||(!g.some(ie=>ie.route.id===W.route.id)&&W.route.id in m&&u[W.route.id]?.shouldRevalidate||ne.hasClientLoader?Q=!0:K.add(W.route.id))}),K.size===0)return[];let P=X1(r,h,"data");return Q&&K.size>0&&P.searchParams.set("_routes",e.filter(W=>K.has(W.route.id)).map(W=>W.route.id).join(",")),[P.pathname+P.search]},[h,m,s,o,g,e,r,u]),A=F.useMemo(()=>Z1(E,o),[E,o]),k=aR(E);return F.createElement(F.Fragment,null,S.map(K=>F.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),A.map(K=>F.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),k.map(({key:K,link:Q})=>F.createElement("link",{key:K,nonce:n.nonce,...Q})))}function lR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var l0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{l0&&(window.__reactRouterVersion="7.9.5")}catch{}function uR({basename:r,children:e,window:n}){let s=F.useRef();s.current==null&&(s.current=Ww({window:n,v5Compat:!0}));let o=s.current,[u,h]=F.useState({action:o.action,location:o.location}),m=F.useCallback(p=>{F.startTransition(()=>h(p))},[h]);return F.useLayoutEffect(()=>o.listen(m),[o,m]),F.createElement(z1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var u0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ta=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...A},k){let{basename:K}=F.useContext(Bi),Q=typeof g=="string"&&u0.test(g),P,W=!1;if(typeof g=="string"&&Q&&(P=g,l0))try{let R=new URL(window.location.href),V=g.startsWith("//")?new URL(R.protocol+g):new URL(g),O=pr(V.pathname,K);V.origin===R.origin&&O!=null?g=O+V.search+V.hash:W=!0}catch{zi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=A1(g,{relative:o}),[ie,he,ye]=rR(s,A),Ee=dR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function C(R){e&&e(R),R.defaultPrevented||Ee(R)}let w=F.createElement("a",{...A,...ye,href:P||ne,onClick:W||u?e:C,ref:lR(k,he),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return ie&&!Q?F.createElement(F.Fragment,null,w,F.createElement(sR,{page:ne})):w});ta.displayName="Link";var cR=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let S=Su(h,{relative:g.relative}),A=da(),k=F.useContext(nf),{navigator:K,basename:Q}=F.useContext(Bi),P=k!=null&&_R(S)&&m===!0,W=K.encodeLocation?K.encodeLocation(S).pathname:S.pathname,ne=A.pathname,ie=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,W=W.toLowerCase()),ie&&Q&&(ie=pr(ie,Q)||ie);const he=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ye=ne===W||!o&&ne.startsWith(W)&&ne.charAt(he)==="/",Ee=ie!=null&&(ie===W||!o&&ie.startsWith(W)&&ie.charAt(W.length)==="/"),C={isActive:ye,isPending:Ee,isTransitioning:P},w=ye?e:void 0,R;typeof s=="function"?R=s(C):R=[s,ye?"active":null,Ee?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return F.createElement(ta,{...g,"aria-current":w,className:R,ref:E,style:V,to:h,viewTransition:m},typeof p=="function"?p(C):p)});cR.displayName="NavLink";var hR=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Sh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...A},k)=>{let K=gR(),Q=yR(m,{relative:g}),P=h.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&u0.test(m),ne=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let he=ie.nativeEvent.submitter,ye=he?.getAttribute("formmethod")||h;K(he||ie.currentTarget,{fetcherKey:e,method:ye,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return F.createElement("form",{ref:k,method:P,action:Q,onSubmit:s?p:ne,...A,"data-discover":!W&&r==="render"?"true":void 0})});hR.displayName="Form";function fR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c0(r){let e=F.useContext(Mo);return ut(e,fR(r)),e}function dR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=i0(),p=da(),g=Su(r,{relative:u});return F.useCallback(E=>{if(G1(E,e)){E.preventDefault();let S=n!==void 0?n:lu(p)===lu(g);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,r,o,u,h])}var mR=0,pR=()=>`__${String(++mR)}__`;function gR(){let{router:r}=c0("useSubmit"),{basename:e}=F.useContext(Bi),n=P1();return F.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=Y1(s,e);if(o.navigate===!1){let E=o.fetcherKey||pR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function yR(r,{relative:e}={}){let{basename:n}=F.useContext(Bi),s=F.useContext(Tr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Su(r||".",{relative:e})},h=da();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:cr([n,u.pathname])),lu(u)}function _R(r,{relative:e}={}){let n=F.useContext(e0);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=c0("useViewTransitionState"),o=Su(r,{relative:e});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Vh(o.pathname,h)!=null||Vh(o.pathname,u)!=null}const vR=()=>{};var cE={};const h0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ER=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},f0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,k=g&63;p||(k=64,h||(A=64)),s.push(n[E],n[S],n[A],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(h0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ER(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new TR;const A=u<<2|m>>4;if(s.push(A),g!==64){const k=m<<4&240|g>>2;if(s.push(k),S!==64){const K=g<<6&192|S;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class TR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SR=function(r){const e=h0(r);return f0.encodeByteArray(e,!0)},Ph=function(r){return SR(r).replace(/\./g,"")},d0=function(r){try{return f0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const AR=()=>bR().__FIREBASE_DEFAULTS__,wR=()=>{if(typeof process>"u"||typeof cE>"u")return;const r=cE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},RR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&d0(r[1]);return e&&JSON.parse(e)},sf=()=>{try{return vR()||AR()||wR()||RR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},m0=r=>sf()?.emulatorHosts?.[r],p0=r=>{const e=m0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},g0=()=>sf()?.config,y0=r=>sf()?.[`_${r}`];class CR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Es(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dp(r){return(await fetch(r,{credentials:"include"})).ok}function _0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ph(JSON.stringify(n)),Ph(JSON.stringify(h)),""].join(".")}const tu={};function IR(){const r={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?r.emulator.push(e):r.prod.push(e);return r}function DR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let hE=!1;function Np(r,e){if(typeof window>"u"||typeof document>"u"||!Es(window.location.host)||tu[r]===e||tu[r]||hE)return;tu[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=IR().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{hE=!0,h()},A}function E(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=DR(s),k=n("text"),K=document.getElementById(k)||document.createElement("span"),Q=n("learnmore"),P=document.getElementById(Q)||document.createElement("a"),W=n("preprendIcon"),ne=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),E(P,Q);const he=g();p(ne,W),ie.append(ne,K,P,he),document.body.appendChild(ie)}u?(K.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function OR(){const r=sf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function VR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PR(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function kR(){return!OR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UR(){try{return typeof indexedDB=="object"}catch{return!1}}function LR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const zR="FirebaseError";class qi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=zR,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?jR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new qi(o,m,s)}}function jR(r,e){return r.replace(BR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const BR=/\{\$([^}]+)}/g;function qR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function aa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(fE(u)&&fE(h)){if(!aa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function fE(r){return r!==null&&typeof r=="object"}function Au(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Xl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function $l(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function HR(r,e){const n=new FR(r,e);return n.subscribe.bind(n)}class FR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");GR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Mm),o.error===void 0&&(o.error=Mm),o.complete===void 0&&(o.complete=Mm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Mm(){}function Bt(r){return r&&r._delegate?r._delegate:r}class fs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class KR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new CR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YR(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QR(r){return r===ea?void 0:r}function YR(r){return r.instantiationMode==="EAGER"}class XR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const $R={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},WR=Me.INFO,JR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},ZR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=JR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Op{constructor(e){this.name=e,this._logLevel=WR,this._logHandler=ZR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const eC=(r,e)=>e.some(n=>r instanceof n);let dE,mE;function tC(){return dE||(dE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nC(){return mE||(mE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v0=new WeakMap,$m=new WeakMap,E0=new WeakMap,Vm=new WeakMap,xp=new WeakMap;function iC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ls(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&v0.set(n,r)}).catch(()=>{}),xp.set(e,r),e}function rC(r){if($m.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});$m.set(r,e)}let Wm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return $m.get(r);if(e==="objectStoreNames")return r.objectStoreNames||E0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function sC(r){Wm=r(Wm)}function aC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Pm(this),e,...n);return E0.set(s,e.sort?e.sort():[e]),ls(s)}:nC().includes(r)?function(...e){return r.apply(Pm(this),e),ls(v0.get(this))}:function(...e){return ls(r.apply(Pm(this),e))}}function oC(r){return typeof r=="function"?aC(r):(r instanceof IDBTransaction&&rC(r),eC(r,tC())?new Proxy(r,Wm):r)}function ls(r){if(r instanceof IDBRequest)return iC(r);if(Vm.has(r))return Vm.get(r);const e=oC(r);return e!==r&&(Vm.set(r,e),xp.set(e,r)),e}const Pm=r=>xp.get(r);function lC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ls(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ls(h.result),p.oldVersion,p.newVersion,ls(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const uC=["get","getKey","getAll","getAllKeys","count"],cC=["put","add","delete","clear"],km=new Map;function pE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(km.get(e))return km.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=cC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||uC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return km.set(e,u),u}sC(r=>({...r,get:(e,n,s)=>pE(e,n)||r.get(e,n,s),has:(e,n)=>!!pE(e,n)||r.has(e,n)}));class hC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function fC(r){return r.getComponent()?.type==="VERSION"}const Jm="@firebase/app",gE="0.14.5";const gr=new Op("@firebase/app"),dC="@firebase/app-compat",mC="@firebase/analytics-compat",pC="@firebase/analytics",gC="@firebase/app-check-compat",yC="@firebase/app-check",_C="@firebase/auth",vC="@firebase/auth-compat",EC="@firebase/database",TC="@firebase/data-connect",SC="@firebase/database-compat",bC="@firebase/functions",AC="@firebase/functions-compat",wC="@firebase/installations",RC="@firebase/installations-compat",CC="@firebase/messaging",IC="@firebase/messaging-compat",DC="@firebase/performance",NC="@firebase/performance-compat",OC="@firebase/remote-config",xC="@firebase/remote-config-compat",MC="@firebase/storage",VC="@firebase/storage-compat",PC="@firebase/firestore",kC="@firebase/ai",UC="@firebase/firestore-compat",LC="firebase",zC="12.5.0";const Zm="[DEFAULT]",jC={[Jm]:"fire-core",[dC]:"fire-core-compat",[pC]:"fire-analytics",[mC]:"fire-analytics-compat",[yC]:"fire-app-check",[gC]:"fire-app-check-compat",[_C]:"fire-auth",[vC]:"fire-auth-compat",[EC]:"fire-rtdb",[TC]:"fire-data-connect",[SC]:"fire-rtdb-compat",[bC]:"fire-fn",[AC]:"fire-fn-compat",[wC]:"fire-iid",[RC]:"fire-iid-compat",[CC]:"fire-fcm",[IC]:"fire-fcm-compat",[DC]:"fire-perf",[NC]:"fire-perf-compat",[OC]:"fire-rc",[xC]:"fire-rc-compat",[MC]:"fire-gcs",[VC]:"fire-gcs-compat",[PC]:"fire-fst",[UC]:"fire-fst-compat",[kC]:"fire-vertex","fire-js":"fire-js",[LC]:"fire-js-all"};const kh=new Map,BC=new Map,ep=new Map;function yE(r,e){try{r.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function oa(r){const e=r.name;if(ep.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,r);for(const n of kh.values())yE(n,r);for(const n of BC.values())yE(n,r);return!0}function af(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function wn(r){return r==null?!1:r.settings!==void 0}const qC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new bu("app","Firebase",qC);class HC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}const ma=zC;function T0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Zm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw us.create("bad-app-name",{appName:String(o)});if(n||(n=g0()),!n)throw us.create("no-options");const u=kh.get(o);if(u){if(aa(n,u.options)&&aa(s,u.config))return u;throw us.create("duplicate-app",{appName:o})}const h=new XR(o);for(const p of ep.values())h.addComponent(p);const m=new HC(n,s,h);return kh.set(o,m),m}function Mp(r=Zm){const e=kh.get(r);if(!e&&r===Zm&&g0())return T0();if(!e)throw us.create("no-app",{appName:r});return e}function Oi(r,e,n){let s=jC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(h.join(" "));return}oa(new fs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const FC="firebase-heartbeat-database",GC=1,uu="firebase-heartbeat-store";let Um=null;function S0(){return Um||(Um=lC(FC,GC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(r=>{throw us.create("idb-open",{originalErrorMessage:r.message})})),Um}async function KC(r){try{const n=(await S0()).transaction(uu),s=await n.objectStore(uu).get(b0(r));return await n.done,s}catch(e){if(e instanceof qi)gr.warn(e.message);else{const n=us.create("idb-get",{originalErrorMessage:e?.message});gr.warn(n.message)}}}async function _E(r,e){try{const s=(await S0()).transaction(uu,"readwrite");await s.objectStore(uu).put(e,b0(r)),await s.done}catch(n){if(n instanceof qi)gr.warn(n.message);else{const s=us.create("idb-set",{originalErrorMessage:n?.message});gr.warn(s.message)}}}function b0(r){return`${r.name}!${r.options.appId}`}const QC=1024,YC=30;class XC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>YC){const o=JC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vE(),{heartbeatsToSend:n,unsentEntries:s}=$C(this._heartbeatsCache.heartbeats),o=Ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gr.warn(e),""}}}function vE(){return new Date().toISOString().substring(0,10)}function $C(r,e=QC){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),EE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),EE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class WC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UR()?LR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _E(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _E(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function EE(r){return Ph(JSON.stringify({version:2,heartbeats:r})).length}function JC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function ZC(r){oa(new fs("platform-logger",e=>new hC(e),"PRIVATE")),oa(new fs("heartbeat",e=>new XC(e),"PRIVATE")),Oi(Jm,gE,r),Oi(Jm,gE,"esm2020"),Oi("fire-js","")}ZC("");var eI="firebase",tI="12.5.0";Oi(eI,tI,"app");var TE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cs,A0;(function(){var r;function e(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,O,L){for(var I=Array(arguments.length-2),st=2;st<arguments.length;st++)I[st-2]=arguments[st];return w.prototype[O].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;O<16;++O)V[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],O=C.g[2];let L=C.g[3],I;I=w+(L^R&(O^L))+V[0]+3614090360&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(O^w&(R^O))+V[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(R^L&(w^R))+V[2]+606105819&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(w^O&(L^w))+V[3]+3250441966&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(L^R&(O^L))+V[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(O^w&(R^O))+V[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(R^L&(w^R))+V[6]+2821735955&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(w^O&(L^w))+V[7]+4249261313&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(L^R&(O^L))+V[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(O^w&(R^O))+V[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(R^L&(w^R))+V[10]+4294925233&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(w^O&(L^w))+V[11]+2304563134&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(L^R&(O^L))+V[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(O^w&(R^O))+V[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(R^L&(w^R))+V[14]+2792965006&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(w^O&(L^w))+V[15]+1236535329&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(O^L&(R^O))+V[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(w^R))+V[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(L^w))+V[11]+643717713&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(O^L))+V[0]+3921069994&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^L&(R^O))+V[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(w^R))+V[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(L^w))+V[15]+3634488961&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(O^L))+V[4]+3889429448&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^L&(R^O))+V[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(w^R))+V[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(L^w))+V[3]+4107603335&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(O^L))+V[8]+1163531501&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^L&(R^O))+V[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(w^R))+V[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(L^w))+V[7]+1735328473&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(O^L))+V[12]+2368359562&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(R^O^L)+V[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^O)+V[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^R)+V[11]+1839030562&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^w)+V[14]+4259657740&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^L)+V[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^O)+V[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^R)+V[7]+4139469664&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^w)+V[10]+3200236656&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^L)+V[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^O)+V[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^R)+V[3]+3572445317&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^w)+V[6]+76029189&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^L)+V[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^O)+V[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^R)+V[15]+530742520&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^w)+V[2]+3299628645&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(O^(R|~L))+V[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~O))+V[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~R))+V[14]+2878612391&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~w))+V[5]+4237533241&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~L))+V[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~O))+V[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~R))+V[10]+4293915773&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~w))+V[1]+2240044497&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~L))+V[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~O))+V[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~R))+V[6]+2734768916&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~w))+V[13]+1309151649&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~L))+V[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~O))+V[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~R))+V[2]+718787259&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<w;){if(O==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(V[O++]=C.charCodeAt(L++),O==this.blockSize){o(this,V),O=0;break}}else for(;L<w;)if(V[O++]=C[L++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[w++]=this.g[R]>>>V&255;return C};function u(C,w){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function h(C,w){this.h=w;const R=[];let V=!0;for(let O=C.length-1;O>=0;O--){const L=C[O]|0;V&&L==w||(R[O]=L,V=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new h([w|0],w<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return P(g(-C));const w=[];let R=1;for(let V=0;C>=R;V++)w[V]=C/R|0,R*=4294967296;return new h(w,0)}function E(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return P(E(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let V=S;for(let L=0;L<C.length;L+=8){var O=Math.min(8,C.length-L);const I=parseInt(C.substring(L,L+O),w);O<8?(O=g(Math.pow(w,O)),V=V.j(O).add(g(I))):(V=V.j(R),V=V.add(g(I)))}return V}var S=p(0),A=p(1),k=p(16777216);r=h.prototype,r.m=function(){if(Q(this))return-P(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(K(this))return"0";if(Q(this))return"-"+P(this).toString(C);const w=g(Math.pow(C,6));var R=this;let V="";for(;;){const O=he(R,w).g;R=W(R,O.j(w));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=O,K(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function K(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function Q(C){return C.h==-1}r.l=function(C){return C=W(this,C),Q(C)?-1:K(C)?0:1};function P(C){const w=C.g.length,R=[];for(let V=0;V<w;V++)R[V]=~C.g[V];return new h(R,~C.h).add(A)}r.abs=function(){return Q(this)?P(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let O=0;O<=w;O++){let L=V+(this.i(O)&65535)+(C.i(O)&65535),I=(L>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);V=I>>>16,L&=65535,I&=65535,R[O]=I<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function W(C,w){return C.add(P(w))}r.j=function(C){if(K(this)||K(C))return S;if(Q(this))return Q(C)?P(this).j(P(C)):P(P(this).j(C));if(Q(C))return P(this.j(P(C)));if(this.l(k)<0&&C.l(k)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<C.g.length;O++){const L=this.i(V)>>>16,I=this.i(V)&65535,st=C.i(O)>>>16,xt=C.i(O)&65535;R[2*V+2*O]+=I*xt,ne(R,2*V+2*O),R[2*V+2*O+1]+=L*xt,ne(R,2*V+2*O+1),R[2*V+2*O+1]+=I*st,ne(R,2*V+2*O+1),R[2*V+2*O+2]+=L*st,ne(R,2*V+2*O+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new h(R,0)};function ne(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ie(C,w){this.g=C,this.h=w}function he(C,w){if(K(w))throw Error("division by zero");if(K(C))return new ie(S,S);if(Q(C))return w=he(P(C),w),new ie(P(w.g),P(w.h));if(Q(w))return w=he(C,P(w)),new ie(P(w.g),w.h);if(C.g.length>30){if(Q(C)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,V=w;V.l(C)<=0;)R=ye(R),V=ye(V);var O=Ee(R,1),L=Ee(V,1);for(V=Ee(V,2),R=Ee(R,2);!K(V);){var I=L.add(V);I.l(C)<=0&&(O=O.add(R),L=I),V=Ee(V,1),R=Ee(R,1)}return w=W(C,O.j(w)),new ie(O,w)}for(O=S;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=g(R),I=L.j(w);Q(I)||I.l(C)>0;)R-=V,L=g(R),I=L.j(w);K(L)&&(L=A),O=O.add(L),C=W(C,I)}return new ie(O,C)}r.B=function(C){return he(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&C.i(V);return new h(R,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|C.i(V);return new h(R,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^C.i(V);return new h(R,this.h^C.h)};function ye(C){const w=C.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new h(R,C.h)}function Ee(C,w){const R=w>>5;w%=32;const V=C.g.length-R,O=[];for(let L=0;L<V;L++)O[L]=w>0?C.i(L+R)>>>w|C.i(L+R+1)<<32-w:C.i(L+R);return new h(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,A0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,cs=h}).apply(typeof TE<"u"?TE:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var w0,Wl,R0,Ah,tp,C0,I0,D0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in v))break e;v=v[z]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&v.push([b,y[b]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,z,H){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return y.prototype[z].apply(b,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function K(c,y){for(let b=1;b<arguments.length;b++){const z=arguments[b];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const H=z.length||0;c.length=v+H;for(let re=0;re<H;re++)c[v+re]=z[re]}else c.push(z)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(c){h.setTimeout(()=>{throw c},0)}function W(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,v){const b=ie.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ie=new Q(()=>new he,c=>c.reset());class he{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,Ee=!1,C=new ne,w=()=>{const c=Promise.resolve(void 0);ye=()=>{c.then(R)}};function R(){for(var c;c=W();){try{c.h.call(c.g)}catch(v){P(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Ee=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function st(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}S(st,O),st.prototype.init=function(c,y){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),X=0;function se(c,y,v,b,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=z,this.key=++X,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function M(c){const y={};for(const v in c)y[v]=c[v];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(v in b)c[v]=b[v];for(let H=0;H<Z.length;H++)v=Z[H],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,b,z){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const re=Ce(c,y,b,z);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new se(y,this.src,H,!!b,z),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var b=c.g[v],z=Array.prototype.indexOf.call(b,y,void 0),H;(H=z>=0)&&Array.prototype.splice.call(b,z,1),H&&(pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,b){for(let z=0;z<c.length;++z){const H=c[z];if(!H.da&&H.listener==y&&H.capture==!!v&&H.ha==b)return z}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Mt={};function at(c,y,v,b,z){if(Array.isArray(y)){for(let H=0;H<y.length;H++)at(c,y[H],v,b,z);return null}return v=Ho(v),c&&c[xt]?c.J(y,v,m(b)?!!b.capture:!1,z):bs(c,y,v,!1,b,z)}function bs(c,y,v,b,z,H){if(!y)throw Error("Invalid event type");const re=m(z)?!!z.capture:!!z;let we=As(c);if(we||(c[Ue]=we=new ue(c)),v=we.add(y,v,b,re,H),v.proxy)return v;if(b=Ea(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)L||(z=re),z===void 0&&(z=!1),c.addEventListener(y.toString(),b,z);else if(c.attachEvent)c.attachEvent(si(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ea(){function c(v){return y.call(c.src,c.listener,v)}const y=Bo;return c}function Ta(c,y,v,b,z){if(Array.isArray(y))for(var H=0;H<y.length;H++)Ta(c,y[H],v,b,z);else b=m(b)?!!b.capture:!!b,v=Ho(v),c&&c[xt]?(c=c.i,H=String(y).toString(),H in c.g&&(y=c.g[H],v=Ce(y,v,b,z),v>-1&&(pe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[H],c.h--)))):c&&(c=As(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,b,z)),(v=c>-1?y[c]:null)&&Sa(v))}function Sa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[xt])Te(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(si(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=As(y))?(Te(v,c),v.h==0&&(v.src=null,y[Ue]=null)):pe(c)}}}function si(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Bo(c,y){if(c.da)c=!0;else{y=new st(y,this);const v=c.listener,b=c.ha||c.src;c.fa&&Sa(c),c=v.call(b,y)}return c}function As(c){return c=c[Ue],c instanceof ue?c:null}var qo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ho(c){return typeof c=="function"?c:(c[qo]||(c[qo]=function(y){return c.handleEvent(y)}),c[qo])}function vt(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}S(vt,V),vt.prototype[xt]=!0,vt.prototype.removeEventListener=function(c,y,v,b){Ta(this,c,y,v,b)};function Vt(c,y){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var z=y;y=new O(b,c),ae(y,z)}z=!0;let H,re;if(v)for(re=v.length-1;re>=0;re--)H=y.g=v[re],z=Sr(H,b,!0,y)&&z;if(H=y.g=c,z=Sr(H,b,!0,y)&&z,z=Sr(H,b,!1,y)&&z,v)for(re=0;re<v.length;re++)H=y.g=v[re],z=Sr(H,b,!1,y)&&z}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let b=0;b<v.length;b++)pe(v[b]);delete c.g[y],c.h--}}this.G=null},vt.prototype.J=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},vt.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function Sr(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let H=0;H<y.length;++H){const re=y[H];if(re&&!re.da&&re.capture==v){const we=re.listener,pt=re.ha||re.src;re.fa&&Te(c.i,re),z=we.call(pt,b)!==!1&&z}}return z&&!b.defaultPrevented}function Cf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Lu(c){c.g=Cf(()=>{c.g=null,c.i&&(c.i=!1,Lu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Lu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){V.call(this),this.h=c,this.g={}}S(ws,V);var Fo=[];function Go(c){ze(c.g,function(y,v){this.g.hasOwnProperty(v)&&Sa(y)},c),c.g={}}ws.prototype.N=function(){ws.Z.N.call(this),Go(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=h.JSON.stringify,If=h.JSON.parse,zu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ju(){}function Bu(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){O.call(this,"d")}S(qt,O);function Cn(){O.call(this,"c")}S(Cn,O);var mt={},qu=null;function ba(){return qu=qu||new vt}mt.Ia="serverreachability";function Hu(c){O.call(this,mt.Ia,c)}S(Hu,O);function ai(c){const y=ba();Vt(y,new Hu(y))}mt.STAT_EVENT="statevent";function Rs(c,y){O.call(this,mt.STAT_EVENT,c),this.stat=y}S(Rs,O);function Et(c){const y=ba();Vt(y,new Rs(y,c))}mt.Ja="timingevent";function oi(c,y){O.call(this,mt.Ja,c),this.size=y}S(oi,O);function li(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Df(c,y,v,b,z,H){c.info(function(){if(c.g)if(H){var re="",we=H.split("&");for(let qe=0;qe<we.length;qe++){var pt=we[qe].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const On=ot.split("_");re=On.length>=2&&On[1]=="type"?re+(ot+"="+pt+"&"):re+(ot+"=redacted&")}}}else re=null;else re=H;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+y+`
`+v+`
`+re})}function Fu(c,y,v,b,z,H,re){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+y+`
`+v+`
`+H+" "+re})}function ui(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Nf(c,v)+(b?" "+b:"")})}function Cs(c,y){c.info(function(){return"TIMEOUT: "+y})}Fn.prototype.info=function(){};function Nf(c,y){if(!c.g)return y;if(!y)return null;try{const H=JSON.parse(y);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return br(H)}catch{return y}}var Is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qo;function Ds(){}S(Ds,ju),Ds.prototype.g=function(){return new XMLHttpRequest},Qo=new Ds;function Hi(c){return encodeURIComponent(String(c))}function Gu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Gn(c,y,v,b){this.j=c,this.i=y,this.l=v,this.S=b||1,this.V=new ws(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Tt={},Ut={};function ci(c,y,v){c.M=1,c.A=Ns(bt(y)),c.u=v,c.R=!0,Aa(c,null)}function Aa(c,y){c.F=Date.now(),hi(c),c.B=bt(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),Ia(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Kn,c.g=ac(c.j,v?y:null,!c.u),c.P>0&&(c.O=new nn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,b=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Fo[0]=z.toString()),z=Fo);for(let H=0;H<z.length;H++){const re=at(v,z[H],b||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ai(),Df(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Xn(c)==3?y.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Xn(this.g),pt=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||we!=4||pt==7||(pt==8||qe<=0?ai(3):ai(2)),fi(this);var y=this.g.ca();this.X=y;var v=Of(this);if(this.o=y==200,Fu(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var H=b;break t}}H=null}if(c=H)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,Et(12),gn(this),In(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Qu(this,v),ot==Ut){we==4&&(this.m=4,Et(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,ot,null),di(this,ot);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ll(re),re.P=!0,Et(11))}}else ui(this.i,this.l,v,null),di(this,v);we==4&&gn(this),this.o&&!this.K&&(we==4?nc(this.j,this):(this.o=!1,hi(this)))}else Gi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),gn(this),In(this)}}}catch{}finally{}};function Of(c){if(!Ku(c))return c.g.la();const y=Ht(c.g);if(y==="")return"";let v="";const b=y.length,z=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),In(c),"";c.h.i=new h.TextDecoder}for(let H=0;H<b;H++)c.h.h=!0,v+=c.h.i.decode(y[H],{stream:!(z&&H==b-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Ku(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Qu(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?Ut:(v=Number(y.substring(v,b)),isNaN(v)?Tt:(b+=1,b+v>y.length?Ut:(y=y.slice(b,b+v),c.C=b+v,y)))}Gn.prototype.cancel=function(){this.K=!0,gn(this)};function hi(c){c.T=Date.now()+c.H,wa(c,c.H)}function wa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(g(c.aa,c),y)}function fi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Cs(this.i,this.B),this.M!=2&&(ai(),Et(17)),gn(this),this.m=2,In(this)):wa(this,this.T-c)};function In(c){c.j.I==0||c.K||nc(c.j,c)}function gn(c){fi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Go(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function di(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ma(v),Or(v);else break e;Us(v),Et(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(g(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&Ma(v),!I(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let qe=z[y];const ot=qe[0];if(!(ot<=v.K))if(v.K=ot,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const On=qe[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const Si=qe[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const $n=qe[5];$n!=null&&typeof $n=="number"&&$n>0&&(b=1.5*$n,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Wn=c.g;if(Wn){const Ls=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var H=b.h;H.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&($o(H,H.h),H.h=null))}if(b.G){const Va=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(b.wa=Va,Ke(b.J,b.G,Va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var re=c;if(b.na=sc(b,b.L?b.ba:null,b.W),re.L){Wo(b.h,re);var we=re,pt=b.O;pt&&(we.H=pt),we.D&&(fi(we),hi(we)),b.g=re}else ec(b);v.i.length>0&&Ei(v)}else qe[0]!="stop"&&qe[0]!="close"||Ti(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ti(v,7):al(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}ai(4)}catch{}}var St=class{constructor(c,y){this.g=c,this.map=y}};function Yo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function $o(c,y){c.g?c.g.add(y):c.h=y}function Wo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Yo.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return k(c.i)}var Yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let z,H=null;b>=0?(z=c[v].substring(0,b),H=c[v].substring(b+1)):z=c[v],y(z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,Ar(this,c.u),this.h=c.h,Zo(this,Ju(c.i)),this.m=c.m):c&&(y=String(c).match(Yu))?(this.l=!1,Lt(this,y[1]||"",!0),this.o=gi(y[2]||""),this.g=gi(y[3]||"",!0),Ar(this,y[4]),this.h=gi(y[5]||"",!0),Zo(this,y[6]||"",!0),this.m=gi(y[7]||"")):(this.l=!1,this.i=new Rr(null,this.l))}yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Os(y,Ca,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Os(y,Ca,!0),"@"),c.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Os(v,v.charAt(0)=="/"?el:Xu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Os(v,$u)),c.join("")},yn.prototype.resolve=function(c){const y=bt(this);let v=!!c.j;v?Lt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var b=c.h;if(v)Ar(y,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=y.h.lastIndexOf("/");z!=-1&&(b=y.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const H=[];for(let re=0;re<z.length;){const we=z[re++];we=="."?b&&re==z.length&&H.push(""):we==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&re==z.length&&H.push("")):(H.push(we),b=!0)}b=H.join("/")}else b=z}return v?y.h=b:v=c.i.toString()!=="",v?Zo(y,Ju(c.i)):v=!!c.m,v&&(y.m=c.m),y};function bt(c){return new yn(c)}function Lt(c,y,v){c.j=v?gi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ar(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Zo(c,y,v){y instanceof Rr?(c.i=y,Da(c.i,c.l)):(v||(y=Os(y,wr)),c.i=new Rr(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function Ns(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ca=/[#\/\?@]/g,Xu=/[#\?:]/g,el=/[#\?]/g,wr=/[#\?@]/g,$u=/#/g;function Rr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&Ra(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Rr.prototype,r.add=function(c,y){ln(this),this.i=null,c=Cr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Wu(c,y){ln(c),y=Cr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function tl(c,y){return ln(c),y=Cr(c,y),c.g.has(y)}r.forEach=function(c,y){ln(this),this.g.forEach(function(v,b){v.forEach(function(z){c.call(y,z,b,this)},this)},this)};function nl(c,y){ln(c);let v=[];if(typeof y=="string")tl(c,y)&&(v=v.concat(c.g.get(Cr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return ln(this),this.i=null,c=Cr(this,c),tl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=nl(this,c),c.length>0?String(c[0]):y):y};function Ia(c,y,v){Wu(c,y),v.length>0&&(c.i=null,c.g.set(Cr(c,y),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var v=y[b];const z=Hi(v);v=nl(this,v);for(let H=0;H<v.length;H++){let re=z;v[H]!==""&&(re+="="+Hi(v[H])),c.push(re)}}return this.i=c.join("&")};function Ju(c){const y=new Rr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Cr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Da(c,y){y&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,b){const z=b.toLowerCase();b!=z&&(Wu(this,b),Ia(this,z,v))},c)),c.j=y}function Qn(c,y){const v=new Fn;if(h.Image){const b=new Image;b.onload=E(Dn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=E(Dn,v,"TestLoadImage: error",!1,y,b),b.onabort=E(Dn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=E(Dn,v,"TestLoadImage: timeout",!1,y,b),h.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function il(c,y){const v=new Fn,b=new AbortController,z=setTimeout(()=>{b.abort(),Dn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(H=>{clearTimeout(z),H.ok?Dn(v,"TestPingServer: ok",!0,y):Dn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Dn(v,"TestPingServer: error",!1,y)})}function Dn(c,y,v,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(v)}catch{}}function Ir(){this.g=new zu}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(yi,ju),yi.prototype.g=function(){return new xs(this.i,this.h)};function xs(c,y){vt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(xs,vt),r=xs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Yn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Na(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Na(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Dr(this):Yn(this),this.readyState==3&&Na(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Dr(this))},r.Na=function(c){this.g&&(this.response=c,Dr(this))},r.ga=function(){this.g&&Dr(this)};function Dr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let y="";return ze(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Ms(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Nn(v),typeof c=="string"?v!=null&&Hi(v):Ke(c,y,v))}function $e(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($e,vt);var _i=/^https?$/i,rl=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(H){Vs(this,H);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)v.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())v.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(rl,y,void 0)>=0)||b||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of v)this.g.setRequestHeader(H,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Vs(this,H)}};function Vs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,sl(c),Fi(c)}function sl(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},r.Xa=function(){Ps(this)};function Ps(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=H===0){let re=String(c.D).match(Yu)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),b=!_i.test(re?re.toLowerCase():"")}v=b}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var z=Xn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",sl(c)}}finally{Fi(c)}}}}function Fi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),If(y)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(c){const y={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(I(c[b]))continue;var v=Gu(c[b]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=y[z]||[];y[z]=H,H.push(v)}Ge(y,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Nr(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Yo(c&&c.concurrentRequestLimit),this.Ba=new Ir,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Nr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,b){Et(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=sc(this,null,this.W),Ei(this)};function al(c){if(Oa(c),c.I==3){var y=c.V++,v=bt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),ks(c,v),y=new Gn(c,c.j,y),y.M=2,y.A=Ns(bt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=ac(y.j,null),y.g.ea(y.A)),y.F=Date.now(),hi(y)}rc(c)}function Or(c){c.g&&(ll(c),c.g.cancel(),c.g=null)}function Oa(c){Or(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ma(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ei(c){if(!Xo(c.h)&&!c.m){c.m=!0;var y=c.Ea;ye||w(),Ee||(ye(),Ee=!0),C.add(y,c),c.D=0}}function xa(c,y){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(g(c.Ea,c,y),ic(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Gn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=M(H),ae(H,this.U)):H=this.U),this.u!==null||this.R||(z.J=H,H=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Zu(this,z,y),v=bt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),ks(this,v),H&&(this.R?y="headers="+Hi(Nn(H))+"&"+y:this.u&&Ms(v,this.u,H)),$o(this.h,z),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),z.U=!0,ci(z,v,null)):ci(z,v,y),this.I=2}}else this.I==3&&(c?ol(this,c):this.i.length==0||Xo(this.h)||ol(this))};function ol(c,y){var v;y?v=y.l:v=c.V++;const b=bt(c.J);Ke(b,"SID",c.M),Ke(b,"RID",v),Ke(b,"AID",c.K),ks(c,b),c.u&&c.o&&Ms(b,c.u,c.o),v=new Gn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Zu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),$o(c.h,v),ci(v,b,y)}function ks(c,y){c.H&&ze(c.H,function(v,b){Ke(y,b,v)}),c.l&&ze({},function(v,b){Ke(y,b,v)})}function Zu(c,y,v){v=Math.min(c.i.length,v);const b=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let we=-1;for(;;){const pt=["count="+v];we==-1?v>0?(we=z[0].g,pt.push("ofs="+we)):we=0:pt.push("ofs="+we);let qe=!0;for(let ot=0;ot<v;ot++){var H=z[ot].g;const On=z[ot].map;if(H-=we,H<0)we=Math.max(0,z[ot].g-100),qe=!1;else try{H="req"+H+"_"||"";try{var re=On instanceof Map?On:Object.entries(On);for(const[Si,$n]of re){let Wn=$n;m($n)&&(Wn=br($n)),pt.push(H+Si+"="+encodeURIComponent(Wn))}}catch(Si){throw pt.push(H+"type="+encodeURIComponent("_badmap")),Si}}catch{b&&b(On)}}if(qe){re=pt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function ec(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ye||w(),Ee||(ye(),Ee=!0),C.add(y,c),c.A=0}}function Us(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(g(c.Da,c),ic(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,tc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Or(this),tc(this))};function ll(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function tc(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=bt(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),ks(c,y),c.u&&c.o&&Ms(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ns(bt(y)),v.u=null,v.R=!0,Aa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Or(this),Us(this),Et(19))};function Ma(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function nc(c,y){var v=null;if(c.g==y){Ma(c),ll(c),c.g=null;var b=2}else if(pi(c.h,y))v=y.G,Wo(c.h,y),b=1;else return;if(c.I!=0){if(y.o)if(b==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;b=ba(),Vt(b,new oi(b,v)),Ei(c)}else ec(c);else if(z=y.m,z==3||z==0&&y.X>0||!(b==1&&xa(c,y)||b==2&&Us(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function ic(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ti(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),b=c.Ua;const z=!b;b=new yn(b||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Lt(b,"https"),Ns(b),z?Qn(b.toString(),v):il(b.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(y),rc(c),Oa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function rc(c){if(c.I=0,c.ja=[],c.l){const y=Jo(c.h);(y.length!=0||c.i.length!=0)&&(K(c.ja,y),K(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function sc(c,y,v){var b=v instanceof yn?bt(v):new yn(v);if(b.g!="")y&&(b.g=y+"."+b.g),Ar(b,b.u);else{var z=h.location;b=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const H=new yn(null);b&&Lt(H,b),y&&(H.g=y),z&&Ar(H,z),v&&(H.h=v),b=H}return v=c.G,y=c.wa,v&&y&&Ke(b,v,y),Ke(b,"VER",c.ka),ks(c,b),b}function ac(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new yi({ab:v})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}r=oc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xr(){}xr.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){vt.call(this),this.g=new Nr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ki(this)}S(rn,vt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){al(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=br(c),c=v);y.i.push(new St(y.Ya++,c)),y.I==3&&Ei(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,rn.Z.N.call(this)};function lc(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S(lc,qt);function uc(){Cn.call(this),this.status=1}S(uc,Cn);function Ki(c){this.g=c}S(Ki,oc),Ki.prototype.ra=function(){Vt(this.g,"a")},Ki.prototype.qa=function(c){Vt(this.g,new lc(c))},Ki.prototype.pa=function(c){Vt(this.g,new uc)},Ki.prototype.oa=function(){Vt(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,D0=function(){return new xr},I0=function(){return ba()},C0=mt,tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,Ah=Is,Ko.COMPLETE="complete",R0=Ko,Bu.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Wl=Bu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,w0=$e}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});const SE="@firebase/firestore",bE="4.9.2";class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Vo="12.3.0";const la=new Op("@firebase/firestore");function po(){return la.logLevel}function le(r,...e){if(la.logLevel<=Me.DEBUG){const n=e.map(Vp);la.debug(`Firestore (${Vo}): ${r}`,...n)}}function yr(r,...e){if(la.logLevel<=Me.ERROR){const n=e.map(Vp);la.error(`Firestore (${Vo}): ${r}`,...n)}}function Ro(r,...e){if(la.logLevel<=Me.WARN){const n=e.map(Vp);la.warn(`Firestore (${Vo}): ${r}`,...n)}}function Vp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,N0(r,s,n)}function N0(r,e,n){let s=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw yr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||N0(e,o,s)}function Ae(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class O0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class iI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class rI{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new O0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class sI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new sI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new AE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Pp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=lI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function np(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Lm(o)===Lm(u)?Ve(o,u):Lm(o)?1:-1}return Ve(r.length,e.length)}const uI=55296,cI=57343;function Lm(r){const e=r.charCodeAt(0);return e>=uI&&e<=cI}function Co(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const wE="__name__";class Di{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Di.isNumericId(e),o=Di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(e).compare(Di.extractNumericId(n)):np(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class tt extends Di{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const hI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Di{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return hI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new Xt([wE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}function x0(r,e,n){if(!n)throw new oe(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function fI(r,e,n,s){if(e===!0&&s===!0)throw new oe(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function RE(r){if(!me.isDocumentKey(r))throw new oe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function CE(r){if(me.isDocumentKey(r))throw new oe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function M0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function of(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function ds(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=of(r);throw new oe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function wu(r,e){if(!M0(r))throw new oe(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(ee.INVALID_ARGUMENT,n);return!0}const IE=-62135596800,DE=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*DE);return new Xe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<IE)throw new oe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-IE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:Nt("string",Xe._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Xe(0,0))}static max(){return new Se(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cu=-1;function dI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Xe(n+1,0):new Xe(n,s));return new ms(o,me.empty(),e)}function mI(r){return new ms(r.readTime,r.key,cu)}class ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ms(Se.min(),me.empty(),cu)}static max(){return new ms(Se.max(),me.empty(),cu)}}function pI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const gI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Po(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==gI)throw r;le("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function _I(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ko(r){return r.name==="IndexedDbTransactionError"}class lf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lf.ce=-1;const kp=-1;function uf(r){return r==null}function Uh(r){return r===0&&1/r==-1/0}function vI(r){return typeof r=="number"&&Number.isInteger(r)&&!Uh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const V0="";function EI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=NE(e)),e=TI(r.get(n),e);return NE(e)}function TI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case V0:n+="";break;default:n+=u}}return n}function NE(r){return r+V0+""}function OE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function pa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function P0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xE(this.data.getIterator())}getIteratorFrom(e){return new xE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class xE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new ti([])}unionWith(e){let n=new kt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class k0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new k0("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const SI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=SI.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gs(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}const U0="server_timestamp",L0="__type__",z0="__previous_value__",j0="__local_write_time__";function Up(r){return(r?.mapValue?.fields||{})[L0]?.stringValue===U0}function cf(r){const e=r.mapValue.fields[z0];return Up(e)?cf(e):e}function hu(r){const e=ps(r.mapValue.fields[j0].timestampValue);return new Xe(e.seconds,e.nanos)}class bI{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Lh="(default)";class fu{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}const B0="__type__",AI="__max__",gh={mapValue:{}},q0="__vector__",zh="value";function ys(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Up(r)?4:RI(r)?9007199254740991:wI(r)?10:11:ve(28295,{value:r})}function ji(r,e){if(r===e)return!0;const n=ys(r);if(n!==ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return hu(r).isEqual(hu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ps(o.timestampValue),m=ps(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return gs(o.bytesValue).isEqual(gs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Uh(h)===Uh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Co(r.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(OE(h)!==OE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!ji(h[p],m[p])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function du(r,e){return(r.values||[]).find((n=>ji(n,e)))!==void 0}function Io(r,e){if(r===e)return 0;const n=ys(r),s=ys(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return ME(r.timestampValue,e.timestampValue);case 4:return ME(hu(r),hu(e));case 5:return np(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=gs(u),p=gs(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(_t(u.latitude),_t(h.latitude));return m!==0?m:Ve(_t(u.longitude),_t(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return VE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[zh]?.arrayValue,E=p[zh]?.arrayValue,S=Ve(g?.values?.length||0,E?.values?.length||0);return S!==0?S:VE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===gh.mapValue&&h===gh.mapValue)return 0;if(u===gh.mapValue)return 1;if(h===gh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const A=np(p[S],E[S]);if(A!==0)return A;const k=Io(m[p[S]],g[E[S]]);if(k!==0)return k}return Ve(p.length,E.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function ME(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ps(r),s=ps(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function VE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Io(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function Do(r){return ip(r)}function ip(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ps(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return gs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ip(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${ip(n.fields[h])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function wh(r){switch(ys(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cf(r);return e?16+wh(e):16;case 5:return 2*r.stringValue.length;case 6:return gs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+wh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return pa(s.fields,((u,h)=>{o+=u.length+wh(h)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function PE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function rp(r){return!!r&&"integerValue"in r}function Lp(r){return!!r&&"arrayValue"in r}function kE(r){return!!r&&"nullValue"in r}function UE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Rh(r){return!!r&&"mapValue"in r}function wI(r){return(r?.mapValue?.fields||{})[B0]?.stringValue===q0}function nu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return pa(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=nu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(r.arrayValue.values[n]);return e}return{...r}}function RI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===AI}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=nu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){pa(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new jn(nu(this.value))}}function H0(r){const e=[];return pa(r.fields,((n,s)=>{const o=new Xt([n]);if(Rh(s)){const u=H0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new ti(e)}class en{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Se.min(),Se.min(),Se.min(),jn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,Se.min(),Se.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Se.min(),Se.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jh{constructor(e,n){this.position=e,this.inclusive=n}}function LE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=Io(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function zE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ji(r.position[n],e.position[n]))return!1;return!0}class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function CI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class F0{}class Dt extends F0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new DI(e,n,s):n==="array-contains"?new xI(e,s):n==="in"?new MI(e,s):n==="not-in"?new VI(e,s):n==="array-contains-any"?new PI(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new NI(e,s):new OI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Io(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends F0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ii(e,n)}matches(e){return G0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G0(r){return r.op==="and"}function K0(r){return II(r)&&G0(r)}function II(r){for(const e of r.filters)if(e instanceof ii)return!1;return!0}function sp(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+Do(r.value);if(K0(r))return r.filters.map((e=>sp(e))).join(",");{const e=r.filters.map((n=>sp(n))).join(",");return`${r.op}(${e})`}}function Q0(r,e){return r instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&ji(s.value,o.value)})(r,e):r instanceof ii?(function(s,o){return o instanceof ii&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&Q0(h,o.filters[m])),!0):!1})(r,e):void ve(19439)}function Y0(r){return r instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`})(r):r instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(Y0).join(" ,")+"}"})(r):"Filter"}class DI extends Dt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class NI extends Dt{constructor(e,n){super(e,"in",n),this.keys=X0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class OI extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=X0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function X0(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class xI extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lp(n)&&du(n.arrayValue,this.value)}}class MI extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class VI extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class PI extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>du(this.value.arrayValue,s)))}}class kI{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function jE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new kI(r,e,n,s,o,u,h)}function zp(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>sp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Do(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Do(s))).join(",")),e.Te=n}return e.Te}function jp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!CI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Q0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!zE(r.startAt,e.startAt)&&zE(r.endAt,e.endAt)}function ap(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ru{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UI(r,e,n,s,o,u,h,m){return new Ru(r,e,n,s,o,u,h,m)}function Bp(r){return new Ru(r)}function BE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $0(r){return r.collectionGroup!==null}function iu(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new kt(Xt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Bh(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Bh(Xt.keyField(),s))}return e.Ie}function xi(r){const e=Ae(r);return e.Ee||(e.Ee=LI(e,iu(r))),e.Ee}function LI(r,e){if(r.limitType==="F")return jE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Bh(o.field,u)}));const n=r.endAt?new jh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new jh(r.startAt.position,r.startAt.inclusive):null;return jE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function op(r,e){const n=r.filters.concat([e]);return new Ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function lp(r,e,n){return new Ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function hf(r,e){return jp(xi(r),xi(e))&&r.limitType===e.limitType}function W0(r){return`${zp(xi(r))}|lt:${r.limitType}`}function go(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Y0(o))).join(", ")}]`),uf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Do(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Do(o))).join(",")),`Target(${s})`})(xi(r))}; limitType=${r.limitType})`}function ff(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of iu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=LE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,iu(s),o)||s.endAt&&!(function(h,m,p){const g=LE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,iu(s),o))})(r,e)}function zI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function J0(r){return(e,n)=>{let s=!1;for(const o of iu(r)){const u=jI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function jI(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Io(p,g):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return P0(this.inner)}size(){return this.innerSize}}const BI=new ct(me.comparator);function _r(){return BI}const Z0=new ct(me.comparator);function Jl(...r){let e=Z0;for(const n of r)e=e.insert(n.key,n);return e}function eS(r){let e=Z0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ia(){return ru()}function tS(){return ru()}function ru(){return new ga((r=>r.toString()),((r,e)=>r.isEqual(e)))}const qI=new ct(me.comparator),HI=new kt(me.comparator);function Pe(...r){let e=HI;for(const n of r)e=e.add(n);return e}const FI=new kt(Ve);function GI(){return FI}function qp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uh(e)?"-0":e}}function nS(r){return{integerValue:""+r}}function KI(r,e){return vI(e)?nS(e):qp(r,e)}class df{constructor(){this._=void 0}}function QI(r,e,n){return r instanceof mu?(function(o,u){const h={fields:{[L0]:{stringValue:U0},[j0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Up(u)&&(u=cf(u)),u&&(h.fields[z0]=u),{mapValue:h}})(n,e):r instanceof pu?rS(r,e):r instanceof gu?sS(r,e):(function(o,u){const h=iS(o,u),m=qE(h)+qE(o.Ae);return rp(h)&&rp(o.Ae)?nS(m):qp(o.serializer,m)})(r,e)}function YI(r,e,n){return r instanceof pu?rS(r,e):r instanceof gu?sS(r,e):n}function iS(r,e){return r instanceof qh?(function(s){return rp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class mu extends df{}class pu extends df{constructor(e){super(),this.elements=e}}function rS(r,e){const n=aS(e);for(const s of r.elements)n.some((o=>ji(o,s)))||n.push(s);return{arrayValue:{values:n}}}class gu extends df{constructor(e){super(),this.elements=e}}function sS(r,e){let n=aS(e);for(const s of r.elements)n=n.filter((o=>!ji(o,s)));return{arrayValue:{values:n}}}class qh extends df{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qE(r){return _t(r.integerValue||r.doubleValue)}function aS(r){return Lp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class XI{constructor(e,n){this.field=e,this.transform=n}}function $I(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof pu&&o instanceof pu||s instanceof gu&&o instanceof gu?Co(s.elements,o.elements,ji):s instanceof qh&&o instanceof qh?ji(s.Ae,o.Ae):s instanceof mu&&o instanceof mu})(r.transform,e.transform)}class WI{constructor(e,n){this.version=e,this.transformResults=n}}class Mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class mf{}function oS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new uS(r.key,Mi.none()):new Cu(r.key,r.data,Mi.none());{const n=r.data,s=jn.empty();let o=new kt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ya(r.key,s,new ti(o.toArray()),Mi.none())}}function JI(r,e,n){r instanceof Cu?(function(o,u,h){const m=o.value.clone(),p=FE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ya?(function(o,u,h){if(!Ch(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=FE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(lS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function su(r,e,n,s){return r instanceof Cu?(function(u,h,m,p){if(!Ch(u.precondition,h))return m;const g=u.value.clone(),E=GE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof ya?(function(u,h,m,p){if(!Ch(u.precondition,h))return m;const g=GE(u.fieldTransforms,p,h),E=h.data;return E.setAll(lS(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,h,m){return Ch(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function ZI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=iS(s.transform,o||null);u!=null&&(n===null&&(n=jn.empty()),n.set(s.field,u))}return n||null}function HE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Co(s,o,((u,h)=>$I(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Cu extends mf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ya extends mf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function FE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,YI(h,m,n[o]))}return s}function GE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,QI(u,h,e))}return s}class uS extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e2 extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class t2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&JI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=tS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=oS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,((n,s)=>HE(n,s)))&&Co(this.baseMutations,e.baseMutations,((n,s)=>HE(n,s)))}}class Hp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return qI})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Hp(e,n,s,o)}}class n2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class i2{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Le;function r2(r){switch(r){case ee.OK:return ve(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function cS(r){if(r===void 0)return yr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case It.OK:return ee.OK;case It.CANCELLED:return ee.CANCELLED;case It.UNKNOWN:return ee.UNKNOWN;case It.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case It.INTERNAL:return ee.INTERNAL;case It.UNAVAILABLE:return ee.UNAVAILABLE;case It.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case It.NOT_FOUND:return ee.NOT_FOUND;case It.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case It.ABORTED:return ee.ABORTED;case It.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case It.DATA_LOSS:return ee.DATA_LOSS;default:return ve(39323,{code:r})}}(Le=It||(It={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function s2(){return new TextEncoder}const a2=new cs([4294967295,4294967295],0);function KE(r){const e=s2().encode(r),n=new A0;return n.update(e),new Uint8Array(n.digest())}function QE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new cs([n,s],0),new cs([o,u],0)]}class Fp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(cs.fromNumber(s)));return o.compare(a2)===1&&(o=new cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=KE(e),[s,o]=QE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Fp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=KE(e),[s,o]=QE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new pf(Se.min(),o,new ct(Ve),_r(),Pe())}}class Iu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Iu(s,n,Pe(),Pe(),Pe())}}class Ih{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class hS{constructor(e,n){this.targetId=e,this.Ce=n}}class fS{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class YE{constructor(){this.ve=0,this.Fe=XE(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new Iu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=XE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class o2{constructor(e){this.Ge=e,this.ze=new Map,this.je=_r(),this.Je=yh(),this.He=yh(),this.Ye=new ct(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ap(u))if(s===0){const h=new me(u.path);this.et(n,h,en.newNoDocument(h,Se.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=gs(s).toUint8Array()}catch(p){if(p instanceof k0)return Ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Fp(h,o,u)}catch(p){return Ro(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&ap(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,en.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new pf(e,n,this.Ye,this.je,s);return this.je=_r(),this.Je=yh(),this.He=yh(),this.Ye=new ct(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new YE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yh(){return new ct(me.comparator)}function XE(){return new ct(me.comparator)}const l2={asc:"ASCENDING",desc:"DESCENDING"},u2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c2={and:"AND",or:"OR"};class h2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function up(r,e){return r.useProto3Json||uf(e)?e:{value:e}}function Hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function f2(r,e){return Hh(r,e.toTimestamp())}function Vi(r){return Fe(!!r,49232),Se.fromTimestamp((function(n){const s=ps(n);return new Xe(s.seconds,s.nanos)})(r))}function Gp(r,e){return cp(r,e).canonicalString()}function cp(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function mS(r){const e=tt.fromString(r);return Fe(vS(e),10190,{key:e.toString()}),e}function hp(r,e){return Gp(r.databaseId,e.path)}function zm(r,e){const n=mS(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(gS(n))}function pS(r,e){return Gp(r.databaseId,e)}function d2(r){const e=mS(r);return e.length===4?tt.emptyPath():gS(e)}function fp(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gS(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function $E(r,e,n){return{name:hp(r,e),fields:n.value.mapValue.fields}}function m2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?ee.UNKNOWN:cS(g.code);return new oe(E,g.message||"")})(h);n=new fS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zm(r,s.document.name),u=Vi(s.document.updateTime),h=s.document.createTime?Vi(s.document.createTime):Se.min(),m=new jn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Ih(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zm(r,s.document),u=s.readTime?Vi(s.readTime):Se.min(),h=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Ih([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zm(r,s.document),u=s.removedTargetIds||[];n=new Ih([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new i2(o,u),m=s.targetId;n=new hS(m,h)}}return n}function p2(r,e){let n;if(e instanceof Cu)n={update:$E(r,e.key,e.value)};else if(e instanceof uS)n={delete:hp(r,e.key)};else if(e instanceof ya)n={update:$E(r,e.key,e.data),updateMask:A2(e.fieldMask)};else{if(!(e instanceof e2))return ve(16599,{Vt:e.type});n={verify:hp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof mu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof pu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof gu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof qh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:f2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(r,e.precondition)),n}function g2(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Vi(o.updateTime):Vi(u);return h.isEqual(Se.min())&&(h=Vi(u)),new WI(h,o.transformResults||[])})(n,e)))):[]}function y2(r,e){return{documents:[pS(r,e.path)]}}function _2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pS(r,o);const u=(function(g){if(g.length!==0)return _S(ii.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:yo(A.field),direction:T2(A.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=up(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function v2(r){let e=d2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const A=yS(S);return A instanceof ii&&K0(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(S){return S.map((A=>(function(K){return new Bh(_o(K.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let A;return A=typeof S=="object"?S.value:S,uf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(S){const A=!!S.before,k=S.values||[];return new jh(k,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(S){const A=!S.before,k=S.values||[];return new jh(k,A)})(n.endAt)),UI(e,o,h,u,m,"F",p,g)}function E2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=_o(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_o(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=_o(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=_o(n.unaryFilter.field);return Dt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Dt.create(_o(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((s=>yS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function T2(r){return l2[r]}function S2(r){return u2[r]}function b2(r){return c2[r]}function yo(r){return{fieldPath:r.canonicalString()}}function _o(r){return Xt.fromServerFormat(r.fieldPath)}function _S(r){return r instanceof Dt?(function(n){if(n.op==="=="){if(UE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NAN"}};if(kE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NAN"}};if(kE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(n.field),op:S2(n.op),value:n.value}}})(r):r instanceof ii?(function(n){const s=n.getFilters().map((o=>_S(o)));return s.length===1?s[0]:{compositeFilter:{op:b2(n.op),filters:s}}})(r):ve(54877,{filter:r})}function A2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function vS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class os{constructor(e,n,s,o,u=Se.min(),h=Se.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class w2{constructor(e){this.yt=e}}function R2(r){const e=v2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lp(e,e.limit,"L"):e}class C2{constructor(){this.Cn=new I2}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ms.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class I2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(tt.comparator)).toArray()}}const WE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ES=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(ES,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class No{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new No(0)}static cr(){return new No(-1)}}const JE="LruGarbageCollector",D2=1048576;function ZE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class N2{constructor(e){this.Ir=e,this.buffer=new kt(ZE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ZE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class O2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(JE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ko(n)?le(JE,"Ignoring IndexedDB error during garbage collection: ",n):await Po(n)}await this.Vr(3e5)}))}}class x2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(lf.ce);const s=new N2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(WE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(g=Date.now(),po()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function M2(r,e){return new x2(r,e)}class V2{constructor(){this.changes=new ga((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class P2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class k2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&su(s.mutation,o,ti.empty(),Xe.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=ia();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Jl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ia();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=_r();const h=ru(),m=(function(){return ru()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ya)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),su(E.mutation,g,E.mutation.getFieldMask(),Xe.now())):h.set(g.key,ti.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new P2(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=ru();let o=new ct(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||ti.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,S)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=tS();E.forEach((A=>{if(!u.has(A)){const k=oS(n.get(A),s.get(A));k!==null&&S.set(A,k),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,S))}return te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(ia());let m=cu,p=u;return h.next((g=>te.forEach(g,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((E=>({batchId:m,changes:eS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const g=(function(S,A){return new Ru(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((S,A)=>{h=h.insert(S,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,en.newInvalidDocument(E)))}));let m=Jl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&su(E.mutation,g,ti.empty(),Xe.now()),ff(n,g)&&(m=m.insert(p,g))})),m}))}}class U2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:R2(o.bundledQuery),readTime:Vi(o.readTime)}})(n)),te.resolve()}}class L2{constructor(){this.overlays=new ct(me.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ia();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=ia(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ia(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ia(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new n2(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class z2{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Kp{constructor(){this.Qr=new kt(jt.$r),this.Ur=new kt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new tt([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new tt([])),s=new jt(n,e),o=new jt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class j2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(jt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new t2(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?kp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(Ve);return n.forEach((o=>{const u=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new jt(new me(u),0);let m=new kt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new jt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class B2{constructor(e){this.ri=e,this.docs=(function(){return new ct(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=_r();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=_r();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||pI(mI(E),s)<=0||(o.has(E.key)||ff(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new q2(this)}getSize(e){return te.resolve(this.size)}}class q2 extends V2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class H2{constructor(e){this.persistence=e,this.si=new ga((n=>zp(n)),jp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Kp,this.targetCount=0,this.ai=No.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new No(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class TS{constructor(e,n){this.ui={},this.overlays={},this.ci=new lf(0),this.li=!1,this.li=!0,this.hi=new z2,this.referenceDelegate=e(this),this.Pi=new H2(this),this.indexManager=new C2,this.remoteDocumentCache=(function(o){return new B2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new w2(n),this.Ii=new U2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new j2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new F2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class F2 extends yI{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Ri=new Kp,this.Vi=null}static mi(e){return new Qp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Fh{constructor(e,n){this.persistence=e,this.pi=new ga((s=>EI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=M2(this,n)}static mi(e,n){return new Fh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Yp(e,n.fromCache,s,o)}}class G2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class K2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kR()?8:_I(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new G2;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(po()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(po()<=Me.DEBUG&&le("QueryEngine","Query:",go(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(po()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(n))):te.resolve())}ys(e,n){if(BE(n))return te.resolve(null);let s=xi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=lp(n,null,"F"),s=xi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,lp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return BE(n)||o.isEqual(Se.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?te.resolve(null):(po()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),go(n)),this.vs(e,h,n,dI(o,cu)).next((m=>m)))}))}Ds(e,n){let s=new kt(J0(e));return n.forEach(((o,u)=>{ff(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return po()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",go(n)),this.ps.getDocumentsMatchingQuery(e,n,ms.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Xp="LocalStore",Q2=3e8;class Y2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Ve),this.xs=new ga((u=>zp(u)),jp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function X2(r,e,n,s){return new Y2(r,e,n,s)}async function SS(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function $2(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const S=g.batch,A=S.keys();let k=te.resolve();return A.forEach((K=>{k=k.next((()=>E.getEntry(p,K))).next((Q=>{const P=g.docVersions.get(K);Fe(P!==null,48541),Q.version.compareTo(P)<0&&(S.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function bS(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function W2(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,S)=>{const A=o.get(S);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?k=k.withResumeToken($t.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(S,k),(function(Q,P,W){return Q.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=Q2?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(A,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let p=_r(),g=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(J2(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Se.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function J2(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=_r();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(Xp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function Z2(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=kp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function eD(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new os(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function dp(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ko(h))throw h;le(Xp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function eT(r,e,n){const s=Ae(r);let o=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const S=Ae(p),A=S.xs.get(E);return A!==void 0?te.resolve(S.Ms.get(A)):S.Pi.getTargetData(g,E)})(s,h,xi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?u:Pe()))).next((m=>(tD(s,zI(e),m),{documents:m,Qs:u})))))}function tD(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class tT{constructor(){this.activeTargetIds=GI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nD{constructor(){this.Mo=new tT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iD{Oo(e){}shutdown(){}}const nT="ConnectivityMonitor";class iT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(nT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(nT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _h=null;function mp(){return _h===null?_h=(function(){return 268435456+Math.round(2147483648*Math.random())})():_h++,"0x"+_h.toString(16)}const jm="RestConnection",rD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=mp(),m=this.zo(e,n.toUriEncodedString());le(jm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Es(g);return this.Jo(e,m,p,s,E).then((S=>(le(jm,`Received RPC '${e}' ${h}: `,S),S)),(S=>{throw Ro(jm,`RPC '${e}' ${h} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=rD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class aD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class oD extends sD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=mp();return new Promise(((m,p)=>{const g=new w0;g.setWithCredentials(!0),g.listenOnce(R0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ah.NO_ERROR:const S=g.getResponseJson();le(Jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),m(S);break;case Ah.TIMEOUT:le(Jt,`RPC '${e}' ${h} timed out`),p(new oe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const A=g.getStatus();if(le(Jt,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const K=k?.error;if(K&&K.status&&K.message){const Q=(function(W){const ne=W.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ne)>=0?ne:ee.UNKNOWN})(K.status);p(new oe(Q,K.message))}else p(new oe(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(ee.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Jt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);le(Jt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=mp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=D0(),m=I0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=h.createWebChannel(E,p);this.I_(S);let A=!1,k=!1;const K=new aD({Yo:P=>{k?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(A||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,P),S.send(P))},Zo:()=>S.close()}),Q=(P,W,ne)=>{P.listen(W,(ie=>{try{ne(ie)}catch(he){setTimeout((()=>{throw he}),0)}}))};return Q(S,Wl.EventType.OPEN,(()=>{k||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),Q(S,Wl.EventType.CLOSE,(()=>{k||(k=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(S))})),Q(S,Wl.EventType.ERROR,(P=>{k||(k=!0,Ro(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),K.a_(new oe(ee.UNAVAILABLE,"The operation could not be completed")))})),Q(S,Wl.EventType.MESSAGE,(P=>{if(!k){const W=P.data[0];Fe(!!W,16349);const ne=W,ie=ne?.error||ne[0]?.error;if(ie){le(Jt,`RPC '${e}' stream ${o} received error:`,ie);const he=ie.status;let ye=(function(w){const R=It[w];if(R!==void 0)return cS(R)})(he),Ee=ie.message;ye===void 0&&(ye=ee.INTERNAL,Ee="Unknown error status: "+he+" with message "+ie.message),k=!0,K.a_(new oe(ye,Ee)),S.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,W),K.u_(W)}})),Q(m,C0.STAT_EVENT,(P=>{P.stat===tp.PROXY?le(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===tp.NOPROXY&&le(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Bm(){return typeof document<"u"?document:null}function gf(r){return new h2(r,!0)}class AS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rT="PersistentStream";class wS{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(rT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(rT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lD extends wS{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=m2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?Vi(h.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=fp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=ap(p)?{documents:y2(u,p)}:{query:_2(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=dS(u,h.resumeToken);const g=up(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Hh(u,h.snapshotVersion.toTimestamp());const g=up(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=E2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=fp(this.serializer),n.removeTarget=e,this.q_(n)}}class uD extends wS{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=g2(e.writeResults,e.commitTime),s=Vi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=fp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>p2(this.serializer,s)))};this.q_(n)}}class cD{}class hD extends cD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,cp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,cp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class dD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{_a(this)&&(le(ua,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await Du(g),g.Ra.set("Unknown"),g.Ea.delete(4),await yf(g)})(this))}))})),this.Ra=new fD(s,o)}}async function yf(r){if(_a(r))for(const e of r.da)await e(!0)}async function Du(r){for(const e of r.da)await e(!1)}function RS(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zp(n)?Jp(n):Uo(n).O_()&&Wp(n,e))}function $p(r,e){const n=Ae(r),s=Uo(n);n.Ia.delete(e),s.O_()&&CS(n,e),n.Ia.size===0&&(s.O_()?s.L_():_a(n)&&n.Ra.set("Unknown"))}function Wp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(r).Y_(e)}function CS(r,e){r.Va.Ue(e),Uo(r).Z_(e)}function Jp(r){r.Va=new o2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Uo(r).start(),r.Ra.ua()}function Zp(r){return _a(r)&&!Uo(r).x_()&&r.Ia.size>0}function _a(r){return Ae(r).Ea.size===0}function IS(r){r.Va=void 0}async function mD(r){r.Ra.set("Online")}async function pD(r){r.Ia.forEach(((e,n)=>{Wp(r,e)}))}async function gD(r,e){IS(r),Zp(r)?(r.Ra.ha(e),Jp(r)):r.Ra.set("Unknown")}async function yD(r,e,n){if(r.Ra.set("Online"),e instanceof fS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Gh(r,s)}else if(e instanceof Ih?r.Va.Ze(e):e instanceof hS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await bS(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),CS(u,p);const S=new os(E.target,p,g,E.sequenceNumber);Wp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(ua,"Failed to raise snapshot:",s),await Gh(r,s)}}async function Gh(r,e,n){if(!ko(e))throw e;r.Ea.add(1),await Du(r),r.Ra.set("Offline"),n||(n=()=>bS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(ua,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await yf(r)}))}function DS(r,e){return e().catch((n=>Gh(r,n,e)))}async function _f(r){const e=Ae(r),n=_s(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kp;for(;_D(e);)try{const o=await Z2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,vD(e,o)}catch(o){await Gh(e,o)}NS(e)&&OS(e)}function _D(r){return _a(r)&&r.Ta.length<10}function vD(r,e){r.Ta.push(e);const n=_s(r);n.O_()&&n.X_&&n.ea(e.mutations)}function NS(r){return _a(r)&&!_s(r).x_()&&r.Ta.length>0}function OS(r){_s(r).start()}async function ED(r){_s(r).ra()}async function TD(r){const e=_s(r);for(const n of r.Ta)e.ea(n.mutations)}async function SD(r,e,n){const s=r.Ta.shift(),o=Hp.from(s,e,n);await DS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await _f(r)}async function bD(r,e){e&&_s(r).X_&&await(async function(s,o){if((function(h){return r2(h)&&h!==ee.ABORTED})(o.code)){const u=s.Ta.shift();_s(s).B_(),await DS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await _f(s)}})(r,e),NS(r)&&OS(r)}async function sT(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),le(ua,"RemoteStore received new credentials");const s=_a(n);n.Ea.add(3),await Du(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yf(n)}async function AD(r,e){const n=Ae(r);e?(n.Ea.delete(2),await yf(n)):e||(n.Ea.add(2),await Du(n),n.Ra.set("Unknown"))}function Uo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new lD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:mD.bind(null,r),t_:pD.bind(null,r),r_:gD.bind(null,r),H_:yD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Zp(r)?Jp(r):r.Ra.set("Unknown")):(await r.ma.stop(),IS(r))}))),r.ma}function _s(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new uD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ED.bind(null,r),r_:bD.bind(null,r),ta:TD.bind(null,r),na:SD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await _f(r)):(await r.fa.stop(),r.Ta.length>0&&(le(ua,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class eg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new eg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(r,e){if(yr("AsyncQueue",`${e}: ${r}`),ko(r))return new oe(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new To;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class aT{constructor(){this.ga=new ct(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Oo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Oo(e,n,To.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class wD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class RD{constructor(){this.queries=oT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=oT(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(ee.ABORTED,"Firestore shutting down"))}}function oT(){return new ga((r=>W0(r)),hf)}async function xS(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new wD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=tg(h,`Initialization of query '${go(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ng(n)}async function MS(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function CD(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&ng(n)}function ID(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function ng(r){r.Ca.forEach((e=>{e.next()}))}var pp,lT;(lT=pp||(pp={})).Ma="default",lT.Cache="cache";class VS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pp.Cache}}class PS{constructor(e){this.key=e}}class kS{constructor(e){this.key=e}}class DD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=J0(e),this.tu=new To(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new aT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const A=o.get(E),k=ff(this.query,S)?S:null,K=!!A&&this.mutatedKeys.has(A.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let P=!1;A&&k?A.data.isEqual(k.data)?K!==Q&&(s.track({type:3,doc:k}),P=!0):this.su(A,k)||(s.track({type:2,doc:k}),P=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),P=!0):A&&!k&&(s.track({type:1,doc:A}),P=!0,(p||g)&&(m=!0)),P&&(k?(h=h.add(k),u=Q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,S)=>(function(k,K){const Q=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:P})}};return Q(k)-Q(K)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Oo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new kS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new PS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ig="SyncEngine";class ND{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class OD{constructor(e){this.key=e,this.hu=!1}}class xD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ga((m=>W0(m)),hf),this.Iu=new Map,this.Eu=new Set,this.du=new ct(me.comparator),this.Au=new Map,this.Ru=new Kp,this.Vu={},this.mu=new Map,this.fu=No.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MD(r,e,n=!0){const s=qS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await US(s,e,n,!0),o}async function VD(r,e){const n=qS(r);await US(n,e,!0,!1)}async function US(r,e,n,s){const o=await eD(r.localStore,xi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await PD(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&RS(r.remoteStore,o),m}async function PD(r,e,n,s,o){r.pu=(S,A,k)=>(async function(Q,P,W,ne){let ie=P.view.ru(W);ie.Cs&&(ie=await eT(Q.localStore,P.query,!1).then((({documents:C})=>P.view.ru(C,ie))));const he=ne&&ne.targetChanges.get(P.targetId),ye=ne&&ne.targetMismatches.get(P.targetId)!=null,Ee=P.view.applyChanges(ie,Q.isPrimaryClient,he,ye);return cT(Q,P.targetId,Ee.au),Ee.snapshot})(r,S,A,k);const u=await eT(r.localStore,e,!0),h=new DD(e,u.Qs),m=h.ru(u.documents),p=Iu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);cT(r,n,g.au);const E=new ND(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function kD(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!hf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&$p(s.remoteStore,o.targetId),gp(s,o.targetId)})).catch(Po)):(gp(s,o.targetId),await dp(s.localStore,o.targetId,!0))}async function UD(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),$p(n.remoteStore,s.targetId))}async function LD(r,e,n){const s=GD(r);try{const o=await(function(h,m){const p=Ae(h),g=Xe.now(),E=m.reduce(((k,K)=>k.add(K.key)),Pe());let S,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let K=_r(),Q=Pe();return p.Ns.getEntries(k,E).next((P=>{K=P,K.forEach(((W,ne)=>{ne.isValidDocument()||(Q=Q.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,K))).next((P=>{S=P;const W=[];for(const ne of m){const ie=ZI(ne,S.get(ne.key).overlayedDocument);ie!=null&&W.push(new ya(ne.key,ie,H0(ie.value.mapValue),Mi.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,W,m)})).next((P=>{A=P;const W=P.applyToLocalDocumentSet(S,Q);return p.documentOverlayCache.saveOverlays(k,P.batchId,W)}))})).then((()=>({batchId:A.batchId,changes:eS(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ct(Ve)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Nu(s,o.changes),await _f(s.remoteStore)}catch(o){const u=tg(o,"Failed to persist write");n.reject(u)}}async function LS(r,e){const n=Ae(r);try{const s=await W2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await Nu(n,s,e)}catch(s){await Po(s)}}function uT(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,S)=>{for(const A of S.Sa)A.va(m)&&(g=!0)})),g&&ng(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zD(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ct(me.comparator);h=h.insert(u,en.newNoDocument(u,Se.min()));const m=Pe().add(u),p=new pf(Se.min(),new Map,new ct(Ve),h,m);await LS(s,p),s.du=s.du.remove(u),s.Au.delete(e),rg(s)}else await dp(s.localStore,e,!1).then((()=>gp(s,e,n))).catch(Po)}async function jD(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await $2(n.localStore,e);jS(n,s,null),zS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(n,o)}catch(o){await Po(o)}}async function BD(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((S=>(Fe(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);jS(s,e,n),zS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nu(s,o)}catch(o){await Po(o)}}function zS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function jS(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function gp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||BS(r,s)}))}function BS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&($p(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),rg(r))}function cT(r,e,n){for(const s of n)s instanceof PS?(r.Ru.addReference(s.key,e),qD(r,s)):s instanceof kS?(le(ig,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||BS(r,s.key)):ve(19791,{wu:s})}function qD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(ig,"New document in limbo: "+n),r.Eu.add(s),rg(r))}function rg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new OD(n)),r.du=r.du.insert(n,s),RS(r.remoteStore,new os(xi(Bp(n.path)),s,"TargetPurposeLimboResolution",lf.ce))}}async function Nu(r,e,n){const s=Ae(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Yp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>te.forEach(g,(A=>te.forEach(A.Es,(k=>E.persistence.referenceDelegate.addReference(S,A.targetId,k))).next((()=>te.forEach(A.ds,(k=>E.persistence.referenceDelegate.removeReference(S,A.targetId,k)))))))))}catch(S){if(!ko(S))throw S;le(Xp,"Failed to update sequence numbers: "+S)}for(const S of g){const A=S.targetId;if(!S.fromCache){const k=E.Ms.get(A),K=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(K);E.Ms=E.Ms.insert(A,Q)}}})(s.localStore,u))}async function HD(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){le(ig,"User change. New user:",e.toKey());const s=await SS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(ee.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nu(n,s.Ls)}}function FD(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function qS(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=LS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zD.bind(null,e),e.Pu.H_=CD.bind(null,e.eventManager),e.Pu.yu=ID.bind(null,e.eventManager),e}function GD(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BD.bind(null,e),e}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return X2(this.persistence,new K2,e.initialUser,this.serializer)}Cu(e){return new TS(Qp.mi,this.serializer)}Du(e){return new nD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class KD extends Kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new O2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new TS((s=>Fh.mi(s,n)),this.serializer)}}class yp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>uT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=HD.bind(null,this.syncEngine),await AD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RD})()}createDatastore(e){const n=gf(e.databaseInfo.databaseId),s=(function(u){return new oD(u)})(e.databaseInfo);return(function(u,h,m,p){return new hD(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new dD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>uT(this.syncEngine,n,0)),(function(){return iT.v()?new iT:new iD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const S=new xD(o,u,h,m,p,g);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(ua,"RemoteStore shutting down."),s.Ea.add(5),await Du(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yp.provider={build:()=>new yp};class HS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const vs="FirestoreClient";class QD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(vs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(vs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=tg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function qm(r,e){r.asyncQueue.verifyOperationInProgress(),le(vs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await SS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function hT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await YD(r);le(vs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>sT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>sT(e.remoteStore,o))),r._onlineComponents=e}async function YD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(vs,"Using user provided OfflineComponentProvider");try{await qm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await qm(r,new Kh)}}else le(vs,"Using default OfflineComponentProvider"),await qm(r,new KD(void 0));return r._offlineComponents}async function FS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(vs,"Using user provided OnlineComponentProvider"),await hT(r,r._uninitializedComponentsProvider._online)):(le(vs,"Using default OnlineComponentProvider"),await hT(r,new yp))),r._onlineComponents}function XD(r){return FS(r).then((e=>e.syncEngine))}async function GS(r){const e=await FS(r),n=e.eventManager;return n.onListen=MD.bind(null,e.syncEngine),n.onUnlisten=kD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UD.bind(null,e.syncEngine),n}function $D(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new HS({next:A=>{E.Nu(),h.enqueueAndForget((()=>MS(u,S)));const k=A.docs.has(m);!k&&A.fromCache?g.reject(new oe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&p&&p.source==="server"?g.reject(new oe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),S=new VS(Bp(m.path),E,{includeMetadataChanges:!0,qa:!0});return xS(u,S)})(await GS(r),r.asyncQueue,e,n,s))),s.promise}function WD(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new HS({next:A=>{E.Nu(),h.enqueueAndForget((()=>MS(u,S))),A.fromCache&&p.source==="server"?g.reject(new oe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),S=new VS(m,E,{includeMetadataChanges:!0,qa:!0});return xS(u,S)})(await GS(r),r.asyncQueue,e,n,s))),s.promise}function KS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const fT=new Map;const QS="firestore.googleapis.com",dT=!0;class mT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QS,this.ssl=dT}else this.host=e.host,this.ssl=e.ssl??dT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ES;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<D2)throw new oe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new nI;switch(s.type){case"firstParty":return new aI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=fT.get(n);s&&(le("ComponentProvider","Removing Datastore"),fT.delete(n),s.terminate())})(this),Promise.resolve()}}function JD(r,e,n,s={}){r=ds(r,vf);const o=Es(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Dp(`https://${m}`),Np("Firestore",!0)),u.host!==QS&&u.host!==m&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!aa(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Zt.MOCK_USER;else{g=_0(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new oe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(S)}r._authCredentials=new iI(new O0(g,E))}}class Lo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Lo(this.firestore,e,this._query)}}class Ot{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(wu(n,Ot._jsonSchema))return new Ot(e,s||null,new me(tt.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Nt("string",Ot._jsonSchemaVersion),referencePath:Nt("string")};class hs extends Lo{constructor(e,n,s){super(e,n,Bp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new me(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function fr(r,e,...n){if(r=Bt(r),x0("collection","path",e),r instanceof vf){const s=tt.fromString(e,...n);return CE(s),new hs(r,null,s)}{if(!(r instanceof Ot||r instanceof hs))throw new oe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return CE(s),new hs(r.firestore,null,s)}}function Ef(r,e,...n){if(r=Bt(r),arguments.length===1&&(e=Pp.newId()),x0("doc","path",e),r instanceof vf){const s=tt.fromString(e,...n);return RE(s),new Ot(r,null,new me(s))}{if(!(r instanceof Ot||r instanceof hs))throw new oe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return RE(s),new Ot(r.firestore,r instanceof hs?r.converter:null,new me(s))}}const pT="AsyncQueue";class gT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AS(this,"async_queue_retry"),this._c=()=>{const s=Bm();s&&le(pT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ko(e))throw e;le(pT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,yr("INTERNAL UNHANDLED ERROR: ",yT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=eg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:yT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ou extends vf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new gT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gT(e),this._firestoreClient=void 0,await e}}}function ZD(r,e){const n=typeof r=="object"?r:Mp(),s=typeof r=="string"?r:Lh,o=af(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=p0("firestore");u&&JD(o,...u)}return o}function sg(r){if(r._terminated)throw new oe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||eN(r),r._firestoreClient}function eN(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new bI(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,KS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new QD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn($t.fromBase64String(e))}catch(n){throw new oe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Nt("string",Bn._jsonSchemaVersion),bytes:Nt("string")};class ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class og{constructor(e){this._methodName=e}}class Pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(wu(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Nt("string",Pi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ki(e.vectorValues);throw new oe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Nt("string",ki._jsonSchemaVersion),vectorValues:Nt("object")};const tN=/^__.*__$/;class nN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}function YS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class lg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YS(this.Ac)&&tN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||gf(e)}Cc(e,n,s,o=!1){return new lg({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ug(r){const e=r._freezeSettings(),n=gf(r._databaseId);return new iN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function XS(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);JS("Data must be an object, but it was:",h,s);const m=$S(s,h);let p,g;if(u.merge)p=new ti(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const A=sN(e,S,n);if(!h.contains(A))throw new oe(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);oN(E,A)||E.push(A)}p=new ti(E),g=h.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,g=h.fieldTransforms;return new nN(new jn(m),p,g)}class cg extends og{_toFieldTransform(e){return new XI(e.path,new mu)}isEqual(e){return e instanceof cg}}function rN(r,e,n,s=!1){return hg(n,r.Cc(s?4:3,e))}function hg(r,e){if(WS(r=Bt(r)))return JS("Unsupported field value:",e,r),$S(r,e);if(r instanceof og)return(function(s,o){if(!YS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=hg(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Xe.fromDate(s);return{timestampValue:Hh(o.serializer,u)}}if(s instanceof Xe){const u=new Xe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hh(o.serializer,u)}}if(s instanceof Pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:dS(o.serializer,s._byteString)};if(s instanceof Ot){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ki)return(function(h,m){return{mapValue:{fields:{[B0]:{stringValue:q0},[zh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return qp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${of(s)}`)})(r,e)}function $S(r,e){const n={};return P0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(r,((s,o)=>{const u=hg(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function WS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Xe||r instanceof Pi||r instanceof Bn||r instanceof Ot||r instanceof og||r instanceof ki)}function JS(r,e,n){if(!WS(n)||!M0(n)){const s=of(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function sN(r,e,n){if((e=Bt(e))instanceof ag)return e._internalPath;if(typeof e=="string")return ZS(r,e);throw Qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const aN=new RegExp("[~\\*/\\[\\]]");function ZS(r,e,n){if(e.search(aN)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ag(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Qh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(ee.INVALID_ARGUMENT,m+r+p)}function oN(r,e){return r.some((n=>n.isEqual(e)))}class eb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lN extends eb{data(){return super.data()}}function fg(r,e){return typeof e=="string"?ZS(r,e):e instanceof ag?e._internalPath:e._delegate._internalPath}function uN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dg{}class cN extends dg{}function Yh(r,e,...n){let s=[];e instanceof dg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof mg)).length,m=u.filter((p=>p instanceof Tf)).length;if(h>1||h>0&&m>0)throw new oe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Tf extends cN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Tf(e,n,s)}_apply(e){const n=this._parse(e);return tb(e._query,n),new Lo(e.firestore,e.converter,op(e._query,n))}_parse(e){const n=ug(e.firestore);return(function(u,h,m,p,g,E,S){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){vT(S,E);const K=[];for(const Q of S)K.push(_T(p,u,Q));A={arrayValue:{values:K}}}else A=_T(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||vT(S,E),A=rN(m,h,S,E==="in"||E==="not-in");return Dt.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function na(r,e,n){const s=e,o=fg("where",r);return Tf._create(o,s,n)}class mg extends dg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)tb(h,p),h=op(h,p)})(e._query,n),new Lo(e.firestore,e.converter,op(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _T(r,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new oe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$0(e)&&n.indexOf("/")!==-1)throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return PE(r,new me(s))}if(n instanceof Ot)return PE(r,n._key);throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(n)}.`)}function vT(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tb(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hN{convertValue(e,n="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return pa(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[zh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new ki(n)}convertGeoPoint(e){return new Pi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=cf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=ps(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(vS(s),9688,{name:e});const o=new fu(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||yr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function nb(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends eb{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(fg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ra._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Nt("string",ra._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Dh extends ra{data(e={}){return super.data(e)}}class So{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new eu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Dh(this._firestore,this._userDataWriter,s.key,s,new eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:fN(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=So._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}function dN(r){r=ds(r,Ot);const e=ds(r.firestore,Ou);return $D(sg(e),r._key).then((n=>mN(e,r,n)))}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:Nt("string",So._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class ib extends hN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function yu(r){r=ds(r,Lo);const e=ds(r.firestore,Ou),n=sg(e),s=new ib(e);return uN(r._query),WD(n,r._query).then((o=>new So(e,s,r,o)))}function rb(r,e,n){r=ds(r,Ot);const s=ds(r.firestore,Ou),o=nb(r.converter,e);return sb(s,[XS(ug(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Mi.none())])}function Sf(r,e){const n=ds(r.firestore,Ou),s=Ef(r),o=nb(r.converter,e);return sb(n,[XS(ug(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Mi.exists(!1))]).then((()=>s))}function sb(r,e){return(function(s,o){const u=new hr;return s.asyncQueue.enqueueAndForget((async()=>LD(await XD(s),o,u))),u.promise})(sg(r),e)}function mN(r,e,n){const s=n.docs.get(e._key),o=new ib(r);return new ra(r,o,e._key,s,new eu(n.hasPendingWrites,n.fromCache),e.converter)}function ab(){return new cg("serverTimestamp")}(function(e,n=!0){(function(o){Vo=o})(ma),oa(new fs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ou(new rI(s.getProvider("auth-internal")),new oI(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Oi(SE,bE,e),Oi(SE,bE,"esm2020")})();function ob(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pN=ob,lb=new bu("auth","Firebase",ob());const Xh=new Op("@firebase/auth");function gN(r,...e){Xh.logLevel<=Me.WARN&&Xh.warn(`Auth (${ma}): ${r}`,...e)}function Nh(r,...e){Xh.logLevel<=Me.ERROR&&Xh.error(`Auth (${ma}): ${r}`,...e)}function ri(r,...e){throw pg(r,...e)}function Ui(r,...e){return pg(r,...e)}function ub(r,e,n){const s={...pN(),[e]:n};return new bu("auth","Firebase",s).create(e,{appName:r.name})}function dr(r){return ub(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return lb.create(r,...e)}function _e(r,e,...n){if(!r)throw pg(e,...n)}function lr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Nh(e),new Error(e)}function vr(r,e){r||lr(e)}function _p(){return typeof self<"u"&&self.location?.href||""}function yN(){return ET()==="http:"||ET()==="https:"}function ET(){return typeof self<"u"&&self.location?.protocol||null}function _N(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yN()||MR()||"connection"in navigator)?navigator.onLine:!0}function vN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,vr(n>e,"Short delay should be less than long delay!"),this.isMobile=NR()||VR()}get(){return _N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gg(r,e){vr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class cb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const TN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SN=new xu(3e4,6e4);function Ts(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ss(r,e,n,s,o={}){return hb(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Au({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return xR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Es(r.emulatorConfig.host)&&(g.credentials="include"),cb.fetch()(await fb(r,r.config.apiHost,n,m),g)})}async function hb(r,e,n){r._canInitEmulator=!1;const s={...EN,...e};try{const o=new AN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw vh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw vh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw vh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ub(r,E,g);ri(r,E)}}catch(o){if(o instanceof qi)throw o;ri(r,"network-request-failed",{message:String(o)})}}async function Mu(r,e,n,s,o={}){const u=await Ss(r,e,n,s,o);return"mfaPendingCredential"in u&&ri(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function fb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?gg(r.config,o):`${r.config.apiScheme}://${o}`;return TN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function bN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),SN.get())})}}function vh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ui(r,e,s);return o.customData._tokenResponse=n,o}function TT(r){return r!==void 0&&r.enterprise!==void 0}class wN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RN(r,e){return Ss(r,"GET","/v2/recaptchaConfig",Ts(r,e))}async function CN(r,e){return Ss(r,"POST","/v1/accounts:delete",e)}async function $h(r,e){return Ss(r,"POST","/v1/accounts:lookup",e)}function au(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IN(r,e=!1){const n=Bt(r),s=await n.getIdToken(e),o=yg(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:au(Hm(o.auth_time)),issuedAtTime:au(Hm(o.iat)),expirationTime:au(Hm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Hm(r){return Number(r)*1e3}function yg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Nh("JWT malformed, contained fewer than 3 sections"),null;try{const o=d0(n);return o?JSON.parse(o):(Nh("Failed to decode base64 JWT payload"),null)}catch(o){return Nh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ST(r){const e=yg(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _u(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof qi&&DN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function DN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class NN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wh(r){const e=r.auth,n=await r.getIdToken(),s=await _u(r,$h(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?db(o.providerUserInfo):[],h=xN(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function ON(r){const e=Bt(r);await Wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function db(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function MN(r,e){const n=await hb(r,{},async()=>{const s=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await fb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Es(r.emulatorConfig.host)&&(p.credentials="include"),cb.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VN(r,e){return Ss(r,"POST","/v2/accounts:revokeToken",Ts(r,e))}class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ST(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=ST(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await MN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new bo;return s&&(_e(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return lr("not implemented")}}function ts(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new NN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IN(this,e)}reload(){return ON(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await _u(this,CN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:A,isAnonymous:k,providerData:K,stsTokenManager:Q}=n;_e(S&&Q,e,"internal-error");const P=bo.fromJSON(this.name,Q);_e(typeof S=="string",e,"internal-error"),ts(s,e.name),ts(o,e.name),_e(typeof A=="boolean",e,"internal-error"),_e(typeof k=="boolean",e,"internal-error"),ts(u,e.name),ts(h,e.name),ts(m,e.name),ts(p,e.name),ts(g,e.name),ts(E,e.name);const W=new ni({uid:S,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:k,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:E});return K&&Array.isArray(K)&&(W.providerData=K.map(ne=>({...ne}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,n,s=!1){const o=new bo;o.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Wh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?db(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new bo;m.updateFromIdToken(s);const p=new ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const bT=new Map;function ur(r){vr(r instanceof Function,"Expected a class definition");let e=bT.get(r);return e?(vr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,bT.set(r,e),e)}class mb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mb.type="NONE";const AT=mb;function Oh(r,e,n){return`firebase:${r}:${e}:${n}`}class Ao{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await $h(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ao(ur(AT),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ur(AT);const h=Oh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let S;if(typeof E=="string"){const A=await $h(e,{idToken:E}).catch(()=>{});if(!A)break;S=await ni._fromGetAccountInfoResponse(e,A,E)}else S=ni._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ao(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Ao(u,e,s))}}function wT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_b(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Eb(e))return"Blackberry";if(Tb(e))return"Webos";if(gb(e))return"Safari";if((e.includes("chrome/")||yb(e))&&!e.includes("edge/"))return"Chrome";if(vb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function pb(r=tn()){return/firefox\//i.test(r)}function gb(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yb(r=tn()){return/crios\//i.test(r)}function _b(r=tn()){return/iemobile/i.test(r)}function vb(r=tn()){return/android/i.test(r)}function Eb(r=tn()){return/blackberry/i.test(r)}function Tb(r=tn()){return/webos/i.test(r)}function _g(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function PN(r=tn()){return _g(r)&&!!window.navigator?.standalone}function kN(){return PR()&&document.documentMode===10}function Sb(r=tn()){return _g(r)||vb(r)||Tb(r)||Eb(r)||/windows phone/i.test(r)||_b(r)}function bb(r,e=[]){let n;switch(r){case"Browser":n=wT(tn());break;case"Worker":n=`${wT(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ma}/${s}`}class UN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function LN(r,e={}){return Ss(r,"GET","/v2/passwordPolicy",Ts(r,e))}const zN=6;class jN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class BN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RT(this),this.idTokenSubscription=new RT(this),this.beforeStateQueue=new UN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $h(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(dr(this));const n=e?Bt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LN(this),n=new jN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await VN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function va(r){return Bt(r)}class RT{constructor(e){this.auth=e,this.observer=null,this.addObserver=HR(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qN(r){bf=r}function Ab(r){return bf.loadJS(r)}function HN(){return bf.recaptchaEnterpriseScript}function FN(){return bf.gapiScript}function GN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class KN{constructor(){this.enterprise=new QN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const YN="recaptcha-enterprise",wb="NO_RECAPTCHA";class XN{constructor(e){this.type=YN,this.auth=va(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{RN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new wN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;TT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(wb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KN().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&TT(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=HN();p.length!==0&&(p+=m),Ab(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function CT(r,e,n,s=!1,o=!1){const u=new XN(r);let h;if(o)h=wb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Ep(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await CT(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await CT(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function $N(r,e){const n=af(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(aa(u,e??{}))return o;ri(o,"already-initialized")}return n.initialize({options:e})}function WN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ur);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function JN(r,e,n){const s=va(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Rb(e),{host:h,port:m}=ZN(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(aa(g,s.config.emulator)&&aa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Es(h)?(Dp(`${u}//${h}${p}`),Np("Auth",!0)):eO()}function Rb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function ZN(r){const e=Rb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:IT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:IT(h)}}}function IT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function eO(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function tO(r,e){return Ss(r,"POST","/v1/accounts:signUp",e)}async function nO(r,e){return Mu(r,"POST","/v1/accounts:signInWithPassword",Ts(r,e))}async function iO(r,e){return Mu(r,"POST","/v1/accounts:signInWithEmailLink",Ts(r,e))}async function rO(r,e){return Mu(r,"POST","/v1/accounts:signInWithEmailLink",Ts(r,e))}class vu extends vg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new vu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new vu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,n,"signInWithPassword",nO);case"emailLink":return iO(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,s,"signUpPassword",tO);case"emailLink":return rO(e,{idToken:n,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function wo(r,e){return Mu(r,"POST","/v1/accounts:signInWithIdp",Ts(r,e))}const sO="http://localhost";class ca extends vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ca(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,wo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:sO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}function aO(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oO(r){const e=Xl($l(r)).link,n=e?Xl($l(e)).deep_link_id:null,s=Xl($l(r)).deep_link_id;return(s?Xl($l(s)).link:null)||s||n||e||r}class Eg{constructor(e){const n=Xl($l(e)),s=n.apiKey??null,o=n.oobCode??null,u=aO(n.mode??null);_e(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=oO(e);try{return new Eg(n)}catch{return null}}}class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,n){return vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Eg.parseLink(n);return _e(s,"argument-error"),vu._fromEmailAndCode(e,s.code,s.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Cb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vu extends Cb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ns extends Vu{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";class is extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return is.credential(n,s)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";class rs extends Vu{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";class ss extends Vu{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";async function lO(r,e){return Mu(r,"POST","/v1/accounts:signUp",Ts(r,e))}class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ni._fromIdTokenResponse(e,s,o),h=DT(s);return new ha({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=DT(s);return new ha({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function DT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Jh extends qi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Jh(e,n,s,o)}}function Ib(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(r,u,e,s):u})}async function uO(r,e,n=!1){const s=await _u(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ha._forOperation(r,"link",s)}async function cO(r,e,n=!1){const{auth:s}=r;if(wn(s.app))return Promise.reject(dr(s));const o="reauthenticate";try{const u=await _u(r,Ib(s,o,e,r),n);_e(u.idToken,s,"internal-error");const h=yg(u.idToken);_e(h,s,"internal-error");const{sub:m}=h;return _e(r.uid===m,s,"user-mismatch"),ha._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ri(s,"user-mismatch"),u}}async function Db(r,e,n=!1){if(wn(r.app))return Promise.reject(dr(r));const s="signIn",o=await Ib(r,s,e),u=await ha._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function hO(r,e){return Db(va(r),e)}async function Nb(r){const e=va(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ob(r,e,n){if(wn(r.app))return Promise.reject(dr(r));const s=va(r),h=await Ep(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Nb(r),p}),m=await ha._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function fO(r,e,n){return wn(r.app)?Promise.reject(dr(r)):hO(Bt(r),zo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Nb(r),s})}function dO(r,e,n,s){return Bt(r).onIdTokenChanged(e,n,s)}function mO(r,e,n){return Bt(r).beforeAuthStateChanged(e,n)}function pO(r,e,n,s){return Bt(r).onAuthStateChanged(e,n,s)}const Zh="__sak";class xb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const gO=1e3,yO=10;class Mb extends xb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);kN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,yO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},gO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mb.type="LOCAL";const _O=Mb;class Vb extends xb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Vb.type="SESSION";const Pb=Vb;function vO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Af(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await vO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Af.receivers=[];function Tg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class EO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Tg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const A=S;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Li(){return window}function TO(r){Li().location.href=r}function kb(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function SO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bO(){return navigator?.serviceWorker?.controller||null}function AO(){return kb()?self:null}const Ub="firebaseLocalStorageDb",wO=1,ef="firebaseLocalStorage",Lb="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wf(r,e){return r.transaction([ef],e?"readwrite":"readonly").objectStore(ef)}function RO(){const r=indexedDB.deleteDatabase(Ub);return new Pu(r).toPromise()}function Tp(){const r=indexedDB.open(Ub,wO);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ef,{keyPath:Lb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ef)?e(s):(s.close(),await RO(),e(await Tp()))})})}async function NT(r,e,n){const s=wf(r,!0).put({[Lb]:e,value:n});return new Pu(s).toPromise()}async function CO(r,e){const n=wf(r,!1).get(e),s=await new Pu(n).toPromise();return s===void 0?null:s.value}function OT(r,e){const n=wf(r,!0).delete(e);return new Pu(n).toPromise()}const IO=800,DO=3;class zb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>DO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Af._getInstance(AO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SO(),!this.activeServiceWorker)return;this.sender=new EO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await NT(e,Zh,"1"),await OT(e,Zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>NT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>CO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=wf(o,!1).getAll();return new Pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zb.type="LOCAL";const NO=zb;new xu(3e4,6e4);function OO(r,e){return e?ur(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Sg extends vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xO(r){return Db(r.auth,new Sg(r),r.bypassAuthState)}function MO(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),cO(n,new Sg(r),r.bypassAuthState)}async function VO(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),uO(n,new Sg(r),r.bypassAuthState)}class jb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xO;case"linkViaPopup":case"linkViaRedirect":return VO;case"reauthViaPopup":case"reauthViaRedirect":return MO;default:ri(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const PO=new xu(2e3,1e4);class Eo extends jb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Eo.currentPopupAction&&Eo.currentPopupAction.cancel(),Eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const e=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PO.get())};e()}}Eo.currentPopupAction=null;const kO="pendingRedirect",xh=new Map;class UO extends jb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=xh.get(this.auth._key());if(!e){try{const s=await LO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}xh.set(this.auth._key(),e)}return this.bypassAuthState||xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LO(r,e){const n=BO(e),s=jO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function zO(r,e){xh.set(r._key(),e)}function jO(r){return ur(r._redirectPersistence)}function BO(r){return Oh(kO,r.config.apiKey,r.name)}async function qO(r,e,n=!1){if(wn(r.app))return Promise.reject(dr(r));const s=va(r),o=OO(s,e),h=await new UO(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const HO=600*1e3;class FO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Bb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HO&&this.cachedEventUids.clear(),this.cachedEventUids.has(xT(e))}saveEventToCache(e){this.cachedEventUids.add(xT(e)),this.lastProcessedEventTime=Date.now()}}function xT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Bb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function GO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bb(r);default:return!1}}async function KO(r,e={}){return Ss(r,"GET","/v1/projects",e)}const QO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YO=/^https?/;async function XO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await KO(r);for(const n of e)try{if($O(n))return}catch{}ri(r,"unauthorized-domain")}function $O(r){const e=_p(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!YO.test(n))return!1;if(QO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const WO=new xu(3e4,6e4);function MT(){const r=Li().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function JO(r){return new Promise((e,n)=>{function s(){MT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MT(),n(Ui(r,"network-request-failed"))},timeout:WO.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)s();else{const o=GN("iframefcb");return Li()[o]=()=>{gapi.load?s():n(Ui(r,"network-request-failed"))},Ab(`${FN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Mh=null,e})}let Mh=null;function ZO(r){return Mh=Mh||JO(r),Mh}const ex=new xu(5e3,15e3),tx="__/auth/iframe",nx="emulator/auth/iframe",ix={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sx(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?gg(e,nx):`https://${r.config.authDomain}/${tx}`,s={apiKey:e.apiKey,appName:r.name,v:ma},o=rx.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Au(s).slice(1)}`}async function ax(r){const e=await ZO(r),n=Li().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:sx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ix,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ui(r,"network-request-failed"),m=Li().setTimeout(()=>{u(h)},ex.get());function p(){Li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const ox={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lx=500,ux=600,cx="_blank",hx="http://localhost";class VT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fx(r,e,n,s=lx,o=ux){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...ox,width:s.toString(),height:o.toString(),top:u,left:h},g=tn().toLowerCase();n&&(m=yb(g)?cx:n),pb(g)&&(e=e||hx,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[k,K])=>`${A}${k}=${K},`,"");if(PN(g)&&m!=="_self")return dx(e||"",m),new VT(null);const S=window.open(e||"",m,E);_e(S,r,"popup-blocked");try{S.focus()}catch{}return new VT(S)}function dx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const mx="__/auth/handler",px="emulator/auth/handler",gx=encodeURIComponent("fac");async function PT(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ma,eventId:o};if(e instanceof Cb){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",qR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof Vu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${gx}=${encodeURIComponent(p)}`:"";return`${yx(r)}?${Au(m).slice(1)}${g}`}function yx({config:r}){return r.emulator?gg(r,px):`https://${r.authDomain}/${mx}`}const Fm="webStorageSupport";class _x{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pb,this._completeRedirectFn=qO,this._overrideRedirectResult=zO}async _openPopup(e,n,s,o){vr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await PT(e,n,s,_p(),o);return fx(e,u,Tg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await PT(e,n,s,_p(),o);return TO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(vr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ax(e),s=new FO(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fm,{type:Fm},o=>{const u=o?.[0]?.[Fm];u!==void 0&&n(!!u),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Sb()||gb()||_g()}}const vx=_x;var kT="@firebase/auth",UT="1.11.1";class Ex{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Tx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sx(r){oa(new fs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bb(r)},g=new BN(s,o,u,p);return WN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),oa(new fs("auth-internal",e=>{const n=va(e.getProvider("auth").getImmediate());return(s=>new Ex(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(kT,UT,Tx(r)),Oi(kT,UT,"esm2020")}const bx=300,Ax=y0("authIdTokenMaxAge")||bx;let LT=null;const wx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Ax)return;const o=n?.token;LT!==o&&(LT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Rx(r=Mp()){const e=af(r,"auth");if(e.isInitialized())return e.getImmediate();const n=$N(r,{popupRedirectResolver:vx,persistence:[NO,_O,Pb]}),s=y0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=wx(u.toString());mO(n,h,()=>h(n.currentUser)),dO(n,m=>h(m))}}const o=m0("auth");return o&&JN(n,`http://${o}`),n}function Cx(){return document.getElementsByTagName("head")?.[0]??document}qN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ui("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Cx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Sx("Browser");const qb="firebasestorage.googleapis.com",Hb="storageBucket",Ix=120*1e3,Dx=600*1e3,Nx=1e3;class ht extends qi{constructor(e,n,s=0){super(Gm(e),`Firebase Storage: ${n} (${Gm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rt||(rt={}));function Gm(r){return"storage/"+r}function bg(){const r="An unknown error occurred, please check the error payload for server response.";return new ht(rt.UNKNOWN,r)}function Ox(r){return new ht(rt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function xx(r){return new ht(rt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Mx(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ht(rt.UNAUTHENTICATED,r)}function Vx(){return new ht(rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Px(r){return new ht(rt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Fb(){return new ht(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Gb(){return new ht(rt.CANCELED,"User canceled the upload/download.")}function kx(r){return new ht(rt.INVALID_URL,"Invalid URL '"+r+"'.")}function Ux(r){return new ht(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Lx(){return new ht(rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Hb+"' property when initializing the app?")}function Kb(){return new ht(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zx(){return new ht(rt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function jx(){return new ht(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Bx(r){return new ht(rt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Sp(r){return new ht(rt.INVALID_ARGUMENT,r)}function Qb(){return new ht(rt.APP_DELETED,"The Firebase app was deleted.")}function qx(r){return new ht(rt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ou(r,e){return new ht(rt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Yl(r){throw new ht(rt.INTERNAL_ERROR,"Internal error: "+r)}class Rn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Rn.makeFromUrl(e,n)}catch{return new Rn(e,"")}if(s.path==="")return s;throw Ux(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(he){he.path_=decodeURIComponent(he.path)}const E="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",k=new RegExp(`^https?://${S}/${E}/b/${o}/o${A}`,"i"),K={bucket:1,path:3},Q=n===qb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",W=new RegExp(`^https?://${Q}/${o}/${P}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:k,indices:K,postModify:g},{regex:W,indices:{bucket:1,path:2},postModify:g}];for(let he=0;he<ie.length;he++){const ye=ie[he],Ee=ye.regex.exec(e);if(Ee){const C=Ee[ye.indices.bucket];let w=Ee[ye.indices.path];w||(w=""),s=new Rn(C,w),ye.postModify(s);break}}if(s==null)throw kx(e);return s}}class Hx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Fx(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...P){g||(g=!0,e.apply(null,P))}function S(P){o=setTimeout(()=>{o=null,r(k,p())},P)}function A(){u&&clearTimeout(u)}function k(P,...W){if(g){A();return}if(P){A(),E.call(null,P,...W);return}if(p()||h){A(),E.call(null,P,...W);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,S(ie)}let K=!1;function Q(P){K||(K=!0,A(),!g&&(o!==null?(P||(m=2),clearTimeout(o),S(0)):P||(m=1)))}return S(0),u=setTimeout(()=>{h=!0,Q(!0)},n),Q}function Gx(r){r(!1)}function Kx(r){return r!==void 0}function Qx(r){return typeof r=="function"}function Yx(r){return typeof r=="object"&&!Array.isArray(r)}function Rf(r){return typeof r=="string"||r instanceof String}function zT(r){return Ag()&&r instanceof Blob}function Ag(){return typeof Blob<"u"}function jT(r,e,n,s){if(s<e)throw Sp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw Sp(`Invalid value for '${r}'. Expected ${n} or less.`)}function ku(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function Yb(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var sa;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(sa||(sa={}));function Xb(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class Xx{constructor(e,n,s,o,u,h,m,p,g,E,S,A=!0,k=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=S,this.retry=A,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,Q)=>{this.resolve_=K,this.reject_=Q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Eh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===sa.NO_ERROR,p=u.getStatus();if(!m||Xb(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===sa.ABORT;s(!1,new Eh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Eh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());Kx(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=bg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Qb():Gb();h(p)}else{const p=Fb();h(p)}};this.canceled_?n(!1,new Eh(!1,null,!0)):this.backoffId_=Fx(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Gx(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function $x(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Wx(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Jx(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Zx(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function eM(r,e,n,s,o,u,h=!0,m=!1){const p=Yb(r.urlParams),g=r.url+p,E=Object.assign({},r.headers);return Jx(E,e),$x(E,n),Wx(E,u),Zx(E,s),new Xx(g,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}function tM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nM(...r){const e=tM();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(Ag())return new Blob(r);throw new ht(rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function iM(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}function rM(r){if(typeof atob>"u")throw Bx("base-64");return atob(r)}const Ni={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Km{constructor(e,n){this.data=e,this.contentType=n||null}}function sM(r,e){switch(r){case Ni.RAW:return new Km($b(e));case Ni.BASE64:case Ni.BASE64URL:return new Km(Wb(r,e));case Ni.DATA_URL:return new Km(oM(e),lM(e))}throw bg()}function $b(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function aM(r){let e;try{e=decodeURIComponent(r)}catch{throw ou(Ni.DATA_URL,"Malformed data URL.")}return $b(e)}function Wb(r,e){switch(r){case Ni.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw ou(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ni.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw ou(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=rM(e)}catch(o){throw o.message.includes("polyfill")?o:ou(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class Jb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ou(Ni.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=uM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function oM(r){const e=new Jb(r);return e.base64?Wb(Ni.BASE64,e.rest):aM(e.rest)}function lM(r){return new Jb(r).contentType}function uM(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class as{constructor(e,n){let s=0,o="";zT(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(zT(this.data_)){const s=this.data_,o=iM(s,e,n);return o===null?null:new as(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new as(s,!0)}}static getBlob(...e){if(Ag()){const n=e.map(s=>s instanceof as?s.data_:s);return new as(nM.apply(null,n))}else{const n=e.map(h=>Rf(h)?sM(Ni.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new as(o,!0)}}uploadData(){return this.data_}}function Zb(r){let e;try{e=JSON.parse(r)}catch{return null}return Yx(e)?e:null}function cM(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function hM(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function eA(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function fM(r,e){return e}class an{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||fM}}let Th=null;function dM(r){return!Rf(r)||r.length<2?r:eA(r)}function tA(){if(Th)return Th;const r=[];r.push(new an("bucket")),r.push(new an("generation")),r.push(new an("metageneration")),r.push(new an("name","fullPath",!0));function e(u,h){return dM(h)}const n=new an("name");n.xform=e,r.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new an("size");return o.xform=s,r.push(o),r.push(new an("timeCreated")),r.push(new an("updated")),r.push(new an("md5Hash",null,!0)),r.push(new an("cacheControl",null,!0)),r.push(new an("contentDisposition",null,!0)),r.push(new an("contentEncoding",null,!0)),r.push(new an("contentLanguage",null,!0)),r.push(new an("contentType",null,!0)),r.push(new an("metadata","customMetadata",!0)),Th=r,Th}function mM(r,e){function n(){const s=r.bucket,o=r.fullPath,u=new Rn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function pM(r,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return mM(s,r),s}function nA(r,e,n){const s=Zb(e);return s===null?null:pM(r,s,n)}function gM(r,e,n,s){const o=Zb(e);if(o===null||!Rf(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=r.bucket,S=r.fullPath,A="/b/"+h(E)+"/o/"+h(S),k=ku(A,n,s),K=Yb({alt:"media",token:g});return k+K})[0]}function iA(r,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class jo{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function mr(r){if(!r)throw bg()}function wg(r,e){function n(s,o){const u=nA(r,o,e);return mr(u!==null),u}return n}function yM(r,e){function n(s,o){const u=nA(r,o,e);return mr(u!==null),gM(u,o,r.host,r._protocol)}return n}function Uu(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=Vx():o=Mx():n.getStatus()===402?o=xx(r.bucket):n.getStatus()===403?o=Px(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function rA(r){const e=Uu(r);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=Ox(r.path)),u.serverResponse=o.serverResponse,u}return n}function _M(r,e,n){const s=e.fullServerUrl(),o=ku(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new jo(o,u,wg(r,n),h);return m.errorHandler=rA(e),m}function vM(r,e,n){const s=e.fullServerUrl(),o=ku(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new jo(o,u,yM(r,n),h);return m.errorHandler=rA(e),m}function EM(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function sA(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=EM(null,e)),s}function TM(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let ie="";for(let he=0;he<2;he++)ie=ie+Math.random().toString().slice(2);return ie}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=sA(e,s,o),E=iA(g,n),S="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",k=as.getBlob(S,s,A);if(k===null)throw Kb();const K={name:g.fullPath},Q=ku(u,r.host,r._protocol),P="POST",W=r.maxUploadRetryTime,ne=new jo(Q,P,wg(r,n),W);return ne.urlParams=K,ne.headers=h,ne.body=k.uploadData(),ne.errorHandler=Uu(e),ne}class tf{constructor(e,n,s,o){this.current=e,this.total=n,this.finalized=!!s,this.metadata=o||null}}function Rg(r,e){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch{mr(!1)}return mr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function SM(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h=sA(e,s,o),m={name:h.fullPath},p=ku(u,r.host,r._protocol),g="POST",E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},S=iA(h,n),A=r.maxUploadRetryTime;function k(Q){Rg(Q);let P;try{P=Q.getResponseHeader("X-Goog-Upload-URL")}catch{mr(!1)}return mr(Rf(P)),P}const K=new jo(p,g,k,A);return K.urlParams=m,K.headers=E,K.body=S,K.errorHandler=Uu(e),K}function bM(r,e,n,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const E=Rg(g,["active","final"]);let S=null;try{S=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{mr(!1)}S||mr(!1);const A=Number(S);return mr(!isNaN(A)),new tf(A,s.size(),E==="final")}const h="POST",m=r.maxUploadRetryTime,p=new jo(n,h,u,m);return p.headers=o,p.errorHandler=Uu(e),p}const BT=256*1024;function AM(r,e,n,s,o,u,h,m){const p=new tf(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw zx();const g=p.total-p.current;let E=g;o>0&&(E=Math.min(E,o));const S=p.current,A=S+E;let k="";E===0?k="finalize":g===E?k="upload, finalize":k="upload";const K={"X-Goog-Upload-Command":k,"X-Goog-Upload-Offset":`${p.current}`},Q=s.slice(S,A);if(Q===null)throw Kb();function P(he,ye){const Ee=Rg(he,["active","final"]),C=p.current+E,w=s.size();let R;return Ee==="final"?R=wg(e,u)(he,ye):R=null,new tf(C,w,Ee==="final",R)}const W="POST",ne=e.maxUploadRetryTime,ie=new jo(n,W,P,ne);return ie.headers=K,ie.body=Q.uploadData(),ie.progressCallback=m||null,ie.errorHandler=Uu(r),ie}const pn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Qm(r){switch(r){case"running":case"pausing":case"canceling":return pn.RUNNING;case"paused":return pn.PAUSED;case"success":return pn.SUCCESS;case"canceled":return pn.CANCELED;case"error":return pn.ERROR;default:return pn.ERROR}}class wM{constructor(e,n,s){if(Qx(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function co(r){return(...e)=>{Promise.resolve().then(()=>r(...e))}}class RM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=sa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=sa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Yl("cannot .send() more than once");if(Es(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class CM extends RM{initXhr(){this.xhr_.responseType="text"}}function vo(){return new CM}class IM{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=tA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(rt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(Xb(o.status,[]))if(u)o=Fb();else{this.sleepTime=Math.max(this.sleepTime*2,Nx),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(rt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=SM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,vo,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const o=bM(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,vo,n,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=BT*this._chunkMultiplier,n=new tf(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=AM(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,vo,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){BT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=_M(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,vo,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=TM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,vo,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Gb(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Qm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,o){const u=new wM(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Qm(this._state)){case pn.SUCCESS:co(this._resolve.bind(null,this.snapshot))();break;case pn.CANCELED:case pn.ERROR:const n=this._reject;co(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Qm(this._state)){case pn.RUNNING:case pn.PAUSED:e.next&&co(e.next.bind(e,this.snapshot))();break;case pn.SUCCESS:e.complete&&co(e.complete.bind(e))();break;case pn.CANCELED:case pn.ERROR:e.error&&co(e.error.bind(e,this._error))();break;default:e.error&&co(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class fa{constructor(e,n){this._service=e,n instanceof Rn?this._location=n:this._location=Rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new fa(e,n)}get root(){const e=new Rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eA(this._location.path)}get storage(){return this._service}get parent(){const e=cM(this._location.path);if(e===null)return null;const n=new Rn(this._location.bucket,e);return new fa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw qx(e)}}function DM(r,e,n){return r._throwIfRoot("uploadBytesResumable"),new IM(r,new as(e),n)}function NM(r){r._throwIfRoot("getDownloadURL");const e=vM(r.storage,r._location,tA());return r.storage.makeRequestWithTokens(e,vo).then(n=>{if(n===null)throw jx();return n})}function OM(r,e){const n=hM(r._location.path,e),s=new Rn(r._location.bucket,n);return new fa(r.storage,s)}function xM(r){return/^[A-Za-z]+:\/\//.test(r)}function MM(r,e){return new fa(r,e)}function aA(r,e){if(r instanceof Cg){const n=r;if(n._bucket==null)throw Lx();const s=new fa(n,n._bucket);return e!=null?aA(s,e):s}else return e!==void 0?OM(r,e):r}function VM(r,e){if(e&&xM(e)){if(r instanceof Cg)return MM(r,e);throw Sp("To use ref(service, url), the first argument must be a Storage instance.")}else return aA(r,e)}function qT(r,e){const n=e?.[Hb];return n==null?null:Rn.makeFromBucketSpec(n,r)}function PM(r,e,n,s={}){r.host=`${e}:${n}`;const o=Es(e);o&&(Dp(`https://${r.host}/b`),Np("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:_0(u,r.app.options.projectId))}class Cg{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=qb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ix,this._maxUploadRetryTime=Dx,this._requests=new Set,o!=null?this._bucket=Rn.makeFromBucketSpec(o,this._host):this._bucket=qT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rn.makeFromBucketSpec(this._url,e):this._bucket=qT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fa(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new Hx(Qb());{const h=eM(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const HT="@firebase/storage",FT="0.14.0";const oA="storage";function kM(r,e,n){return r=Bt(r),DM(r,e,n)}function UM(r){return r=Bt(r),NM(r)}function LM(r,e){return r=Bt(r),VM(r,e)}function zM(r=Mp(),e){r=Bt(r);const s=af(r,oA).getImmediate({identifier:e}),o=p0("storage");return o&&jM(s,...o),s}function jM(r,e,n,s={}){PM(r,e,n,s)}function BM(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Cg(n,s,o,e,ma)}function qM(){oa(new fs(oA,BM,"PUBLIC").setMultipleInstances(!0)),Oi(HT,FT,""),Oi(HT,FT,"esm2020")}qM();const HM={apiKey:"AIzaSyDm20Plug9S3EWQo4umsdnrMXaEn8i_Jeo",authDomain:"medical-project-6a2aa.firebaseapp.com",projectId:"medical-project-6a2aa",storageBucket:"medical-project-6a2aa.firebasestorage.app",messagingSenderId:"533053954463",appId:"1:533053954463:web:bbb60e3bd068baa90405aa",measurementId:"G-GMQZJYE7WW"},Ig=T0(HM),qn=ZD(Ig),FM=zM(Ig),Er=Rx(Ig);function GM(){const[r,e]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),h=i0(),m=async p=>{p.preventDefault(),u("");try{const E=(await fO(Er,r,n)).user.uid,S=await dN(Ef(qn,"Users",E));if(S.exists()){const A=S.data().role;A==="doctor"?h("/doctor"):A==="patient"?h("/patient"):u("Role not assigned.")}else u("User profile not found in Firestore.")}catch(g){console.error(g),u("Login failed. Check email and password.")}};return N.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#e0f0ff",fontFamily:"sans-serif"},children:N.jsxs("div",{style:{backgroundColor:"white",padding:"2rem 3rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",width:"100%",maxWidth:"400px"},children:[N.jsx("h1",{style:{textAlign:"center",color:"#0077cc",marginBottom:"1rem"},children:"Medical Login"}),N.jsxs("form",{onSubmit:m,children:[N.jsx("label",{children:"Email:"}),N.jsx("input",{type:"email",value:r,onChange:p=>e(p.target.value),required:!0,style:{display:"block",width:"100%",padding:"0.5rem",marginBottom:"1rem",borderRadius:"4px",border:"1px solid #ccc"}}),N.jsx("label",{children:"Password:"}),N.jsx("input",{type:"password",value:n,onChange:p=>s(p.target.value),required:!0,style:{display:"block",width:"100%",padding:"0.5rem",marginBottom:"1rem",borderRadius:"4px",border:"1px solid #ccc"}}),N.jsx("button",{type:"submit",style:{width:"100%",padding:"0.5rem",backgroundColor:"#0077cc",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem"},children:"Sign In"}),o&&N.jsx("p",{style:{color:"red",marginTop:"1rem",textAlign:"center"},children:o})]})]})})}function KM(){const[r,e]=F.useState({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""}),[n,s]=F.useState(""),[o,u]=F.useState(null);return F.useEffect(()=>{const h=pO(Er,async m=>{if(m){u(m),s("Fetching patient info...");try{const p=Yh(fr(qn,"Patients"),na("user_id","==",Er.currentUser.uid)),g=await yu(p);if(g.empty)s("No patient record found");else{const E=g.docs[0].data();E.date_of_birth&&E.date_of_birth.seconds&&(E.date_of_birth=new Date(E.date_of_birth.seconds*1e3).toLocaleDateString()),e(E),s("Patient info loaded")}}catch(p){console.error("Error fetching patient data:",p),s("Error fetching data")}}else u(null),s("No user logged in")});return()=>h()},[]),N.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#e0f0ff",padding:"2rem",fontFamily:"sans-serif"},children:[N.jsxs("header",{style:{backgroundColor:"#0077cc",color:"white",padding:"1rem 2rem",borderRadius:"8px",marginBottom:"2rem"},children:[N.jsx("h1",{children:"Patient Dashboard"}),N.jsx("p",{children:"View and update information and documents below:"})]}),N.jsxs("section",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:[N.jsx("h2",{children:"Patient Info"}),N.jsx("p",{style:{color:"#666"},children:n}),o&&N.jsxs("div",{style:{marginTop:"1rem",lineHeight:"1.8"},children:[N.jsxs("p",{children:[N.jsx("strong",{children:"First Name:"})," ",r.first_name]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Last Name:"})," ",r.last_name]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Email:"})," ",r.email]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Address:"})," ",r.address]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Date of Birth:"})," ",r.date_of_birth]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Gender:"})," ",r.gender]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Phone Number:"})," ",r.phone_number]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Emergency Contact Name:"})," ",r.emergency_contact_name]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Emergency Contact Phone:"})," ",r.emergency_contact_phone]})]}),N.jsx("button",{style:{marginTop:"1.5rem",padding:"0.5rem 1rem",backgroundColor:"#0077cc",color:"white",border:"none",borderRadius:"4px",cursor:"not-allowed"},disabled:!0,children:"Edit (Not Functional Yet)"})]})]})}function QM(){const[r,e]=F.useState({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""}),[n,s]=F.useState(""),o=h=>{const{name:m,value:p}=h.target;e(g=>({...g,[m]:p}))},u=async h=>{h.preventDefault(),s("Saving...");try{const p=(await Ob(Er,r.email,r.password)).user,g=Date.now();await Sf(fr(qn,"Patients"),{...r,patient_id:g,created_at:Xe.fromDate(new Date),uid:p.uid}),await rb(Ef(qn,"Users",p.uid),{email:r.email,role:"patient",patient_id:g,created_at:Xe.fromDate(new Date)}),s("Patient registered successfully."),e({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""})}catch(m){console.error("Error adding patient:",m),s("Error adding patient. Check console.")}};return N.jsxs("div",{style:{maxWidth:520,margin:"2.5rem auto",padding:"2rem 2.5rem",borderRadius:"20px",border:"1px solid #e5e7eb",boxShadow:"0 18px 40px rgba(15, 23, 42, 0.12)",fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, sans-serif",backgroundColor:"#ffffff"},children:[N.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem",letterSpacing:"0.16em",textTransform:"uppercase",fontSize:"0.9rem",color:"#6b7280"},children:"Patient Registration"}),N.jsx("p",{style:{textAlign:"center",marginBottom:"1.8rem",fontSize:"0.9rem",color:"#4b5563"},children:"Please complete all required fields before submitting."}),N.jsxs("form",{onSubmit:u,style:{display:"grid",gap:"0.9rem"},children:[N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ci,children:"First Name"}),N.jsx("input",{style:Ii,name:"first_name",value:r.first_name,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ci,children:"Last Name"}),N.jsx("input",{style:Ii,name:"last_name",value:r.last_name,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ci,children:"Email"}),N.jsx("input",{style:Ii,type:"email",name:"email",value:r.email,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ci,children:"Password"}),N.jsx("input",{style:Ii,type:"password",name:"password",value:r.password,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ci,children:"Address"}),N.jsx("input",{style:Ii,name:"address",value:r.address,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ci,children:"Date Of Birth"}),N.jsx("input",{style:Ii,type:"date",name:"date_of_birth",value:r.date_of_birth,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ci,children:"Gender"}),N.jsxs("select",{style:Ii,name:"gender",value:r.gender,onChange:o,required:!0,children:[N.jsx("option",{value:"",children:"Select gender"}),N.jsx("option",{value:"female",children:"Female"}),N.jsx("option",{value:"male",children:"Male"}),N.jsx("option",{value:"nonbinary",children:"Non-binary"}),N.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ci,children:"Phone Number"}),N.jsx("input",{style:Ii,name:"phone_number",value:r.phone_number,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ci,children:"Emergency Contact Name"}),N.jsx("input",{style:Ii,name:"emergency_contact_name",value:r.emergency_contact_name,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:Ci,children:"Emergency Contact Phone"}),N.jsx("input",{style:Ii,name:"emergency_contact_phone",value:r.emergency_contact_phone,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",marginTop:"0.75rem"},children:[N.jsx("button",{type:"reset",style:{...GT,backgroundColor:"#f3f4f6",color:"#374151"},children:"Clear"}),N.jsx("button",{type:"submit",style:{...GT,background:"linear-gradient(135deg, #4f46e5 0%, #6366f1 50%, #818cf8 100%)",color:"#ffffff",boxShadow:"0 12px 30px rgba(79, 70, 229, 0.35)"},children:"Submit"})]})]}),n&&N.jsx("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#4b5563"},children:n})]})}const Ci={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},Ii={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},GT={border:"none",borderRadius:"999px",padding:"0.7rem 1.6rem",fontSize:"0.9rem",fontWeight:500,cursor:"pointer"};function YM(){const[r,e]=F.useState({first_name:"",last_name:"",email:"",phone_number:"",specialty:""}),[n,s]=F.useState(""),o=h=>{const{name:m,value:p}=h.target;e(g=>({...g,[m]:p}))},u=async h=>{h.preventDefault(),s("Saving...");try{const p=(await Ob(Er,r.email,r.password)).user,g=Date.now();await Sf(fr(qn,"Doctors"),{...r,doctor_id:g,user_id:p.uid,phone_number:Number(r.phone_number),created_at:Xe.now()}),await rb(Ef(qn,"Users",p.uid),{uid:p.uid,email:r.email,role:"doctor",created_at:Xe.now()}),s(" Doctor registered successfully!"),e({first_name:"",last_name:"",email:"",password:"",phone_number:""})}catch(m){console.error("Error adding doctor:",m),s(" Error adding doctor. Check console.")}};return N.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[N.jsx("h2",{style:{textAlign:"center",fontSize:"1.1rem",letterSpacing:"0.18em",textTransform:"uppercase",color:"#4b5563",marginBottom:"0.5rem"},children:"Doctor Registration"}),N.jsx("p",{style:{textAlign:"center",fontSize:"0.9rem",color:"#6b7280",marginBottom:"1.6rem"},children:"Create an account for a doctor to access the system."}),N.jsxs("form",{onSubmit:u,style:{display:"grid",gap:"0.85rem"},children:[N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:ho,children:"First Name"}),N.jsx("input",{style:fo,name:"first_name",value:r.first_name,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:ho,children:"Last Name"}),N.jsx("input",{style:fo,name:"last_name",value:r.last_name,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:ho,children:"Email"}),N.jsx("input",{style:fo,type:"email",name:"email",value:r.email,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:ho,children:"Password"}),N.jsx("input",{style:fo,type:"password",name:"password",value:r.password,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:ho,children:"Phone Number"}),N.jsx("input",{style:fo,name:"phone_number",value:r.phone_number,onChange:o,required:!0})]}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:ho,children:"Doctor ID"}),N.jsx("input",{style:fo,name:"number",value:r.number,onChange:o})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1.1rem"},children:[N.jsx("button",{type:"button",style:$M,onClick:()=>e({first_name:"",last_name:"",email:"",password:"",phone_number:"",number:""}),children:"Cancel"}),N.jsx("button",{type:"submit",style:XM,children:"Register"})]})]})]})}const ho={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},fo={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},XM={border:"none",borderRadius:"999px",padding:"0.75rem 1.8rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #7C3AED 0%, #A78BFA 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(124,58,237,0.22)",transition:"0.3s ease"},$M={borderRadius:"999px",padding:"0.75rem 1.6rem",fontSize:"0.9rem",fontWeight:500,cursor:"pointer",background:"#ffffff",border:"1.5px solid #D1D5DB",boxShadow:"0 4px 12px rgba(0,0,0,0.04)",transition:"0.25s ease"};function lA({onSelectPatient:r,doctorId:e}){const[n,s]=F.useState(""),[o,u]=F.useState([]),h=async()=>{if(!n.trim())return alert("Enter a last name.");if(!e)return alert("You must be logged in as a doctor.");try{const m=fr(qn,"Patients"),p=Yh(m,na("last_name","==",n.trim())),E=(await yu(p)).docs.map(S=>({id:S.id,...S.data()}));E.length===0&&alert("No patients found with that last name."),u(E),r(null)}catch(m){console.error("Error searching patients:",m),alert("Unable to search patients. Check your permissions.")}};return N.jsxs("div",{style:{marginBottom:"1rem"},children:[N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:KT,children:"Search by Last Name"}),N.jsx("input",{type:"text",id:"lastName",style:QT,value:n,onChange:m=>s(m.target.value),placeholder:"Enter last name",required:!0})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1.1rem"},children:[N.jsx("button",{type:"button",style:WM,onClick:()=>s(""),children:"Back"}),N.jsx("button",{onClick:h,style:JM,children:"Search"})]}),o.length>0&&N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:KT,children:"Select Patient:"}),N.jsxs("select",{style:QT,onChange:m=>r(o.find(p=>p.id===m.target.value)),defaultValue:"",children:[N.jsx("option",{value:"",children:"-- Choose Patient --"}),o.map(m=>N.jsxs("option",{value:m.id,children:[m.first_name," ",m.last_name,"  DOB:"," ",m.date_of_birth?.toDate?m.date_of_birth.toDate().toLocaleDateString():"N/A"]},m.id))]})]})]})}const KT={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},QT={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},WM={borderRadius:"999px",padding:"0.75rem 1.6rem",fontSize:"0.9rem",fontWeight:500,cursor:"pointer",background:"#ffffff",border:"1.5px solid #D1D5DB",boxShadow:"0 4px 12px rgba(0,0,0,0.04)",transition:"0.25s ease"},JM={border:"none",borderRadius:"999px",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #10B981 0%, #6EE7B7 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(16,185,129,0.22)",transition:"0.3s ease"};function ZM(){const[r,e]=F.useState(null),[n,s]=F.useState(0),[o,u]=F.useState(!1),[h,m]=F.useState(null),[p,g]=F.useState(null);F.useEffect(()=>{Er.currentUser&&g(Er.currentUser.uid)},[]);const E=A=>e(A.target.files[0]),S=async()=>{if(!r)return alert("Please select a file first.");if(!h)return alert("Please select a patient first.");if(!p)return alert("You must be logged in as a doctor.");const A=h.id,k=`patients/${A}/${r.name}`,K=LM(FM,k),Q=kM(K,r);u(!0),Q.on("state_changed",P=>{const W=P.bytesTransferred/P.totalBytes*100;s(Math.round(W))},P=>{console.error("Upload error:",P),alert("Upload failed."),u(!1)},async()=>{try{const P=await UM(Q.snapshot.ref);await Sf(fr(qn,`Patients/${A}/files`),{name:r.name,url:P,uploadedBy:p,uploadedAt:ab()}),alert("Upload complete!"),e(null),s(0)}catch(P){console.error("Error saving file metadata:",P),alert("Failed to save file information.")}finally{u(!1)}})};return N.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[N.jsx("h2",{style:{textAlign:"center",fontSize:"1.1rem",letterSpacing:"0.18em",textTransform:"uppercase",color:"#4b5563",marginBottom:"0.5rem"},children:"Upload File For Patient"}),N.jsx(lA,{doctorId:p,onSelectPatient:m}),N.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[N.jsx("label",{style:eV,children:"File"}),N.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:E,style:tV})]}),N.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"1.1rem"},children:N.jsx("button",{onClick:S,style:nV,children:o?"Uploading...":"Upload"})})]})}const eV={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},tV={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"},nV={border:"none",borderRadius:"999px",padding:"0.75rem 1.9rem",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",background:"linear-gradient(135deg, #3B82F6 0%, #93C5FD 100%)",color:"#ffffff",boxShadow:"0 8px 22px rgba(59,130,246,0.22)",transition:"0.3s ease"};function iV(){const[r,e]=F.useState(null),[n,s]=F.useState(null),[o,u]=F.useState([]),[h,m]=F.useState(null);return F.useEffect(()=>{Er.currentUser&&e(Er.currentUser.uid)},[]),F.useEffect(()=>{(async()=>{if(n)try{const g=fr(qn,`Patients/${n.id}/files`),S=(await yu(g)).docs.map(A=>({id:A.id,...A.data()}));u(S),m(null)}catch(g){console.error("Error fetching files:",g),alert("Failed to fetch files.")}})()},[n]),N.jsxs("div",{style:{maxWidth:520,margin:"0 auto",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, system-ui, sans-serif",textAlign:"left"},children:[N.jsx("h2",{style:{textAlign:"center",fontSize:"1.1rem",letterSpacing:"0.18em",textTransform:"uppercase",color:"#4b5563",marginBottom:"0.5rem"},children:"View Patient Files"}),N.jsx("p",{style:{textAlign:"center",fontSize:"0.9rem",color:"#6b7280",marginBottom:"1.6rem"},children:"Search by last name to review uploaded documents."}),N.jsx(lA,{doctorId:r,onSelectPatient:s}),o.length>0&&N.jsxs("div",{style:{marginBottom:"1rem"},children:[N.jsx("label",{style:rV,children:"Select File:"}),N.jsxs("select",{style:sV,onChange:p=>m(o.find(g=>g.id===p.target.value)),defaultValue:"",children:[N.jsx("option",{value:"",children:"-- Choose File --"}),o.map(p=>N.jsxs("option",{value:p.id,children:[p.name,"  Uploaded:"," ",p.uploadedAt?.toDate?p.uploadedAt.toDate().toLocaleString():"N/A"]},p.id))]})]}),h&&N.jsx("div",{style:{marginTop:"1rem"},children:h.name.endsWith(".pdf")?N.jsx("iframe",{src:h.url,width:"100%",height:"600px",title:h.name}):N.jsx("img",{src:h.url,alt:h.name,style:{width:"100%",maxHeight:"600px",objectFit:"contain"}})})]})}const rV={fontSize:"0.78rem",fontWeight:600,letterSpacing:"0.14em",textTransform:"uppercase",color:"#374151"},sV={width:"100%",borderRadius:"999px",border:"1px solid #d1d5db",padding:"0.7rem 1rem",fontSize:"0.9rem",outline:"none",backgroundColor:"#f9fafb"};function aV(){return N.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#F8FBFF",padding:"2.5rem 2rem",fontFamily:"SF Pro Display, -apple-system, BlinkMacSystemFont, Inter, Poppins, system-ui, sans-serif"},children:[N.jsx("h1",{style:{textAlign:"center",fontSize:"2rem",fontWeight:700,marginBottom:"2.2rem",letterSpacing:"0.12em",textTransform:"uppercase",color:"#1f2937"},children:"Doctor Dashboard"}),N.jsx("section",{style:{background:"#fff0f6",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(255, 182, 203, 0.18)",marginBottom:"2rem"},children:N.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:N.jsx(QM,{})})}),N.jsx("section",{style:{background:"#f3ecff",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(216, 180, 254, 0.18)",marginBottom:"2rem"},children:N.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:N.jsx(YM,{})})}),N.jsx("section",{style:{background:"#e9f2ff",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(147, 197, 253, 0.18)",marginBottom:"2rem"},children:N.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:N.jsx(ZM,{})})}),N.jsx("section",{style:{background:"#ecfff4",padding:"1px",borderRadius:"26px",boxShadow:"0 10px 30px rgba(167, 243, 208, 0.18)"},children:N.jsx("div",{style:{backgroundColor:"white",padding:"2rem 2.2rem",borderRadius:"26px"},children:N.jsx(iV,{})})})]})}function oV(){return N.jsxs("div",{className:"landing-container",children:[N.jsxs("div",{className:"landing-header",children:[N.jsxs("nav",{className:"nav-left",children:[N.jsx(ta,{to:"/about",children:"About"}),N.jsx(ta,{to:"/services",children:"Services"}),N.jsx(ta,{to:"/contacts",children:"Contacts"})]}),N.jsxs("div",{className:"login-right",children:[N.jsx("span",{children:"Already Have an Account?"}),N.jsx(ta,{to:"/login",children:N.jsx("button",{className:"login-button",children:"Login"})})]})]}),N.jsxs("div",{className:"landing-main",children:[N.jsxs("div",{className:"landing-text",children:[N.jsxs("h1",{children:[N.jsx("span",{className:"line1",children:"Find a"}),N.jsx("span",{className:"line2",children:"DOCTOR"})]}),N.jsx("p",{children:"Your secure portal to manage medical records and connect with professionals."}),N.jsx(ta,{to:"/FindDoctor",children:N.jsx("button",{className:"get-started-button",children:"Get Started"})})]}),N.jsx("div",{className:"landing-image",children:N.jsx("img",{src:"Med_LandingPage.jpg",alt:"Doctor"})})]})]})}function lV(){const[r,e]=F.useState(""),[n,s]=F.useState([]),[o,u]=F.useState(null),[h,m]=F.useState(""),[p,g]=F.useState([]),[E,S]=F.useState(""),[A,k]=F.useState(""),K=["New York City","Boston","New Jersey City","Long Island"];F.useEffect(()=>{if(!r)return;(async()=>{try{const W=fr(qn,"Doctors"),ne=Yh(W,na("location","==",r),na("patients","<",6)),he=(await yu(ne)).docs.map(ye=>({id:ye.id,...ye.data()}));s(he)}catch(W){console.error("Error fetching doctors:",W)}})()},[r]),F.useEffect(()=>{if(!o||!h)return;(async()=>{const W=new Date(h);W.setHours(0,0,0,0);const ne=new Date(h);ne.setHours(23,59,59,999);const ie=Yh(fr(qn,"Reservations"),na("doctorId","==",o.id),na("appointmentDate",">=",W),na("appointmentDate","<=",ne)),ye=(await yu(ie)).docs.map(w=>new Date(w.data().appointmentDate).getHours()),C=Array.from({length:9},(w,R)=>R+9).filter(w=>!ye.includes(w));g(C),S("")})()},[o,h]);const Q=async()=>{if(!o||!h||E===""||!A){alert("Please select doctor, date, time, and enter your email.");return}const P=new Date(h);P.setHours(E,0,0,0);try{await Sf(fr(qn,"Reservations"),{doctorId:o.id,appointmentDate:P,email:A,status:"pending",createdAt:ab()}),alert(`Appointment requested with Dr. ${o.first_name} ${o.last_name} at ${E}:00. Please check your email to confirm.`),u(null),m(""),S(""),k(""),g([])}catch(W){console.error("Error booking appointment:",W),alert("Failed to book appointment.")}};return N.jsxs("div",{className:"find-doctor-container",children:[N.jsx("h1",{children:"Find a Doctor in Your Area"}),N.jsxs("select",{value:r,onChange:P=>e(P.target.value),children:[N.jsx("option",{value:"",children:"Select Location"}),K.map(P=>N.jsx("option",{value:P,children:P},P))]}),N.jsxs("div",{className:"doctor-list",children:[n.length===0&&r&&N.jsx("p",{children:"No available doctors in this area."}),n.map(P=>N.jsxs("div",{className:"doctor-card",children:[N.jsxs("h3",{children:[P.first_name," ",P.last_name]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Location:"})," ",P.location]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Specialty:"})," ",P.specialty||"General"]}),N.jsxs("p",{children:[N.jsx("strong",{children:"Phone:"})," ",P.phone_number]}),N.jsx("button",{onClick:()=>u(P),children:"Book Now"})]},P.id))]}),o&&N.jsxs("div",{className:"booking-section",children:[N.jsxs("h2",{children:["Book an Appointment with Dr. ",o.first_name," ",o.last_name]}),N.jsxs("label",{children:["Your Email:",N.jsx("input",{type:"email",value:A,onChange:P=>k(P.target.value),placeholder:"you@example.com"})]}),N.jsxs("label",{children:["Date:",N.jsx("input",{type:"date",value:h,onChange:P=>m(P.target.value)})]}),p.length>0&&N.jsxs("label",{children:["Time:",N.jsxs("select",{value:E,onChange:P=>S(parseInt(P.target.value)),children:[N.jsx("option",{value:"",children:"Select Time"}),p.map(P=>N.jsxs("option",{value:P,children:[P,":00"]},P))]})]}),N.jsx("button",{onClick:Q,children:"Request Appointment"})]})]})}function uV(){return N.jsxs(j1,{children:[N.jsx(mo,{path:"/",element:N.jsx(oV,{})}),N.jsx(mo,{path:"/login",element:N.jsx(GM,{})}),N.jsx(mo,{path:"/FindDoctor",element:N.jsx(lV,{})}),N.jsx(mo,{path:"/patient",element:N.jsx(KM,{})}),N.jsx(mo,{path:"/doctor",element:N.jsx(aV,{})})]})}$w.createRoot(document.getElementById("root")).render(N.jsx(uR,{basename:"/~mballard7/medical-records-swe/medical-records-deploy",children:N.jsx(uV,{})}));
