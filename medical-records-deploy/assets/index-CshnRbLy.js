(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Ow(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gm={exports:{}},Ll={};var qv;function Mw(){if(qv)return Ll;qv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var Hv;function Vw(){return Hv||(Hv=1,gm.exports=Mw()),gm.exports}var K=Vw(),_m={exports:{}},Ae={};var Fv;function xw(){if(Fv)return Ae;Fv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),b=Symbol.iterator;function P(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,L={};function te(M,J,ae){this.props=M,this.context=J,this.refs=L,this.updater=ae||F}te.prototype.isReactComponent={},te.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},te.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=te.prototype;function ie(M,J,ae){this.props=M,this.context=J,this.refs=L,this.updater=ae||F}var fe=ie.prototype=new ne;fe.constructor=ie,Y(fe,te.prototype),fe.isPureReactComponent=!0;var Se=Array.isArray;function Ee(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(M,J,ae){var ue=ae.ref;return{$$typeof:r,type:M,key:J,ref:ue!==void 0?ue:null,props:ae}}function V(M,J){return R(M.type,J,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return J[ae]})}var C=/\/+/g;function st(M,J){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):J.toString(36)}function Mt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ee,Ee):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function X(M,J,ae,ue,ve){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(Ce){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case r:case e:ke=!0;break;case E:return ke=M._init,X(ke(M._payload),J,ae,ue,ve)}}if(ke)return ve=ve(M),ke=ue===""?"."+st(M,0):ue,Se(ve)?(ae="",ke!=null&&(ae=ke.replace(C,"$&/")+"/"),X(ve,J,ae,"",function(Es){return Es})):ve!=null&&(N(ve)&&(ve=V(ve,ae+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(C,"$&/")+"/")+ke)),J.push(ve)),1;ke=0;var Vt=ue===""?".":ue+":";if(Se(M))for(var at=0;at<M.length;at++)ue=M[at],Ce=Vt+st(ue,at),ke+=X(ue,J,ae,Ce,ve);else if(at=P(M),typeof at=="function")for(M=at.call(M),at=0;!(ue=M.next()).done;)ue=ue.value,Ce=Vt+st(ue,at++),ke+=X(ue,J,ae,Ce,ve);else if(Ce==="object"){if(typeof M.then=="function")return X(Mt(M),J,ae,ue,ve);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ke}function se(M,J,ae){if(M==null)return M;var ue=[],ve=0;return X(M,ue,"","",function(Ce){return J.call(ae,Ce,ve++)}),ue}function pe(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var ze=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ke={map:se,forEach:function(M,J,ae){se(M,function(){J.apply(this,arguments)},ae)},count:function(M){var J=0;return se(M,function(){J++}),J},toArray:function(M){return se(M,function(J){return J})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=S,Ae.Children=Ke,Ae.Component=te,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ie,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,J,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=Y({},M.props),ve=M.key;if(J!=null)for(Ce in J.key!==void 0&&(ve=""+J.key),J)!w.call(J,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&J.ref===void 0||(ue[Ce]=J[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ae;else if(1<Ce){for(var ke=Array(Ce),Vt=0;Vt<Ce;Vt++)ke[Vt]=arguments[Vt+2];ue.children=ke}return R(M.type,ve,ue)},Ae.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ae.createElement=function(M,J,ae){var ue,ve={},Ce=null;if(J!=null)for(ue in J.key!==void 0&&(Ce=""+J.key),J)w.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=J[ue]);var ke=arguments.length-2;if(ke===1)ve.children=ae;else if(1<ke){for(var Vt=Array(ke),at=0;at<ke;at++)Vt[at]=arguments[at+2];ve.children=Vt}if(M&&M.defaultProps)for(ue in ke=M.defaultProps,ke)ve[ue]===void 0&&(ve[ue]=ke[ue]);return R(M,Ce,ve)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:m,render:M}},Ae.isValidElement=N,Ae.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:pe}},Ae.memo=function(M,J){return{$$typeof:g,type:M,compare:J===void 0?null:J}},Ae.startTransition=function(M){var J=D.T,ae={};D.T=ae;try{var ue=M(),ve=D.S;ve!==null&&ve(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ee,ze)}catch(Ce){ze(Ce)}finally{J!==null&&ae.types!==null&&(J.types=ae.types),D.T=J}},Ae.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ae.use=function(M){return D.H.use(M)},Ae.useActionState=function(M,J,ae){return D.H.useActionState(M,J,ae)},Ae.useCallback=function(M,J){return D.H.useCallback(M,J)},Ae.useContext=function(M){return D.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,J){return D.H.useDeferredValue(M,J)},Ae.useEffect=function(M,J){return D.H.useEffect(M,J)},Ae.useEffectEvent=function(M){return D.H.useEffectEvent(M)},Ae.useId=function(){return D.H.useId()},Ae.useImperativeHandle=function(M,J,ae){return D.H.useImperativeHandle(M,J,ae)},Ae.useInsertionEffect=function(M,J){return D.H.useInsertionEffect(M,J)},Ae.useLayoutEffect=function(M,J){return D.H.useLayoutEffect(M,J)},Ae.useMemo=function(M,J){return D.H.useMemo(M,J)},Ae.useOptimistic=function(M,J){return D.H.useOptimistic(M,J)},Ae.useReducer=function(M,J,ae){return D.H.useReducer(M,J,ae)},Ae.useRef=function(M){return D.H.useRef(M)},Ae.useState=function(M){return D.H.useState(M)},Ae.useSyncExternalStore=function(M,J,ae){return D.H.useSyncExternalStore(M,J,ae)},Ae.useTransition=function(){return D.H.useTransition()},Ae.version="19.2.0",Ae}var Gv;function mp(){return Gv||(Gv=1,_m.exports=xw()),_m.exports}var G=mp(),ym={exports:{}},zl={},vm={exports:{}},Em={};var Kv;function Pw(){return Kv||(Kv=1,(function(r){function e(X,se){var pe=X.length;X.push(se);e:for(;0<pe;){var ze=pe-1>>>1,Ke=X[ze];if(0<o(Ke,se))X[ze]=se,X[pe]=Ke,pe=ze;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var se=X[0],pe=X.pop();if(pe!==se){X[0]=pe;e:for(var ze=0,Ke=X.length,M=Ke>>>1;ze<M;){var J=2*(ze+1)-1,ae=X[J],ue=J+1,ve=X[ue];if(0>o(ae,pe))ue<Ke&&0>o(ve,ae)?(X[ze]=ve,X[ue]=pe,ze=ue):(X[ze]=ae,X[J]=pe,ze=J);else if(ue<Ke&&0>o(ve,pe))X[ze]=ve,X[ue]=pe,ze=ue;else break e}}return se}function o(X,se){var pe=X.sortIndex-se.sortIndex;return pe!==0?pe:X.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,S=null,b=3,P=!1,F=!1,Y=!1,L=!1,te=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function fe(X){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=X)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function Se(X){if(Y=!1,fe(X),!F)if(n(p)!==null)F=!0,Ee||(Ee=!0,U());else{var se=n(g);se!==null&&Mt(Se,se.startTime-X)}}var Ee=!1,D=-1,w=5,R=-1;function V(){return L?!0:!(r.unstable_now()-R<w)}function N(){if(L=!1,Ee){var X=r.unstable_now();R=X;var se=!0;try{e:{F=!1,Y&&(Y=!1,ne(D),D=-1),P=!0;var pe=b;try{t:{for(fe(X),S=n(p);S!==null&&!(S.expirationTime>X&&V());){var ze=S.callback;if(typeof ze=="function"){S.callback=null,b=S.priorityLevel;var Ke=ze(S.expirationTime<=X);if(X=r.unstable_now(),typeof Ke=="function"){S.callback=Ke,fe(X),se=!0;break t}S===n(p)&&s(p),fe(X)}else s(p);S=n(p)}if(S!==null)se=!0;else{var M=n(g);M!==null&&Mt(Se,M.startTime-X),se=!1}}break e}finally{S=null,b=pe,P=!1}se=void 0}}finally{se?U():Ee=!1}}}var U;if(typeof ie=="function")U=function(){ie(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,st=C.port2;C.port1.onmessage=N,U=function(){st.postMessage(null)}}else U=function(){te(N,0)};function Mt(X,se){D=te(function(){X(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(X){switch(b){case 1:case 2:case 3:var se=3;break;default:se=b}var pe=b;b=se;try{return X()}finally{b=pe}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=b;b=X;try{return se()}finally{b=pe}},r.unstable_scheduleCallback=function(X,se,pe){var ze=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,X){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=pe+Ke,X={id:E++,callback:se,priorityLevel:X,startTime:pe,expirationTime:Ke,sortIndex:-1},pe>ze?(X.sortIndex=pe,e(g,X),n(p)===null&&X===n(g)&&(Y?(ne(D),D=-1):Y=!0,Mt(Se,pe-ze))):(X.sortIndex=Ke,e(p,X),F||P||(F=!0,Ee||(Ee=!0,U()))),X},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(X){var se=b;return function(){var pe=b;b=se;try{return X.apply(this,arguments)}finally{b=pe}}}})(Em)),Em}var Qv;function Uw(){return Qv||(Qv=1,vm.exports=Pw()),vm.exports}var Tm={exports:{}},Wt={};var Yv;function kw(){if(Yv)return Wt;Yv=1;var r=mp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Wt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:b,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.2.0",Wt}var Xv;function Lw(){if(Xv)return Tm.exports;Xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Tm.exports=kw(),Tm.exports}var $v;function zw(){if($v)return zl;$v=1;var r=Uw(),e=mp(),n=Lw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var y=!1,T=f.child;T;){if(T===a){y=!0,a=f,l=d;break}if(T===l){y=!0,l=f,a=d;break}T=T.sibling}if(!y){for(T=d.child;T;){if(T===a){y=!0,a=d,l=f;break}if(T===l){y=!0,l=d,a=f;break}T=T.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,b=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case te:return"Profiler";case L:return"StrictMode";case Se:return"Suspense";case Ee:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:st(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return st(t(i))}catch{}}return null}var Mt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],Ke=-1;function M(t){return{current:t}}function J(t){0>Ke||(t.current=ze[Ke],ze[Ke]=null,Ke--)}function ae(t,i){Ke++,ze[Ke]=t.current,t.current=i}var ue=M(null),ve=M(null),Ce=M(null),ke=M(null);function Vt(t,i){switch(ae(Ce,i),ae(ve,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?hv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=hv(i),t=fv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ue),ae(ue,t)}function at(){J(ue),J(ve),J(Ce)}function Es(t){t.memoizedState!==null&&ae(ke,t);var i=ue.current,a=fv(i,t.type);i!==a&&(ae(ve,t),ae(ue,a))}function pa(t){ve.current===t&&(J(ue),J(ve)),ke.current===t&&(J(ke),xl._currentValue=pe)}var ga,_a;function ri(t){if(ga===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ga=i&&i[1]||"",_a=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ga+t+_a}var xo=!1;function Ts(t,i){if(!t||xo)return"";xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var j=H}Reflect.construct(t,[],W)}else{try{W.call()}catch(H){j=H}t.call(W.prototype)}}else{try{throw Error()}catch(H){j=H}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],T=d[1];if(y&&T){var I=y.split(`
`),B=T.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===B.length)for(l=I.length-1,f=B.length-1;1<=l&&0<=f&&I[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==B[f]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=f);break}}}finally{xo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function Po(t,i){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return t.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return Ts(t.type,!1);case 11:return Ts(t.type.render,!1);case 1:return Ts(t.type,!0);case 31:return ri("Activity");default:return""}}function Uo(t){try{var i="",a=null;do i+=Po(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,xt=r.unstable_scheduleCallback,vr=r.unstable_cancelCallback,yf=r.unstable_shouldYield,Nu=r.unstable_requestPaint,nn=r.unstable_now,Ss=r.unstable_getCurrentPriorityLevel,ko=r.unstable_ImmediatePriority,Lo=r.unstable_UserBlockingPriority,Er=r.unstable_NormalPriority,vf=r.unstable_LowPriority,Ou=r.unstable_IdlePriority,Mu=r.log,Vu=r.unstable_setDisableYieldValue,qn=null,qt=null;function Cn(t){if(typeof Mu=="function"&&Vu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(qn,t)}catch{}}var mt=Math.clz32?Math.clz32:Pu,xu=Math.log,ya=Math.LN2;function Pu(t){return t>>>=0,t===0?32:31-(xu(t)/ya|0)|0}var si=256,As=262144,Et=4194304;function ai(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=ai(l):(y&=T,y!==0?f=ai(y):a||(a=T&~t,a!==0&&(f=ai(a))))):(T=l&~d,T!==0?f=ai(T):y!==0?f=ai(y):a||(a=l&~t,a!==0&&(f=ai(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ef(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function li(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function bs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Tf(t,i,a,l,f,d){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-mt(a),W=1<<Q;T[Q]=0,I[Q]=-1;var j=B[Q];if(j!==null)for(B[Q]=null,Q=0;Q<j.length;Q++){var H=j[Q];H!==null&&(H.lane&=-536870913)}a&=~W}l!==0&&ws(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~i))}function ws(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function zo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Bo(t,i){var a=i&-i;return a=(a&42)!==0?1:Rs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Rs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ku(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Pv(t.type))}function Fn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Gn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Gn,kt="__reactProps$"+Gn,ui="__reactContainer$"+Gn,va="__reactEvents$"+Gn,Sf="__reactListeners$"+Gn,Lu="__reactHandles$"+Gn,zu="__reactResources$"+Gn,ci="__reactMarker$"+Gn;function Ea(t){delete t[Tt],delete t[kt],delete t[va],delete t[Sf],delete t[Lu]}function hi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ui]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=vv(t);t!==null;){if(a=t[Tt])return a;t=vv(t)}return i}t=a,a=t.parentNode}return null}function In(t){if(t=t[Tt]||t[ui]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function fi(t){var i=t[zu];return i||(i=t[zu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[ci]=!0}var jo=new Set,qo={};function di(t,i){mi(t,i),mi(t+"Capture",i)}function mi(t,i){for(qo[t]=i,t=0;t<i.length;t++)jo.add(i[t])}var Ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},Go={};function Bu(t){return vt.call(Go,t)?!0:vt.call(Fo,t)?!1:Ho.test(t)?Go[t]=!0:(Fo[t]=!0,!1)}function Ta(t,i,a){if(Bu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function _n(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ko(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=Tr(t)?"checked":"value";t._valueTracker=Ko(t,i,""+t[i])}}function Cs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Tr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Is=/[\n"\\]/g;function on(t){return t.replace(Is,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Sa(t,i,a,l,f,d,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),i!=null?y==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),i!=null?Qo(t,y,Lt(i)):a!=null?Qo(t,y,Lt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Lt(T):t.removeAttribute("name")}function ju(t,i,a,l,f,d,y,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Qe(t)}function Qo(t,i,a){i==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Sr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function qu(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function Ar(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Hu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Xo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Yo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Yo(t,d,i[d])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var $o=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wr=null,gi=null;function Ds(t){var i=In(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Sa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[kt]||null;if(!f)throw Error(s(90));Sa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Cs(l)}break e;case"textarea":qu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Sr(t,!!a.multiple,i,!1)}}}var wa=!1;function Rr(t,i,a){if(wa)return t(i,a);wa=!0;try{var l=t(i);return l}finally{if(wa=!1,(wr!==null||gi!==null)&&(kc(),wr&&(i=wr,t=gi,gi=wr=null,Ds(i),t)))for(i=0;i<t.length;i++)Ds(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ns=!1;if(Nn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Ns=!1}var _i=null,Wo=null,Os=null;function Jo(){if(Os)return Os;var t,i=Wo,a=i.length,l,f="value"in _i?_i.value:_i.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var y=a-t;for(l=1;l<=y&&i[a-l]===f[d-l];l++);return Os=f.slice(t,1<l?1-l:void 0)}function Ms(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ji(){return!0}function Yn(){return!1}function Ht(t){function i(a,l,f,d,y){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ji:Yn,this.isPropagationStopped=Yn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Ht(qi),Cr=S({},qi,{view:0,detail:0}),Zo=Ht(Cr),Ir,Ra,vi,Ca=S({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vi&&(vi&&t.type==="mousemove"?(Ir=t.screenX-vi.screenX,Ra=t.screenY-vi.screenY):Ra=Ir=0,vi=t),Ir)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),el=Ht(Ca),Vs=S({},Ca,{dataTransfer:0}),Gu=Ht(Vs),Ku=S({},Cr,{relatedTarget:0}),xs=Ht(Ku),tl=S({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qu=Ht(tl),Ia=S({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yu=Ht(Ia),Xu=S({},qi,{data:0}),Ei=Ht(Xu),$u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ju[t])?!!i[t]:!1}function Dr(){return Zu}var rn=S({},Cr,{key:function(t){if(t.key){var i=$u[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ec=Ht(rn),tc=S({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Ht(tc),c=S({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),_=Ht(c),v=S({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ht(v),k=S({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ht(k),re=S({},qi,{newState:0,oldState:0}),we=Ht(re),pt=[9,13,27,32],qe=Nn&&"CompositionEvent"in window,ot=null;Nn&&"documentMode"in document&&(ot=document.documentMode);var On=Nn&&"TextEvent"in window&&!ot,Ti=Nn&&(!qe||ot&&8<ot&&11>=ot),Xn=" ",$n=!1;function Ps(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function tb(t,i){switch(t){case"compositionend":return Da(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return t=i.data,t===Xn&&$n?null:t;default:return null}}function nb(t,i){if(Na)return t==="compositionend"||!qe&&Ps(t,i)?(t=Jo(),Os=Wo=_i=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var ib={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ib[t.type]:i==="textarea"}function Ag(t,i,a,l){wr?gi?gi.push(l):gi=[l]:wr=l,i=Fc(i,"onChange"),0<i.length&&(a=new yi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var nl=null,il=null;function rb(t){sv(t,0)}function nc(t){var i=gn(t);if(Cs(i))return t}function bg(t,i){if(t==="change")return i}var wg=!1;if(Nn){var Af;if(Nn){var bf="oninput"in document;if(!bf){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),bf=typeof Rg.oninput=="function"}Af=bf}else Af=!1;wg=Af&&(!document.documentMode||9<document.documentMode)}function Cg(){nl&&(nl.detachEvent("onpropertychange",Ig),il=nl=null)}function Ig(t){if(t.propertyName==="value"&&nc(il)){var i=[];Ag(i,il,t,Dn(t)),Rr(rb,i)}}function sb(t,i,a){t==="focusin"?(Cg(),nl=i,il=a,nl.attachEvent("onpropertychange",Ig)):t==="focusout"&&Cg()}function ab(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nc(il)}function ob(t,i){if(t==="click")return nc(i)}function lb(t,i){if(t==="input"||t==="change")return nc(i)}function ub(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:ub;function rl(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!vt.call(i,f)||!yn(t[f],i[f]))return!1}return!0}function Dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ng(t,i){var a=Dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dg(a)}}function Og(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Og(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=pi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=pi(t.document)}return i}function wf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var cb=Nn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Rf=null,sl=null,Cf=!1;function Vg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cf||Oa==null||Oa!==pi(l)||(l=Oa,"selectionStart"in l&&wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&rl(sl,l)||(sl=l,l=Fc(Rf,"onSelect"),0<l.length&&(i=new yi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Oa)))}function Us(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ma={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},If={},xg={};Nn&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function ks(t){if(If[t])return If[t];if(!Ma[t])return t;var i=Ma[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in xg)return If[t]=i[a];return t}var Pg=ks("animationend"),Ug=ks("animationiteration"),kg=ks("animationstart"),hb=ks("transitionrun"),fb=ks("transitionstart"),db=ks("transitioncancel"),Lg=ks("transitionend"),zg=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function Wn(t,i){zg.set(t,i),di(i,[t])}var ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Va=0,Nf=0;function rc(){for(var t=Va,i=Nf=Va=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var f=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&f!==null){var y=l.pending;y===null?f.next=f:(f.next=y.next,y.next=f),l.pending=f}d!==0&&Bg(a,f,d)}}function sc(t,i,a,l){Mn[Va++]=t,Mn[Va++]=i,Mn[Va++]=a,Mn[Va++]=l,Nf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,i,a,l){return sc(t,i,a,l),ac(t)}function Ls(t,i){return sc(t,null,null,i),ac(t)}function Bg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-mt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function ac(t){if(50<Cl)throw Cl=0,Bd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var xa={};function mb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new mb(t,i,a,l)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function oc(t,i,a,l,f,d){var y=0;if(l=t,typeof t=="function")Mf(t)&&(y=1);else if(typeof t=="string")y=vw(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,a,i,f),t.elementType=R,t.lanes=d,t;case Y:return zs(a.children,f,d,i);case L:y=8,f|=24;break;case te:return t=vn(12,a,i,f|2),t.elementType=te,t.lanes=d,t;case Se:return t=vn(13,a,i,f),t.elementType=Se,t.lanes=d,t;case Ee:return t=vn(19,a,i,f),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:y=10;break e;case ne:y=9;break e;case fe:y=11;break e;case D:y=14;break e;case w:y=16,l=null;break e}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(y,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function zs(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function Vf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function qg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function xf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Hg=new WeakMap;function Vn(t,i){if(typeof t=="object"&&t!==null){var a=Hg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Uo(i)},Hg.set(t,i),i)}return{value:t,source:i,stack:Uo(i)}}var Pa=[],Ua=0,lc=null,al=0,xn=[],Pn=0,Nr=null,Si=1,Ai="";function Gi(t,i){Pa[Ua++]=al,Pa[Ua++]=lc,lc=t,al=i}function Fg(t,i,a){xn[Pn++]=Si,xn[Pn++]=Ai,xn[Pn++]=Nr,Nr=t;var l=Si;t=Ai;var f=32-mt(l)-1;l&=~(1<<f),a+=1;var d=32-mt(i)+f;if(30<d){var y=f-f%5;d=(l&(1<<y)-1).toString(32),l>>=y,f-=y,Si=1<<32-mt(i)+f|a<<f|l,Ai=d+t}else Si=1<<d|a<<f|l,Ai=t}function Pf(t){t.return!==null&&(Gi(t,1),Fg(t,1,0))}function Uf(t){for(;t===lc;)lc=Pa[--Ua],Pa[Ua]=null,al=Pa[--Ua],Pa[Ua]=null;for(;t===Nr;)Nr=xn[--Pn],xn[Pn]=null,Ai=xn[--Pn],xn[Pn]=null,Si=xn[--Pn],xn[Pn]=null}function Gg(t,i){xn[Pn++]=Si,xn[Pn++]=Ai,xn[Pn++]=Nr,Si=i.id,Ai=i.overflow,Nr=t}var Ft=null,nt=null,Ue=!1,Or=null,Un=!1,kf=Error(s(519));function Mr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(Vn(i,t)),kf}function Kg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[kt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Ne(Dl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),ju(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Ar(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||uv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||Mr(t,!0)}function Qg(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ft=Ft.return}}function ka(t){if(t!==Ft)return!1;if(!Ue)return Qg(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||tm(t.type,t.memoizedProps)),a=!a),a&&nt&&Mr(t),Qg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=yv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=yv(t)}else i===27?(i=nt,Kr(t.type)?(t=am,am=null,nt=t):nt=i):nt=Ft?Ln(t.stateNode.nextSibling):null;return!0}function Bs(){nt=Ft=null,Ue=!1}function Lf(){var t=Or;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Or=null),t}function ol(t){Or===null?Or=[t]:Or.push(t)}var zf=M(null),js=null,Ki=null;function Vr(t,i,a){ae(zf,i._currentValue),i._currentValue=a}function Qi(t){t._currentValue=zf.current,J(zf)}function Bf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function jf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var y=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Bf(d.return,a,t),l||(y=null);break e}d=T.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),Bf(y,a,t),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function La(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var T=f.type;yn(f.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(f===ke.current){if(y=f.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}f=f.return}t!==null&&jf(i,t,a,l),i.flags|=262144}function uc(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qs(t){js=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Yg(js,t)}function cc(t,i){return js===null&&qs(t),Yg(t,i)}function Yg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ki===null){if(t===null)throw Error(s(308));Ki=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ki=Ki.next=i;return a}var pb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},gb=r.unstable_scheduleCallback,_b=r.unstable_NormalPriority,bt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new pb,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&gb(_b,function(){t.controller.abort()})}var ul=null,Hf=0,za=0,Ba=null;function yb(t,i){if(ul===null){var a=ul=[];Hf=0,za=Kd(),Ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,i.then(Xg,Xg),i}function Xg(){if(--Hf===0&&ul!==null){Ba!==null&&(Ba.status="fulfilled");var t=ul;ul=null,za=0,Ba=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function vb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var $g=X.S;X.S=function(t,i){Vy=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&yb(t,i),$g!==null&&$g(t,i)};var Hs=M(null);function Ff(){var t=Hs.current;return t!==null?t:et.pooledCache}function hc(t,i){i===null?ae(Hs,Hs.current):ae(Hs,i.pool)}function Wg(){var t=Ff();return t===null?null:{parent:bt._currentValue,pool:t}}var ja=Error(s(460)),Gf=Error(s(474)),fc=Error(s(542)),dc={then:function(){}};function Jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t_(t),t;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t_(t),t}throw Gs=i,ja}}function Fs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gs=a,ja):a}}var Gs=null;function e_(){if(Gs===null)throw Error(s(459));var t=Gs;return Gs=null,t}function t_(t){if(t===ja||t===fc)throw Error(s(483))}var qa=null,cl=0;function mc(t){var i=cl;return cl+=1,qa===null&&(qa=[]),Zg(qa,t,i)}function hl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function pc(t,i){throw i.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function n_(t){function i(x,O){if(t){var z=x.deletions;z===null?(x.deletions=[O],x.flags|=16):z.push(O)}}function a(x,O){if(!t)return null;for(;O!==null;)i(x,O),O=O.sibling;return null}function l(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function f(x,O){return x=Fi(x,O),x.index=0,x.sibling=null,x}function d(x,O,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<O?(x.flags|=67108866,O):z):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function T(x,O,z,$){return O===null||O.tag!==6?(O=Vf(z,x.mode,$),O.return=x,O):(O=f(O,z),O.return=x,O)}function I(x,O,z,$){var de=z.type;return de===Y?Q(x,O,z.props.children,$,z.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Fs(de)===O.type)?(O=f(O,z.props),hl(O,z),O.return=x,O):(O=oc(z.type,z.key,z.props,null,x.mode,$),hl(O,z),O.return=x,O)}function B(x,O,z,$){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=xf(z,x.mode,$),O.return=x,O):(O=f(O,z.children||[]),O.return=x,O)}function Q(x,O,z,$,de){return O===null||O.tag!==7?(O=zs(z,x.mode,$,de),O.return=x,O):(O=f(O,z),O.return=x,O)}function W(x,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Vf(""+O,x.mode,z),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return z=oc(O.type,O.key,O.props,null,x.mode,z),hl(z,O),z.return=x,z;case F:return O=xf(O,x.mode,z),O.return=x,O;case w:return O=Fs(O),W(x,O,z)}if(Mt(O)||U(O))return O=zs(O,x.mode,z,null),O.return=x,O;if(typeof O.then=="function")return W(x,mc(O),z);if(O.$$typeof===ie)return W(x,cc(x,O),z);pc(x,O)}return null}function j(x,O,z,$){var de=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:T(x,O,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===de?I(x,O,z,$):null;case F:return z.key===de?B(x,O,z,$):null;case w:return z=Fs(z),j(x,O,z,$)}if(Mt(z)||U(z))return de!==null?null:Q(x,O,z,$,null);if(typeof z.then=="function")return j(x,O,mc(z),$);if(z.$$typeof===ie)return j(x,O,cc(x,z),$);pc(x,z)}return null}function H(x,O,z,$,de){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return x=x.get(z)||null,T(O,x,""+$,de);if(typeof $=="object"&&$!==null){switch($.$$typeof){case P:return x=x.get($.key===null?z:$.key)||null,I(O,x,$,de);case F:return x=x.get($.key===null?z:$.key)||null,B(O,x,$,de);case w:return $=Fs($),H(x,O,z,$,de)}if(Mt($)||U($))return x=x.get(z)||null,Q(O,x,$,de,null);if(typeof $.then=="function")return H(x,O,z,mc($),de);if($.$$typeof===ie)return H(x,O,z,cc(O,$),de);pc(O,$)}return null}function ce(x,O,z,$){for(var de=null,Be=null,he=O,Ie=O=0,Me=null;he!==null&&Ie<z.length;Ie++){he.index>Ie?(Me=he,he=null):Me=he.sibling;var je=j(x,he,z[Ie],$);if(je===null){he===null&&(he=Me);break}t&&he&&je.alternate===null&&i(x,he),O=d(je,O,Ie),Be===null?de=je:Be.sibling=je,Be=je,he=Me}if(Ie===z.length)return a(x,he),Ue&&Gi(x,Ie),de;if(he===null){for(;Ie<z.length;Ie++)he=W(x,z[Ie],$),he!==null&&(O=d(he,O,Ie),Be===null?de=he:Be.sibling=he,Be=he);return Ue&&Gi(x,Ie),de}for(he=l(he);Ie<z.length;Ie++)Me=H(he,x,Ie,z[Ie],$),Me!==null&&(t&&Me.alternate!==null&&he.delete(Me.key===null?Ie:Me.key),O=d(Me,O,Ie),Be===null?de=Me:Be.sibling=Me,Be=Me);return t&&he.forEach(function(Wr){return i(x,Wr)}),Ue&&Gi(x,Ie),de}function ge(x,O,z,$){if(z==null)throw Error(s(151));for(var de=null,Be=null,he=O,Ie=O=0,Me=null,je=z.next();he!==null&&!je.done;Ie++,je=z.next()){he.index>Ie?(Me=he,he=null):Me=he.sibling;var Wr=j(x,he,je.value,$);if(Wr===null){he===null&&(he=Me);break}t&&he&&Wr.alternate===null&&i(x,he),O=d(Wr,O,Ie),Be===null?de=Wr:Be.sibling=Wr,Be=Wr,he=Me}if(je.done)return a(x,he),Ue&&Gi(x,Ie),de;if(he===null){for(;!je.done;Ie++,je=z.next())je=W(x,je.value,$),je!==null&&(O=d(je,O,Ie),Be===null?de=je:Be.sibling=je,Be=je);return Ue&&Gi(x,Ie),de}for(he=l(he);!je.done;Ie++,je=z.next())je=H(he,x,Ie,je.value,$),je!==null&&(t&&je.alternate!==null&&he.delete(je.key===null?Ie:je.key),O=d(je,O,Ie),Be===null?de=je:Be.sibling=je,Be=je);return t&&he.forEach(function(Nw){return i(x,Nw)}),Ue&&Gi(x,Ie),de}function Ze(x,O,z,$){if(typeof z=="object"&&z!==null&&z.type===Y&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:e:{for(var de=z.key;O!==null;){if(O.key===de){if(de=z.type,de===Y){if(O.tag===7){a(x,O.sibling),$=f(O,z.props.children),$.return=x,x=$;break e}}else if(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Fs(de)===O.type){a(x,O.sibling),$=f(O,z.props),hl($,z),$.return=x,x=$;break e}a(x,O);break}else i(x,O);O=O.sibling}z.type===Y?($=zs(z.props.children,x.mode,$,z.key),$.return=x,x=$):($=oc(z.type,z.key,z.props,null,x.mode,$),hl($,z),$.return=x,x=$)}return y(x);case F:e:{for(de=z.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(x,O.sibling),$=f(O,z.children||[]),$.return=x,x=$;break e}else{a(x,O);break}else i(x,O);O=O.sibling}$=xf(z,x.mode,$),$.return=x,x=$}return y(x);case w:return z=Fs(z),Ze(x,O,z,$)}if(Mt(z))return ce(x,O,z,$);if(U(z)){if(de=U(z),typeof de!="function")throw Error(s(150));return z=de.call(z),ge(x,O,z,$)}if(typeof z.then=="function")return Ze(x,O,mc(z),$);if(z.$$typeof===ie)return Ze(x,O,cc(x,z),$);pc(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(x,O.sibling),$=f(O,z),$.return=x,x=$):(a(x,O),$=Vf(z,x.mode,$),$.return=x,x=$),y(x)):a(x,O)}return function(x,O,z,$){try{cl=0;var de=Ze(x,O,z,$);return qa=null,de}catch(he){if(he===ja||he===fc)throw he;var Be=vn(29,he,null,x.mode);return Be.lanes=$,Be.return=x,Be}finally{}}}var Ks=n_(!0),i_=n_(!1),xr=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=ac(t),Bg(t,null,a),i}return sc(t,l,i,a),ac(t)}function fl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}function Yf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Xf=!1;function dl(){if(Xf){var t=Ba;if(t!==null)throw t}}function ml(t,i,a,l){Xf=!1;var f=t.updateQueue;xr=!1;var d=f.firstBaseUpdate,y=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,B=I.next;I.next=null,y===null?d=B:y.next=B,y=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==y&&(T===null?Q.firstBaseUpdate=B:T.next=B,Q.lastBaseUpdate=I))}if(d!==null){var W=f.baseState;y=0,Q=B=I=null,T=d;do{var j=T.lane&-536870913,H=j!==T.lane;if(H?(Oe&j)===j:(l&j)===j){j!==0&&j===za&&(Xf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,ge=T;j=i;var Ze=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){W=ce.call(Ze,W,j);break e}W=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,j=typeof ce=="function"?ce.call(Ze,W,j):ce,j==null)break e;W=S({},W,j);break e;case 2:xr=!0}}j=T.callback,j!==null&&(t.flags|=64,H&&(t.flags|=8192),H=f.callbacks,H===null?f.callbacks=[j]:H.push(j))}else H={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(B=Q=H,I=W):Q=Q.next=H,y|=j;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;H=T,T=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);Q===null&&(I=W),f.baseState=I,f.firstBaseUpdate=B,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),jr|=y,t.lanes=y,t.memoizedState=W}}function r_(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function s_(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)r_(a[t],i)}var Ha=M(null),gc=M(0);function a_(t,i){t=nr,ae(gc,t),ae(Ha,i),nr=t|i.baseLanes}function $f(){ae(gc,nr),ae(Ha,Ha.current)}function Wf(){nr=gc.current,J(Ha),J(gc)}var En=M(null),kn=null;function kr(t){var i=t.alternate;ae(gt,gt.current&1),ae(En,t),kn===null&&(i===null||Ha.current!==null||i.memoizedState!==null)&&(kn=t)}function Jf(t){ae(gt,gt.current),ae(En,t),kn===null&&(kn=t)}function o_(t){t.tag===22?(ae(gt,gt.current),ae(En,t),kn===null&&(kn=t)):Lr()}function Lr(){ae(gt,gt.current),ae(En,En.current)}function Tn(t){J(En),kn===t&&(kn=null),J(gt)}var gt=M(0);function _c(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rm(a)||sm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yi=0,Re=null,We=null,wt=null,yc=!1,Fa=!1,Qs=!1,vc=0,pl=0,Ga=null,Eb=0;function ft(){throw Error(s(321))}function Zf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function ed(t,i,a,l,f,d){return Yi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?F_:pd,Qs=!1,d=a(l,f),Qs=!1,Fa&&(d=u_(i,a,l,f)),l_(t),d}function l_(t){X.H=yl;var i=We!==null&&We.next!==null;if(Yi=0,wt=We=Re=null,yc=!1,pl=0,Ga=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&uc(t)&&(Rt=!0))}function u_(t,i,a,l){Re=t;var f=0;do{if(Fa&&(Ga=null),pl=0,Fa=!1,25<=f)throw Error(s(301));if(f+=1,wt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=G_,d=i(a,l)}while(Fa);return d}function Tb(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?gl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Re.flags|=1024),i}function td(){var t=vc!==0;return vc=0,t}function nd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function id(t){if(yc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}yc=!1}Yi=0,wt=We=Re=null,Fa=!1,pl=vc=0,Ga=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Re.memoizedState=wt=t:wt=wt.next=t,wt}function _t(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=wt===null?Re.memoizedState:wt.next;if(i!==null)wt=i,We=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?Re.memoizedState=wt=t:wt=wt.next=t}return wt}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var i=pl;return pl+=1,Ga===null&&(Ga=[]),t=Zg(Ga,t,i),i=Re,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?F_:pd),t}function Tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===ie)return Gt(t)}throw Error(s(438,String(t)))}function rd(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ec(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Xi(t,i){return typeof i=="function"?i(t):i}function Sc(t){var i=_t();return sd(i,We,t)}function sd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var y=f.next;f.next=d.next,d.next=y}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var T=y=null,I=null,B=i,Q=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Oe&W)===W:(Yi&W)===W){var j=B.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===za&&(Q=!0);else if((Yi&j)===j){B=B.next,j===za&&(Q=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=W,y=d):I=I.next=W,Re.lanes|=j,jr|=j;W=B.action,Qs&&a(d,W),d=B.hasEagerState?B.eagerState:a(d,W)}else j={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=j,y=d):I=I.next=j,Re.lanes|=W,jr|=W;B=B.next}while(B!==null&&B!==i);if(I===null?y=d:I.next=T,!yn(d,t.memoizedState)&&(Rt=!0,Q&&(a=Ba,a!==null)))throw a;t.memoizedState=d,t.baseState=y,t.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ad(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var y=f=f.next;do d=t(d,y.action),y=y.next;while(y!==f);yn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function c_(t,i,a){var l=Re,f=_t(),d=Ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var y=!yn((We||f).memoizedState,a);if(y&&(f.memoizedState=a,Rt=!0),f=f.queue,ud(d_.bind(null,l,f,t),[t]),f.getSnapshot!==i||y||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Ka(9,{destroy:void 0},f_.bind(null,l,f,a,i),null),et===null)throw Error(s(349));d||(Yi&127)!==0||h_(l,i,a)}return a}function h_(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=Ec(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function f_(t,i,a,l){i.value=a,i.getSnapshot=l,m_(i)&&p_(t)}function d_(t,i,a){return a(function(){m_(i)&&p_(t)})}function m_(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function p_(t){var i=Ls(t,2);i!==null&&dn(i,t,2)}function od(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Qs){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:t},i}function g_(t,i,a,l){return t.baseState=a,sd(t,We,typeof l=="function"?l:Xi)}function Sb(t,i,a,l,f){if(wc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,__(i,d)):(d.next=a.next,i.pending=a.next=d)}}function __(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=X.T,y={};X.T=y;try{var T=a(f,l),I=X.S;I!==null&&I(y,T),y_(t,i,T)}catch(B){ld(t,i,B)}finally{d!==null&&y.types!==null&&(d.types=y.types),X.T=d}}else try{d=a(f,l),y_(t,i,d)}catch(B){ld(t,i,B)}}function y_(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){v_(t,i,l)},function(l){return ld(t,i,l)}):v_(t,i,a)}function v_(t,i,a){i.status="fulfilled",i.value=a,E_(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,__(t,a)))}function ld(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,E_(i),i=i.next;while(i!==l)}t.action=null}function E_(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function T_(t,i){return i}function S_(t,i){if(Ue){var a=et.formState;if(a!==null){e:{var l=Re;if(Ue){if(nt){t:{for(var f=nt,d=Un;f.nodeType!==8;){if(!d){f=null;break t}if(f=Ln(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){nt=Ln(f.nextSibling),l=f.data==="F!";break e}}Mr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T_,lastRenderedState:i},a.queue=l,a=j_.bind(null,Re,l),l.dispatch=a,l=od(!1),d=md.bind(null,Re,!1,l.queue),l=sn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=Sb.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function A_(t){var i=_t();return b_(i,We,t)}function b_(t,i,a){if(i=sd(t,i,T_)[0],t=Sc(Xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=gl(i)}catch(y){throw y===ja?fc:y}else l=i;i=_t();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Ka(9,{destroy:void 0},Ab.bind(null,f,a),null)),[l,d,t]}function Ab(t,i){t.action=i}function w_(t){var i=_t(),a=We;if(a!==null)return b_(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ka(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=Ec(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function R_(){return _t().memoizedState}function Ac(t,i,a,l){var f=sn();Re.flags|=t,f.memoizedState=Ka(1|i,{destroy:void 0},a,l===void 0?null:l)}function bc(t,i,a,l){var f=_t();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&Zf(l,We.memoizedState.deps)?f.memoizedState=Ka(i,d,a,l):(Re.flags|=t,f.memoizedState=Ka(1|i,d,a,l))}function C_(t,i){Ac(8390656,8,t,i)}function ud(t,i){bc(2048,8,t,i)}function bb(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=Ec(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function I_(t){var i=_t().memoizedState;return bb({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function D_(t,i){return bc(4,2,t,i)}function N_(t,i){return bc(4,4,t,i)}function O_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function M_(t,i,a){a=a!=null?a.concat([t]):null,bc(4,4,O_.bind(null,i,t),a)}function cd(){}function V_(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Zf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function x_(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Zf(i,l[1]))return l[0];if(l=t(),Qs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function hd(t,i,a){return a===void 0||(Yi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Py(),Re.lanes|=t,jr|=t,a)}function P_(t,i,a,l){return yn(a,i)?a:Ha.current!==null?(t=hd(t,a,l),yn(t,i)||(Rt=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=a):(t=Py(),Re.lanes|=t,jr|=t,i)}function U_(t,i,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var y=X.T,T={};X.T=T,md(t,!1,i,a);try{var I=f(),B=X.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=vb(I,l);_l(t,i,Q,bn(t))}else _l(t,i,l,bn(t))}catch(W){_l(t,i,{then:function(){},status:"rejected",reason:W},bn())}finally{se.p=d,y!==null&&T.types!==null&&(y.types=T.types),X.T=y}}function wb(){}function fd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=k_(t).queue;U_(t,f,i,pe,a===null?wb:function(){return L_(t),a(l)})}function k_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function L_(t){var i=k_(t);i.next===null&&(i=t.alternate.memoizedState),_l(t,i.next.queue,{},bn())}function dd(){return Gt(xl)}function z_(){return _t().memoizedState}function B_(){return _t().memoizedState}function Rb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=Pr(a);var l=Ur(i,t,a);l!==null&&(dn(l,i,a),fl(l,i,a)),i={cache:qf()},t.payload=i;return}i=i.return}}function Cb(t,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wc(t)?q_(i,a):(a=Of(t,i,a,l),a!==null&&(dn(a,t,l),H_(a,i,l)))}function j_(t,i,a){var l=bn();_l(t,i,a,l)}function _l(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(t))q_(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,T=d(y,a);if(f.hasEagerState=!0,f.eagerState=T,yn(T,y))return sc(t,i,f,0),et===null&&rc(),!1}catch{}finally{}if(a=Of(t,i,f,l),a!==null)return dn(a,t,l),H_(a,i,l),!0}return!1}function md(t,i,a,l){if(l={lane:2,revertLane:Kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wc(t)){if(i)throw Error(s(479))}else i=Of(t,a,l,2),i!==null&&dn(i,t,2)}function wc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function q_(t,i){Fa=yc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function H_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}var yl={readContext:Gt,use:Tc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};yl.useEffectEvent=ft;var F_={readContext:Gt,use:Tc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:C_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ac(4194308,4,O_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ac(4194308,4,t,i)},useInsertionEffect:function(t,i){Ac(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Qs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var f=a(i);if(Qs){Cn(!0);try{a(i)}finally{Cn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Cb.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=od(t);var i=t.queue,a=j_.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(t,i){var a=sn();return hd(a,t,i)},useTransition:function(){var t=od(!1);return t=U_.bind(null,Re,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=sn();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Oe&127)!==0||h_(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,C_(d_.bind(null,l,d,t),[t]),l.flags|=2048,Ka(9,{destroy:void 0},f_.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=et.identifierPrefix;if(Ue){var a=Ai,l=Si;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=vc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Eb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:dd,useFormState:S_,useActionState:S_,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=md.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:rd,useCacheRefresh:function(){return sn().memoizedState=Rb.bind(null,Re)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},pd={readContext:Gt,use:Tc,useCallback:V_,useContext:Gt,useEffect:ud,useImperativeHandle:M_,useInsertionEffect:D_,useLayoutEffect:N_,useMemo:x_,useReducer:Sc,useRef:R_,useState:function(){return Sc(Xi)},useDebugValue:cd,useDeferredValue:function(t,i){var a=_t();return P_(a,We.memoizedState,t,i)},useTransition:function(){var t=Sc(Xi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:gl(t),i]},useSyncExternalStore:c_,useId:z_,useHostTransitionStatus:dd,useFormState:A_,useActionState:A_,useOptimistic:function(t,i){var a=_t();return g_(a,We,t,i)},useMemoCache:rd,useCacheRefresh:B_};pd.useEffectEvent=I_;var G_={readContext:Gt,use:Tc,useCallback:V_,useContext:Gt,useEffect:ud,useImperativeHandle:M_,useInsertionEffect:D_,useLayoutEffect:N_,useMemo:x_,useReducer:ad,useRef:R_,useState:function(){return ad(Xi)},useDebugValue:cd,useDeferredValue:function(t,i){var a=_t();return We===null?hd(a,t,i):P_(a,We.memoizedState,t,i)},useTransition:function(){var t=ad(Xi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:gl(t),i]},useSyncExternalStore:c_,useId:z_,useHostTransitionStatus:dd,useFormState:w_,useActionState:w_,useOptimistic:function(t,i){var a=_t();return We!==null?g_(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:B_};G_.useEffectEvent=I_;function gd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _d={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),f=Pr(l);f.payload=i,a!=null&&(f.callback=a),i=Ur(t,f,l),i!==null&&(dn(i,t,l),fl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),f=Pr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Ur(t,f,l),i!==null&&(dn(i,t,l),fl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=Pr(a);l.tag=2,i!=null&&(l.callback=i),i=Ur(t,l,a),i!==null&&(dn(i,t,a),fl(i,t,a))}};function K_(t,i,a,l,f,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,y):i.prototype&&i.prototype.isPureReactComponent?!rl(a,l)||!rl(f,d):!0}function Q_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&_d.enqueueReplaceState(i,i.state,null)}function Ys(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Y_(t){ic(t)}function X_(t){console.error(t)}function $_(t){ic(t)}function Rc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function W_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yd(t,i,a){return a=Pr(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(t,i)},a}function J_(t){return t=Pr(t),t.tag=3,t}function Z_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){W_(i,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){W_(i,a,l),typeof f!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Ib(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&La(i,a,f,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?Lc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===dc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Hd(t,l,f)),!1;case 22:return a.flags|=65536,l===dc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Hd(t,l,f)),!1}throw Error(s(435,a.tag))}return Hd(t,l,f),Lc(),!1}if(Ue)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==kf&&(t=Error(s(422),{cause:l}),ol(Vn(t,a)))):(l!==kf&&(i=Error(s(423),{cause:l}),ol(Vn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Vn(l,a),f=yd(t.stateNode,l,f),Yf(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Vn(d,a),Rl===null?Rl=[d]:Rl.push(d),dt!==4&&(dt=2),i===null)return!0;l=Vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=yd(a.stateNode,l,t),Yf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qr===null||!qr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=J_(f),Z_(f,t,a,l),Yf(a,f),!1}a=a.return}while(a!==null);return!1}var vd=Error(s(461)),Rt=!1;function Kt(t,i,a,l){i.child=t===null?i_(i,null,a,l):Ks(i,t.child,a,l)}function ey(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return qs(i),l=ed(t,i,a,y,d,f),T=td(),t!==null&&!Rt?(nd(t,i,f),$i(t,i,f)):(Ue&&T&&Pf(i),i.flags|=1,Kt(t,i,l,f),i.child)}function ty(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Mf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ny(t,i,d,l,f)):(t=oc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Cd(t,f)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(y,l)&&t.ref===i.ref)return $i(t,i,f)}return i.flags|=1,t=Fi(d,l),t.ref=i.ref,t.return=i,i.child=t}function ny(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(rl(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,Cd(t,f))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,$i(t,i,f)}return Ed(t,i,a,l,f)}function iy(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return ry(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&hc(i,d!==null?d.cachePool:null),d!==null?a_(i,d):$f(),o_(i);else return l=i.lanes=536870912,ry(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(hc(i,d.cachePool),a_(i,d),Lr(),i.memoizedState=null):(t!==null&&hc(i,null),$f(),Lr());return Kt(t,i,f,a),i.child}function vl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ry(t,i,a,l,f){var d=Ff();return d=d===null?null:{parent:bt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&hc(i,null),$f(),o_(i),t!==null&&La(t,i,l,!0),i.childLanes=f,null}function Cc(t,i){return i=Dc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function sy(t,i,a){return Ks(i,t.child,null,a),t=Cc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function Db(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=Cc(i,l),i.lanes=536870912,vl(null,t);if(Jf(i),(t=nt)?(t=_v(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=i,i.child=a,Ft=i,nt=null)):t=null,t===null)throw Mr(i);return i.lanes=536870912,null}return Cc(i,l)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if(Jf(i),f)if(i.flags&256)i.flags&=-257,i=sy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||La(t,i,a,!1),f=(a&t.childLanes)!==0,Rt||f){if(l=et,l!==null&&(y=Bo(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Ls(t,y),dn(l,t,y),vd;Lc(),i=sy(t,i,a)}else t=d.treeContext,nt=Ln(y.nextSibling),Ft=i,Ue=!0,Or=null,Un=!1,t!==null&&Gg(i,t),i=Cc(i,l),i.flags|=4096;return i}return t=Fi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ic(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Ed(t,i,a,l,f){return qs(i),a=ed(t,i,a,l,void 0,f),l=td(),t!==null&&!Rt?(nd(t,i,f),$i(t,i,f)):(Ue&&l&&Pf(i),i.flags|=1,Kt(t,i,a,f),i.child)}function ay(t,i,a,l,f,d){return qs(i),i.updateQueue=null,a=u_(i,l,a,f),l_(t),l=td(),t!==null&&!Rt?(nd(t,i,d),$i(t,i,d)):(Ue&&l&&Pf(i),i.flags|=1,Kt(t,i,a,d),i.child)}function oy(t,i,a,l,f){if(qs(i),i.stateNode===null){var d=xa,y=a.contextType;typeof y=="object"&&y!==null&&(d=Gt(y)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Kf(i),y=a.contextType,d.context=typeof y=="object"&&y!==null?Gt(y):xa,d.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(gd(i,a,y,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&_d.enqueueReplaceState(d,d.state,null),ml(i,l,d,f),dl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=Ys(a,T);d.props=I;var B=d.context,Q=a.contextType;y=xa,typeof Q=="object"&&Q!==null&&(y=Gt(Q));var W=a.getDerivedStateFromProps;Q=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==y)&&Q_(i,d,l,y),xr=!1;var j=i.memoizedState;d.state=j,ml(i,l,d,f),dl(),B=i.memoizedState,T||j!==B||xr?(typeof W=="function"&&(gd(i,a,W,l),B=i.memoizedState),(I=xr||K_(i,a,I,l,j,B,y))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=y,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Qf(t,i),y=i.memoizedProps,Q=Ys(a,y),d.props=Q,W=i.pendingProps,j=d.context,B=a.contextType,I=xa,typeof B=="object"&&B!==null&&(I=Gt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==W||j!==I)&&Q_(i,d,l,I),xr=!1,j=i.memoizedState,d.state=j,ml(i,l,d,f),dl();var H=i.memoizedState;y!==W||j!==H||xr||t!==null&&t.dependencies!==null&&uc(t.dependencies)?(typeof T=="function"&&(gd(i,a,T,l),H=i.memoizedState),(Q=xr||K_(i,a,Q,l,j,H,I)||t!==null&&t.dependencies!==null&&uc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=Q):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ic(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ks(i,t.child,null,f),i.child=Ks(i,null,a,f)):Kt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=$i(t,i,f),t}function ly(t,i,a,l){return Bs(),i.flags|=256,Kt(t,i,a,l),i.child}var Td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(t){return{baseLanes:t,cachePool:Wg()}}function Ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function uy(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),y&&(f=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(f?kr(i):Lr(),(t=nt)?(t=_v(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=i,i.child=a,Ft=i,nt=null)):t=null,t===null)throw Mr(i);return sm(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,f?(Lr(),f=i.mode,T=Dc({mode:"hidden",children:T},f),l=zs(l,f,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,y,a),i.memoizedState=Td,vl(null,l)):(kr(i),bd(i,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(kr(i),i.flags&=-257,i=wd(t,i,a)):i.memoizedState!==null?(Lr(),i.child=t.child,i.flags|=128,i=null):(Lr(),T=l.fallback,f=i.mode,l=Dc({mode:"visible",children:l.children},f),T=zs(T,f,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Ks(i,t.child,null,a),l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,y,a),i.memoizedState=Td,i=vl(null,l));else if(kr(i),sm(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(s(419)),l.stack="",l.digest=y,ol({value:l,source:null,stack:null}),i=wd(t,i,a)}else if(Rt||La(t,i,a,!1),y=(a&t.childLanes)!==0,Rt||y){if(y=et,y!==null&&(l=Bo(y,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Ls(t,l),dn(y,t,l),vd;rm(T)||Lc(),i=wd(t,i,a)}else rm(T)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,nt=Ln(T.nextSibling),Ft=i,Ue=!0,Or=null,Un=!1,t!==null&&Gg(i,t),i=bd(i,l.children),i.flags|=4096);return i}return f?(Lr(),T=l.fallback,f=i.mode,I=t.child,B=I.sibling,l=Fi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?T=Fi(B,T):(T=zs(T,f,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,vl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Sd(a):(f=T.cachePool,f!==null?(I=bt._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=Wg(),T={baseLanes:T.baseLanes|a,cachePool:f}),l.memoizedState=T,l.childLanes=Ad(t,y,a),i.memoizedState=Td,vl(t.child,l)):(kr(i),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(y=i.deletions,y===null?(i.deletions=[t],i.flags|=16):y.push(t)),i.child=a,i.memoizedState=null,a)}function bd(t,i){return i=Dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Dc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function wd(t,i,a){return Ks(i,t.child,null,a),t=bd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function cy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Bf(t.return,i,a)}function Rd(t,i,a,l,f,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=f,y.treeForkCount=d)}function hy(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var y=gt.current,T=(y&2)!==0;if(T?(y=y&1|2,i.flags|=128):y&=1,ae(gt,y),Kt(t,i,l,a),l=Ue?al:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,a,i);else if(t.tag===19)cy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&_c(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Rd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&_c(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Rd(i,!0,a,null,d,l);break;case"together":Rd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function $i(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(La(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Fi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Cd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&uc(t)))}function Nb(t,i,a){switch(i.tag){case 3:Vt(i,i.stateNode.containerInfo),Vr(i,bt,t.memoizedState.cache),Bs();break;case 27:case 5:Es(i);break;case 4:Vt(i,i.stateNode.containerInfo);break;case 10:Vr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Jf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?uy(t,i,a):(kr(i),t=$i(t,i,a),t!==null?t.sibling:null);kr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(La(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return hy(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(gt,gt.current),l)break;return null;case 22:return i.lanes=0,iy(t,i,a,i.pendingProps);case 24:Vr(i,bt,t.memoizedState.cache)}return $i(t,i,a)}function fy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!Cd(t,a)&&(i.flags&128)===0)return Rt=!1,Nb(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Ue&&(i.flags&1048576)!==0&&Fg(i,al,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Fs(i.elementType),i.type=t,typeof t=="function")Mf(t)?(l=Ys(t,l),i.tag=1,i=oy(null,i,t,l,a)):(i.tag=0,i=Ed(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===fe){i.tag=11,i=ey(null,i,t,l,a);break e}else if(f===D){i.tag=14,i=ty(null,i,t,l,a);break e}}throw i=st(t)||t,Error(s(306,i,""))}}return i;case 0:return Ed(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Ys(l,i.pendingProps),oy(t,i,l,f,a);case 3:e:{if(Vt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Qf(t,i),ml(i,l,null,a);var y=i.memoizedState;if(l=y.cache,Vr(i,bt,l),l!==d.cache&&jf(i,[bt],a,!0),dl(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ly(t,i,l,a);break e}else if(l!==f){f=Vn(Error(s(424)),i),ol(f),i=ly(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Ln(t.firstChild),Ft=i,Ue=!0,Or=null,Un=!0,a=i_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bs(),l===f){i=$i(t,i,a);break e}Kt(t,i,l,a)}i=i.child}return i;case 26:return Ic(t,i),t===null?(a=Av(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,l=Gc(Ce.current).createElement(a),l[Tt]=i,l[kt]=t,Qt(l,a,t),St(l),i.stateNode=l):i.memoizedState=Av(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Es(i),t===null&&Ue&&(l=i.stateNode=Ev(i.type,i.pendingProps,Ce.current),Ft=i,Un=!0,f=nt,Kr(i.type)?(am=f,nt=Ln(l.firstChild)):nt=f),Kt(t,i,i.pendingProps.children,a),Ic(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((f=l=nt)&&(l=aw(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,Ft=i,nt=Ln(l.firstChild),Un=!1,f=!0):f=!1),f||Mr(i)),Es(i),f=i.type,d=i.pendingProps,y=t!==null?t.memoizedProps:null,l=d.children,tm(f,d)?l=null:y!==null&&tm(f,y)&&(i.flags|=32),i.memoizedState!==null&&(f=ed(t,i,Tb,null,null,a),xl._currentValue=f),Ic(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&Ue&&((t=a=nt)&&(a=ow(a,i.pendingProps,Un),a!==null?(i.stateNode=a,Ft=i,nt=null,t=!0):t=!1),t||Mr(i)),null;case 13:return uy(t,i,a);case 4:return Vt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ks(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return ey(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Vr(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,qs(i),f=Gt(f),l=l(f),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return ty(t,i,i.type,i.pendingProps,a);case 15:return ny(t,i,i.type,i.pendingProps,a);case 19:return hy(t,i,a);case 31:return Db(t,i,a);case 22:return iy(t,i,a,i.pendingProps);case 24:return qs(i),l=Gt(bt),t===null?(f=Ff(),f===null&&(f=et,d=qf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Kf(i),Vr(i,bt,f)):((t.lanes&a)!==0&&(Qf(t,i),ml(i,null,null,a),dl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Vr(i,bt,l)):(l=d.cache,Vr(i,bt,l),l!==f.cache&&jf(i,[bt],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Wi(t){t.flags|=4}function Id(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(zy())t.flags|=8192;else throw Gs=dc,Gf}else t.flags&=-16777217}function dy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Iv(i))if(zy())t.flags|=8192;else throw Gs=dc,Gf}function Nc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Uu():536870912,t.lanes|=i,$a|=i)}function El(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Ob(t,i,a){var l=i.pendingProps;switch(Uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Qi(bt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ka(i)?Wi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Lf())),it(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Wi(i),d!==null?(it(i),dy(i,d)):(it(i),Id(i,f,null,l,a))):d?d!==t.memoizedState?(Wi(i),it(i),dy(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Wi(i),it(i),Id(i,f,t,l,a)),null;case 27:if(pa(i),a=Ce.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=ue.current,ka(i)?Kg(i):(t=Ev(f,l,a),i.stateNode=t,Wi(i))}return it(i),null;case 5:if(pa(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(d=ue.current,ka(i))Kg(i);else{var y=Gc(Ce.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(f,{is:l.is}):y.createElement(f)}}d[Tt]=i,d[kt]=l;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;e:switch(Qt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Wi(i)}}return it(i),Id(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,ka(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Ft,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||uv(t.nodeValue,a)),t||Mr(i,!0)}else t=Gc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ka(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Bs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ka(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Tt]=i}else Bs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),f=!1}else f=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Nc(i,i.updateQueue),it(i),null);case 4:return at(),t===null&&$d(i.stateNode.containerInfo),it(i),null;case 10:return Qi(i.type),it(i),null;case 19:if(J(gt),l=i.memoizedState,l===null)return it(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)El(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=_c(t),d!==null){for(i.flags|=128,El(l,!1),t=d.updateQueue,i.updateQueue=t,Nc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)jg(a,t),a=a.sibling;return ae(gt,gt.current&1|2),Ue&&Gi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>Pc&&(i.flags|=128,f=!0,El(l,!1),i.lanes=4194304)}else{if(!f)if(t=_c(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Nc(i,t),El(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return it(i),null}else 2*nn()-l.renderingStartTime>Pc&&a!==536870912&&(i.flags|=128,f=!0,El(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=gt.current,ae(gt,f?a&1|2:a&1),Ue&&Gi(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return Tn(i),Wf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&Nc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&J(Hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qi(bt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Mb(t,i){switch(Uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qi(bt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return pa(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Bs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Bs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(gt),null;case 4:return at(),null;case 10:return Qi(i.type),null;case 22:case 23:return Tn(i),Wf(),t!==null&&J(Hs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Qi(bt),null;case 25:return null;default:return null}}function my(t,i){switch(Uf(i),i.tag){case 3:Qi(bt),at();break;case 26:case 27:case 5:pa(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:J(gt);break;case 10:Qi(i.type);break;case 22:case 23:Tn(i),Wf(),t!==null&&J(Hs);break;case 24:Qi(bt)}}function Tl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==f)}}catch(T){Xe(i,i.return,T)}}function zr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,f=i;var I=a,B=T;try{B()}catch(Q){Xe(f,I,Q)}}}l=l.next}while(l!==d)}}catch(Q){Xe(i,i.return,Q)}}function py(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{s_(i,a)}catch(l){Xe(t,t.return,l)}}}function gy(t,i,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function Sl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Xe(t,i,f)}}function bi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,i,f)}else a.current=null}function _y(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function Dd(t,i,a){try{var l=t.stateNode;ew(l,t.type,a,i),l[kt]=i}catch(f){Xe(t,t.return,f)}}function yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Kr(t.type)||t.tag===4}function Nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Kr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Od(t,i,a),t=t.sibling;t!==null;)Od(t,i,a),t=t.sibling}function Oc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Oc(t,i,a),t=t.sibling;t!==null;)Oc(t,i,a),t=t.sibling}function vy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Qt(i,l,a),i[Tt]=t,i[kt]=a}catch(d){Xe(t,t.return,d)}}var Ji=!1,Ct=!1,Md=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,zt=null;function Vb(t,i){if(t=t.containerInfo,Zd=Jc,t=Mg(t),wf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,T=-1,I=-1,B=0,Q=0,W=t,j=null;t:for(;;){for(var H;W!==a||f!==0&&W.nodeType!==3||(T=y+f),W!==d||l!==0&&W.nodeType!==3||(I=y+l),W.nodeType===3&&(y+=W.nodeValue.length),(H=W.firstChild)!==null;)j=W,W=H;for(;;){if(W===t)break t;if(j===a&&++B===f&&(T=y),j===d&&++Q===l&&(I=y),(H=W.nextSibling)!==null)break;W=j,j=W.parentNode}W=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:t,selectionRange:a},Jc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Ys(a.type,f);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Xe(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)im(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function Ty(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:er(t,a),l&4&&Tl(5,a);break;case 1:if(er(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(y){Xe(a,a.return,y)}else{var f=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xe(a,a.return,y)}}l&64&&py(a),l&512&&Sl(a,a.return);break;case 3:if(er(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{s_(t,i)}catch(y){Xe(a,a.return,y)}}break;case 27:i===null&&l&4&&vy(a);case 26:case 5:er(t,a),i===null&&l&4&&_y(a),l&512&&Sl(a,a.return);break;case 12:er(t,a);break;case 31:er(t,a),l&4&&by(t,a);break;case 13:er(t,a),l&4&&wy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=qb.bind(null,a),lw(t,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){i=i!==null&&i.memoizedState!==null||Ct,f=Ji;var d=Ct;Ji=l,(Ct=i)&&!d?tr(t,a,(a.subtreeFlags&8772)!==0):er(t,a),Ji=f,Ct=d}break;case 30:break;default:er(t,a)}}function Sy(t){var i=t.alternate;i!==null&&(t.alternate=null,Sy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ea(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,un=!1;function Zi(t,i,a){for(a=a.child;a!==null;)Ay(t,i,a),a=a.sibling}function Ay(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ct||bi(a,i),Zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||bi(a,i);var l=lt,f=un;Kr(a.type)&&(lt=a.stateNode,un=!1),Zi(t,i,a),Ol(a.stateNode),lt=l,un=f;break;case 5:Ct||bi(a,i);case 6:if(l=lt,f=un,lt=null,Zi(t,i,a),lt=l,un=f,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:lt!==null&&(un?(t=lt,pv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ro(t)):pv(lt,a.stateNode));break;case 4:l=lt,f=un,lt=a.stateNode.containerInfo,un=!0,Zi(t,i,a),lt=l,un=f;break;case 0:case 11:case 14:case 15:zr(2,a,i),Ct||zr(4,a,i),Zi(t,i,a);break;case 1:Ct||(bi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&gy(a,i,l)),Zi(t,i,a);break;case 21:Zi(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,Zi(t,i,a),Ct=l;break;default:Zi(t,i,a)}}function by(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ro(t)}catch(a){Xe(i,i.return,a)}}}function wy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ro(t)}catch(a){Xe(i,i.return,a)}}function xb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ey),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ey),i;default:throw Error(s(435,t.tag))}}function Mc(t,i){var a=xb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=Hb.bind(null,t,l);l.then(f,f)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,y=i,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(Kr(T.type)){lt=T.stateNode,un=!1;break e}break;case 5:lt=T.stateNode,un=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(lt===null)throw Error(s(160));Ay(d,y,f),lt=null,un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ry(i,t),i=i.sibling}var Jn=null;function Ry(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),l&4&&(zr(3,t,t.return),Tl(3,t),zr(5,t,t.return));break;case 1:cn(i,t),hn(t),l&512&&(Ct||a===null||bi(a,a.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Jn;if(cn(i,t),hn(t),l&512&&(Ct||a===null||bi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ci]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Qt(d,l,a),d[Tt]=t,St(d),l=d;break e;case"link":var y=Rv("link","href",f).get(l+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(d=y[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;case"meta":if(y=Rv("meta","content",f).get(l+(a.content||""))){for(T=0;T<y.length;T++)if(d=y[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,St(d),l=d}t.stateNode=l}else Cv(f,t.type,t.stateNode);else t.stateNode=wv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Cv(f,t.type,t.stateNode):wv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dd(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),l&512&&(Ct||a===null||bi(a,a.return)),a!==null&&l&4&&Dd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),l&512&&(Ct||a===null||bi(a,a.return)),t.flags&32){f=t.stateNode;try{ln(f,"")}catch(ce){Xe(t,t.return,ce)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Dd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Md=!0);break;case 6:if(cn(i,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Xe(t,t.return,ce)}}break;case 3:if(Yc=null,f=Jn,Jn=Kc(i.containerInfo),cn(i,t),Jn=f,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(i.containerInfo)}catch(ce){Xe(t,t.return,ce)}Md&&(Md=!1,Cy(t));break;case 4:l=Jn,Jn=Kc(t.stateNode.containerInfo),cn(i,t),hn(t),Jn=l;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mc(t,l)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mc(t,l)));break;case 22:f=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=Ji,Q=Ct;if(Ji=B||f,Ct=Q||I,cn(i,t),Ct=Q,Ji=B,hn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||I||Ji||Ct||Xs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,f)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=I.stateNode;var W=I.memoizedProps.style,j=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ce){Xe(I,I.return,ce)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(ce){Xe(I,I.return,ce)}}}else if(i.tag===18){if(a===null){I=i;try{var H=I.stateNode;f?gv(H,!0):gv(I.stateNode,!1)}catch(ce){Xe(I,I.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Mc(t,a))));break;case 19:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mc(t,l)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(yy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Nd(t);Oc(t,d,f);break;case 5:var y=a.stateNode;a.flags&32&&(ln(y,""),a.flags&=-33);var T=Nd(t);Oc(t,T,y);break;case 3:case 4:var I=a.stateNode.containerInfo,B=Nd(t);Od(t,B,I);break;default:throw Error(s(161))}}catch(Q){Xe(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Cy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Cy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function er(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ty(t,i.alternate,i),i=i.sibling}function Xs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:zr(4,i,i.return),Xs(i);break;case 1:bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&gy(i,i.return,a),Xs(i);break;case 27:Ol(i.stateNode);case 26:case 5:bi(i,i.return),Xs(i);break;case 22:i.memoizedState===null&&Xs(i);break;case 30:Xs(i);break;default:Xs(i)}t=t.sibling}}function tr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:tr(f,d,a),Tl(4,d);break;case 1:if(tr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Xe(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)r_(I[f],T)}catch(B){Xe(l,l.return,B)}}a&&y&64&&py(d),Sl(d,d.return);break;case 27:vy(d);case 26:case 5:tr(f,d,a),a&&l===null&&y&4&&_y(d),Sl(d,d.return);break;case 12:tr(f,d,a);break;case 31:tr(f,d,a),a&&y&4&&by(f,d);break;case 13:tr(f,d,a),a&&y&4&&wy(f,d);break;case 22:d.memoizedState===null&&tr(f,d,a),Sl(d,d.return);break;case 30:break;default:tr(f,d,a)}i=i.sibling}}function Vd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function xd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ll(t))}function Zn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Iy(t,i,a,l),i=i.sibling}function Iy(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(t,i,a,l),f&2048&&Tl(9,i);break;case 1:Zn(t,i,a,l);break;case 3:Zn(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ll(t)));break;case 12:if(f&2048){Zn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,y=d.id,T=d.onPostCommit;typeof T=="function"&&T(y,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Xe(i,i.return,I)}}else Zn(t,i,a,l);break;case 31:Zn(t,i,a,l);break;case 13:Zn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(t,i,a,l):Al(t,i):d._visibility&2?Zn(t,i,a,l):(d._visibility|=2,Qa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Vd(y,i);break;case 24:Zn(t,i,a,l),f&2048&&xd(i.alternate,i);break;default:Zn(t,i,a,l)}}function Qa(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,y=i,T=a,I=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:Qa(d,y,T,I,f),Tl(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Qa(d,y,T,I,f):Al(d,y):(Q._visibility|=2,Qa(d,y,T,I,f)),f&&B&2048&&Vd(y.alternate,y);break;case 24:Qa(d,y,T,I,f),f&&B&2048&&xd(y.alternate,y);break;default:Qa(d,y,T,I,f)}i=i.sibling}}function Al(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Al(a,l),f&2048&&Vd(l.alternate,l);break;case 24:Al(a,l),f&2048&&xd(l.alternate,l);break;default:Al(a,l)}i=i.sibling}}var bl=8192;function Ya(t,i,a){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)Dy(t,i,a),t=t.sibling}function Dy(t,i,a){switch(t.tag){case 26:Ya(t,i,a),t.flags&bl&&t.memoizedState!==null&&Ew(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,i,a);break;case 3:case 4:var l=Jn;Jn=Kc(t.stateNode.containerInfo),Ya(t,i,a),Jn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=bl,bl=16777216,Ya(t,i,a),bl=l):Ya(t,i,a));break;default:Ya(t,i,a)}}function Ny(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function wl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,My(l,t)}Ny(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Oy(t),t=t.sibling}function Oy(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&zr(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Vc(t)):wl(t);break;default:wl(t)}}function Vc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,My(l,t)}Ny(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:zr(8,i,i.return),Vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Vc(i));break;default:Vc(i)}t=t.sibling}}function My(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:zr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,d=l.return;if(Sy(l),l===a){zt=null;break e}if(f!==null){f.return=d,zt=f;break e}zt=d}}}var Pb={getCacheForType:function(t){var i=Gt(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(bt).controller.signal}},Ub=typeof WeakMap=="function"?WeakMap:Map,He=0,et=null,De=null,Oe=0,Ye=0,Sn=null,Br=!1,Xa=!1,Pd=!1,nr=0,dt=0,jr=0,$s=0,Ud=0,An=0,$a=0,Rl=null,fn=null,kd=!1,xc=0,Vy=0,Pc=1/0,Uc=null,qr=null,Pt=0,Hr=null,Wa=null,ir=0,Ld=0,zd=null,xy=null,Cl=0,Bd=null;function bn(){return(He&2)!==0&&Oe!==0?Oe&-Oe:X.T!==null?Kd():ku()}function Py(){if(An===0)if((Oe&536870912)===0||Ue){var t=As;As<<=1,(As&3932160)===0&&(As=262144),An=t}else An=536870912;return t=En.current,t!==null&&(t.flags|=32),An}function dn(t,i,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),Fr(t,Oe,An,!1)),bs(t,a),((He&2)===0||t!==et)&&(t===et&&((He&2)===0&&($s|=a),dt===4&&Fr(t,Oe,An,!1)),wi(t))}function Uy(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Hn(t,i),f=l?zb(t,i):qd(t,i,!0),d=l;do{if(f===0){Xa&&!l&&Fr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!kb(a)){f=qd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var T=t;f=Rl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ja(T,y).flags|=256),y=qd(T,y,!1),y!==2){if(Pd&&!I){T.errorRecoveryDisabledLanes|=d,$s|=d,f=4;break e}d=fn,fn=f,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}f=y}if(d=!1,f!==2)continue}}if(f===1){Ja(t,0),Fr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Fr(l,i,An,!Br);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=xc+300-nn(),10<f)){if(Fr(l,i,An,!Br),oi(l,0,!0)!==0)break e;ir=i,l.timeoutHandle=dv(ky.bind(null,l,a,fn,Uc,kd,i,An,$s,$a,Br,d,"Throttled",-0,0),f);break e}ky(l,a,fn,Uc,kd,i,An,$s,$a,Br,d,null,-0,0)}}break}while(!0);wi(t)}function ky(t,i,a,l,f,d,y,T,I,B,Q,W,j,H){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Dy(i,d,W);var ce=(d&62914560)===d?xc-nn():(d&4194048)===d?Vy-nn():0;if(ce=Tw(W,ce),ce!==null){ir=d,t.cancelPendingCommit=ce(Gy.bind(null,t,i,d,a,l,f,y,T,I,Q,W,null,j,H)),Fr(t,d,y,!B);return}}Gy(t,i,d,a,l,f,y,T,I)}function kb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!yn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fr(t,i,a,l){i&=~Ud,i&=~$s,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-mt(f),y=1<<d;l[d]=-1,f&=~y}a!==0&&ws(t,a,i)}function kc(){return(He&6)===0?(Il(0),!1):!0}function jd(){if(De!==null){if(Ye===0)var t=De.return;else t=De,Ki=js=null,id(t),qa=null,cl=0,t=De;for(;t!==null;)my(t.alternate,t),t=t.return;De=null}}function Ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ir=0,jd(),et=t,De=a=Fi(t.current,null),Oe=i,Ye=0,Sn=null,Br=!1,Xa=Hn(t,i),Pd=!1,$a=An=Ud=$s=jr=dt=0,fn=Rl=null,kd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-mt(l),d=1<<f;i|=t[f],l&=~d}return nr=i,rc(),a}function Ly(t,i){Re=null,X.H=yl,i===ja||i===fc?(i=e_(),Ye=3):i===Gf?(i=e_(),Ye=4):Ye=i===vd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,De===null&&(dt=1,Rc(t,Vn(i,t.current)))}function zy(){var t=En.current;return t===null?!0:(Oe&4194048)===Oe?kn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===kn:!1}function By(){var t=X.H;return X.H=yl,t===null?yl:t}function jy(){var t=X.A;return X.A=Pb,t}function Lc(){dt=4,Br||(Oe&4194048)!==Oe&&En.current!==null||(Xa=!0),(jr&134217727)===0&&($s&134217727)===0||et===null||Fr(et,Oe,An,!1)}function qd(t,i,a){var l=He;He|=2;var f=By(),d=jy();(et!==t||Oe!==i)&&(Uc=null,Ja(t,i)),i=!1;var y=dt;e:do try{if(Ye!==0&&De!==null){var T=De,I=Sn;switch(Ye){case 8:jd(),y=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var B=Ye;if(Ye=0,Sn=null,Za(t,T,I,B),a&&Xa){y=0;break e}break;default:B=Ye,Ye=0,Sn=null,Za(t,T,I,B)}}Lb(),y=dt;break}catch(Q){Ly(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Ki=js=null,He=l,X.H=f,X.A=d,De===null&&(et=null,Oe=0,rc()),y}function Lb(){for(;De!==null;)qy(De)}function zb(t,i){var a=He;He|=2;var l=By(),f=jy();et!==t||Oe!==i?(Uc=null,Pc=nn()+500,Ja(t,i)):Xa=Hn(t,i);e:do try{if(Ye!==0&&De!==null){i=De;var d=Sn;t:switch(Ye){case 1:Ye=0,Sn=null,Za(t,i,d,1);break;case 2:case 9:if(Jg(d)){Ye=0,Sn=null,Hy(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),wi(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Jg(d)?(Ye=0,Sn=null,Hy(i)):(Ye=0,Sn=null,Za(t,i,d,7));break;case 5:var y=null;switch(De.tag){case 26:y=De.memoizedState;case 5:case 27:var T=De;if(y?Iv(y):T.stateNode.complete){Ye=0,Sn=null;var I=T.sibling;if(I!==null)De=I;else{var B=T.return;B!==null?(De=B,zc(B)):De=null}break t}}Ye=0,Sn=null,Za(t,i,d,5);break;case 6:Ye=0,Sn=null,Za(t,i,d,6);break;case 8:jd(),dt=6;break e;default:throw Error(s(462))}}Bb();break}catch(Q){Ly(t,Q)}while(!0);return Ki=js=null,X.H=l,X.A=f,He=a,De!==null?0:(et=null,Oe=0,rc(),dt)}function Bb(){for(;De!==null&&!yf();)qy(De)}function qy(t){var i=fy(t.alternate,t,nr);t.memoizedProps=t.pendingProps,i===null?zc(t):De=i}function Hy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ay(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=ay(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:id(i);default:my(a,i),i=De=jg(i,nr),i=fy(a,i,nr)}t.memoizedProps=t.pendingProps,i===null?zc(t):De=i}function Za(t,i,a,l){Ki=js=null,id(i),qa=null,cl=0;var f=i.return;try{if(Ib(t,f,i,a,Oe)){dt=1,Rc(t,Vn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;dt=1,Rc(t,Vn(a,t.current)),De=null;return}i.flags&32768?(Ue||l===1?t=!0:Xa||(Oe&536870912)!==0?t=!1:(Br=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fy(i,t)):zc(i)}function zc(t){var i=t;do{if((i.flags&32768)!==0){Fy(i,Br);return}t=i.return;var a=Ob(i.alternate,i,nr);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);dt===0&&(dt=5)}function Fy(t,i){do{var a=Mb(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);dt=6,De=null}function Gy(t,i,a,l,f,d,y,T,I){t.cancelPendingCommit=null;do Bc();while(Pt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Nf,Tf(t,a,d,y,T,I),t===et&&(De=et=null,Oe=0),Wa=i,Hr=t,ir=a,Ld=d,zd=f,xy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Fb(Er,function(){return $y(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=se.p,se.p=2,y=He,He|=4;try{Vb(t,i,a)}finally{He=y,se.p=f,X.T=l}}Pt=1,Ky(),Qy(),Yy()}}function Ky(){if(Pt===1){Pt=0;var t=Hr,i=Wa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{Ry(i,t);var d=em,y=Mg(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(y!==T&&T&&T.ownerDocument&&Og(T.ownerDocument.documentElement,T)){if(I!==null&&wf(T)){var B=I.start,Q=I.end;if(Q===void 0&&(Q=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Q,T.value.length);else{var W=T.ownerDocument||document,j=W&&W.defaultView||window;if(j.getSelection){var H=j.getSelection(),ce=T.textContent.length,ge=Math.min(I.start,ce),Ze=I.end===void 0?ge:Math.min(I.end,ce);!H.extend&&ge>Ze&&(y=Ze,Ze=ge,ge=y);var x=Ng(T,ge),O=Ng(T,Ze);if(x&&O&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var z=W.createRange();z.setStart(x.node,x.offset),H.removeAllRanges(),ge>Ze?(H.addRange(z),H.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),H.addRange(z))}}}}for(W=[],H=T;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var $=W[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Jc=!!Zd,em=Zd=null}finally{He=f,se.p=l,X.T=a}}t.current=i,Pt=2}}function Qy(){if(Pt===2){Pt=0;var t=Hr,i=Wa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{Ty(t,i.alternate,i)}finally{He=f,se.p=l,X.T=a}}Pt=3}}function Yy(){if(Pt===4||Pt===3){Pt=0,Nu();var t=Hr,i=Wa,a=ir,l=xy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,Wa=Hr=null,Xy(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(qr=null),Bi(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=se.p,se.p=2,X.T=null;try{for(var d=t.onRecoverableError,y=0;y<l.length;y++){var T=l[y];d(T.value,{componentStack:T.stack})}}finally{X.T=i,se.p=f}}(ir&3)!==0&&Bc(),wi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Bd?Cl++:(Cl=0,Bd=t):Cl=0,Il(0)}}function Xy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ll(i)))}function Bc(){return Ky(),Qy(),Yy(),$y()}function $y(){if(Pt!==5)return!1;var t=Hr,i=Ld;Ld=0;var a=Bi(ir),l=X.T,f=se.p;try{se.p=32>a?32:a,X.T=null,a=zd,zd=null;var d=Hr,y=ir;if(Pt=0,Wa=Hr=null,ir=0,(He&6)!==0)throw Error(s(331));var T=He;if(He|=4,Oy(d.current),Iy(d,d.current,y,a),He=T,Il(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{se.p=f,X.T=l,Xy(t,i)}}function Wy(t,i,a){i=Vn(a,i),i=yd(t.stateNode,i,2),t=Ur(t,i,2),t!==null&&(bs(t,2),wi(t))}function Xe(t,i,a){if(t.tag===3)Wy(t,t,a);else for(;i!==null;){if(i.tag===3){Wy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){t=Vn(a,t),a=J_(2),l=Ur(i,a,2),l!==null&&(Z_(a,l,i,t),bs(l,2),wi(l));break}}i=i.return}}function Hd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Ub;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Pd=!0,f.add(a),t=jb.bind(null,t,i,a),i.then(t,t))}function jb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Oe&a)===a&&(dt===4||dt===3&&(Oe&62914560)===Oe&&300>nn()-xc?(He&2)===0&&Ja(t,0):Ud|=a,$a===Oe&&($a=0)),wi(t)}function Jy(t,i){i===0&&(i=Uu()),t=Ls(t,i),t!==null&&(bs(t,i),wi(t))}function qb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Jy(t,a)}function Hb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Jy(t,a)}function Fb(t,i){return xt(t,i)}var jc=null,eo=null,Fd=!1,qc=!1,Gd=!1,Gr=0;function wi(t){t!==eo&&t.next===null&&(eo===null?jc=eo=t:eo=eo.next=t),qc=!0,Fd||(Fd=!0,Kb())}function Il(t,i){if(!Gd&&qc){Gd=!0;do for(var a=!1,l=jc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var y=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=f&~(y&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,nv(l,d))}else d=Oe,d=oi(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,nv(l,d));l=l.next}while(a);Gd=!1}}function Gb(){Zy()}function Zy(){qc=Fd=!1;var t=0;Gr!==0&&nw()&&(t=Gr);for(var i=nn(),a=null,l=jc;l!==null;){var f=l.next,d=ev(l,i);d===0?(l.next=null,a===null?jc=f:a.next=f,f===null&&(eo=a)):(a=l,(t!==0||(d&3)!==0)&&(qc=!0)),l=f}Pt!==0&&Pt!==5||Il(t),Gr!==0&&(Gr=0)}function ev(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-mt(d),T=1<<y,I=f[y];I===-1?((T&a)===0||(T&l)!==0)&&(f[y]=Ef(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,a=Oe,a=oi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&vr(l),Bi(a)){case 2:case 8:a=Lo;break;case 32:a=Er;break;case 268435456:a=Ou;break;default:a=Er}return l=tv.bind(null,t),a=xt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&vr(l),t.callbackPriority=2,t.callbackNode=null,2}function tv(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Bc()&&t.callbackNode!==a)return null;var l=Oe;return l=oi(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Uy(t,l,i),ev(t,nn()),t.callbackNode!=null&&t.callbackNode===a?tv.bind(null,t):null)}function nv(t,i){if(Bc())return null;Uy(t,i,!0)}function Kb(){rw(function(){(He&6)!==0?xt(ko,Gb):Zy()})}function Kd(){if(Gr===0){var t=za;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),Gr=t}return Gr}function iv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function rv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Qb(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=iv((f[kt]||null).action),y=l.submitter;y&&(i=(i=y[kt]||null)?iv(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var T=new yi("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gr!==0){var I=y?rv(f,y):new FormData(f);fd(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=y?rv(f,y):new FormData(f),fd(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Qd=0;Qd<Df.length;Qd++){var Yd=Df[Qd],Yb=Yd.toLowerCase(),Xb=Yd[0].toUpperCase()+Yd.slice(1);Wn(Yb,"on"+Xb)}Wn(Pg,"onAnimationEnd"),Wn(Ug,"onAnimationIteration"),Wn(kg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(hb,"onTransitionRun"),Wn(fb,"onTransitionStart"),Wn(db,"onTransitionCancel"),Wn(Lg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$b=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function sv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var y=l.length-1;0<=y;y--){var T=l[y],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=B;try{d(f)}catch(Q){ic(Q)}f.currentTarget=null,d=I}else for(y=0;y<l.length;y++){if(T=l[y],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=B;try{d(f)}catch(Q){ic(Q)}f.currentTarget=null,d=I}}}}function Ne(t,i){var a=i[va];a===void 0&&(a=i[va]=new Set);var l=t+"__bubble";a.has(l)||(av(i,t,2,!1),a.add(l))}function Xd(t,i,a){var l=0;i&&(l|=4),av(a,t,l,i)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[Hc]){t[Hc]=!0,jo.forEach(function(a){a!=="selectionchange"&&($b.has(a)||Xd(a,!1,t),Xd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Hc]||(i[Hc]=!0,Xd("selectionchange",!1,i))}}function av(t,i,a,l){switch(Pv(i)){case 2:var f=bw;break;case 8:f=ww;break;default:f=hm}a=f.bind(null,i,a,t),f=void 0,!Ns||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Wd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===f)break;if(y===4)for(y=l.return;y!==null;){var I=y.tag;if((I===3||I===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;T!==null;){if(y=hi(T),y===null)return;if(I=y.tag,I===5||I===6||I===26||I===27){l=d=y;continue e}T=T.parentNode}}l=l.return}Rr(function(){var B=d,Q=Dn(a),W=[];e:{var j=zg.get(t);if(j!==void 0){var H=yi,ce=t;switch(t){case"keypress":if(Ms(a)===0)break e;case"keydown":case"keyup":H=ec;break;case"focusin":ce="focus",H=xs;break;case"focusout":ce="blur",H=xs;break;case"beforeblur":case"afterblur":H=xs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=_;break;case Pg:case Ug:case kg:H=Qu;break;case Lg:H=A;break;case"scroll":case"scrollend":H=Zo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Hi;break;case"toggle":case"beforetoggle":H=we}var ge=(i&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),x=ge?j!==null?j+"Capture":null:j;ge=[];for(var O=B,z;O!==null;){var $=O;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||x===null||($=Qn(O,x),$!=null&&ge.push(Nl(O,$,z))),Ze)break;O=O.return}0<ge.length&&(j=new H(j,ce,null,a,Q),W.push({event:j,listeners:ge}))}}if((i&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",j&&a!==$o&&(ce=a.relatedTarget||a.fromElement)&&(hi(ce)||ce[ui]))break e;if((H||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ce=a.relatedTarget||a.toElement,H=B,ce=ce?hi(ce):null,ce!==null&&(Ze=u(ce),ge=ce.tag,ce!==Ze||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(H=null,ce=B),H!==ce)){if(ge=el,$="onMouseLeave",x="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Hi,$="onPointerLeave",x="onPointerEnter",O="pointer"),Ze=H==null?j:gn(H),z=ce==null?j:gn(ce),j=new ge($,O+"leave",H,a,Q),j.target=Ze,j.relatedTarget=z,$=null,hi(Q)===B&&(ge=new ge(x,O+"enter",ce,a,Q),ge.target=z,ge.relatedTarget=Ze,$=ge),Ze=$,H&&ce)t:{for(ge=Wb,x=H,O=ce,z=0,$=x;$;$=ge($))z++;$=0;for(var de=O;de;de=ge(de))$++;for(;0<z-$;)x=ge(x),z--;for(;0<$-z;)O=ge(O),$--;for(;z--;){if(x===O||O!==null&&x===O.alternate){ge=x;break t}x=ge(x),O=ge(O)}ge=null}else ge=null;H!==null&&ov(W,j,H,ge,!1),ce!==null&&Ze!==null&&ov(W,Ze,ce,ge,!0)}}e:{if(j=B?gn(B):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Be=bg;else if(Sg(j))if(wg)Be=lb;else{Be=ab;var he=sb}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&Aa(B.elementType)&&(Be=bg):Be=ob;if(Be&&(Be=Be(t,B))){Ag(W,Be,a,Q);break e}he&&he(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&Qo(j,"number",j.value)}switch(he=B?gn(B):window,t){case"focusin":(Sg(he)||he.contentEditable==="true")&&(Oa=he,Rf=B,sl=null);break;case"focusout":sl=Rf=Oa=null;break;case"mousedown":Cf=!0;break;case"contextmenu":case"mouseup":case"dragend":Cf=!1,Vg(W,a,Q);break;case"selectionchange":if(cb)break;case"keydown":case"keyup":Vg(W,a,Q)}var Ie;if(qe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Na?Ps(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ti&&a.locale!=="ko"&&(Na||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Na&&(Ie=Jo()):(_i=Q,Wo="value"in _i?_i.value:_i.textContent,Na=!0)),he=Fc(B,Me),0<he.length&&(Me=new Ei(Me,t,null,a,Q),W.push({event:Me,listeners:he}),Ie?Me.data=Ie:(Ie=Da(a),Ie!==null&&(Me.data=Ie)))),(Ie=On?tb(t,a):nb(t,a))&&(Me=Fc(B,"onBeforeInput"),0<Me.length&&(he=new Ei("onBeforeInput","beforeinput",null,a,Q),W.push({event:he,listeners:Me}),he.data=Ie)),Qb(W,t,B,a,Q)}sv(W,i)})}function Nl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Fc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Qn(t,a),f!=null&&l.unshift(Nl(t,f,d)),f=Qn(t,i),f!=null&&l.push(Nl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Wb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ov(t,i,a,l,f){for(var d=i._reactName,y=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,f?(B=Qn(a,d),B!=null&&y.unshift(Nl(a,B,I))):f||(B=Qn(a,d),B!=null&&y.push(Nl(a,B,I)))),a=a.return}y.length!==0&&t.push({event:i,listeners:y})}var Jb=/\r\n?/g,Zb=/\u0000|\uFFFD/g;function lv(t){return(typeof t=="string"?t:""+t).replace(Jb,`
`).replace(Zb,"")}function uv(t,i){return i=lv(i),lv(t)===i}function Je(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,l);break;case"style":Xo(t,l,d);break;case"data":if(i!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",f.name,f,null),Je(t,i,"formEncType",f.formEncType,f,null),Je(t,i,"formMethod",f.formMethod,f,null),Je(t,i,"formTarget",f.formTarget,f,null)):(Je(t,i,"encType",f.encType,f,null),Je(t,i,"method",f.method,f,null),Je(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Ta(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ta(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fu.get(a)||a,Ta(t,a,l))}}function Jd(t,i,a,l,f,d){switch(a){case"style":Xo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ta(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,y,a,null)}}f&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var T=d=y=f=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":y=Q;break;case"checked":I=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Je(t,i,l,Q,a,null)}}ju(t,d,T,I,B,y,f,!1);return;case"select":Ne("invalid",t),l=y=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:Je(t,i,f,T,a,null)}i=d,a=y,t.multiple=!!l,i!=null?Sr(t,!!l,i,!1):a!=null&&Sr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,y,T,a,null)}Ar(t,l,f,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,I,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Ne(Dl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(Aa(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Jd(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,i,T,l,a,null))}function ew(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,y=null,T=null,I=null,B=null,Q=null;for(H in a){var W=a[H];if(a.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=W;default:l.hasOwnProperty(H)||Je(t,i,H,null,l,W)}}for(var j in l){var H=l[j];if(W=a[j],l.hasOwnProperty(j)&&(H!=null||W!=null))switch(j){case"type":d=H;break;case"name":f=H;break;case"checked":B=H;break;case"defaultChecked":Q=H;break;case"value":y=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==W&&Je(t,i,j,H,l,W)}}Sa(t,y,T,I,B,Q,d,f);return;case"select":H=y=T=j=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":y=d;default:d!==I&&Je(t,i,f,d,l,I)}i=T,a=y,l=H,j!=null?Sr(t,!!a,j,!1):!!l!=!!a&&(i!=null?Sr(t,!!a,i,!0):Sr(t,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,f)}for(y in l)if(f=l[y],d=a[y],l.hasOwnProperty(y)&&(f!=null||d!=null))switch(y){case"value":j=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,i,y,f,l,d)}qu(t,j,H);return;case"option":for(var ce in a)if(j=a[ce],a.hasOwnProperty(ce)&&j!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Je(t,i,ce,null,l,j)}for(I in l)if(j=l[I],H=a[I],l.hasOwnProperty(I)&&j!==H&&(j!=null||H!=null))switch(I){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Je(t,i,I,j,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)j=a[ge],a.hasOwnProperty(ge)&&j!=null&&!l.hasOwnProperty(ge)&&Je(t,i,ge,null,l,j);for(B in l)if(j=l[B],H=a[B],l.hasOwnProperty(B)&&j!==H&&(j!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Je(t,i,B,j,l,H)}return;default:if(Aa(i)){for(var Ze in a)j=a[Ze],a.hasOwnProperty(Ze)&&j!==void 0&&!l.hasOwnProperty(Ze)&&Jd(t,i,Ze,void 0,l,j);for(Q in l)j=l[Q],H=a[Q],!l.hasOwnProperty(Q)||j===H||j===void 0&&H===void 0||Jd(t,i,Q,j,l,H);return}}for(var x in a)j=a[x],a.hasOwnProperty(x)&&j!=null&&!l.hasOwnProperty(x)&&Je(t,i,x,null,l,j);for(W in l)j=l[W],H=a[W],!l.hasOwnProperty(W)||j===H||j==null&&H==null||Je(t,i,W,j,l,H)}function cv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,y=f.initiatorType,T=f.duration;if(d&&T&&cv(y)){for(y=0,T=f.responseEnd,l+=1;l<a.length;l++){var I=a[l],B=I.startTime;if(B>T)break;var Q=I.transferSize,W=I.initiatorType;Q&&cv(W)&&(I=I.responseEnd,y+=Q*(I<T?1:(T-B)/(I-B)))}if(--l,i+=8*(d+y)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Zd=null,em=null;function Gc(t){return t.nodeType===9?t:t.ownerDocument}function hv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function tm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nm=null;function nw(){var t=window.event;return t&&t.type==="popstate"?t===nm?!1:(nm=t,!0):(nm=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,iw=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,rw=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(t){return mv.resolve(null).then(t).catch(sw)}:dv;function sw(t){setTimeout(function(){throw t})}function Kr(t){return t==="head"}function pv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),ro(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ol(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ol(a);for(var d=a.firstChild;d;){var y=d.nextSibling,T=d.nodeName;d[ci]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&Ol(t.ownerDocument.body);a=f}while(a);ro(i)}function gv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function im(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),Ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aw(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ci])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function ow(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function _v(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$?"||t.data==="$~"}function sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function lw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var am=null;function yv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function vv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Ev(t,i,a){switch(i=Gc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ea(t)}var zn=new Map,Tv=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var rr=se.d;se.d={f:uw,r:cw,D:hw,C:fw,L:dw,m:mw,X:gw,S:pw,M:_w};function uw(){var t=rr.f(),i=kc();return t||i}function cw(t){var i=In(t);i!==null&&i.tag===5&&i.type==="form"?L_(i):rr.r(t)}var to=typeof document>"u"?null:document;function Sv(t,i,a){var l=to;if(l&&typeof i=="string"&&i){var f=on(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Tv.has(f)||(Tv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Qt(i,"link",t),St(i),l.head.appendChild(i)))}}function hw(t){rr.D(t),Sv("dns-prefetch",t,null)}function fw(t,i){rr.C(t,i),Sv("preconnect",t,i)}function dw(t,i,a){rr.L(t,i,a);var l=to;if(l&&t&&i){var f='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+on(a.imageSizes)+'"]')):f+='[href="'+on(t)+'"]';var d=f;switch(i){case"style":d=no(t);break;case"script":d=io(t)}zn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),zn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ml(d))||i==="script"&&l.querySelector(Vl(d))||(i=l.createElement("link"),Qt(i,"link",t),St(i),l.head.appendChild(i)))}}function mw(t,i){rr.m(t,i);var a=to;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(t)}if(!zn.has(d)&&(t=S({rel:"modulepreload",href:t},i),zn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(d)))return}l=a.createElement("link"),Qt(l,"link",t),St(l),a.head.appendChild(l)}}}function pw(t,i,a){rr.S(t,i,a);var l=to;if(l&&t){var f=fi(l).hoistableStyles,d=no(t);i=i||"default";var y=f.get(d);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(Ml(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=zn.get(d))&&om(t,a);var I=y=l.createElement("link");St(I),Qt(I,"link",t),I._p=new Promise(function(B,Q){I.onload=B,I.onerror=Q}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Qc(y,i,l)}y={type:"stylesheet",instance:y,count:1,state:T},f.set(d,y)}}}function gw(t,i){rr.X(t,i);var a=to;if(a&&t){var l=fi(a).hoistableScripts,f=io(t),d=l.get(f);d||(d=a.querySelector(Vl(f)),d||(t=S({src:t,async:!0},i),(i=zn.get(f))&&lm(t,i),d=a.createElement("script"),St(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function _w(t,i){rr.M(t,i);var a=to;if(a&&t){var l=fi(a).hoistableScripts,f=io(t),d=l.get(f);d||(d=a.querySelector(Vl(f)),d||(t=S({src:t,async:!0,type:"module"},i),(i=zn.get(f))&&lm(t,i),d=a.createElement("script"),St(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Av(t,i,a,l){var f=(f=Ce.current)?Kc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=no(a.href),a=fi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=no(a.href);var d=fi(f).hoistableStyles,y=d.get(t);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=f.querySelector(Ml(t)))&&!d._p&&(y.instance=d,y.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),d||yw(f,t,a,y.state))),i&&l===null)throw Error(s(528,""));return y}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=io(a),a=fi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function no(t){return'href="'+on(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function bv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function yw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),St(i),t.head.appendChild(i))}function io(t){return'[src="'+on(t)+'"]'}function Vl(t){return"script[async]"+t}function wv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,St(l),l;var f=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Qt(l,"style",f),Qc(l,a.precedence,t),i.instance=l;case"stylesheet":f=no(a.href);var d=t.querySelector(Ml(f));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=bv(a),(f=zn.get(f))&&om(l,f),d=(t.ownerDocument||t).createElement("link"),St(d);var y=d;return y._p=new Promise(function(T,I){y.onload=T,y.onerror=I}),Qt(d,"link",l),i.state.loading|=4,Qc(d,a.precedence,t),i.instance=d;case"script":return d=io(a.src),(f=t.querySelector(Vl(d)))?(i.instance=f,St(f),f):(l=a,(f=zn.get(d))&&(l=S({},a),lm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),St(f),Qt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Qc(l,a.precedence,t));return i.instance}function Qc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===i)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function lm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Yc=null;function Rv(t,i,a){if(Yc===null){var l=new Map,f=Yc=new Map;f.set(a,l)}else f=Yc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[ci]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=t+y;var T=l.get(y);T?T.push(d):l.set(y,[d])}}return l}function Cv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function vw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Iv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ew(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=no(l.href),d=i.querySelector(Ml(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Xc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=bv(l),(f=zn.get(f))&&om(l,f),d=d.createElement("link"),St(d);var y=d;y._p=new Promise(function(T,I){y.onload=T,y.onerror=I}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Xc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var um=0;function Tw(t,i){return t.stylesheets&&t.count===0&&Wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Wc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&um===0&&(um=62500*tw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Wc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>um?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $c=null;function Wc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$c=new Map,i.forEach(Sw,t),$c=null,Xc.call(t))}function Sw(t,i){if(!(i.state.loading&4)){var a=$c.get(t);if(a)var l=a.get(null);else{a=new Map,$c.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var y=f[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}f=i.instance,y=f.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,f),a.set(y,f),this.count++,l=Xc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var xl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Aw(t,i,a,l,f,d,y,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Dv(t,i,a,l,f,d,y,T,I,B,Q,W){return t=new Aw(t,i,a,y,I,B,Q,W,T),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=qf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Kf(d),t}function Nv(t){return t?(t=xa,t):xa}function Ov(t,i,a,l,f,d){f=Nv(f),l.context===null?l.context=f:l.pendingContext=f,l=Pr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(t,l,i),a!==null&&(dn(a,t,i),fl(a,t,i))}function Mv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function cm(t,i){Mv(t,i),(t=t.alternate)&&Mv(t,i)}function Vv(t){if(t.tag===13||t.tag===31){var i=Ls(t,67108864);i!==null&&dn(i,t,67108864),cm(t,67108864)}}function xv(t){if(t.tag===13||t.tag===31){var i=bn();i=Rs(i);var a=Ls(t,i);a!==null&&dn(a,t,i),cm(t,i)}}var Jc=!0;function bw(t,i,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=2,hm(t,i,a,l)}finally{se.p=d,X.T=f}}function ww(t,i,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=8,hm(t,i,a,l)}finally{se.p=d,X.T=f}}function hm(t,i,a,l){if(Jc){var f=fm(l);if(f===null)Wd(t,i,l,Zc,a),Uv(t,l);else if(Cw(f,t,i,a,l))l.stopPropagation();else if(Uv(t,l),i&4&&-1<Rw.indexOf(t)){for(;f!==null;){var d=In(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=ai(d.pendingLanes);if(y!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var I=1<<31-mt(y);T.entanglements[1]|=I,y&=~I}wi(d),(He&6)===0&&(Pc=nn()+500,Il(0))}}break;case 31:case 13:T=Ls(d,2),T!==null&&dn(T,d,2),kc(),cm(d,2)}if(d=fm(l),d===null&&Wd(t,i,l,Zc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Wd(t,i,l,null,a)}}function fm(t){return t=Dn(t),dm(t)}var Zc=null;function dm(t){if(Zc=null,t=hi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Zc=t,null}function Pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ss()){case ko:return 2;case Lo:return 8;case Er:case vf:return 32;case Ou:return 268435456;default:return 32}default:return 32}}var mm=!1,Qr=null,Yr=null,Xr=null,Pl=new Map,Ul=new Map,$r=[],Rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uv(t,i){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(i.pointerId)}}function kl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=In(i),i!==null&&Vv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Cw(t,i,a,l,f){switch(i){case"focusin":return Qr=kl(Qr,t,i,a,l,f),!0;case"dragenter":return Yr=kl(Yr,t,i,a,l,f),!0;case"mouseover":return Xr=kl(Xr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Pl.set(d,kl(Pl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ul.set(d,kl(Ul.get(d)||null,t,i,a,l,f)),!0}return!1}function kv(t){var i=hi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){xv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){xv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=fm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);$o=l,a.target.dispatchEvent(l),$o=null}else return i=In(a),i!==null&&Vv(i),t.blockedOn=a,!1;i.shift()}return!0}function Lv(t,i,a){eh(t)&&a.delete(i)}function Iw(){mm=!1,Qr!==null&&eh(Qr)&&(Qr=null),Yr!==null&&eh(Yr)&&(Yr=null),Xr!==null&&eh(Xr)&&(Xr=null),Pl.forEach(Lv),Ul.forEach(Lv)}function th(t,i){t.blockedOn===i&&(t.blockedOn=null,mm||(mm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Iw)))}var nh=null;function zv(t){nh!==t&&(nh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nh===t&&(nh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=In(a);d!==null&&(t.splice(i,3),i-=3,fd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ro(t){function i(I){return th(I,t)}Qr!==null&&th(Qr,t),Yr!==null&&th(Yr,t),Xr!==null&&th(Xr,t),Pl.forEach(i),Ul.forEach(i);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)kv(a),a.blockedOn===null&&$r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],y=f[kt]||null;if(typeof d=="function")y||zv(a);else if(y){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,y=d[kt]||null)T=y.formAction;else if(dm(f)!==null)continue}else T=y.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),zv(a)}}}function Bv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function pm(t){this._internalRoot=t}ih.prototype.render=pm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();Ov(a,l,t,i,null,null)},ih.prototype.unmount=pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ov(t.current,2,null,t,null,null),kc(),i[ui]=null}};function ih(t){this._internalRoot=t}ih.prototype.unstable_scheduleHydration=function(t){if(t){var i=ku();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,t),a===0&&kv(t)}};var jv=e.version;if(jv!=="19.2.0")throw Error(s(527,jv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Dw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{qn=rh.inject(Dw),qt=rh}catch{}}return zl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=Y_,d=X_,y=$_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=Dv(t,1,!1,null,null,a,l,null,f,d,y,Bv),t[ui]=i.current,$d(t),new pm(i)},zl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Y_,y=X_,T=$_,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=Dv(t,1,!0,i,a??null,l,f,I,d,y,T,Bv),i.context=Nv(null),a=i.current,l=bn(),l=Rs(l),f=Pr(l),f.callback=null,Ur(a,f,l),a=l,i.current.lanes=a,bs(i,a),wi(i),t[ui]=i.current,$d(t),new ih(i)},zl.version="19.2.0",zl}var Wv;function Bw(){if(Wv)return ym.exports;Wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ym.exports=zw(),ym.exports}var jw=Bw();const qw=Ow(jw);var Jv="popstate";function Hw(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return zm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:tu(o)}return Gw(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ui(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fw(){return Math.random().toString(36).substring(2,10)}function Zv(r,e){return{usr:r.state,key:r.key,idx:e}}function zm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:n,key:e&&e.key||s||Fw()}}function tu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function bo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Gw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function S(){m="POP";let L=E(),te=L==null?null:L-g;g=L,p&&p({action:m,location:Y.location,delta:te})}function b(L,te){m="PUSH";let ne=zm(Y.location,L,te);g=E()+1;let ie=Zv(ne,g),fe=Y.createHref(ne);try{h.pushState(ie,"",fe)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(fe)}u&&p&&p({action:m,location:Y.location,delta:1})}function P(L,te){m="REPLACE";let ne=zm(Y.location,L,te);g=E();let ie=Zv(ne,g),fe=Y.createHref(ne);h.replaceState(ie,"",fe),u&&p&&p({action:m,location:Y.location,delta:0})}function F(L){return Kw(L)}let Y={get action(){return m},get location(){return r(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Jv,S),p=L,()=>{o.removeEventListener(Jv,S),p=null}},createHref(L){return e(o,L)},createURL:F,encodeLocation(L){let te=F(L);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:b,replace:P,go(L){return h.go(L)}};return Y}function Kw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:tu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function LT(r,e,n="/"){return Qw(r,e,n,!1)}function Qw(r,e,n,s){let o=typeof e=="string"?bo(e):e,u=hr(o.pathname||"/",n);if(u==null)return null;let h=zT(r);Yw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=sR(u);m=iR(h[p],g,s)}return m}function zT(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=or([s,E.relativePath]),b=n.concat(E);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),zT(h.children,e,b,S,p)),!(h.path==null&&!h.index)&&e.push({path:S,score:tR(S,h.index),routesMeta:b})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of BT(h.path))u(h,m,!0,p)}),e}function BT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=BT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Yw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:nR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Xw=/^:[\w-]+$/,$w=3,Ww=2,Jw=1,Zw=10,eR=-2,eE=r=>r==="*";function tR(r,e){let n=r.split("/"),s=n.length;return n.some(eE)&&(s+=eR),e&&(s+=Ww),n.filter(o=>!eE(o)).reduce((o,u)=>o+(Xw.test(u)?$w:u===""?Jw:Zw),s)}function nR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function iR(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=Ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:or([u,S.pathname]),pathnameBase:uR(or([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=or([u,S.pathnameBase]))}return h}function Ch(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=rR(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},b)=>{if(E==="*"){let F=m[b]||"";h=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const P=m[b];return S&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function rR(r,e=!1,n=!0){Ui(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function sR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ui(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function hr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function aR(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?bo(r):r;return{pathname:n?n.startsWith("/")?n:oR(n,e):e,search:cR(s),hash:hR(o)}}function oR(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lR(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jT(r){let e=lR(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function qT(r,e,n,s=!1){let o;typeof r=="string"?o=bo(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let S=e.length-1;if(!s&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?e[S]:"/"}let p=aR(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var or=r=>r.join("/").replace(/\/\/+/g,"/"),uR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),cR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,hR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function fR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HT=["POST","PUT","PATCH","DELETE"];new Set(HT);var dR=["GET",...HT];new Set(dR);var wo=G.createContext(null);wo.displayName="DataRouter";var Yh=G.createContext(null);Yh.displayName="DataRouterState";G.createContext(!1);var FT=G.createContext({isTransitioning:!1});FT.displayName="ViewTransition";var mR=G.createContext(new Map);mR.displayName="Fetchers";var pR=G.createContext(null);pR.displayName="Await";var Li=G.createContext(null);Li.displayName="Navigation";var fu=G.createContext(null);fu.displayName="Location";var yr=G.createContext({outlet:null,matches:[],isDataRoute:!1});yr.displayName="Route";var pp=G.createContext(null);pp.displayName="RouteError";function gR(r,{relative:e}={}){ut(du(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Li),{hash:o,pathname:u,search:h}=mu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:or([n,u])),s.createHref({pathname:m,search:h,hash:o})}function du(){return G.useContext(fu)!=null}function la(){return ut(du(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(fu).location}var GT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KT(r){G.useContext(Li).static||G.useLayoutEffect(r)}function QT(){let{isDataRoute:r}=G.useContext(yr);return r?DR():_R()}function _R(){ut(du(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(wo),{basename:e,navigator:n}=G.useContext(Li),{matches:s}=G.useContext(yr),{pathname:o}=la(),u=JSON.stringify(jT(s)),h=G.useRef(!1);return KT(()=>{h.current=!0}),G.useCallback((p,g={})=>{if(Ui(h.current,GT),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=qT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:or([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}G.createContext(null);function mu(r,{relative:e}={}){let{matches:n}=G.useContext(yr),{pathname:s}=la(),o=JSON.stringify(jT(n));return G.useMemo(()=>qT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function yR(r,e){return YT(r,e)}function YT(r,e,n,s,o){ut(du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=G.useContext(Li),{matches:h}=G.useContext(yr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let ne=S&&S.path||"";XT(g,!S||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let b=la(),P;if(e){let ne=typeof e=="string"?bo(e):e;ut(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),P=ne}else P=b;let F=P.pathname||"/",Y=F;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");Y="/"+F.replace(/^\//,"").split("/").slice(ne.length).join("/")}let L=LT(r,{pathname:Y});Ui(S||L!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Ui(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=AR(L&&L.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:or([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:or([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),h,n,s,o);return e&&te?G.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},te):te}function vR(){let r=IR(),e=fR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,h)}var ER=G.createElement(vR,null),TR=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?G.createElement(yr.Provider,{value:this.props.routeContext},G.createElement(pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SR({routeContext:r,match:e,children:n}){let s=G.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(yr.Provider,{value:r},n)}function AR(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let g=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:S,errors:b}=n,P=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!b||b[E.route.id]===void 0);if(E.route.lazy||P){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,E,S)=>{let b,P=!1,F=null,Y=null;n&&(b=h&&E.route.id?h[E.route.id]:void 0,F=E.route.errorElement||ER,m&&(p<0&&S===0?(XT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,Y=null):p===S&&(P=!0,Y=E.route.hydrateFallbackElement||null)));let L=e.concat(u.slice(0,S+1)),te=()=>{let ne;return b?ne=F:P?ne=Y:E.route.Component?ne=G.createElement(E.route.Component,null):E.route.element?ne=E.route.element:ne=g,G.createElement(SR,{match:E,routeContext:{outlet:g,matches:L,isDataRoute:n!=null},children:ne})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?G.createElement(TR,{location:n.location,revalidation:n.revalidation,component:F,error:b,children:te(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:s}):te()},null)}function gp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bR(r){let e=G.useContext(wo);return ut(e,gp(r)),e}function wR(r){let e=G.useContext(Yh);return ut(e,gp(r)),e}function RR(r){let e=G.useContext(yr);return ut(e,gp(r)),e}function _p(r){let e=RR(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function CR(){return _p("useRouteId")}function IR(){let r=G.useContext(pp),e=wR("useRouteError"),n=_p("useRouteError");return r!==void 0?r:e.errors?.[n]}function DR(){let{router:r}=bR("useNavigate"),e=_p("useNavigate"),n=G.useRef(!1);return KT(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Ui(n.current,GT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var tE={};function XT(r,e,n){!e&&!tE[r]&&(tE[r]=!0,Ui(!1,n))}G.memo(NR);function NR({routes:r,future:e,state:n,unstable_onError:s}){return YT(r,void 0,n,s,e)}function mh(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OR({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=bo(n));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:b="default"}=n,P=G.useMemo(()=>{let F=hr(p,h);return F==null?null:{location:{pathname:F,search:g,hash:E,state:S,key:b},navigationType:s}},[h,p,g,E,S,b,s]);return Ui(P!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:G.createElement(Li.Provider,{value:m},G.createElement(fu.Provider,{children:e,value:P}))}function MR({children:r,location:e}){return yR(Bm(r),e)}function Bm(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,Bm(s.props.children,u));return}ut(s.type===mh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Bm(s.props.children,u)),n.push(h)}),n}var ph="get",gh="application/x-www-form-urlencoded";function Xh(r){return r!=null&&typeof r.tagName=="string"}function VR(r){return Xh(r)&&r.tagName.toLowerCase()==="button"}function xR(r){return Xh(r)&&r.tagName.toLowerCase()==="form"}function PR(r){return Xh(r)&&r.tagName.toLowerCase()==="input"}function UR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function kR(r,e){return r.button===0&&(!e||e==="_self")&&!UR(r)}var sh=null;function LR(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var zR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(r){return r!=null&&!zR.has(r)?(Ui(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):r}function BR(r,e){let n,s,o,u,h;if(xR(r)){let m=r.getAttribute("action");s=m?hr(m,e):null,n=r.getAttribute("method")||ph,o=Am(r.getAttribute("enctype"))||gh,u=new FormData(r)}else if(VR(r)||PR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?hr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ph,o=Am(r.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||gh,u=new FormData(m,r),!LR()){let{name:g,type:E,value:S}=r;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,S)}}else{if(Xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ph,s=null,o=gh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function jR(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&hr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function qR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function FR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await qR(u,n);return h.links?h.links():[]}return[]}));return YR(s.flat(1).filter(HR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function nE(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function GR(r,e,{includeHydrateFallback:n}={}){return KR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function KR(r){return[...new Set(r)]}function QR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function YR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(QR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function $T(){let r=G.useContext(wo);return yp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function XR(){let r=G.useContext(Yh);return yp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var vp=G.createContext(void 0);vp.displayName="FrameworkContext";function WT(){let r=G.useContext(vp);return yp(r,"You must render this element inside a <HydratedRouter> element"),r}function $R(r,e){let n=G.useContext(vp),[s,o]=G.useState(!1),[u,h]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,b=G.useRef(null);G.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Y=te=>{te.forEach(ne=>{h(ne.isIntersecting)})},L=new IntersectionObserver(Y,{threshold:.5});return b.current&&L.observe(b.current),()=>{L.disconnect()}}},[r]),G.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let P=()=>{o(!0)},F=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Bl(m,P),onBlur:Bl(p,F),onMouseEnter:Bl(g,P),onMouseLeave:Bl(E,F),onTouchStart:Bl(S,P)}]:[!1,b,{}]}function Bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function WR({page:r,...e}){let{router:n}=$T(),s=G.useMemo(()=>LT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(ZR,{page:r,matches:s,...e}):null}function JR(r){let{manifest:e,routeModules:n}=WT(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return FR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function ZR({page:r,matches:e,...n}){let s=la(),{manifest:o,routeModules:u}=WT(),{basename:h}=$T(),{loaderData:m,matches:p}=XR(),g=G.useMemo(()=>nE(r,e,p,o,s,"data"),[r,e,p,o,s]),E=G.useMemo(()=>nE(r,e,p,o,s,"assets"),[r,e,p,o,s]),S=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,Y=!1;if(e.forEach(te=>{let ne=o.routes[te.route.id];!ne||!ne.hasLoader||(!g.some(ie=>ie.route.id===te.route.id)&&te.route.id in m&&u[te.route.id]?.shouldRevalidate||ne.hasClientLoader?Y=!0:F.add(te.route.id))}),F.size===0)return[];let L=jR(r,h,"data");return Y&&F.size>0&&L.searchParams.set("_routes",e.filter(te=>F.has(te.route.id)).map(te=>te.route.id).join(",")),[L.pathname+L.search]},[h,m,s,o,g,e,r,u]),b=G.useMemo(()=>GR(E,o),[E,o]),P=JR(E);return G.createElement(G.Fragment,null,S.map(F=>G.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),b.map(F=>G.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),P.map(({key:F,link:Y})=>G.createElement("link",{key:F,nonce:n.nonce,...Y})))}function e1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var JT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JT&&(window.__reactRouterVersion="7.9.5")}catch{}function t1({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=Hw({window:n,v5Compat:!0}));let o=s.current,[u,h]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>h(p))},[h]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(OR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var ZT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e0=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...b},P){let{basename:F}=G.useContext(Li),Y=typeof g=="string"&&ZT.test(g),L,te=!1;if(typeof g=="string"&&Y&&(L=g,JT))try{let R=new URL(window.location.href),V=g.startsWith("//")?new URL(R.protocol+g):new URL(g),N=hr(V.pathname,F);V.origin===R.origin&&N!=null?g=N+V.search+V.hash:te=!0}catch{Ui(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=gR(g,{relative:o}),[ie,fe,Se]=$R(s,b),Ee=s1(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function D(R){e&&e(R),R.defaultPrevented||Ee(R)}let w=G.createElement("a",{...b,...Se,href:L||ne,onClick:te||u?e:D,ref:e1(P,fe),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return ie&&!Y?G.createElement(G.Fragment,null,w,G.createElement(WR,{page:ne})):w});e0.displayName="Link";var n1=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let S=mu(h,{relative:g.relative}),b=la(),P=G.useContext(Yh),{navigator:F,basename:Y}=G.useContext(Li),L=P!=null&&c1(S)&&m===!0,te=F.encodeLocation?F.encodeLocation(S).pathname:S.pathname,ne=b.pathname,ie=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,te=te.toLowerCase()),ie&&Y&&(ie=hr(ie,Y)||ie);const fe=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let Se=ne===te||!o&&ne.startsWith(te)&&ne.charAt(fe)==="/",Ee=ie!=null&&(ie===te||!o&&ie.startsWith(te)&&ie.charAt(te.length)==="/"),D={isActive:Se,isPending:Ee,isTransitioning:L},w=Se?e:void 0,R;typeof s=="function"?R=s(D):R=[s,Se?"active":null,Ee?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(D):u;return G.createElement(e0,{...g,"aria-current":w,className:R,ref:E,style:V,to:h,viewTransition:m},typeof p=="function"?p(D):p)});n1.displayName="NavLink";var i1=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=ph,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...b},P)=>{let F=l1(),Y=u1(m,{relative:g}),L=h.toLowerCase()==="get"?"get":"post",te=typeof m=="string"&&ZT.test(m),ne=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let fe=ie.nativeEvent.submitter,Se=fe?.getAttribute("formmethod")||h;F(fe||ie.currentTarget,{fetcherKey:e,method:Se,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return G.createElement("form",{ref:P,method:L,action:Y,onSubmit:s?p:ne,...b,"data-discover":!te&&r==="render"?"true":void 0})});i1.displayName="Form";function r1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t0(r){let e=G.useContext(wo);return ut(e,r1(r)),e}function s1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=QT(),p=la(),g=mu(r,{relative:u});return G.useCallback(E=>{if(kR(E,e)){E.preventDefault();let S=n!==void 0?n:tu(p)===tu(g);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,r,o,u,h])}var a1=0,o1=()=>`__${String(++a1)}__`;function l1(){let{router:r}=t0("useSubmit"),{basename:e}=G.useContext(Li),n=CR();return G.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=BR(s,e);if(o.navigate===!1){let E=o.fetcherKey||o1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function u1(r,{relative:e}={}){let{basename:n}=G.useContext(Li),s=G.useContext(yr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...mu(r||".",{relative:e})},h=la();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:or([n,u.pathname])),tu(u)}function c1(r,{relative:e}={}){let n=G.useContext(FT);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=t0("useViewTransitionState"),o=mu(r,{relative:e});if(!n.isTransitioning)return!1;let u=hr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=hr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ch(o.pathname,h)!=null||Ch(o.pathname,u)!=null}const h1=()=>{};var iE={};const n0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},f1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},i0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,P=g&63;p||(P=64,h||(b=64)),s.push(n[E],n[S],n[b],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(n0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):f1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new d1;const b=u<<2|m>>4;if(s.push(b),g!==64){const P=m<<4&240|g>>2;if(s.push(P),S!==64){const F=g<<6&192|S;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class d1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m1=function(r){const e=n0(r);return i0.encodeByteArray(e,!0)},Ih=function(r){return m1(r).replace(/\./g,"")},r0=function(r){try{return i0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function p1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const g1=()=>p1().__FIREBASE_DEFAULTS__,_1=()=>{if(typeof process>"u"||typeof iE>"u")return;const r=iE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},y1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&r0(r[1]);return e&&JSON.parse(e)},$h=()=>{try{return h1()||g1()||_1()||y1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},s0=r=>$h()?.emulatorHosts?.[r],a0=r=>{const e=s0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},o0=()=>$h()?.config,l0=r=>$h()?.[`_${r}`];class v1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function _s(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ep(r){return(await fetch(r,{credentials:"include"})).ok}function u0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ih(JSON.stringify(n)),Ih(JSON.stringify(h)),""].join(".")}const Yl={};function E1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?r.emulator.push(e):r.prod.push(e);return r}function T1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let rE=!1;function Tp(r,e){if(typeof window>"u"||typeof document>"u"||!_s(window.location.host)||Yl[r]===e||Yl[r]||rE)return;Yl[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=E1().prod.length>0;function h(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,P){b.setAttribute("width","24"),b.setAttribute("id",P),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{rE=!0,h()},b}function E(b,P){b.setAttribute("id",P),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=T1(s),P=n("text"),F=document.getElementById(P)||document.createElement("span"),Y=n("learnmore"),L=document.getElementById(Y)||document.createElement("a"),te=n("preprendIcon"),ne=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ie=b.element;m(ie),E(L,Y);const fe=g();p(ne,te),ie.append(ne,F,L,fe),document.body.appendChild(ie)}u?(F.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function A1(){const r=$h()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function R1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C1(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function I1(){return!A1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D1(){try{return typeof indexedDB=="object"}catch{return!1}}function N1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const O1="FirebaseError";class zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=O1,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?M1(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new zi(o,m,s)}}function M1(r,e){return r.replace(V1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const V1=/\{\$([^}]+)}/g;function x1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ta(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(sE(u)&&sE(h)){if(!ta(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function sE(r){return r!==null&&typeof r=="object"}function gu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ql(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Hl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function P1(r,e){const n=new U1(r,e);return n.subscribe.bind(n)}class U1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");k1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function bm(){}function jt(r){return r&&r._delegate?r._delegate:r}class us{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ws="[DEFAULT]";class L1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new v1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B1(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:z1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z1(r){return r===Ws?void 0:r}function B1(r){return r.instantiationMode==="EAGER"}class j1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new L1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const q1={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},H1=Ve.INFO,F1={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},G1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=F1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sp{constructor(e){this.name=e,this._logLevel=H1,this._logHandler=G1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const K1=(r,e)=>e.some(n=>r instanceof n);let aE,oE;function Q1(){return aE||(aE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y1(){return oE||(oE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c0=new WeakMap,jm=new WeakMap,h0=new WeakMap,wm=new WeakMap,Ap=new WeakMap;function X1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ss(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&c0.set(n,r)}).catch(()=>{}),Ap.set(e,r),e}function $1(r){if(jm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});jm.set(r,e)}let qm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return jm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||h0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function W1(r){qm=r(qm)}function J1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Rm(this),e,...n);return h0.set(s,e.sort?e.sort():[e]),ss(s)}:Y1().includes(r)?function(...e){return r.apply(Rm(this),e),ss(c0.get(this))}:function(...e){return ss(r.apply(Rm(this),e))}}function Z1(r){return typeof r=="function"?J1(r):(r instanceof IDBTransaction&&$1(r),K1(r,Q1())?new Proxy(r,qm):r)}function ss(r){if(r instanceof IDBRequest)return X1(r);if(wm.has(r))return wm.get(r);const e=Z1(r);return e!==r&&(wm.set(r,e),Ap.set(e,r)),e}const Rm=r=>Ap.get(r);function eC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ss(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ss(h.result),p.oldVersion,p.newVersion,ss(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const tC=["get","getKey","getAll","getAllKeys","count"],nC=["put","add","delete","clear"],Cm=new Map;function lE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=nC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||tC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(e,u),u}W1(r=>({...r,get:(e,n,s)=>lE(e,n)||r.get(e,n,s),has:(e,n)=>!!lE(e,n)||r.has(e,n)}));class iC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function rC(r){return r.getComponent()?.type==="VERSION"}const Hm="@firebase/app",uE="0.14.5";const fr=new Sp("@firebase/app"),sC="@firebase/app-compat",aC="@firebase/analytics-compat",oC="@firebase/analytics",lC="@firebase/app-check-compat",uC="@firebase/app-check",cC="@firebase/auth",hC="@firebase/auth-compat",fC="@firebase/database",dC="@firebase/data-connect",mC="@firebase/database-compat",pC="@firebase/functions",gC="@firebase/functions-compat",_C="@firebase/installations",yC="@firebase/installations-compat",vC="@firebase/messaging",EC="@firebase/messaging-compat",TC="@firebase/performance",SC="@firebase/performance-compat",AC="@firebase/remote-config",bC="@firebase/remote-config-compat",wC="@firebase/storage",RC="@firebase/storage-compat",CC="@firebase/firestore",IC="@firebase/ai",DC="@firebase/firestore-compat",NC="firebase",OC="12.5.0";const Fm="[DEFAULT]",MC={[Hm]:"fire-core",[sC]:"fire-core-compat",[oC]:"fire-analytics",[aC]:"fire-analytics-compat",[uC]:"fire-app-check",[lC]:"fire-app-check-compat",[cC]:"fire-auth",[hC]:"fire-auth-compat",[fC]:"fire-rtdb",[dC]:"fire-data-connect",[mC]:"fire-rtdb-compat",[pC]:"fire-fn",[gC]:"fire-fn-compat",[_C]:"fire-iid",[yC]:"fire-iid-compat",[vC]:"fire-fcm",[EC]:"fire-fcm-compat",[TC]:"fire-perf",[SC]:"fire-perf-compat",[AC]:"fire-rc",[bC]:"fire-rc-compat",[wC]:"fire-gcs",[RC]:"fire-gcs-compat",[CC]:"fire-fst",[DC]:"fire-fst-compat",[IC]:"fire-vertex","fire-js":"fire-js",[NC]:"fire-js-all"};const Dh=new Map,VC=new Map,Gm=new Map;function cE(r,e){try{r.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function na(r){const e=r.name;if(Gm.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,r);for(const n of Dh.values())cE(n,r);for(const n of VC.values())cE(n,r);return!0}function Wh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function wn(r){return r==null?!1:r.settings!==void 0}const xC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new pu("app","Firebase",xC);class PC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}const ua=OC;function f0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Fm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(n||(n=o0()),!n)throw as.create("no-options");const u=Dh.get(o);if(u){if(ta(n,u.options)&&ta(s,u.config))return u;throw as.create("duplicate-app",{appName:o})}const h=new j1(o);for(const p of Gm.values())h.addComponent(p);const m=new PC(n,s,h);return Dh.set(o,m),m}function bp(r=Fm){const e=Dh.get(r);if(!e&&r===Fm&&o0())return f0();if(!e)throw as.create("no-app",{appName:r});return e}function Ii(r,e,n){let s=MC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(h.join(" "));return}na(new us(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const UC="firebase-heartbeat-database",kC=1,nu="firebase-heartbeat-store";let Im=null;function d0(){return Im||(Im=eC(UC,kC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(r=>{throw as.create("idb-open",{originalErrorMessage:r.message})})),Im}async function LC(r){try{const n=(await d0()).transaction(nu),s=await n.objectStore(nu).get(m0(r));return await n.done,s}catch(e){if(e instanceof zi)fr.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e?.message});fr.warn(n.message)}}}async function hE(r,e){try{const s=(await d0()).transaction(nu,"readwrite");await s.objectStore(nu).put(e,m0(r)),await s.done}catch(n){if(n instanceof zi)fr.warn(n.message);else{const s=as.create("idb-set",{originalErrorMessage:n?.message});fr.warn(s.message)}}}function m0(r){return`${r.name}!${r.options.appId}`}const zC=1024,BC=30;class jC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>BC){const o=FC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fE(),{heartbeatsToSend:n,unsentEntries:s}=qC(this._heartbeatsCache.heartbeats),o=Ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fr.warn(e),""}}}function fE(){return new Date().toISOString().substring(0,10)}function qC(r,e=zC){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),dE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),dE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class HC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D1()?N1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function dE(r){return Ih(JSON.stringify({version:2,heartbeats:r})).length}function FC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function GC(r){na(new us("platform-logger",e=>new iC(e),"PRIVATE")),na(new us("heartbeat",e=>new jC(e),"PRIVATE")),Ii(Hm,uE,r),Ii(Hm,uE,"esm2020"),Ii("fire-js","")}GC("");var KC="firebase",QC="12.5.0";Ii(KC,QC,"app");var mE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,p0;(function(){var r;function e(D,w){function R(){}R.prototype=w.prototype,D.F=w.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(V,N,U){for(var C=Array(arguments.length-2),st=2;st<arguments.length;st++)C[st-2]=arguments[st];return w.prototype[N].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=D.g[0],R=D.g[1],N=D.g[2];let U=D.g[3],C;C=w+(U^R&(N^U))+V[0]+3614090360&4294967295,w=R+(C<<7&4294967295|C>>>25),C=U+(N^w&(R^N))+V[1]+3905402710&4294967295,U=w+(C<<12&4294967295|C>>>20),C=N+(R^U&(w^R))+V[2]+606105819&4294967295,N=U+(C<<17&4294967295|C>>>15),C=R+(w^N&(U^w))+V[3]+3250441966&4294967295,R=N+(C<<22&4294967295|C>>>10),C=w+(U^R&(N^U))+V[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=U+(N^w&(R^N))+V[5]+1200080426&4294967295,U=w+(C<<12&4294967295|C>>>20),C=N+(R^U&(w^R))+V[6]+2821735955&4294967295,N=U+(C<<17&4294967295|C>>>15),C=R+(w^N&(U^w))+V[7]+4249261313&4294967295,R=N+(C<<22&4294967295|C>>>10),C=w+(U^R&(N^U))+V[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=U+(N^w&(R^N))+V[9]+2336552879&4294967295,U=w+(C<<12&4294967295|C>>>20),C=N+(R^U&(w^R))+V[10]+4294925233&4294967295,N=U+(C<<17&4294967295|C>>>15),C=R+(w^N&(U^w))+V[11]+2304563134&4294967295,R=N+(C<<22&4294967295|C>>>10),C=w+(U^R&(N^U))+V[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=U+(N^w&(R^N))+V[13]+4254626195&4294967295,U=w+(C<<12&4294967295|C>>>20),C=N+(R^U&(w^R))+V[14]+2792965006&4294967295,N=U+(C<<17&4294967295|C>>>15),C=R+(w^N&(U^w))+V[15]+1236535329&4294967295,R=N+(C<<22&4294967295|C>>>10),C=w+(N^U&(R^N))+V[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^N&(w^R))+V[6]+3225465664&4294967295,U=w+(C<<9&4294967295|C>>>23),C=N+(w^R&(U^w))+V[11]+643717713&4294967295,N=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(N^U))+V[0]+3921069994&4294967295,R=N+(C<<20&4294967295|C>>>12),C=w+(N^U&(R^N))+V[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^N&(w^R))+V[10]+38016083&4294967295,U=w+(C<<9&4294967295|C>>>23),C=N+(w^R&(U^w))+V[15]+3634488961&4294967295,N=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(N^U))+V[4]+3889429448&4294967295,R=N+(C<<20&4294967295|C>>>12),C=w+(N^U&(R^N))+V[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^N&(w^R))+V[14]+3275163606&4294967295,U=w+(C<<9&4294967295|C>>>23),C=N+(w^R&(U^w))+V[3]+4107603335&4294967295,N=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(N^U))+V[8]+1163531501&4294967295,R=N+(C<<20&4294967295|C>>>12),C=w+(N^U&(R^N))+V[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^N&(w^R))+V[2]+4243563512&4294967295,U=w+(C<<9&4294967295|C>>>23),C=N+(w^R&(U^w))+V[7]+1735328473&4294967295,N=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(N^U))+V[12]+2368359562&4294967295,R=N+(C<<20&4294967295|C>>>12),C=w+(R^N^U)+V[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^N)+V[8]+2272392833&4294967295,U=w+(C<<11&4294967295|C>>>21),C=N+(U^w^R)+V[11]+1839030562&4294967295,N=U+(C<<16&4294967295|C>>>16),C=R+(N^U^w)+V[14]+4259657740&4294967295,R=N+(C<<23&4294967295|C>>>9),C=w+(R^N^U)+V[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^N)+V[4]+1272893353&4294967295,U=w+(C<<11&4294967295|C>>>21),C=N+(U^w^R)+V[7]+4139469664&4294967295,N=U+(C<<16&4294967295|C>>>16),C=R+(N^U^w)+V[10]+3200236656&4294967295,R=N+(C<<23&4294967295|C>>>9),C=w+(R^N^U)+V[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^N)+V[0]+3936430074&4294967295,U=w+(C<<11&4294967295|C>>>21),C=N+(U^w^R)+V[3]+3572445317&4294967295,N=U+(C<<16&4294967295|C>>>16),C=R+(N^U^w)+V[6]+76029189&4294967295,R=N+(C<<23&4294967295|C>>>9),C=w+(R^N^U)+V[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^N)+V[12]+3873151461&4294967295,U=w+(C<<11&4294967295|C>>>21),C=N+(U^w^R)+V[15]+530742520&4294967295,N=U+(C<<16&4294967295|C>>>16),C=R+(N^U^w)+V[2]+3299628645&4294967295,R=N+(C<<23&4294967295|C>>>9),C=w+(N^(R|~U))+V[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~N))+V[7]+1126891415&4294967295,U=w+(C<<10&4294967295|C>>>22),C=N+(w^(U|~R))+V[14]+2878612391&4294967295,N=U+(C<<15&4294967295|C>>>17),C=R+(U^(N|~w))+V[5]+4237533241&4294967295,R=N+(C<<21&4294967295|C>>>11),C=w+(N^(R|~U))+V[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~N))+V[3]+2399980690&4294967295,U=w+(C<<10&4294967295|C>>>22),C=N+(w^(U|~R))+V[10]+4293915773&4294967295,N=U+(C<<15&4294967295|C>>>17),C=R+(U^(N|~w))+V[1]+2240044497&4294967295,R=N+(C<<21&4294967295|C>>>11),C=w+(N^(R|~U))+V[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~N))+V[15]+4264355552&4294967295,U=w+(C<<10&4294967295|C>>>22),C=N+(w^(U|~R))+V[6]+2734768916&4294967295,N=U+(C<<15&4294967295|C>>>17),C=R+(U^(N|~w))+V[13]+1309151649&4294967295,R=N+(C<<21&4294967295|C>>>11),C=w+(N^(R|~U))+V[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~N))+V[11]+3174756917&4294967295,U=w+(C<<10&4294967295|C>>>22),C=N+(w^(U|~R))+V[2]+718787259&4294967295,N=U+(C<<15&4294967295|C>>>17),C=R+(U^(N|~w))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.v=function(D,w){w===void 0&&(w=D.length);const R=w-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<w;){if(N==0)for(;U<=R;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<w;)if(V[N++]=D.charCodeAt(U++),N==this.blockSize){o(this,V),N=0;break}}else for(;U<w;)if(V[N++]=D[U++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=w},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)D[w++]=this.g[R]>>>V&255;return D};function u(D,w){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=w(D)}function h(D,w){this.h=w;const R=[];let V=!0;for(let N=D.length-1;N>=0;N--){const U=D[N]|0;V&&U==w||(R[N]=U,V=!1)}this.g=R}var m={};function p(D){return-128<=D&&D<128?u(D,function(w){return new h([w|0],w<0?-1:0)}):new h([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return L(g(-D));const w=[];let R=1;for(let V=0;D>=R;V++)w[V]=D/R|0,R*=4294967296;return new h(w,0)}function E(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return L(E(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let V=S;for(let U=0;U<D.length;U+=8){var N=Math.min(8,D.length-U);const C=parseInt(D.substring(U,U+N),w);N<8?(N=g(Math.pow(w,N)),V=V.j(N).add(g(C))):(V=V.j(R),V=V.add(g(C)))}return V}var S=p(0),b=p(1),P=p(16777216);r=h.prototype,r.m=function(){if(Y(this))return-L(this).m();let D=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);D+=(V>=0?V:4294967296+V)*w,w*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(F(this))return"0";if(Y(this))return"-"+L(this).toString(D);const w=g(Math.pow(D,6));var R=this;let V="";for(;;){const N=fe(R,w).g;R=te(R,N.j(w));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=N,F(R))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function F(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function Y(D){return D.h==-1}r.l=function(D){return D=te(this,D),Y(D)?-1:F(D)?0:1};function L(D){const w=D.g.length,R=[];for(let V=0;V<w;V++)R[V]=~D.g[V];return new h(R,~D.h).add(b)}r.abs=function(){return Y(this)?L(this):this},r.add=function(D){const w=Math.max(this.g.length,D.g.length),R=[];let V=0;for(let N=0;N<=w;N++){let U=V+(this.i(N)&65535)+(D.i(N)&65535),C=(U>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);V=C>>>16,U&=65535,C&=65535,R[N]=C<<16|U}return new h(R,R[R.length-1]&-2147483648?-1:0)};function te(D,w){return D.add(L(w))}r.j=function(D){if(F(this)||F(D))return S;if(Y(this))return Y(D)?L(this).j(L(D)):L(L(this).j(D));if(Y(D))return L(this.j(L(D)));if(this.l(P)<0&&D.l(P)<0)return g(this.m()*D.m());const w=this.g.length+D.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<D.g.length;N++){const U=this.i(V)>>>16,C=this.i(V)&65535,st=D.i(N)>>>16,Mt=D.i(N)&65535;R[2*V+2*N]+=C*Mt,ne(R,2*V+2*N),R[2*V+2*N+1]+=U*Mt,ne(R,2*V+2*N+1),R[2*V+2*N+1]+=C*st,ne(R,2*V+2*N+1),R[2*V+2*N+2]+=U*st,ne(R,2*V+2*N+2)}for(D=0;D<w;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=w;D<2*w;D++)R[D]=0;return new h(R,0)};function ne(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function ie(D,w){this.g=D,this.h=w}function fe(D,w){if(F(w))throw Error("division by zero");if(F(D))return new ie(S,S);if(Y(D))return w=fe(L(D),w),new ie(L(w.g),L(w.h));if(Y(w))return w=fe(D,L(w)),new ie(L(w.g),w.h);if(D.g.length>30){if(Y(D)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,V=w;V.l(D)<=0;)R=Se(R),V=Se(V);var N=Ee(R,1),U=Ee(V,1);for(V=Ee(V,2),R=Ee(R,2);!F(V);){var C=U.add(V);C.l(D)<=0&&(N=N.add(R),U=C),V=Ee(V,1),R=Ee(R,1)}return w=te(D,N.j(w)),new ie(N,w)}for(N=S;D.l(w)>=0;){for(R=Math.max(1,Math.floor(D.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=g(R),C=U.j(w);Y(C)||C.l(D)>0;)R-=V,U=g(R),C=U.j(w);F(U)&&(U=b),N=N.add(U),D=te(D,C)}return new ie(N,D)}r.B=function(D){return fe(this,D).h},r.and=function(D){const w=Math.max(this.g.length,D.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&D.i(V);return new h(R,this.h&D.h)},r.or=function(D){const w=Math.max(this.g.length,D.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|D.i(V);return new h(R,this.h|D.h)},r.xor=function(D){const w=Math.max(this.g.length,D.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^D.i(V);return new h(R,this.h^D.h)};function Se(D){const w=D.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=D.i(V)<<1|D.i(V-1)>>>31;return new h(R,D.h)}function Ee(D,w){const R=w>>5;w%=32;const V=D.g.length-R,N=[];for(let U=0;U<V;U++)N[U]=w>0?D.i(U+R)>>>w|D.i(U+R+1)<<32-w:D.i(U+R);return new h(N,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,p0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,os=h}).apply(typeof mE<"u"?mE:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var g0,Fl,_0,_h,Km,y0,v0,E0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var _=0;_<c.length;++_){var v=c[_];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in v))break e;v=v[k]}c=c[c.length-1],A=v[c],_=_(A),_!=A&&_!=null&&e(v,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var v=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&v.push([A,_[A]]);return v}});var u=u||{},h=this||self;function m(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function p(c,_,v){return c.call.apply(c.bind,arguments)}function g(c,_,v){return g=p,g.apply(null,arguments)}function E(c,_){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,_){function v(){}v.prototype=_.prototype,c.Z=_.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,k,q){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return _.prototype[k].apply(A,re)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const _=c.length;if(_>0){const v=Array(_);for(let A=0;A<_;A++)v[A]=c[A];return v}return[]}function F(c,_){for(let A=1;A<arguments.length;A++){const k=arguments[A];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=c.length||0;const q=k.length||0;c.length=v+q;for(let re=0;re<q;re++)c[v+re]=k[re]}else c.push(k)}}class Y{constructor(_,v){this.i=_,this.j=v,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function L(c){h.setTimeout(()=>{throw c},0)}function te(){var c=D;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class ne{constructor(){this.h=this.g=null}add(_,v){const A=ie.get();A.set(_,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ie=new Y(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(_,v){this.h=_,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,Ee=!1,D=new ne,w=()=>{const c=Promise.resolve(void 0);Se=()=>{c.then(R)}};function R(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){L(v)}var _=ie;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}Ee=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,_),h.removeEventListener("test",v,_)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function st(c,_){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}S(st,N),st.prototype.init=function(c,_){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(v=="mouseover"?_=c.fromElement:v=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mt="closure_listenable_"+(Math.random()*1e6|0),X=0;function se(c,_,v,A,k){this.listener=c,this.proxy=null,this.src=_,this.type=v,this.capture=!!A,this.ha=k,this.key=++X,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,_,v){for(const A in c)_.call(v,c[A],A,c)}function Ke(c,_){for(const v in c)_.call(void 0,c[v],v,c)}function M(c){const _={};for(const v in c)_[v]=c[v];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,_){let v,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(v in A)c[v]=A[v];for(let q=0;q<J.length;q++)v=J[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,_,v,A,k){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const re=Ce(c,_,A,k);return re>-1?(_=c[re],v||(_.fa=!1)):(_=new se(_,this.src,q,!!A,k),_.fa=v,c.push(_)),_};function ve(c,_){const v=_.type;if(v in c.g){var A=c.g[v],k=Array.prototype.indexOf.call(A,_,void 0),q;(q=k>=0)&&Array.prototype.splice.call(A,k,1),q&&(pe(_),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,_,v,A){for(let k=0;k<c.length;++k){const q=c[k];if(!q.da&&q.listener==_&&q.capture==!!v&&q.ha==A)return k}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Vt={};function at(c,_,v,A,k){if(Array.isArray(_)){for(let q=0;q<_.length;q++)at(c,_[q],v,A,k);return null}return v=Uo(v),c&&c[Mt]?c.J(_,v,m(A)?!!A.capture:!1,k):Es(c,_,v,!1,A,k)}function Es(c,_,v,A,k,q){if(!_)throw Error("Invalid event type");const re=m(k)?!!k.capture:!!k;let we=Ts(c);if(we||(c[ke]=we=new ue(c)),v=we.add(_,v,A,re,q),v.proxy)return v;if(A=pa(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)U||(k=re),k===void 0&&(k=!1),c.addEventListener(_.toString(),A,k);else if(c.attachEvent)c.attachEvent(ri(_.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function pa(){function c(v){return _.call(c.src,c.listener,v)}const _=xo;return c}function ga(c,_,v,A,k){if(Array.isArray(_))for(var q=0;q<_.length;q++)ga(c,_[q],v,A,k);else A=m(A)?!!A.capture:!!A,v=Uo(v),c&&c[Mt]?(c=c.i,q=String(_).toString(),q in c.g&&(_=c.g[q],v=Ce(_,v,A,k),v>-1&&(pe(_[v]),Array.prototype.splice.call(_,v,1),_.length==0&&(delete c.g[q],c.h--)))):c&&(c=Ts(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Ce(_,v,A,k)),(v=c>-1?_[c]:null)&&_a(v))}function _a(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Mt])ve(_.i,c);else{var v=c.type,A=c.proxy;_.removeEventListener?_.removeEventListener(v,A,c.capture):_.detachEvent?_.detachEvent(ri(v),A):_.addListener&&_.removeListener&&_.removeListener(A),(v=Ts(_))?(ve(v,c),v.h==0&&(v.src=null,_[ke]=null)):pe(c)}}}function ri(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function xo(c,_){if(c.da)c=!0;else{_=new st(_,this);const v=c.listener,A=c.ha||c.src;c.fa&&_a(c),c=v.call(A,_)}return c}function Ts(c){return c=c[ke],c instanceof ue?c:null}var Po="__closure_events_fn_"+(Math.random()*1e9>>>0);function Uo(c){return typeof c=="function"?c:(c[Po]||(c[Po]=function(_){return c.handleEvent(_)}),c[Po])}function vt(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}S(vt,V),vt.prototype[Mt]=!0,vt.prototype.removeEventListener=function(c,_,v,A){ga(this,c,_,v,A)};function xt(c,_){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=_.type||_,typeof _=="string")_=new N(_,c);else if(_ instanceof N)_.target=_.target||c;else{var k=_;_=new N(A,c),ae(_,k)}k=!0;let q,re;if(v)for(re=v.length-1;re>=0;re--)q=_.g=v[re],k=vr(q,A,!0,_)&&k;if(q=_.g=c,k=vr(q,A,!0,_)&&k,k=vr(q,A,!1,_)&&k,v)for(re=0;re<v.length;re++)q=_.g=v[re],k=vr(q,A,!1,_)&&k}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const v=c.g[_];for(let A=0;A<v.length;A++)pe(v[A]);delete c.g[_],c.h--}}this.G=null},vt.prototype.J=function(c,_,v,A){return this.i.add(String(c),_,!1,v,A)},vt.prototype.K=function(c,_,v,A){return this.i.add(String(c),_,!0,v,A)};function vr(c,_,v,A){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let k=!0;for(let q=0;q<_.length;++q){const re=_[q];if(re&&!re.da&&re.capture==v){const we=re.listener,pt=re.ha||re.src;re.fa&&ve(c.i,re),k=we.call(pt,A)!==!1&&k}}return k&&!A.defaultPrevented}function yf(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:h.setTimeout(c,_||0)}function Nu(c){c.g=yf(()=>{c.g=null,c.i&&(c.i=!1,Nu(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class nn extends V{constructor(_,v){super(),this.m=_,this.l=v,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Nu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(c){V.call(this),this.h=c,this.g={}}S(Ss,V);var ko=[];function Lo(c){ze(c.g,function(_,v){this.g.hasOwnProperty(v)&&_a(_)},c),c.g={}}Ss.prototype.N=function(){Ss.Z.N.call(this),Lo(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Er=h.JSON.stringify,vf=h.JSON.parse,Ou=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Mu(){}function Vu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){N.call(this,"d")}S(qt,N);function Cn(){N.call(this,"c")}S(Cn,N);var mt={},xu=null;function ya(){return xu=xu||new vt}mt.Ia="serverreachability";function Pu(c){N.call(this,mt.Ia,c)}S(Pu,N);function si(c){const _=ya();xt(_,new Pu(_))}mt.STAT_EVENT="statevent";function As(c,_){N.call(this,mt.STAT_EVENT,c),this.stat=_}S(As,N);function Et(c){const _=ya();xt(_,new As(_,c))}mt.Ja="timingevent";function ai(c,_){N.call(this,mt.Ja,c),this.size=_}S(ai,N);function oi(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},_)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Ef(c,_,v,A,k,q){c.info(function(){if(c.g)if(q){var re="",we=q.split("&");for(let qe=0;qe<we.length;qe++){var pt=we[qe].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const On=ot.split("_");re=On.length>=2&&On[1]=="type"?re+(ot+"="+pt+"&"):re+(ot+"=redacted&")}}}else re=null;else re=q;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+_+`
`+v+`
`+re})}function Uu(c,_,v,A,k,q,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+_+`
`+v+`
`+q+" "+re})}function li(c,_,v,A){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Tf(c,v)+(A?" "+A:"")})}function bs(c,_){c.info(function(){return"TIMEOUT: "+_})}Hn.prototype.info=function(){};function Tf(c,_){if(!c.g)return _;if(!_)return null;try{const q=JSON.parse(_);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return Er(q)}catch{return _}}var ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bo;function Rs(){}S(Rs,Mu),Rs.prototype.g=function(){return new XMLHttpRequest},Bo=new Rs;function Bi(c){return encodeURIComponent(String(c))}function ku(c){var _=1;c=c.split(":");const v=[];for(;_>0&&c.length;)v.push(c.shift()),_--;return c.length&&v.push(c.join(":")),v}function Fn(c,_,v,A){this.j=c,this.i=_,this.l=v,this.S=A||1,this.V=new Ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Tt={},kt={};function ui(c,_,v){c.M=1,c.A=Cs(At(_)),c.u=v,c.R=!0,va(c,null)}function va(c,_){c.F=Date.now(),ci(c),c.B=At(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Aa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Gn,c.g=Ju(c.j,v?_:null,!c.u),c.P>0&&(c.O=new nn(g(c.Y,c,c.g),c.P)),_=c.V,v=c.g,A=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(ko[0]=k.toString()),k=ko);for(let q=0;q<k.length;q++){const re=at(v,k[q],A||_.handleEvent,!1,_.h||_);if(!re)break;_.g[re.key]=re}_=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),si(),Ef(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const _=this.O;_&&Yn(c)==3?_.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Yn(this.g),pt=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||we!=4||pt==7||(pt==8||qe<=0?si(3):si(2)),hi(this);var _=this.g.ca();this.X=_;var v=Sf(this);if(this.o=_==200,Uu(this.i,this.v,this.B,this.l,this.S,we,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var q=A;break t}}q=null}if(c=q)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,Et(12),gn(this),In(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=zu(this,v),ot==kt){we==4&&(this.m=4,Et(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,ot,null),fi(this,ot);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),tl(re),re.P=!0,Et(11))}}else li(this.i,this.l,v,null),fi(this,v);we==4&&gn(this),this.o&&!this.K&&(we==4?Yu(this.j,this):(this.o=!1,ci(this)))}else qi(this.g),_==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),gn(this),In(this)}}}catch{}finally{}};function Sf(c){if(!Lu(c))return c.g.la();const _=Ht(c.g);if(_==="")return"";let v="";const A=_.length,k=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),In(c),"";c.h.i=new h.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,v+=c.h.i.decode(_[q],{stream:!(k&&q==A-1)});return _.length=0,c.h.g+=v,c.C=0,c.h.g}function Lu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function zu(c,_){var v=c.C,A=_.indexOf(`
`,v);return A==-1?kt:(v=Number(_.substring(v,A)),isNaN(v)?Tt:(A+=1,A+v>_.length?kt:(_=_.slice(A,A+v),c.C=A+v,_)))}Fn.prototype.cancel=function(){this.K=!0,gn(this)};function ci(c){c.T=Date.now()+c.H,Ea(c,c.H)}function Ea(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(g(c.aa,c),_)}function hi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(bs(this.i,this.B),this.M!=2&&(si(),Et(17)),gn(this),this.m=2,In(this)):Ea(this,this.T-c)};function In(c){c.j.I==0||c.K||Yu(c.j,c)}function gn(c){hi(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,Lo(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function fi(c,_){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ia(v),Ir(v);else break e;xs(v),Et(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(g(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&Ia(v),!C(_))for(k=v.Ba.g.parse(_),_=0;_<k.length;_++){let qe=k[_];const ot=qe[0];if(!(ot<=v.K))if(v.K=ot,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const On=qe[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const Ti=qe[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Xn=qe[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=c.g;if($n){const Ps=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var q=A.h;q.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ho(q,q.h),q.h=null))}if(A.G){const Da=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(A.wa=Da,Qe(A.J,A.G,Da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var re=c;if(A.na=Wu(A,A.L?A.ba:null,A.W),re.L){Fo(A.h,re);var we=re,pt=A.O;pt&&(we.H=pt),we.D&&(hi(we),ci(we)),A.g=re}else Ku(A);v.i.length>0&&vi(v)}else qe[0]!="stop"&&qe[0]!="close"||Ei(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ei(v,7):Zo(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}si(4)}catch{}}var St=class{constructor(c,_){this.g=c,this.map=_}};function jo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Ho(c,_){c.g?c.g.add(_):c.h=_}function Fo(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}jo.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Go(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const v of c.g.values())_=_.concat(v.G);return _}return P(c.i)}var Bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(c,_){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let k,q=null;A>=0?(k=c[v].substring(0,A),q=c[v].substring(A+1)):k=c[v],_(k,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function _n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof _n?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,Tr(this,c.u),this.h=c.h,Ko(this,Fu(c.i)),this.m=c.m):c&&(_=String(c).match(Bu))?(this.l=!1,Lt(this,_[1]||"",!0),this.o=pi(_[2]||""),this.g=pi(_[3]||"",!0),Tr(this,_[4]),this.h=pi(_[5]||"",!0),Ko(this,_[6]||"",!0),this.m=pi(_[7]||"")):(this.l=!1,this.i=new Ar(null,this.l))}_n.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(Is(_,Sa,!0),":");var v=this.g;return(v||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Is(_,Sa,!0),"@"),c.push(Bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Is(v,v.charAt(0)=="/"?Qo:ju,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Is(v,qu)),c.join("")},_n.prototype.resolve=function(c){const _=At(this);let v=!!c.j;v?Lt(_,c.j):v=!!c.o,v?_.o=c.o:v=!!c.g,v?_.g=c.g:v=c.u!=null;var A=c.h;if(v)Tr(_,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=_.h.lastIndexOf("/");k!=-1&&(A=_.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const q=[];for(let re=0;re<k.length;){const we=k[re++];we=="."?A&&re==k.length&&q.push(""):we==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&re==k.length&&q.push("")):(q.push(we),A=!0)}A=q.join("/")}else A=k}return v?_.h=A:v=c.i.toString()!=="",v?Ko(_,Fu(c.i)):v=!!c.m,v&&(_.m=c.m),_};function At(c){return new _n(c)}function Lt(c,_,v){c.j=v?pi(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Tr(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function Ko(c,_,v){_ instanceof Ar?(c.i=_,ba(c.i,c.l)):(v||(_=Is(_,Sr)),c.i=new Ar(_,c.l))}function Qe(c,_,v){c.i.set(_,v)}function Cs(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,_,v){return typeof c=="string"?(c=encodeURI(c).replace(_,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Sa=/[#\/\?@]/g,ju=/[#\?:]/g,Qo=/[#\?]/g,Sr=/[#\?@]/g,qu=/#/g;function Ar(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&Ta(c.i,function(_,v){c.add(decodeURIComponent(_.replace(/\+/g," ")),v)}))}r=Ar.prototype,r.add=function(c,_){ln(this),this.i=null,c=br(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(_),this.h+=1,this};function Hu(c,_){ln(c),_=br(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Yo(c,_){return ln(c),_=br(c,_),c.g.has(_)}r.forEach=function(c,_){ln(this),this.g.forEach(function(v,A){v.forEach(function(k){c.call(_,k,A,this)},this)},this)};function Xo(c,_){ln(c);let v=[];if(typeof _=="string")Yo(c,_)&&(v=v.concat(c.g.get(br(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)v=v.concat(c[_]);return v}r.set=function(c,_){return ln(this),this.i=null,c=br(this,c),Yo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},r.get=function(c,_){return c?(c=Xo(this,c),c.length>0?String(c[0]):_):_};function Aa(c,_,v){Hu(c,_),v.length>0&&(c.i=null,c.g.set(br(c,_),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var v=_[A];const k=Bi(v);v=Xo(this,v);for(let q=0;q<v.length;q++){let re=k;v[q]!==""&&(re+="="+Bi(v[q])),c.push(re)}}return this.i=c.join("&")};function Fu(c){const _=new Ar;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function br(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function ba(c,_){_&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,A){const k=A.toLowerCase();A!=k&&(Hu(this,A),Aa(this,k,v))},c)),c.j=_}function Kn(c,_){const v=new Hn;if(h.Image){const A=new Image;A.onload=E(Dn,v,"TestLoadImage: loaded",!0,_,A),A.onerror=E(Dn,v,"TestLoadImage: error",!1,_,A),A.onabort=E(Dn,v,"TestLoadImage: abort",!1,_,A),A.ontimeout=E(Dn,v,"TestLoadImage: timeout",!1,_,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else _(!1)}function $o(c,_){const v=new Hn,A=new AbortController,k=setTimeout(()=>{A.abort(),Dn(v,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(k),q.ok?Dn(v,"TestPingServer: ok",!0,_):Dn(v,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(k),Dn(v,"TestPingServer: error",!1,_)})}function Dn(c,_,v,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(v)}catch{}}function wr(){this.g=new Ou}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(gi,Mu),gi.prototype.g=function(){return new Ds(this.i,this.h)};function Ds(c,_){vt.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ds,vt),r=Ds.prototype,r.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||h).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?Rr(this):Qn(this),this.readyState==3&&wa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Rr(this))},r.Na=function(c){this.g&&(this.response=c,Rr(this))},r.ga=function(){this.g&&Rr(this)};function Rr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,_){this.A.append(c,_)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var v=_.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=_.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let _="";return ze(c,function(v,A){_+=A,_+=":",_+=v,_+=`\r
`}),_}function Ns(c,_,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Nn(v),typeof c=="string"?v!=null&&Bi(v):Qe(c,_,v))}function $e(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($e,vt);var _i=/^https?$/i,Wo=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,_,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bo.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(q){Os(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)v.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),k=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Wo,_,void 0)>=0)||A||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of v)this.g.setRequestHeader(q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Os(this,q)}};function Os(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,Jo(c),ji(c)}function Jo(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xt(this,"complete"),xt(this,"abort"),ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ms(this):this.Xa())},r.Xa=function(){Ms(this)};function Ms(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(xt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var v;if(!(v=_)){var A;if(A=q===0){let re=String(c.D).match(Bu)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),A=!_i.test(re?re.toLowerCase():"")}v=A}if(v)xt(c,"complete"),xt(c,"success");else{c.o=6;try{var k=Yn(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",Jo(c)}}finally{ji(c)}}}}function ji(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,_||xt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),vf(_)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(c){const _={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var v=ku(c[A]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=_[k]||[];_[k]=q,q.push(v)}Ke(_,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(c,_,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||_}function Cr(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,c),this.Za=yi("retryDelaySeedMs",1e4,c),this.Ta=yi("forwardChannelMaxRetries",2,c),this.va=yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new jo(c&&c.concurrentRequestLimit),this.Ba=new wr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Cr.prototype,r.ka=8,r.I=1,r.connect=function(c,_,v,A){Et(0),this.W=c,this.H=_||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Wu(this,null,this.W),vi(this)};function Zo(c){if(Ra(c),c.I==3){var _=c.V++,v=At(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",_),Qe(v,"TYPE","terminate"),Vs(c,v),_=new Fn(c,c.j,_),_.M=2,_.A=Cs(At(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(_.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=_.A,v=!0),v||(_.g=Ju(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ci(_)}$u(c)}function Ir(c){c.g&&(tl(c),c.g.cancel(),c.g=null)}function Ra(c){Ir(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ia(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function vi(c){if(!qo(c.h)&&!c.m){c.m=!0;var _=c.Ea;Se||w(),Ee||(Se(),Ee=!0),D.add(_,c),c.D=0}}function Ca(c,_){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(g(c.Ea,c,_),Xu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new Fn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),ae(q,this.U)):q=this.U),this.u!==null||this.R||(k.J=q,q=null),this.S)e:{for(var _=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=v;break e}if(_===4096||v===this.i.length-1){_=v+1;break e}}_=1e3}else _=1e3;_=Gu(this,k,_),v=At(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),Vs(this,v),q&&(this.R?_="headers="+Bi(Nn(q))+"&"+_:this.u&&Ns(v,this.u,q)),Ho(this.h,k),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",_),Qe(v,"SID","null"),k.U=!0,ui(k,v,null)):ui(k,v,_),this.I=2}}else this.I==3&&(c?el(this,c):this.i.length==0||qo(this.h)||el(this))};function el(c,_){var v;_?v=_.l:v=c.V++;const A=At(c.J);Qe(A,"SID",c.M),Qe(A,"RID",v),Qe(A,"AID",c.K),Vs(c,A),c.u&&c.o&&Ns(A,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),_&&(c.i=_.G.concat(c.i)),_=Gu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ho(c.h,v),ui(v,A,_)}function Vs(c,_){c.H&&ze(c.H,function(v,A){Qe(_,A,v)}),c.l&&ze({},function(v,A){Qe(_,A,v)})}function Gu(c,_,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var k=c.i;let we=-1;for(;;){const pt=["count="+v];we==-1?v>0?(we=k[0].g,pt.push("ofs="+we)):we=0:pt.push("ofs="+we);let qe=!0;for(let ot=0;ot<v;ot++){var q=k[ot].g;const On=k[ot].map;if(q-=we,q<0)we=Math.max(0,k[ot].g-100),qe=!1;else try{q="req"+q+"_"||"";try{var re=On instanceof Map?On:Object.entries(On);for(const[Ti,Xn]of re){let $n=Xn;m(Xn)&&($n=Er(Xn)),pt.push(q+Ti+"="+encodeURIComponent($n))}}catch(Ti){throw pt.push(q+"type="+encodeURIComponent("_badmap")),Ti}}catch{A&&A(On)}}if(qe){re=pt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),_.G=c,re}function Ku(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;Se||w(),Ee||(Se(),Ee=!0),D.add(_,c),c.A=0}}function xs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(g(c.Da,c),Xu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Ir(this),Qu(this))};function tl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Qu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=At(c.na);Qe(_,"RID","rpc"),Qe(_,"SID",c.M),Qe(_,"AID",c.K),Qe(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(_,"TO",c.ia),Qe(_,"TYPE","xmlhttp"),Vs(c,_),c.u&&c.o&&Ns(_,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Cs(At(_)),v.u=null,v.R=!0,va(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ir(this),xs(this),Et(19))};function Ia(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Yu(c,_){var v=null;if(c.g==_){Ia(c),tl(c),c.g=null;var A=2}else if(mi(c.h,_))v=_.G,Fo(c.h,_),A=1;else return;if(c.I!=0){if(_.o)if(A==1){v=_.u?_.u.length:0,_=Date.now()-_.F;var k=c.D;A=ya(),xt(A,new ai(A,v)),vi(c)}else Ku(c);else if(k=_.m,k==3||k==0&&_.X>0||!(A==1&&Ca(c,_)||A==2&&xs(c)))switch(v&&v.length>0&&(_=c.h,_.i=_.i.concat(v)),k){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function Xu(c,_){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*_}function Ei(c,_){if(c.j.info("Error code "+_),_==2){var v=g(c.bb,c),A=c.Ua;const k=!A;A=new _n(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Lt(A,"https"),Cs(A),k?Kn(A.toString(),v):$o(A.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(_),$u(c),Ra(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function $u(c){if(c.I=0,c.ja=[],c.l){const _=Go(c.h);(_.length!=0||c.i.length!=0)&&(F(c.ja,_),F(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Wu(c,_,v){var A=v instanceof _n?At(v):new _n(v);if(A.g!="")_&&(A.g=_+"."+A.g),Tr(A,A.u);else{var k=h.location;A=k.protocol,_=_?_+"."+k.hostname:k.hostname,k=+k.port;const q=new _n(null);A&&Lt(q,A),_&&(q.g=_),k&&Tr(q,k),v&&(q.h=v),A=q}return v=c.G,_=c.wa,v&&_&&Qe(A,v,_),Qe(A,"VER",c.ka),Vs(c,A),A}function Ju(c,_,v){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new $e(new gi({ab:v})):new $e(c.ma),_.Fa(c.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}r=Zu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Dr(){}Dr.prototype.g=function(c,_){return new rn(c,_)};function rn(c,_){vt.call(this),this.g=new Cr(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!C(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Hi(this)}S(rn,vt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Zo(this.g)},rn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Er(c),c=v);_.i.push(new St(_.Ya++,c)),_.I==3&&vi(_)},rn.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,rn.Z.N.call(this)};function ec(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const v in _){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}S(ec,qt);function tc(){Cn.call(this),this.status=1}S(tc,Cn);function Hi(c){this.g=c}S(Hi,Zu),Hi.prototype.ra=function(){xt(this.g,"a")},Hi.prototype.qa=function(c){xt(this.g,new ec(c))},Hi.prototype.pa=function(c){xt(this.g,new tc)},Hi.prototype.oa=function(){xt(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,E0=function(){return new Dr},v0=function(){return ya()},y0=mt,Km={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,_h=ws,zo.COMPLETE="complete",_0=zo,Vu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Fl=Vu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,g0=$e}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const pE="@firebase/firestore",gE="4.9.2";class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Ro="12.3.0";const ia=new Sp("@firebase/firestore");function ao(){return ia.logLevel}function le(r,...e){if(ia.logLevel<=Ve.DEBUG){const n=e.map(wp);ia.debug(`Firestore (${Ro}): ${r}`,...n)}}function dr(r,...e){if(ia.logLevel<=Ve.ERROR){const n=e.map(wp);ia.error(`Firestore (${Ro}): ${r}`,...n)}}function yo(r,...e){if(ia.logLevel<=Ve.WARN){const n=e.map(wp);ia.warn(`Firestore (${Ro}): ${r}`,...n)}}function wp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ye(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,T0(r,s,n)}function T0(r,e,n){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw dr(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||T0(e,o,s)}function be(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class S0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class XC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $C{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new S0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class WC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new WC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _E{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _E(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _E(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=eI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function Qm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Dm(o)===Dm(u)?xe(o,u):Dm(o)?1:-1}return xe(r.length,e.length)}const tI=55296,nI=57343;function Dm(r){const e=r.charCodeAt(0);return e>=tI&&e<=nI}function vo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const yE="__name__";class Ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const s=Ri.isNumericId(e),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):Qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class tt extends Ri{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const iI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ri{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return iI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yE}static keyField(){return new Xt([yE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}function A0(r,e,n){if(!n)throw new oe(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function rI(r,e,n,s){if(e===!0&&s===!0)throw new oe(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function vE(r){if(!me.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function EE(r){if(me.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function b0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function cs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(r);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function _u(r,e){if(!b0(r))throw new oe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(Z.INVALID_ARGUMENT,n);return!0}const TE=-62135596800,SE=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*SE);return new Fe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<TE)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SE}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_u(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-TE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:Nt("string",Fe._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Fe(0,0))}static max(){return new Te(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const iu=-1;function sI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new Fe(n+1,0):new Fe(n,s));return new hs(o,me.empty(),e)}function aI(r){return new hs(r.readTime,r.key,iu)}class hs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new hs(Te.min(),me.empty(),iu)}static max(){return new hs(Te.max(),me.empty(),iu)}}function oI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:xe(r.largestBatchId,e.largestBatchId))}const lI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==lI)throw r;le("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function cI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(r){return r.name==="IndexedDbTransactionError"}class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zh.ce=-1;const Cp=-1;function ef(r){return r==null}function Nh(r){return r===0&&1/r==-1/0}function hI(r){return typeof r=="number"&&Number.isInteger(r)&&!Nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const w0="";function fI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=AE(e)),e=dI(r.get(n),e);return AE(e)}function dI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case w0:n+="";break;default:n+=u}}return n}function AE(r){return r+w0+""}function bE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ca(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function R0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wE(this.data.getIterator())}getIteratorFrom(e){return new wE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class wE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new ei([])}unionWith(e){let n=new Ut(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class C0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new C0("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const mI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=mI.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ds(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}const I0="server_timestamp",D0="__type__",N0="__previous_value__",O0="__local_write_time__";function Ip(r){return(r?.mapValue?.fields||{})[D0]?.stringValue===I0}function tf(r){const e=r.mapValue.fields[N0];return Ip(e)?tf(e):e}function ru(r){const e=fs(r.mapValue.fields[O0].timestampValue);return new Fe(e.seconds,e.nanos)}class pI{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Oh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}const M0="__type__",gI="__max__",lh={mapValue:{}},V0="__vector__",Mh="value";function ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ip(r)?4:yI(r)?9007199254740991:_I(r)?10:11:ye(28295,{value:r})}function ki(r,e){if(r===e)return!0;const n=ms(r);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ru(r).isEqual(ru(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=fs(o.timestampValue),m=fs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=yt(o.doubleValue),m=yt(u.doubleValue);return h===m?Nh(h)===Nh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return vo(r.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(bE(h)!==bE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!ki(h[p],m[p])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function au(r,e){return(r.values||[]).find((n=>ki(n,e)))!==void 0}function Eo(r,e){if(r===e)return 0;const n=ms(r),s=ms(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=yt(u.integerValue||u.doubleValue),p=yt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return RE(r.timestampValue,e.timestampValue);case 4:return RE(ru(r),ru(e));case 5:return Qm(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=ds(u),p=ds(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=xe(m[g],p[g]);if(E!==0)return E}return xe(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=xe(yt(u.latitude),yt(h.latitude));return m!==0?m:xe(yt(u.longitude),yt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return CE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Mh]?.arrayValue,E=p[Mh]?.arrayValue,S=xe(g?.values?.length||0,E?.values?.length||0);return S!==0?S:CE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===lh.mapValue&&h===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const b=Qm(p[S],E[S]);if(b!==0)return b;const P=Eo(m[p[S]],g[E[S]]);if(P!==0)return P}return xe(p.length,E.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function RE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const n=fs(r),s=fs(e),o=xe(n.seconds,s.seconds);return o!==0?o:xe(n.nanos,s.nanos)}function CE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return xe(n.length,s.length)}function To(r){return Ym(r)}function Ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=fs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ds(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ym(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Ym(n.fields[h])}`;return o+"}"})(r.mapValue):ye(61005,{value:r})}function yh(r){switch(ms(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tf(r);return e?16+yh(e):16;case 5:return 2*r.stringValue.length;case 6:return ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+yh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ca(s.fields,((u,h)=>{o+=u.length+yh(h)})),o})(r.mapValue);default:throw ye(13486,{value:r})}}function IE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Xm(r){return!!r&&"integerValue"in r}function Dp(r){return!!r&&"arrayValue"in r}function DE(r){return!!r&&"nullValue"in r}function NE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function vh(r){return!!r&&"mapValue"in r}function _I(r){return(r?.mapValue?.fields||{})[M0]?.stringValue===V0}function Xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ca(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Xl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(r.arrayValue.values[n]);return e}return{...r}}function yI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===gI}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Xl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ca(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Bn(Xl(this.value))}}function x0(r){const e=[];return ca(r.fields,((n,s)=>{const o=new Xt([n]);if(vh(s)){const u=x0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new ei(e)}class en{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Te.min(),Te.min(),Te.min(),Bn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,Te.min(),Te.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Te.min(),Te.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function OE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=Eo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ME(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ki(r.position[n],e.position[n]))return!1;return!0}class xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function vI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class P0{}class Dt extends P0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new TI(e,n,s):n==="array-contains"?new bI(e,s):n==="in"?new wI(e,s):n==="not-in"?new RI(e,s):n==="array-contains-any"?new CI(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new SI(e,s):new AI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends P0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ni(e,n)}matches(e){return U0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function U0(r){return r.op==="and"}function k0(r){return EI(r)&&U0(r)}function EI(r){for(const e of r.filters)if(e instanceof ni)return!1;return!0}function $m(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+To(r.value);if(k0(r))return r.filters.map((e=>$m(e))).join(",");{const e=r.filters.map((n=>$m(n))).join(",");return`${r.op}(${e})`}}function L0(r,e){return r instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)})(r,e):r instanceof ni?(function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&L0(h,o.filters[m])),!0):!1})(r,e):void ye(19439)}function z0(r){return r instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(r):r instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(z0).join(" ,")+"}"})(r):"Filter"}class TI extends Dt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class SI extends Dt{constructor(e,n){super(e,"in",n),this.keys=B0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class AI extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=B0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function B0(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class bI extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dp(n)&&au(n.arrayValue,this.value)}}class wI extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class RI extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class CI extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>au(this.value.arrayValue,s)))}}class II{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function VE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new II(r,e,n,s,o,u,h)}function Np(r){const e=be(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>$m(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>To(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>To(s))).join(",")),e.Te=n}return e.Te}function Op(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!vI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!L0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ME(r.startAt,e.startAt)&&ME(r.endAt,e.endAt)}function Wm(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yu{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DI(r,e,n,s,o,u,h,m){return new yu(r,e,n,s,o,u,h,m)}function Mp(r){return new yu(r)}function xE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function j0(r){return r.collectionGroup!==null}function $l(r){const e=be(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ut(Xt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new xh(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new xh(Xt.keyField(),s))}return e.Ie}function Di(r){const e=be(r);return e.Ee||(e.Ee=NI(e,$l(r))),e.Ee}function NI(r,e){if(r.limitType==="F")return VE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new xh(o.field,u)}));const n=r.endAt?new Vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vh(r.startAt.position,r.startAt.inclusive):null;return VE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Jm(r,e){const n=r.filters.concat([e]);return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Zm(r,e,n){return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function nf(r,e){return Op(Di(r),Di(e))&&r.limitType===e.limitType}function q0(r){return`${Np(Di(r))}|lt:${r.limitType}`}function oo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>z0(o))).join(", ")}]`),ef(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>To(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>To(o))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function rf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=OE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,$l(s),o)||s.endAt&&!(function(h,m,p){const g=OE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,$l(s),o))})(r,e)}function OI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function H0(r){return(e,n)=>{let s=!1;for(const o of $l(r)){const u=MI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function MI(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Eo(p,g):ye(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return R0(this.inner)}size(){return this.innerSize}}const VI=new ct(me.comparator);function mr(){return VI}const F0=new ct(me.comparator);function Gl(...r){let e=F0;for(const n of r)e=e.insert(n.key,n);return e}function G0(r){let e=F0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Js(){return Wl()}function K0(){return Wl()}function Wl(){return new ha((r=>r.toString()),((r,e)=>r.isEqual(e)))}const xI=new ct(me.comparator),PI=new Ut(me.comparator);function Pe(...r){let e=PI;for(const n of r)e=e.add(n);return e}const UI=new Ut(xe);function kI(){return UI}function Vp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function Q0(r){return{integerValue:""+r}}function LI(r,e){return hI(e)?Q0(e):Vp(r,e)}class sf{constructor(){this._=void 0}}function zI(r,e,n){return r instanceof ou?(function(o,u){const h={fields:{[D0]:{stringValue:I0},[O0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ip(u)&&(u=tf(u)),u&&(h.fields[N0]=u),{mapValue:h}})(n,e):r instanceof lu?X0(r,e):r instanceof uu?$0(r,e):(function(o,u){const h=Y0(o,u),m=PE(h)+PE(o.Ae);return Xm(h)&&Xm(o.Ae)?Q0(m):Vp(o.serializer,m)})(r,e)}function BI(r,e,n){return r instanceof lu?X0(r,e):r instanceof uu?$0(r,e):n}function Y0(r,e){return r instanceof Ph?(function(s){return Xm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class ou extends sf{}class lu extends sf{constructor(e){super(),this.elements=e}}function X0(r,e){const n=W0(e);for(const s of r.elements)n.some((o=>ki(o,s)))||n.push(s);return{arrayValue:{values:n}}}class uu extends sf{constructor(e){super(),this.elements=e}}function $0(r,e){let n=W0(e);for(const s of r.elements)n=n.filter((o=>!ki(o,s)));return{arrayValue:{values:n}}}class Ph extends sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function PE(r){return yt(r.integerValue||r.doubleValue)}function W0(r){return Dp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class jI{constructor(e,n){this.field=e,this.transform=n}}function qI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof lu&&o instanceof lu||s instanceof uu&&o instanceof uu?vo(s.elements,o.elements,ki):s instanceof Ph&&o instanceof Ph?ki(s.Ae,o.Ae):s instanceof ou&&o instanceof ou})(r.transform,e.transform)}class HI{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class af{}function J0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new eS(r.key,Ni.none()):new vu(r.key,r.data,Ni.none());{const n=r.data,s=Bn.empty();let o=new Ut(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new fa(r.key,s,new ei(o.toArray()),Ni.none())}}function FI(r,e,n){r instanceof vu?(function(o,u,h){const m=o.value.clone(),p=kE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof fa?(function(o,u,h){if(!Eh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=kE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Z0(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Jl(r,e,n,s){return r instanceof vu?(function(u,h,m,p){if(!Eh(u.precondition,h))return m;const g=u.value.clone(),E=LE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof fa?(function(u,h,m,p){if(!Eh(u.precondition,h))return m;const g=LE(u.fieldTransforms,p,h),E=h.data;return E.setAll(Z0(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,h,m){return Eh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function GI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Y0(s.transform,o||null);u!=null&&(n===null&&(n=Bn.empty()),n.set(s.field,u))}return n||null}function UE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,((u,h)=>qI(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class vu extends af{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fa extends af{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Z0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function kE(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,BI(h,m,n[o]))}return s}function LE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,zI(u,h,e))}return s}class eS extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KI extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&FI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=K0();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=J0(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,((n,s)=>UE(n,s)))&&vo(this.baseMutations,e.baseMutations,((n,s)=>UE(n,s)))}}class xp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return xI})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new xp(e,n,s,o)}}class YI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class XI{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Le;function $I(r){switch(r){case Z.OK:return ye(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function tS(r){if(r===void 0)return dr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case It.OK:return Z.OK;case It.CANCELLED:return Z.CANCELLED;case It.UNKNOWN:return Z.UNKNOWN;case It.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case It.INTERNAL:return Z.INTERNAL;case It.UNAVAILABLE:return Z.UNAVAILABLE;case It.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case It.NOT_FOUND:return Z.NOT_FOUND;case It.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case It.ABORTED:return Z.ABORTED;case It.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case It.DATA_LOSS:return Z.DATA_LOSS;default:return ye(39323,{code:r})}}(Le=It||(It={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function WI(){return new TextEncoder}const JI=new os([4294967295,4294967295],0);function zE(r){const e=WI().encode(r),n=new p0;return n.update(e),new Uint8Array(n.digest())}function BE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new os([n,s],0),new os([o,u],0)]}class Pp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=os.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(os.fromNumber(s)));return o.compare(JI)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zE(e),[s,o]=BE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Pp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=zE(e),[s,o]=BE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class of{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new of(Te.min(),o,new ct(xe),mr(),Pe())}}class Eu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Eu(s,n,Pe(),Pe(),Pe())}}class Th{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class nS{constructor(e,n){this.targetId=e,this.Ce=n}}class iS{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class jE{constructor(){this.ve=0,this.Fe=qE(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new Eu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=qE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZI{constructor(e){this.Ge=e,this.ze=new Map,this.je=mr(),this.Je=uh(),this.He=uh(),this.Ye=new ct(xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Wm(u))if(s===0){const h=new me(u.path);this.et(n,h,en.newNoDocument(h,Te.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ds(s).toUint8Array()}catch(p){if(p instanceof C0)return yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Pp(h,o,u)}catch(p){return yo(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Wm(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,en.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new of(e,n,this.Ye,this.je,s);return this.je=mr(),this.Je=uh(),this.He=uh(),this.Ye=new ct(xe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new jE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ut(xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ut(xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new ct(me.comparator)}function qE(){return new ct(me.comparator)}const e2={asc:"ASCENDING",desc:"DESCENDING"},t2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n2={and:"AND",or:"OR"};class i2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ep(r,e){return r.useProto3Json||ef(e)?e:{value:e}}function Uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function r2(r,e){return Uh(r,e.toTimestamp())}function Oi(r){return Ge(!!r,49232),Te.fromTimestamp((function(n){const s=fs(n);return new Fe(s.seconds,s.nanos)})(r))}function Up(r,e){return tp(r,e).canonicalString()}function tp(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function sS(r){const e=tt.fromString(r);return Ge(cS(e),10190,{key:e.toString()}),e}function np(r,e){return Up(r.databaseId,e.path)}function Nm(r,e){const n=sS(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(oS(n))}function aS(r,e){return Up(r.databaseId,e)}function s2(r){const e=sS(r);return e.length===4?tt.emptyPath():oS(e)}function ip(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oS(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function HE(r,e,n){return{name:np(r,e),fields:n.value.mapValue.fields}}function a2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ye(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?Z.UNKNOWN:tS(g.code);return new oe(E,g.message||"")})(h);n=new iS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Nm(r,s.document.name),u=Oi(s.document.updateTime),h=s.document.createTime?Oi(s.document.createTime):Te.min(),m=new Bn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Th(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Nm(r,s.document),u=s.readTime?Oi(s.readTime):Te.min(),h=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Th([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Nm(r,s.document),u=s.removedTargetIds||[];n=new Th([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new XI(o,u),m=s.targetId;n=new nS(m,h)}}return n}function o2(r,e){let n;if(e instanceof vu)n={update:HE(r,e.key,e.value)};else if(e instanceof eS)n={delete:np(r,e.key)};else if(e instanceof fa)n={update:HE(r,e.key,e.data),updateMask:g2(e.fieldMask)};else{if(!(e instanceof KI))return ye(16599,{Vt:e.type});n={verify:np(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof ou)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof lu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof uu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:r2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(r,e.precondition)),n}function l2(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Oi(o.updateTime):Oi(u);return h.isEqual(Te.min())&&(h=Oi(u)),new HI(h,o.transformResults||[])})(n,e)))):[]}function u2(r,e){return{documents:[aS(r,e.path)]}}function c2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=aS(r,o);const u=(function(g){if(g.length!==0)return uS(ni.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(b){return{field:lo(b.field),direction:d2(b.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=ep(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function h2(r){let e=s2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const b=lS(S);return b instanceof ni&&k0(b)?b.getFilters():[b]})(n.where));let h=[];n.orderBy&&(h=(function(S){return S.map((b=>(function(F){return new xh(uo(F.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let b;return b=typeof S=="object"?S.value:S,ef(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(S){const b=!!S.before,P=S.values||[];return new Vh(P,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(S){const b=!S.before,P=S.values||[];return new Vh(P,b)})(n.endAt)),DI(e,o,h,u,m,"F",p,g)}function f2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uo(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=uo(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uo(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=uo(n.unaryFilter.field);return Dt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Dt.create(uo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((s=>lS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(r):ye(30097,{filter:r})}function d2(r){return e2[r]}function m2(r){return t2[r]}function p2(r){return n2[r]}function lo(r){return{fieldPath:r.canonicalString()}}function uo(r){return Xt.fromServerFormat(r.fieldPath)}function uS(r){return r instanceof Dt?(function(n){if(n.op==="=="){if(NE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(DE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(DE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:m2(n.op),value:n.value}}})(r):r instanceof ni?(function(n){const s=n.getFilters().map((o=>uS(o)));return s.length===1?s[0]:{compositeFilter:{op:p2(n.op),filters:s}}})(r):ye(54877,{filter:r})}function g2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class rs{constructor(e,n,s,o,u=Te.min(),h=Te.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _2{constructor(e){this.yt=e}}function y2(r){const e=h2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zm(e,e.limit,"L"):e}class v2{constructor(){this.Cn=new E2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(hs.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class E2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(tt.comparator)).toArray()}}const FE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hS=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(hS,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class So{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new So(0)}static cr(){return new So(-1)}}const GE="LruGarbageCollector",T2=1048576;function KE([r,e],[n,s]){const o=xe(r,n);return o===0?xe(e,s):o}class S2{constructor(e){this.Ir=e,this.buffer=new Ut(KE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();KE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(GE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?le(GE,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Vr(3e5)}))}}class b2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Zh.ce);const s=new S2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(FE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(g=Date.now(),ao()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function w2(r,e){return new b2(r,e)}class R2{constructor(){this.changes=new ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class C2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class I2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Jl(s.mutation,o,ei.empty(),Fe.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Js();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Gl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=mr();const h=Wl(),m=(function(){return Wl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof fa)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Jl(E.mutation,g,E.mutation.getFieldMask(),Fe.now())):h.set(g.key,ei.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new C2(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Wl();let o=new ct(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||ei.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,S)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=K0();E.forEach((b=>{if(!u.has(b)){const P=J0(n.get(b),s.get(b));P!==null&&S.set(b,P),u=u.add(b)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ee.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Js());let m=iu,p=u;return h.next((g=>ee.forEach(g,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((E=>({batchId:m,changes:G0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Gl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const g=(function(S,b){return new yu(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((S,b)=>{h=h.insert(S,b)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,en.newInvalidDocument(E)))}));let m=Gl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Jl(E.mutation,g,ei.empty(),Fe.now()),rf(n,g)&&(m=m.insert(p,g))})),m}))}}class D2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:y2(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),ee.resolve()}}class N2{constructor(){this.overlays=new ct(me.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Js(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Js(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new YI(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class O2{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class kp{constructor(){this.Qr=new Ut(Bt.$r),this.Ur=new Ut(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new tt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new tt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||xe(e.Yr,n.Yr)}static Kr(e,n){return xe(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class M2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(Bt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new QI(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Cp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(xe);return n.forEach((o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new me(u),0);let m=new Ut(xe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class V2{constructor(e){this.ri=e,this.docs=(function(){return new ct(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=mr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=mr();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||oI(aI(E),s)<=0||(o.has(E.key)||rf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new x2(this)}getSize(e){return ee.resolve(this.size)}}class x2 extends R2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class P2{constructor(e){this.persistence=e,this.si=new ha((n=>Np(n)),Op),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new kp,this.targetCount=0,this.ai=So.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new So(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class fS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zh(0),this.li=!1,this.li=!0,this.hi=new O2,this.referenceDelegate=e(this),this.Pi=new P2(this),this.indexManager=new v2,this.remoteDocumentCache=(function(o){return new V2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new _2(n),this.Ii=new D2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new N2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new M2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new U2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class U2 extends uI{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Ri=new kp,this.Vi=null}static mi(e){return new Lp(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class kh{constructor(e,n){this.persistence=e,this.pi=new ha((s=>fI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=w2(this,n)}static mi(e,n){return new kh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class zp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new zp(e,n.fromCache,s,o)}}class k2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class L2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return I1()?8:cI(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new k2;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(ao()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(ao()<=Ve.DEBUG&&le("QueryEngine","Query:",oo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ao()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):ee.resolve())}ys(e,n){if(xE(n))return ee.resolve(null);let s=Di(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Zm(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Zm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return xE(n)||o.isEqual(Te.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ee.resolve(null):(ao()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(n)),this.vs(e,h,n,sI(o,iu)).next((m=>m)))}))}Ds(e,n){let s=new Ut(H0(e));return n.forEach(((o,u)=>{rf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ao()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",oo(n)),this.ps.getDocumentsMatchingQuery(e,n,hs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Bp="LocalStore",z2=3e8;class B2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(xe),this.xs=new ha((u=>Np(u)),Op),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function j2(r,e,n,s){return new B2(r,e,n,s)}async function dS(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function q2(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const S=g.batch,b=S.keys();let P=ee.resolve();return b.forEach((F=>{P=P.next((()=>E.getEntry(p,F))).next((Y=>{const L=g.docVersions.get(F);Ge(L!==null,48541),Y.version.compareTo(L)<0&&(S.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function mS(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function H2(r,e){const n=be(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,S)=>{const b=o.get(S);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let P=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken($t.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),(function(Y,L,te){return Y.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=z2?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(b,P,E)&&m.push(n.Pi.updateTargetData(u,P))}));let p=mr(),g=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(F2(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Te.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function F2(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=mr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(Bp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function G2(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Cp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function K2(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new rs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function rp(r,e,n){const s=be(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Io(h))throw h;le(Bp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function QE(r,e,n){const s=be(r);let o=Te.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const S=be(p),b=S.xs.get(E);return b!==void 0?ee.resolve(S.Ms.get(b)):S.Pi.getTargetData(g,E)})(s,h,Di(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Te.min(),n?u:Pe()))).next((m=>(Q2(s,OI(e),m),{documents:m,Qs:u})))))}function Q2(r,e,n){let s=r.Os.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class YE{constructor(){this.activeTargetIds=kI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y2{constructor(){this.Mo=new YE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X2{Oo(e){}shutdown(){}}const XE="ConnectivityMonitor";class $E{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(XE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(XE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ch=null;function sp(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}const Om="RestConnection",$2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=sp(),m=this.zo(e,n.toUriEncodedString());le(Om,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=_s(g);return this.Jo(e,m,p,s,E).then((S=>(le(Om,`Received RPC '${e}' ${h}: `,S),S)),(S=>{throw yo(Om,`RPC '${e}' ${h} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=$2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class J2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class Z2 extends W2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=sp();return new Promise(((m,p)=>{const g=new g0;g.setWithCredentials(!0),g.listenOnce(_0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case _h.NO_ERROR:const S=g.getResponseJson();le(Jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),m(S);break;case _h.TIMEOUT:le(Jt,`RPC '${e}' ${h} timed out`),p(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const b=g.getStatus();if(le(Jt,`RPC '${e}' ${h} failed with status:`,b,"response text:",g.getResponseText()),b>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const F=P?.error;if(F&&F.status&&F.message){const Y=(function(te){const ne=te.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ne)>=0?ne:Z.UNKNOWN})(F.status);p(new oe(Y,F.message))}else p(new oe(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Jt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);le(Jt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=sp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=E0(),m=v0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=h.createWebChannel(E,p);this.I_(S);let b=!1,P=!1;const F=new J2({Yo:L=>{P?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(b||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),b=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,L),S.send(L))},Zo:()=>S.close()}),Y=(L,te,ne)=>{L.listen(te,(ie=>{try{ne(ie)}catch(fe){setTimeout((()=>{throw fe}),0)}}))};return Y(S,Fl.EventType.OPEN,(()=>{P||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),Y(S,Fl.EventType.CLOSE,(()=>{P||(P=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(S))})),Y(S,Fl.EventType.ERROR,(L=>{P||(P=!0,yo(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),F.a_(new oe(Z.UNAVAILABLE,"The operation could not be completed")))})),Y(S,Fl.EventType.MESSAGE,(L=>{if(!P){const te=L.data[0];Ge(!!te,16349);const ne=te,ie=ne?.error||ne[0]?.error;if(ie){le(Jt,`RPC '${e}' stream ${o} received error:`,ie);const fe=ie.status;let Se=(function(w){const R=It[w];if(R!==void 0)return tS(R)})(fe),Ee=ie.message;Se===void 0&&(Se=Z.INTERNAL,Ee="Unknown error status: "+fe+" with message "+ie.message),P=!0,F.a_(new oe(Se,Ee)),S.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,te),F.u_(te)}})),Y(m,y0.STAT_EVENT,(L=>{L.stat===Km.PROXY?le(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Km.NOPROXY&&le(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mm(){return typeof document<"u"?document:null}function lf(r){return new i2(r,!0)}class pS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const WE="PersistentStream";class gS{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(WE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(WE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eD extends gS{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=a2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Oi(h.readTime):Te.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ip(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Wm(p)?{documents:u2(u,p)}:{query:c2(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=rS(u,h.resumeToken);const g=ep(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Te.min())>0){m.readTime=Uh(u,h.snapshotVersion.toTimestamp());const g=ep(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=f2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.q_(n)}}class tD extends gS{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=l2(e.writeResults,e.commitTime),s=Oi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ip(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>o2(this.serializer,s)))};this.q_(n)}}class nD{}class iD extends nD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,tp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,tp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(Z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class sD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{da(this)&&(le(ra,"Restarting streams for network reachability change."),await(async function(p){const g=be(p);g.Ea.add(4),await Tu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await uf(g)})(this))}))})),this.Ra=new rD(s,o)}}async function uf(r){if(da(r))for(const e of r.da)await e(!0)}async function Tu(r){for(const e of r.da)await e(!1)}function _S(r,e){const n=be(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Fp(n)?Hp(n):Do(n).O_()&&qp(n,e))}function jp(r,e){const n=be(r),s=Do(n);n.Ia.delete(e),s.O_()&&yS(n,e),n.Ia.size===0&&(s.O_()?s.L_():da(n)&&n.Ra.set("Unknown"))}function qp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(r).Y_(e)}function yS(r,e){r.Va.Ue(e),Do(r).Z_(e)}function Hp(r){r.Va=new ZI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Do(r).start(),r.Ra.ua()}function Fp(r){return da(r)&&!Do(r).x_()&&r.Ia.size>0}function da(r){return be(r).Ea.size===0}function vS(r){r.Va=void 0}async function aD(r){r.Ra.set("Online")}async function oD(r){r.Ia.forEach(((e,n)=>{qp(r,e)}))}async function lD(r,e){vS(r),Fp(r)?(r.Ra.ha(e),Hp(r)):r.Ra.set("Unknown")}async function uD(r,e,n){if(r.Ra.set("Online"),e instanceof iS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lh(r,s)}else if(e instanceof Th?r.Va.Ze(e):e instanceof nS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Te.min()))try{const s=await mS(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),yS(u,p);const S=new rs(E.target,p,g,E.sequenceNumber);qp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(ra,"Failed to raise snapshot:",s),await Lh(r,s)}}async function Lh(r,e,n){if(!Io(e))throw e;r.Ea.add(1),await Tu(r),r.Ra.set("Offline"),n||(n=()=>mS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(ra,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await uf(r)}))}function ES(r,e){return e().catch((n=>Lh(r,n,e)))}async function cf(r){const e=be(r),n=ps(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cp;for(;cD(e);)try{const o=await G2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,hD(e,o)}catch(o){await Lh(e,o)}TS(e)&&SS(e)}function cD(r){return da(r)&&r.Ta.length<10}function hD(r,e){r.Ta.push(e);const n=ps(r);n.O_()&&n.X_&&n.ea(e.mutations)}function TS(r){return da(r)&&!ps(r).x_()&&r.Ta.length>0}function SS(r){ps(r).start()}async function fD(r){ps(r).ra()}async function dD(r){const e=ps(r);for(const n of r.Ta)e.ea(n.mutations)}async function mD(r,e,n){const s=r.Ta.shift(),o=xp.from(s,e,n);await ES(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await cf(r)}async function pD(r,e){e&&ps(r).X_&&await(async function(s,o){if((function(h){return $I(h)&&h!==Z.ABORTED})(o.code)){const u=s.Ta.shift();ps(s).B_(),await ES(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await cf(s)}})(r,e),TS(r)&&SS(r)}async function JE(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),le(ra,"RemoteStore received new credentials");const s=da(n);n.Ea.add(3),await Tu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await uf(n)}async function gD(r,e){const n=be(r);e?(n.Ea.delete(2),await uf(n)):e||(n.Ea.add(2),await Tu(n),n.Ra.set("Unknown"))}function Do(r){return r.ma||(r.ma=(function(n,s,o){const u=be(n);return u.sa(),new eD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:aD.bind(null,r),t_:oD.bind(null,r),r_:lD.bind(null,r),H_:uD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Fp(r)?Hp(r):r.Ra.set("Unknown")):(await r.ma.stop(),vS(r))}))),r.ma}function ps(r){return r.fa||(r.fa=(function(n,s,o){const u=be(n);return u.sa(),new tD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:fD.bind(null,r),r_:pD.bind(null,r),ta:dD.bind(null,r),na:mD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await cf(r)):(await r.fa.stop(),r.Ta.length>0&&(le(ra,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Gp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Gp(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(r,e){if(dr("AsyncQueue",`${e}: ${r}`),Io(r))return new oe(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class ZE{constructor(){this.ga=new ct(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ao{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Ao(e,n,fo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class _D{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yD{constructor(){this.queries=eT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=eT(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function eT(){return new ha((r=>q0(r)),nf)}async function AS(r,e){const n=be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new _D,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Kp(h,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Qp(n)}async function bS(r,e){const n=be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function vD(r,e){const n=be(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Qp(n)}function ED(r,e,n){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Qp(r){r.Ca.forEach((e=>{e.next()}))}var ap,tT;(tT=ap||(ap={})).Ma="default",tT.Cache="cache";class wS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ap.Cache}}class RS{constructor(e){this.key=e}}class CS{constructor(e){this.key=e}}class TD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=H0(e),this.tu=new fo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new ZE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const b=o.get(E),P=rf(this.query,S)?S:null,F=!!b&&this.mutatedKeys.has(b.key),Y=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let L=!1;b&&P?b.data.isEqual(P.data)?F!==Y&&(s.track({type:3,doc:P}),L=!0):this.su(b,P)||(s.track({type:2,doc:P}),L=!0,(p&&this.eu(P,p)>0||g&&this.eu(P,g)<0)&&(m=!0)):!b&&P?(s.track({type:0,doc:P}),L=!0):b&&!P&&(s.track({type:1,doc:b}),L=!0,(p||g)&&(m=!0)),L&&(P?(h=h.add(P),u=Y?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,S)=>(function(P,F){const Y=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:L})}};return Y(P)-Y(F)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Ao(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new CS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new RS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yp="SyncEngine";class SD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class AD{constructor(e){this.key=e,this.hu=!1}}class bD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ha((m=>q0(m)),nf),this.Iu=new Map,this.Eu=new Set,this.du=new ct(me.comparator),this.Au=new Map,this.Ru=new kp,this.Vu={},this.mu=new Map,this.fu=So.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wD(r,e,n=!0){const s=VS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await IS(s,e,n,!0),o}async function RD(r,e){const n=VS(r);await IS(n,e,!0,!1)}async function IS(r,e,n,s){const o=await K2(r.localStore,Di(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await CD(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&_S(r.remoteStore,o),m}async function CD(r,e,n,s,o){r.pu=(S,b,P)=>(async function(Y,L,te,ne){let ie=L.view.ru(te);ie.Cs&&(ie=await QE(Y.localStore,L.query,!1).then((({documents:D})=>L.view.ru(D,ie))));const fe=ne&&ne.targetChanges.get(L.targetId),Se=ne&&ne.targetMismatches.get(L.targetId)!=null,Ee=L.view.applyChanges(ie,Y.isPrimaryClient,fe,Se);return iT(Y,L.targetId,Ee.au),Ee.snapshot})(r,S,b,P);const u=await QE(r.localStore,e,!0),h=new TD(e,u.Qs),m=h.ru(u.documents),p=Eu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);iT(r,n,g.au);const E=new SD(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function ID(r,e,n){const s=be(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!nf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await rp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&jp(s.remoteStore,o.targetId),op(s,o.targetId)})).catch(Co)):(op(s,o.targetId),await rp(s.localStore,o.targetId,!0))}async function DD(r,e){const n=be(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jp(n.remoteStore,s.targetId))}async function ND(r,e,n){const s=kD(r);try{const o=await(function(h,m){const p=be(h),g=Fe.now(),E=m.reduce(((P,F)=>P.add(F.key)),Pe());let S,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let F=mr(),Y=Pe();return p.Ns.getEntries(P,E).next((L=>{F=L,F.forEach(((te,ne)=>{ne.isValidDocument()||(Y=Y.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,F))).next((L=>{S=L;const te=[];for(const ne of m){const ie=GI(ne,S.get(ne.key).overlayedDocument);ie!=null&&te.push(new fa(ne.key,ie,x0(ie.value.mapValue),Ni.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,te,m)})).next((L=>{b=L;const te=L.applyToLocalDocumentSet(S,Y);return p.documentOverlayCache.saveOverlays(P,L.batchId,te)}))})).then((()=>({batchId:b.batchId,changes:G0(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ct(xe)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Su(s,o.changes),await cf(s.remoteStore)}catch(o){const u=Kp(o,"Failed to persist write");n.reject(u)}}async function DS(r,e){const n=be(r);try{const s=await H2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await Su(n,s,e)}catch(s){await Co(s)}}function nT(r,e,n){const s=be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=be(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,S)=>{for(const b of S.Sa)b.va(m)&&(g=!0)})),g&&Qp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function OD(r,e,n){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ct(me.comparator);h=h.insert(u,en.newNoDocument(u,Te.min()));const m=Pe().add(u),p=new of(Te.min(),new Map,new ct(xe),h,m);await DS(s,p),s.du=s.du.remove(u),s.Au.delete(e),Xp(s)}else await rp(s.localStore,e,!1).then((()=>op(s,e,n))).catch(Co)}async function MD(r,e){const n=be(r),s=e.batch.batchId;try{const o=await q2(n.localStore,e);OS(n,s,null),NS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Su(n,o)}catch(o){await Co(o)}}async function VD(r,e,n){const s=be(r);try{const o=await(function(h,m){const p=be(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((S=>(Ge(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);OS(s,e,n),NS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Su(s,o)}catch(o){await Co(o)}}function NS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function OS(r,e,n){const s=be(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function op(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||MS(r,s)}))}function MS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(jp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Xp(r))}function iT(r,e,n){for(const s of n)s instanceof RS?(r.Ru.addReference(s.key,e),xD(r,s)):s instanceof CS?(le(Yp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||MS(r,s.key)):ye(19791,{wu:s})}function xD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(Yp,"New document in limbo: "+n),r.Eu.add(s),Xp(r))}function Xp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new AD(n)),r.du=r.du.insert(n,s),_S(r.remoteStore,new rs(Di(Mp(n.path)),s,"TargetPurposeLimboResolution",Zh.ce))}}async function Su(r,e,n){const s=be(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=zp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ee.forEach(g,(b=>ee.forEach(b.Es,(P=>E.persistence.referenceDelegate.addReference(S,b.targetId,P))).next((()=>ee.forEach(b.ds,(P=>E.persistence.referenceDelegate.removeReference(S,b.targetId,P)))))))))}catch(S){if(!Io(S))throw S;le(Bp,"Failed to update sequence numbers: "+S)}for(const S of g){const b=S.targetId;if(!S.fromCache){const P=E.Ms.get(b),F=P.snapshotVersion,Y=P.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(b,Y)}}})(s.localStore,u))}async function PD(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){le(Yp,"User change. New user:",e.toKey());const s=await dS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(Z.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Su(n,s.Ls)}}function UD(r,e){const n=be(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function VS(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=DS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OD.bind(null,e),e.Pu.H_=vD.bind(null,e.eventManager),e.Pu.yu=ED.bind(null,e.eventManager),e}function kD(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VD.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return j2(this.persistence,new L2,e.initialUser,this.serializer)}Cu(e){return new fS(Lp.mi,this.serializer)}Du(e){return new Y2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class LD extends zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof kh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new A2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new fS((s=>kh.mi(s,n)),this.serializer)}}class lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=PD.bind(null,this.syncEngine),await gD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yD})()}createDatastore(e){const n=lf(e.databaseInfo.databaseId),s=(function(u){return new Z2(u)})(e.databaseInfo);return(function(u,h,m,p){return new iD(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new sD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>nT(this.syncEngine,n,0)),(function(){return $E.v()?new $E:new X2})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const S=new bD(o,u,h,m,p,g);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=be(n);le(ra,"RemoteStore shutting down."),s.Ea.add(5),await Tu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lp.provider={build:()=>new lp};class xS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const gs="FirestoreClient";class zD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(gs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(gs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Kp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Vm(r,e){r.asyncQueue.verifyOperationInProgress(),le(gs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await dS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function rT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await BD(r);le(gs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>JE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>JE(e.remoteStore,o))),r._onlineComponents=e}async function BD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(gs,"Using user provided OfflineComponentProvider");try{await Vm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await Vm(r,new zh)}}else le(gs,"Using default OfflineComponentProvider"),await Vm(r,new LD(void 0));return r._offlineComponents}async function PS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(gs,"Using user provided OnlineComponentProvider"),await rT(r,r._uninitializedComponentsProvider._online)):(le(gs,"Using default OnlineComponentProvider"),await rT(r,new lp))),r._onlineComponents}function jD(r){return PS(r).then((e=>e.syncEngine))}async function US(r){const e=await PS(r),n=e.eventManager;return n.onListen=wD.bind(null,e.syncEngine),n.onUnlisten=ID.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DD.bind(null,e.syncEngine),n}function qD(r,e,n={}){const s=new lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new xS({next:b=>{E.Nu(),h.enqueueAndForget((()=>bS(u,S)));const P=b.docs.has(m);!P&&b.fromCache?g.reject(new oe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&b.fromCache&&p&&p.source==="server"?g.reject(new oe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),S=new wS(Mp(m.path),E,{includeMetadataChanges:!0,qa:!0});return AS(u,S)})(await US(r),r.asyncQueue,e,n,s))),s.promise}function HD(r,e,n={}){const s=new lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new xS({next:b=>{E.Nu(),h.enqueueAndForget((()=>bS(u,S))),b.fromCache&&p.source==="server"?g.reject(new oe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),S=new wS(m,E,{includeMetadataChanges:!0,qa:!0});return AS(u,S)})(await US(r),r.asyncQueue,e,n,s))),s.promise}function kS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const sT=new Map;const LS="firestore.googleapis.com",aT=!0;class oT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LS,this.ssl=aT}else this.host=e.host,this.ssl=e.ssl??aT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T2)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new YC;switch(s.type){case"firstParty":return new JC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=sT.get(n);s&&(le("ComponentProvider","Removing Datastore"),sT.delete(n),s.terminate())})(this),Promise.resolve()}}function FD(r,e,n,s={}){r=cs(r,hf);const o=_s(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Ep(`https://${m}`),Tp("Firestore",!0)),u.host!==LS&&u.host!==m&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ta(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Zt.MOCK_USER;else{g=u0(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(S)}r._authCredentials=new XC(new S0(g,E))}}class No{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class Ot{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(_u(n,Ot._jsonSchema))return new Ot(e,s||null,new me(tt.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Nt("string",Ot._jsonSchemaVersion),referencePath:Nt("string")};class ls extends No{constructor(e,n,s){super(e,n,Mp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new me(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function Oo(r,e,...n){if(r=jt(r),A0("collection","path",e),r instanceof hf){const s=tt.fromString(e,...n);return EE(s),new ls(r,null,s)}{if(!(r instanceof Ot||r instanceof ls))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return EE(s),new ls(r.firestore,null,s)}}function ff(r,e,...n){if(r=jt(r),arguments.length===1&&(e=Rp.newId()),A0("doc","path",e),r instanceof hf){const s=tt.fromString(e,...n);return vE(s),new Ot(r,null,new me(s))}{if(!(r instanceof Ot||r instanceof ls))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return vE(s),new Ot(r.firestore,r instanceof ls?r.converter:null,new me(s))}}const lT="AsyncQueue";class uT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pS(this,"async_queue_retry"),this._c=()=>{const s=Mm();s&&le(lT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;le(lT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",cT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Gp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:cT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Au extends hf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new uT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uT(e),this._firestoreClient=void 0,await e}}}function GD(r,e){const n=typeof r=="object"?r:bp(),s=typeof r=="string"?r:Oh,o=Wh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=a0("firestore");u&&FD(o,...u)}return o}function $p(r){if(r._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||KD(r),r._firestoreClient}function KD(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new pI(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,kS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new zD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn($t.fromBase64String(e))}catch(n){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_u(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Nt("string",jn._jsonSchemaVersion),bytes:Nt("string")};class Wp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jp{constructor(e){this._methodName=e}}class Mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(_u(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Nt("string",Mi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class Vi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_u(e,Vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Vi(e.vectorValues);throw new oe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Nt("string",Vi._jsonSchemaVersion),vectorValues:Nt("object")};const QD=/^__.*__$/;class YD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}function zS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:r})}}class Zp{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zS(this.Ac)&&QD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||lf(e)}Cc(e,n,s,o=!1){return new Zp({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eg(r){const e=r._freezeSettings(),n=lf(r._databaseId);return new XD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function BS(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);HS("Data must be an object, but it was:",h,s);const m=jS(s,h);let p,g;if(u.merge)p=new ei(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const b=WD(e,S,n);if(!h.contains(b))throw new oe(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ZD(E,b)||E.push(b)}p=new ei(E),g=h.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,g=h.fieldTransforms;return new YD(new Bn(m),p,g)}class tg extends Jp{_toFieldTransform(e){return new jI(e.path,new ou)}isEqual(e){return e instanceof tg}}function $D(r,e,n,s=!1){return ng(n,r.Cc(s?4:3,e))}function ng(r,e){if(qS(r=jt(r)))return HS("Unsupported field value:",e,r),jS(r,e);if(r instanceof Jp)return(function(s,o){if(!zS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=ng(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return LI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Fe.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof Fe){const u=new Fe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:rS(o.serializer,s._byteString)};if(s instanceof Ot){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Up(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vi)return(function(h,m){return{mapValue:{fields:{[M0]:{stringValue:V0},[Mh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Vp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Jh(s)}`)})(r,e)}function jS(r,e){const n={};return R0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(r,((s,o)=>{const u=ng(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function qS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Fe||r instanceof Mi||r instanceof jn||r instanceof Ot||r instanceof Jp||r instanceof Vi)}function HS(r,e,n){if(!qS(n)||!b0(n)){const s=Jh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function WD(r,e,n){if((e=jt(e))instanceof Wp)return e._internalPath;if(typeof e=="string")return FS(r,e);throw Bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const JD=new RegExp("[~\\*/\\[\\]]");function FS(r,e,n){if(e.search(JD)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Wp(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Bh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(Z.INVALID_ARGUMENT,m+r+p)}function ZD(r,e){return r.some((n=>n.isEqual(e)))}class GS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ig("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eN extends GS{data(){return super.data()}}function ig(r,e){return typeof e=="string"?FS(r,e):e instanceof Wp?e._internalPath:e._delegate._internalPath}function tN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rg{}class nN extends rg{}function KS(r,e,...n){let s=[];e instanceof rg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof sg)).length,m=u.filter((p=>p instanceof df)).length;if(h>1||h>0&&m>0)throw new oe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class df extends nN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new df(e,n,s)}_apply(e){const n=this._parse(e);return YS(e._query,n),new No(e.firestore,e.converter,Jm(e._query,n))}_parse(e){const n=eg(e.firestore);return(function(u,h,m,p,g,E,S){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){fT(S,E);const F=[];for(const Y of S)F.push(hT(p,u,Y));b={arrayValue:{values:F}}}else b=hT(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||fT(S,E),b=$D(m,h,S,E==="in"||E==="not-in");return Dt.create(g,E,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function QS(r,e,n){const s=e,o=ig("where",r);return df._create(o,s,n)}class sg extends rg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)YS(h,p),h=Jm(h,p)})(e._query,n),new No(e.firestore,e.converter,Jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hT(r,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new oe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j0(e)&&n.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return IE(r,new me(s))}if(n instanceof Ot)return IE(r,n._key);throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(n)}.`)}function fT(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YS(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iN{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ca(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Mh].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new Vi(n)}convertGeoPoint(e){return new Mi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=tf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const n=fs(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ge(cS(s),9688,{name:e});const o=new su(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function XS(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zs extends GS{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ig("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:Nt("string",Zs._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Sh extends Zs{data(e={}){return super.data(e)}}class mo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Sh(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:rN(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}function sN(r){r=cs(r,Ot);const e=cs(r.firestore,Au);return qD($p(e),r._key).then((n=>aN(e,r,n)))}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:Nt("string",mo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class $S extends iN{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function ag(r){r=cs(r,No);const e=cs(r.firestore,Au),n=$p(e),s=new $S(e);return tN(r._query),HD(n,r._query).then((o=>new mo(e,s,r,o)))}function WS(r,e,n){r=cs(r,Ot);const s=cs(r.firestore,Au),o=XS(r.converter,e);return JS(s,[BS(eg(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ni.none())])}function og(r,e){const n=cs(r.firestore,Au),s=ff(r),o=XS(r.converter,e);return JS(n,[BS(eg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Ni.exists(!1))]).then((()=>s))}function JS(r,e){return(function(s,o){const u=new lr;return s.asyncQueue.enqueueAndForget((async()=>ND(await jD(s),o,u))),u.promise})($p(r),e)}function aN(r,e,n){const s=n.docs.get(e._key),o=new $S(r);return new Zs(r,o,e._key,s,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}function oN(){return new tg("serverTimestamp")}(function(e,n=!0){(function(o){Ro=o})(ua),na(new us("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Au(new $C(s.getProvider("auth-internal")),new ZC(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ii(pE,gE,e),Ii(pE,gE,"esm2020")})();function ZS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lN=ZS,eA=new pu("auth","Firebase",ZS());const jh=new Sp("@firebase/auth");function uN(r,...e){jh.logLevel<=Ve.WARN&&jh.warn(`Auth (${ua}): ${r}`,...e)}function Ah(r,...e){jh.logLevel<=Ve.ERROR&&jh.error(`Auth (${ua}): ${r}`,...e)}function ii(r,...e){throw lg(r,...e)}function xi(r,...e){return lg(r,...e)}function tA(r,e,n){const s={...lN(),[e]:n};return new pu("auth","Firebase",s).create(e,{appName:r.name})}function ur(r){return tA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return eA.create(r,...e)}function _e(r,e,...n){if(!r)throw lg(e,...n)}function sr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ah(e),new Error(e)}function pr(r,e){r||sr(e)}function up(){return typeof self<"u"&&self.location?.href||""}function cN(){return dT()==="http:"||dT()==="https:"}function dT(){return typeof self<"u"&&self.location?.protocol||null}function hN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cN()||w1()||"connection"in navigator)?navigator.onLine:!0}function fN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=S1()||R1()}get(){return hN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ug(r,e){pr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class nA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pN=new bu(3e4,6e4);function ys(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function vs(r,e,n,s,o={}){return iA(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=gu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return b1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&_s(r.emulatorConfig.host)&&(g.credentials="include"),nA.fetch()(await rA(r,r.config.apiHost,n,m),g)})}async function iA(r,e,n){r._canInitEmulator=!1;const s={...dN,...e};try{const o=new _N(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw hh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw hh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw hh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw tA(r,E,g);ii(r,E)}}catch(o){if(o instanceof zi)throw o;ii(r,"network-request-failed",{message:String(o)})}}async function wu(r,e,n,s,o={}){const u=await vs(r,e,n,s,o);return"mfaPendingCredential"in u&&ii(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function rA(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?ug(r.config,o):`${r.config.apiScheme}://${o}`;return mN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function gN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _N{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(xi(this.auth,"network-request-failed")),pN.get())})}}function hh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=xi(r,e,s);return o.customData._tokenResponse=n,o}function mT(r){return r!==void 0&&r.enterprise!==void 0}class yN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return gN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vN(r,e){return vs(r,"GET","/v2/recaptchaConfig",ys(r,e))}async function EN(r,e){return vs(r,"POST","/v1/accounts:delete",e)}async function qh(r,e){return vs(r,"POST","/v1/accounts:lookup",e)}function Zl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TN(r,e=!1){const n=jt(r),s=await n.getIdToken(e),o=cg(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Zl(xm(o.auth_time)),issuedAtTime:Zl(xm(o.iat)),expirationTime:Zl(xm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function xm(r){return Number(r)*1e3}function cg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=r0(n);return o?JSON.parse(o):(Ah("Failed to decode base64 JWT payload"),null)}catch(o){return Ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function pT(r){const e=cg(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function cu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof zi&&SN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function SN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class AN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hh(r){const e=r.auth,n=await r.getIdToken(),s=await cu(r,qh(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?sA(o.providerUserInfo):[],h=wN(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function bN(r){const e=jt(r);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function sA(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function RN(r,e){const n=await iA(r,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await rA(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&_s(r.emulatorConfig.host)&&(p.credentials="include"),nA.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CN(r,e){return vs(r,"POST","/v2/accounts:revokeToken",ys(r,e))}class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=pT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await RN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new po;return s&&(_e(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return sr("not implemented")}}function Jr(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new AN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await cu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TN(this,e)}reload(){return bN(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await cu(this,EN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:b,isAnonymous:P,providerData:F,stsTokenManager:Y}=n;_e(S&&Y,e,"internal-error");const L=po.fromJSON(this.name,Y);_e(typeof S=="string",e,"internal-error"),Jr(s,e.name),Jr(o,e.name),_e(typeof b=="boolean",e,"internal-error"),_e(typeof P=="boolean",e,"internal-error"),Jr(u,e.name),Jr(h,e.name),Jr(m,e.name),Jr(p,e.name),Jr(g,e.name),Jr(E,e.name);const te=new ti({uid:S,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:P,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:g,lastLoginAt:E});return F&&Array.isArray(F)&&(te.providerData=F.map(ne=>({...ne}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new po;o.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Hh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?sA(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new po;m.updateFromIdToken(s);const p=new ti({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const gT=new Map;function ar(r){pr(r instanceof Function,"Expected a class definition");let e=gT.get(r);return e?(pr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,gT.set(r,e),e)}class aA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aA.type="NONE";const _T=aA;function bh(r,e,n){return`firebase:${r}:${e}:${n}`}class go{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=bh(this.userKey,o.apiKey,u),this.fullPersistenceKey=bh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qh(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new go(ar(_T),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ar(_T);const h=bh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let S;if(typeof E=="string"){const b=await qh(e,{idToken:E}).catch(()=>{});if(!b)break;S=await ti._fromGetAccountInfoResponse(e,b,E)}else S=ti._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new go(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new go(u,e,s))}}function yT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fA(e))return"Blackberry";if(dA(e))return"Webos";if(lA(e))return"Safari";if((e.includes("chrome/")||uA(e))&&!e.includes("edge/"))return"Chrome";if(hA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function oA(r=tn()){return/firefox\//i.test(r)}function lA(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uA(r=tn()){return/crios\//i.test(r)}function cA(r=tn()){return/iemobile/i.test(r)}function hA(r=tn()){return/android/i.test(r)}function fA(r=tn()){return/blackberry/i.test(r)}function dA(r=tn()){return/webos/i.test(r)}function hg(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function IN(r=tn()){return hg(r)&&!!window.navigator?.standalone}function DN(){return C1()&&document.documentMode===10}function mA(r=tn()){return hg(r)||hA(r)||dA(r)||fA(r)||/windows phone/i.test(r)||cA(r)}function pA(r,e=[]){let n;switch(r){case"Browser":n=yT(tn());break;case"Worker":n=`${yT(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ua}/${s}`}class NN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function ON(r,e={}){return vs(r,"GET","/v2/passwordPolicy",ys(r,e))}const MN=6;class VN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??MN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class xN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vT(this),this.idTokenSubscription=new vT(this),this.beforeStateQueue=new NN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qh(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(ur(this));const n=e?jt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ON(this),n=new VN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await CN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ma(r){return jt(r)}class vT{constructor(e){this.auth=e,this.observer=null,this.addObserver=P1(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PN(r){mf=r}function gA(r){return mf.loadJS(r)}function UN(){return mf.recaptchaEnterpriseScript}function kN(){return mf.gapiScript}function LN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class zN{constructor(){this.enterprise=new BN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class BN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const jN="recaptcha-enterprise",_A="NO_RECAPTCHA";class qN{constructor(e){this.type=jN,this.auth=ma(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{vN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new yN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;mT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(_A)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zN().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&mT(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=UN();p.length!==0&&(p+=m),gA(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function ET(r,e,n,s=!1,o=!1){const u=new qN(r);let h;if(o)h=_A;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function hp(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ET(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await ET(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function HN(r,e){const n=Wh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ta(u,e??{}))return o;ii(o,"already-initialized")}return n.initialize({options:e})}function FN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ar);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function GN(r,e,n){const s=ma(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=yA(e),{host:h,port:m}=KN(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(ta(g,s.config.emulator)&&ta(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,_s(h)?(Ep(`${u}//${h}${p}`),Tp("Auth",!0)):QN()}function yA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function KN(r){const e=yA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:TT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:TT(h)}}}function TT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function QN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class fg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function YN(r,e){return vs(r,"POST","/v1/accounts:signUp",e)}async function XN(r,e){return wu(r,"POST","/v1/accounts:signInWithPassword",ys(r,e))}async function $N(r,e){return wu(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}async function WN(r,e){return wu(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}class hu extends fg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new hu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new hu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,n,"signInWithPassword",XN);case"emailLink":return $N(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,s,"signUpPassword",YN);case"emailLink":return WN(e,{idToken:n,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function _o(r,e){return wu(r,"POST","/v1/accounts:signInWithIdp",ys(r,e))}const JN="http://localhost";class sa extends fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new sa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:JN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}function ZN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eO(r){const e=ql(Hl(r)).link,n=e?ql(Hl(e)).deep_link_id:null,s=ql(Hl(r)).deep_link_id;return(s?ql(Hl(s)).link:null)||s||n||e||r}class dg{constructor(e){const n=ql(Hl(e)),s=n.apiKey??null,o=n.oobCode??null,u=ZN(n.mode??null);_e(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=eO(e);try{return new dg(n)}catch{return null}}}class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,n){return hu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=dg.parseLink(n);return _e(s,"argument-error"),hu._fromEmailAndCode(e,s.code,s.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ru extends vA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zr extends Ru{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";class es extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return es.credential(n,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";class ts extends Ru{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";class ns extends Ru{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";async function tO(r,e){return wu(r,"POST","/v1/accounts:signUp",ys(r,e))}class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ti._fromIdTokenResponse(e,s,o),h=ST(s);return new aa({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=ST(s);return new aa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function ST(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Fh extends zi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Fh(e,n,s,o)}}function EA(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(r,u,e,s):u})}async function nO(r,e,n=!1){const s=await cu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return aa._forOperation(r,"link",s)}async function iO(r,e,n=!1){const{auth:s}=r;if(wn(s.app))return Promise.reject(ur(s));const o="reauthenticate";try{const u=await cu(r,EA(s,o,e,r),n);_e(u.idToken,s,"internal-error");const h=cg(u.idToken);_e(h,s,"internal-error");const{sub:m}=h;return _e(r.uid===m,s,"user-mismatch"),aa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ii(s,"user-mismatch"),u}}async function TA(r,e,n=!1){if(wn(r.app))return Promise.reject(ur(r));const s="signIn",o=await EA(r,s,e),u=await aa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function rO(r,e){return TA(ma(r),e)}async function SA(r){const e=ma(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AA(r,e,n){if(wn(r.app))return Promise.reject(ur(r));const s=ma(r),h=await hp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&SA(r),p}),m=await aa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function sO(r,e,n){return wn(r.app)?Promise.reject(ur(r)):rO(jt(r),Mo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&SA(r),s})}function aO(r,e,n,s){return jt(r).onIdTokenChanged(e,n,s)}function oO(r,e,n){return jt(r).beforeAuthStateChanged(e,n)}function lO(r,e,n,s){return jt(r).onAuthStateChanged(e,n,s)}const Gh="__sak";class bA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const uO=1e3,cO=10;class wA extends bA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);DN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},uO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wA.type="LOCAL";const hO=wA;class RA extends bA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RA.type="SESSION";const CA=RA;function fO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new pf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await fO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];function mg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class dO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=mg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Pi(){return window}function mO(r){Pi().location.href=r}function IA(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function pO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gO(){return navigator?.serviceWorker?.controller||null}function _O(){return IA()?self:null}const DA="firebaseLocalStorageDb",yO=1,Kh="firebaseLocalStorage",NA="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(r,e){return r.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function vO(){const r=indexedDB.deleteDatabase(DA);return new Cu(r).toPromise()}function fp(){const r=indexedDB.open(DA,yO);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Kh,{keyPath:NA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Kh)?e(s):(s.close(),await vO(),e(await fp()))})})}async function AT(r,e,n){const s=gf(r,!0).put({[NA]:e,value:n});return new Cu(s).toPromise()}async function EO(r,e){const n=gf(r,!1).get(e),s=await new Cu(n).toPromise();return s===void 0?null:s.value}function bT(r,e){const n=gf(r,!0).delete(e);return new Cu(n).toPromise()}const TO=800,SO=3;class OA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>SO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(_O()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pO(),!this.activeServiceWorker)return;this.sender=new dO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fp();return await AT(e,Gh,"1"),await bT(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>AT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>EO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=gf(o,!1).getAll();return new Cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OA.type="LOCAL";const AO=OA;new bu(3e4,6e4);function bO(r,e){return e?ar(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class pg extends fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wO(r){return TA(r.auth,new pg(r),r.bypassAuthState)}function RO(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),iO(n,new pg(r),r.bypassAuthState)}async function CO(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),nO(n,new pg(r),r.bypassAuthState)}class MA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wO;case"linkViaPopup":case"linkViaRedirect":return CO;case"reauthViaPopup":case"reauthViaRedirect":return RO;default:ii(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const IO=new bu(2e3,1e4);class ho extends MA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IO.get())};e()}}ho.currentPopupAction=null;const DO="pendingRedirect",wh=new Map;class NO extends MA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const s=await OO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OO(r,e){const n=xO(e),s=VO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function MO(r,e){wh.set(r._key(),e)}function VO(r){return ar(r._redirectPersistence)}function xO(r){return bh(DO,r.config.apiKey,r.name)}async function PO(r,e,n=!1){if(wn(r.app))return Promise.reject(ur(r));const s=ma(r),o=bO(s,e),h=await new NO(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const UO=600*1e3;class kO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!VA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(xi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UO&&this.cachedEventUids.clear(),this.cachedEventUids.has(wT(e))}saveEventToCache(e){this.cachedEventUids.add(wT(e)),this.lastProcessedEventTime=Date.now()}}function wT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function VA({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function LO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VA(r);default:return!1}}async function zO(r,e={}){return vs(r,"GET","/v1/projects",e)}const BO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jO=/^https?/;async function qO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await zO(r);for(const n of e)try{if(HO(n))return}catch{}ii(r,"unauthorized-domain")}function HO(r){const e=up(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!jO.test(n))return!1;if(BO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const FO=new bu(3e4,6e4);function RT(){const r=Pi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function GO(r){return new Promise((e,n)=>{function s(){RT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RT(),n(xi(r,"network-request-failed"))},timeout:FO.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)s();else{const o=LN("iframefcb");return Pi()[o]=()=>{gapi.load?s():n(xi(r,"network-request-failed"))},gA(`${kN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function KO(r){return Rh=Rh||GO(r),Rh}const QO=new bu(5e3,15e3),YO="__/auth/iframe",XO="emulator/auth/iframe",$O={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JO(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ug(e,XO):`https://${r.config.authDomain}/${YO}`,s={apiKey:e.apiKey,appName:r.name,v:ua},o=WO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${gu(s).slice(1)}`}async function ZO(r){const e=await KO(r),n=Pi().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:JO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$O,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=xi(r,"network-request-failed"),m=Pi().setTimeout(()=>{u(h)},QO.get());function p(){Pi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const eM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tM=500,nM=600,iM="_blank",rM="http://localhost";class CT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sM(r,e,n,s=tM,o=nM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...eM,width:s.toString(),height:o.toString(),top:u,left:h},g=tn().toLowerCase();n&&(m=uA(g)?iM:n),oA(g)&&(e=e||rM,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[P,F])=>`${b}${P}=${F},`,"");if(IN(g)&&m!=="_self")return aM(e||"",m),new CT(null);const S=window.open(e||"",m,E);_e(S,r,"popup-blocked");try{S.focus()}catch{}return new CT(S)}function aM(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const oM="__/auth/handler",lM="emulator/auth/handler",uM=encodeURIComponent("fac");async function IT(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ua,eventId:o};if(e instanceof vA){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",x1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof Ru){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${uM}=${encodeURIComponent(p)}`:"";return`${cM(r)}?${gu(m).slice(1)}${g}`}function cM({config:r}){return r.emulator?ug(r,lM):`https://${r.authDomain}/${oM}`}const Pm="webStorageSupport";class hM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CA,this._completeRedirectFn=PO,this._overrideRedirectResult=MO}async _openPopup(e,n,s,o){pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await IT(e,n,s,up(),o);return sM(e,u,mg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await IT(e,n,s,up(),o);return mO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ZO(e),s=new kO(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},o=>{const u=o?.[0]?.[Pm];u!==void 0&&n(!!u),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mA()||lA()||hg()}}const fM=hM;var DT="@firebase/auth",NT="1.11.1";class dM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mM(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pM(r){na(new us("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pA(r)},g=new xN(s,o,u,p);return FN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),na(new us("auth-internal",e=>{const n=ma(e.getProvider("auth").getImmediate());return(s=>new dM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(DT,NT,mM(r)),Ii(DT,NT,"esm2020")}const gM=300,_M=l0("authIdTokenMaxAge")||gM;let OT=null;const yM=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_M)return;const o=n?.token;OT!==o&&(OT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vM(r=bp()){const e=Wh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=HN(r,{popupRedirectResolver:fM,persistence:[AO,hO,CA]}),s=l0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=yM(u.toString());oO(n,h,()=>h(n.currentUser)),aO(n,m=>h(m))}}const o=s0("auth");return o&&GN(n,`http://${o}`),n}function EM(){return document.getElementsByTagName("head")?.[0]??document}PN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=xi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",EM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pM("Browser");const xA="firebasestorage.googleapis.com",PA="storageBucket",TM=120*1e3,SM=600*1e3,AM=1e3;class ht extends zi{constructor(e,n,s=0){super(Um(e),`Firebase Storage: ${n} (${Um(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Um(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rt||(rt={}));function Um(r){return"storage/"+r}function gg(){const r="An unknown error occurred, please check the error payload for server response.";return new ht(rt.UNKNOWN,r)}function bM(r){return new ht(rt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function wM(r){return new ht(rt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function RM(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ht(rt.UNAUTHENTICATED,r)}function CM(){return new ht(rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function IM(r){return new ht(rt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function UA(){return new ht(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kA(){return new ht(rt.CANCELED,"User canceled the upload/download.")}function DM(r){return new ht(rt.INVALID_URL,"Invalid URL '"+r+"'.")}function NM(r){return new ht(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function OM(){return new ht(rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PA+"' property when initializing the app?")}function LA(){return new ht(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function MM(){return new ht(rt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function VM(){return new ht(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xM(r){return new ht(rt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dp(r){return new ht(rt.INVALID_ARGUMENT,r)}function zA(){return new ht(rt.APP_DELETED,"The Firebase app was deleted.")}function PM(r){return new ht(rt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eu(r,e){return new ht(rt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function jl(r){throw new ht(rt.INTERNAL_ERROR,"Internal error: "+r)}class Rn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Rn.makeFromUrl(e,n)}catch{return new Rn(e,"")}if(s.path==="")return s;throw NM(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(fe){fe.path.charAt(fe.path.length-1)==="/"&&(fe.path_=fe.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(fe){fe.path_=decodeURIComponent(fe.path)}const E="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",P=new RegExp(`^https?://${S}/${E}/b/${o}/o${b}`,"i"),F={bucket:1,path:3},Y=n===xA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",te=new RegExp(`^https?://${Y}/${o}/${L}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:P,indices:F,postModify:g},{regex:te,indices:{bucket:1,path:2},postModify:g}];for(let fe=0;fe<ie.length;fe++){const Se=ie[fe],Ee=Se.regex.exec(e);if(Ee){const D=Ee[Se.indices.bucket];let w=Ee[Se.indices.path];w||(w=""),s=new Rn(D,w),Se.postModify(s);break}}if(s==null)throw DM(e);return s}}class UM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function kM(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...L){g||(g=!0,e.apply(null,L))}function S(L){o=setTimeout(()=>{o=null,r(P,p())},L)}function b(){u&&clearTimeout(u)}function P(L,...te){if(g){b();return}if(L){b(),E.call(null,L,...te);return}if(p()||h){b(),E.call(null,L,...te);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,S(ie)}let F=!1;function Y(L){F||(F=!0,b(),!g&&(o!==null?(L||(m=2),clearTimeout(o),S(0)):L||(m=1)))}return S(0),u=setTimeout(()=>{h=!0,Y(!0)},n),Y}function LM(r){r(!1)}function zM(r){return r!==void 0}function BM(r){return typeof r=="function"}function jM(r){return typeof r=="object"&&!Array.isArray(r)}function _f(r){return typeof r=="string"||r instanceof String}function MT(r){return _g()&&r instanceof Blob}function _g(){return typeof Blob<"u"}function VT(r,e,n,s){if(s<e)throw dp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw dp(`Invalid value for '${r}'. Expected ${n} or less.`)}function Iu(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function BA(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ea;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ea||(ea={}));function jA(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class qM{constructor(e,n,s,o,u,h,m,p,g,E,S,b=!0,P=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=S,this.retry=b,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,Y)=>{this.resolve_=F,this.reject_=Y,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new fh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===ea.NO_ERROR,p=u.getStatus();if(!m||jA(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ea.ABORT;s(!1,new fh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new fh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());zM(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=gg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?zA():kA();h(p)}else{const p=UA();h(p)}};this.canceled_?n(!1,new fh(!1,null,!0)):this.backoffId_=kM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function HM(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function FM(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GM(r,e){e&&(r["X-Firebase-GMPID"]=e)}function KM(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function QM(r,e,n,s,o,u,h=!0,m=!1){const p=BA(r.urlParams),g=r.url+p,E=Object.assign({},r.headers);return GM(E,e),HM(E,n),FM(E,u),KM(E,s),new qM(g,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}function YM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function XM(...r){const e=YM();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(_g())return new Blob(r);throw new ht(rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $M(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}function WM(r){if(typeof atob>"u")throw xM("base-64");return atob(r)}const Ci={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class km{constructor(e,n){this.data=e,this.contentType=n||null}}function JM(r,e){switch(r){case Ci.RAW:return new km(qA(e));case Ci.BASE64:case Ci.BASE64URL:return new km(HA(r,e));case Ci.DATA_URL:return new km(eV(e),tV(e))}throw gg()}function qA(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function ZM(r){let e;try{e=decodeURIComponent(r)}catch{throw eu(Ci.DATA_URL,"Malformed data URL.")}return qA(e)}function HA(r,e){switch(r){case Ci.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw eu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ci.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw eu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=WM(e)}catch(o){throw o.message.includes("polyfill")?o:eu(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class FA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw eu(Ci.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=nV(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function eV(r){const e=new FA(r);return e.base64?HA(Ci.BASE64,e.rest):ZM(e.rest)}function tV(r){return new FA(r).contentType}function nV(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class is{constructor(e,n){let s=0,o="";MT(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(MT(this.data_)){const s=this.data_,o=$M(s,e,n);return o===null?null:new is(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new is(s,!0)}}static getBlob(...e){if(_g()){const n=e.map(s=>s instanceof is?s.data_:s);return new is(XM.apply(null,n))}else{const n=e.map(h=>_f(h)?JM(Ci.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new is(o,!0)}}uploadData(){return this.data_}}function GA(r){let e;try{e=JSON.parse(r)}catch{return null}return jM(e)?e:null}function iV(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function rV(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function KA(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function sV(r,e){return e}class an{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||sV}}let dh=null;function aV(r){return!_f(r)||r.length<2?r:KA(r)}function QA(){if(dh)return dh;const r=[];r.push(new an("bucket")),r.push(new an("generation")),r.push(new an("metageneration")),r.push(new an("name","fullPath",!0));function e(u,h){return aV(h)}const n=new an("name");n.xform=e,r.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new an("size");return o.xform=s,r.push(o),r.push(new an("timeCreated")),r.push(new an("updated")),r.push(new an("md5Hash",null,!0)),r.push(new an("cacheControl",null,!0)),r.push(new an("contentDisposition",null,!0)),r.push(new an("contentEncoding",null,!0)),r.push(new an("contentLanguage",null,!0)),r.push(new an("contentType",null,!0)),r.push(new an("metadata","customMetadata",!0)),dh=r,dh}function oV(r,e){function n(){const s=r.bucket,o=r.fullPath,u=new Rn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function lV(r,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return oV(s,r),s}function YA(r,e,n){const s=GA(e);return s===null?null:lV(r,s,n)}function uV(r,e,n,s){const o=GA(e);if(o===null||!_f(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=r.bucket,S=r.fullPath,b="/b/"+h(E)+"/o/"+h(S),P=Iu(b,n,s),F=BA({alt:"media",token:g});return P+F})[0]}function XA(r,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class Vo{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function cr(r){if(!r)throw gg()}function yg(r,e){function n(s,o){const u=YA(r,o,e);return cr(u!==null),u}return n}function cV(r,e){function n(s,o){const u=YA(r,o,e);return cr(u!==null),uV(u,o,r.host,r._protocol)}return n}function Du(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=CM():o=RM():n.getStatus()===402?o=wM(r.bucket):n.getStatus()===403?o=IM(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function $A(r){const e=Du(r);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=bM(r.path)),u.serverResponse=o.serverResponse,u}return n}function hV(r,e,n){const s=e.fullServerUrl(),o=Iu(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new Vo(o,u,yg(r,n),h);return m.errorHandler=$A(e),m}function fV(r,e,n){const s=e.fullServerUrl(),o=Iu(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new Vo(o,u,cV(r,n),h);return m.errorHandler=$A(e),m}function dV(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function WA(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=dV(null,e)),s}function mV(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let ie="";for(let fe=0;fe<2;fe++)ie=ie+Math.random().toString().slice(2);return ie}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=WA(e,s,o),E=XA(g,n),S="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,b=`\r
--`+p+"--",P=is.getBlob(S,s,b);if(P===null)throw LA();const F={name:g.fullPath},Y=Iu(u,r.host,r._protocol),L="POST",te=r.maxUploadRetryTime,ne=new Vo(Y,L,yg(r,n),te);return ne.urlParams=F,ne.headers=h,ne.body=P.uploadData(),ne.errorHandler=Du(e),ne}class Qh{constructor(e,n,s,o){this.current=e,this.total=n,this.finalized=!!s,this.metadata=o||null}}function vg(r,e){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch{cr(!1)}return cr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function pV(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h=WA(e,s,o),m={name:h.fullPath},p=Iu(u,r.host,r._protocol),g="POST",E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},S=XA(h,n),b=r.maxUploadRetryTime;function P(Y){vg(Y);let L;try{L=Y.getResponseHeader("X-Goog-Upload-URL")}catch{cr(!1)}return cr(_f(L)),L}const F=new Vo(p,g,P,b);return F.urlParams=m,F.headers=E,F.body=S,F.errorHandler=Du(e),F}function gV(r,e,n,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const E=vg(g,["active","final"]);let S=null;try{S=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{cr(!1)}S||cr(!1);const b=Number(S);return cr(!isNaN(b)),new Qh(b,s.size(),E==="final")}const h="POST",m=r.maxUploadRetryTime,p=new Vo(n,h,u,m);return p.headers=o,p.errorHandler=Du(e),p}const xT=256*1024;function _V(r,e,n,s,o,u,h,m){const p=new Qh(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw MM();const g=p.total-p.current;let E=g;o>0&&(E=Math.min(E,o));const S=p.current,b=S+E;let P="";E===0?P="finalize":g===E?P="upload, finalize":P="upload";const F={"X-Goog-Upload-Command":P,"X-Goog-Upload-Offset":`${p.current}`},Y=s.slice(S,b);if(Y===null)throw LA();function L(fe,Se){const Ee=vg(fe,["active","final"]),D=p.current+E,w=s.size();let R;return Ee==="final"?R=yg(e,u)(fe,Se):R=null,new Qh(D,w,Ee==="final",R)}const te="POST",ne=e.maxUploadRetryTime,ie=new Vo(n,te,L,ne);return ie.headers=F,ie.body=Y.uploadData(),ie.progressCallback=m||null,ie.errorHandler=Du(r),ie}const pn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Lm(r){switch(r){case"running":case"pausing":case"canceling":return pn.RUNNING;case"paused":return pn.PAUSED;case"success":return pn.SUCCESS;case"canceled":return pn.CANCELED;case"error":return pn.ERROR;default:return pn.ERROR}}class yV{constructor(e,n,s){if(BM(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function so(r){return(...e)=>{Promise.resolve().then(()=>r(...e))}}class vV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ea.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ea.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ea.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw jl("cannot .send() more than once");if(_s(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class EV extends vV{initXhr(){this.xhr_.responseType="text"}}function co(){return new EV}class TV{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=QA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(rt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(jA(o.status,[]))if(u)o=UA();else{this.sleepTime=Math.max(this.sleepTime*2,AM),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(rt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=pV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,co,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const o=gV(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,co,n,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=xT*this._chunkMultiplier,n=new Qh(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=_V(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,co,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){xT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=hV(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,co,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=mV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,co,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=kA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Lm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,o){const u=new yV(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Lm(this._state)){case pn.SUCCESS:so(this._resolve.bind(null,this.snapshot))();break;case pn.CANCELED:case pn.ERROR:const n=this._reject;so(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Lm(this._state)){case pn.RUNNING:case pn.PAUSED:e.next&&so(e.next.bind(e,this.snapshot))();break;case pn.SUCCESS:e.complete&&so(e.complete.bind(e))();break;case pn.CANCELED:case pn.ERROR:e.error&&so(e.error.bind(e,this._error))();break;default:e.error&&so(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class oa{constructor(e,n){this._service=e,n instanceof Rn?this._location=n:this._location=Rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new oa(e,n)}get root(){const e=new Rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KA(this._location.path)}get storage(){return this._service}get parent(){const e=iV(this._location.path);if(e===null)return null;const n=new Rn(this._location.bucket,e);return new oa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw PM(e)}}function SV(r,e,n){return r._throwIfRoot("uploadBytesResumable"),new TV(r,new is(e),n)}function AV(r){r._throwIfRoot("getDownloadURL");const e=fV(r.storage,r._location,QA());return r.storage.makeRequestWithTokens(e,co).then(n=>{if(n===null)throw VM();return n})}function bV(r,e){const n=rV(r._location.path,e),s=new Rn(r._location.bucket,n);return new oa(r.storage,s)}function wV(r){return/^[A-Za-z]+:\/\//.test(r)}function RV(r,e){return new oa(r,e)}function JA(r,e){if(r instanceof Eg){const n=r;if(n._bucket==null)throw OM();const s=new oa(n,n._bucket);return e!=null?JA(s,e):s}else return e!==void 0?bV(r,e):r}function CV(r,e){if(e&&wV(e)){if(r instanceof Eg)return RV(r,e);throw dp("To use ref(service, url), the first argument must be a Storage instance.")}else return JA(r,e)}function PT(r,e){const n=e?.[PA];return n==null?null:Rn.makeFromBucketSpec(n,r)}function IV(r,e,n,s={}){r.host=`${e}:${n}`;const o=_s(e);o&&(Ep(`https://${r.host}/b`),Tp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:u0(u,r.app.options.projectId))}class Eg{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=xA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TM,this._maxUploadRetryTime=SM,this._requests=new Set,o!=null?this._bucket=Rn.makeFromBucketSpec(o,this._host):this._bucket=PT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rn.makeFromBucketSpec(this._url,e):this._bucket=PT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oa(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new UM(zA());{const h=QM(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const UT="@firebase/storage",kT="0.14.0";const ZA="storage";function DV(r,e,n){return r=jt(r),SV(r,e,n)}function NV(r){return r=jt(r),AV(r)}function OV(r,e){return r=jt(r),CV(r,e)}function MV(r=bp(),e){r=jt(r);const s=Wh(r,ZA).getImmediate({identifier:e}),o=a0("storage");return o&&VV(s,...o),s}function VV(r,e,n,s={}){IV(r,e,n,s)}function xV(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Eg(n,s,o,e,ua)}function PV(){na(new us(ZA,xV,"PUBLIC").setMultipleInstances(!0)),Ii(UT,kT,""),Ii(UT,kT,"esm2020")}PV();const UV={apiKey:"AIzaSyDm20Plug9S3EWQo4umsdnrMXaEn8i_Jeo",authDomain:"medical-project-6a2aa.firebaseapp.com",projectId:"medical-project-6a2aa",storageBucket:"medical-project-6a2aa.firebasestorage.app",messagingSenderId:"533053954463",appId:"1:533053954463:web:bbb60e3bd068baa90405aa",measurementId:"G-GMQZJYE7WW"},Tg=f0(UV),gr=GD(Tg),kV=MV(Tg),_r=vM(Tg);function LV(){const[r,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),h=QT(),m=async p=>{p.preventDefault(),u("");try{const E=(await sO(_r,r,n)).user.uid,S=await sN(ff(gr,"Users",E));if(S.exists()){const b=S.data().role;b==="doctor"?h("/doctor"):b==="patient"?h("/patient"):u("Role not assigned.")}else u("User profile not found in Firestore.")}catch(g){console.error(g),u("Login failed. Check email and password.")}};return K.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#e0f0ff",fontFamily:"sans-serif"},children:K.jsxs("div",{style:{backgroundColor:"white",padding:"2rem 3rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",width:"100%",maxWidth:"400px"},children:[K.jsx("h1",{style:{textAlign:"center",color:"#0077cc",marginBottom:"1rem"},children:"Medical Login"}),K.jsxs("form",{onSubmit:m,children:[K.jsx("label",{children:"Email:"}),K.jsx("input",{type:"email",value:r,onChange:p=>e(p.target.value),required:!0,style:{display:"block",width:"100%",padding:"0.5rem",marginBottom:"1rem",borderRadius:"4px",border:"1px solid #ccc"}}),K.jsx("label",{children:"Password:"}),K.jsx("input",{type:"password",value:n,onChange:p=>s(p.target.value),required:!0,style:{display:"block",width:"100%",padding:"0.5rem",marginBottom:"1rem",borderRadius:"4px",border:"1px solid #ccc"}}),K.jsx("button",{type:"submit",style:{width:"100%",padding:"0.5rem",backgroundColor:"#0077cc",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem"},children:"Sign In"}),o&&K.jsx("p",{style:{color:"red",marginTop:"1rem",textAlign:"center"},children:o})]})]})})}function zV(){const[r,e]=G.useState({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""}),[n,s]=G.useState(""),[o,u]=G.useState(null);return G.useEffect(()=>{const h=lO(_r,async m=>{if(m){u(m),s("Fetching patient info...");try{const p=KS(Oo(gr,"Patients"),QS("user_id","==",_r.currentUser.uid)),g=await ag(p);if(g.empty)s("No patient record found");else{const E=g.docs[0].data();E.date_of_birth&&E.date_of_birth.seconds&&(E.date_of_birth=new Date(E.date_of_birth.seconds*1e3).toLocaleDateString()),e(E),s("Patient info loaded")}}catch(p){console.error("Error fetching patient data:",p),s("Error fetching data")}}else u(null),s("No user logged in")});return()=>h()},[]),K.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#e0f0ff",padding:"2rem",fontFamily:"sans-serif"},children:[K.jsxs("header",{style:{backgroundColor:"#0077cc",color:"white",padding:"1rem 2rem",borderRadius:"8px",marginBottom:"2rem"},children:[K.jsx("h1",{children:"Patient Dashboard"}),K.jsx("p",{children:"View and update information and documents below:"})]}),K.jsxs("section",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:[K.jsx("h2",{children:"Patient Info"}),K.jsx("p",{style:{color:"#666"},children:n}),o&&K.jsxs("div",{style:{marginTop:"1rem",lineHeight:"1.8"},children:[K.jsxs("p",{children:[K.jsx("strong",{children:"First Name:"})," ",r.first_name]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Last Name:"})," ",r.last_name]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Email:"})," ",r.email]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Address:"})," ",r.address]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Date of Birth:"})," ",r.date_of_birth]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Gender:"})," ",r.gender]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Phone Number:"})," ",r.phone_number]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Emergency Contact Name:"})," ",r.emergency_contact_name]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Emergency Contact Phone:"})," ",r.emergency_contact_phone]})]}),K.jsx("button",{style:{marginTop:"1.5rem",padding:"0.5rem 1rem",backgroundColor:"#0077cc",color:"white",border:"none",borderRadius:"4px",cursor:"not-allowed"},disabled:!0,children:"Edit (Not Functional Yet)"})]})]})}function BV(){const[r,e]=G.useState({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""}),[n,s]=G.useState(""),o=h=>{const{name:m,value:p}=h.target;e(g=>({...g,[m]:p}))},u=async h=>{h.preventDefault(),s("Saving...");try{const p=(await AA(_r,r.email,r.password)).user,g=Date.now();await og(Oo(gr,"Patients"),{...r,patient_id:g,user_id:p.uid,phone_number:Number(r.phone_number),emergency_contact_phone:String(r.emergency_contact_phone),date_of_birth:r.date_of_birth?Fe.fromDate(new Date(r.date_of_birth)):null,created_at:Fe.now()}),await WS(ff(gr,"Users",p.uid),{uid:p.uid,email:r.email,role:"patient",created_at:Fe.now()}),s(" Patient registered successfully!"),e({first_name:"",last_name:"",email:"",password:"",address:"",date_of_birth:"",gender:"",phone_number:"",emergency_contact_name:"",emergency_contact_phone:""})}catch(m){console.error("Error adding patient:",m),s(" Error adding patient. Check console.")}};return K.jsxs("div",{style:{maxWidth:500,margin:"2rem auto",fontFamily:"sans-serif"},children:[K.jsx("h2",{children:"Patient Registration"}),K.jsxs("form",{onSubmit:u,children:[K.jsx("label",{children:"First Name:"}),K.jsx("input",{name:"first_name",value:r.first_name,onChange:o,required:!0}),K.jsx("label",{children:"Last Name:"}),K.jsx("input",{name:"last_name",value:r.last_name,onChange:o,required:!0}),K.jsx("label",{children:"Email:"}),K.jsx("input",{type:"email",name:"email",value:r.email,onChange:o,required:!0}),K.jsx("label",{children:"Password:"}),K.jsx("input",{type:"password",name:"password",value:r.password,onChange:o,required:!0}),K.jsx("label",{children:"Address:"}),K.jsx("input",{name:"address",value:r.address,onChange:o,required:!0}),K.jsx("label",{children:"Date of Birth:"}),K.jsx("input",{type:"date",name:"date_of_birth",value:r.date_of_birth,onChange:o,required:!0}),K.jsx("label",{children:"Gender:"}),K.jsxs("select",{name:"gender",value:r.gender,onChange:o,required:!0,children:[K.jsx("option",{value:"",children:"Select"}),K.jsx("option",{value:"male",children:"Male"}),K.jsx("option",{value:"female",children:"Female"}),K.jsx("option",{value:"other",children:"Other"})]}),K.jsx("label",{children:"Phone Number:"}),K.jsx("input",{name:"phone_number",value:r.phone_number,onChange:o,required:!0}),K.jsx("label",{children:"Emergency Contact Name:"}),K.jsx("input",{name:"emergency_contact_name",value:r.emergency_contact_name,onChange:o,required:!0}),K.jsx("label",{children:"Emergency Contact Phone:"}),K.jsx("input",{name:"emergency_contact_phone",value:r.emergency_contact_phone,onChange:o,required:!0}),K.jsx("button",{type:"submit",style:{marginTop:"1rem"},children:"Register"})]}),n&&K.jsx("p",{style:{marginTop:"1rem"},children:n})]})}function jV(){const[r,e]=G.useState({first_name:"",last_name:"",email:"",phone_number:"",specialty:""}),[n,s]=G.useState(""),o=h=>{const{name:m,value:p}=h.target;e(g=>({...g,[m]:p}))},u=async h=>{h.preventDefault(),s("Saving...");try{const p=(await AA(_r,r.email,r.password)).user,g=Date.now();await og(Oo(gr,"Doctors"),{...r,doctor_id:g,user_id:p.uid,phone_number:Number(r.phone_number),created_at:Fe.now()}),await WS(ff(gr,"Users",p.uid),{uid:p.uid,email:r.email,role:"doctor",created_at:Fe.now()}),s(" Doctor registered successfully!"),e({first_name:"",last_name:"",email:"",password:"",phone_number:""})}catch(m){console.error("Error adding doctor:",m),s(" Error adding doctor. Check console.")}};return K.jsxs("div",{style:{maxWidth:500,margin:"2rem auto",fontFamily:"sans-serif"},children:[K.jsx("h2",{children:"Doctor Registration"}),K.jsxs("form",{onSubmit:u,children:[K.jsx("label",{children:"First Name:"}),K.jsx("input",{name:"first_name",value:r.first_name,onChange:o,required:!0}),K.jsx("label",{children:"Last Name:"}),K.jsx("input",{name:"last_name",value:r.last_name,onChange:o,required:!0}),K.jsx("label",{children:"Email:"}),K.jsx("input",{type:"email",name:"email",value:r.email,onChange:o,required:!0}),K.jsx("label",{children:"Password:"}),K.jsx("input",{type:"password",name:"password",value:r.password,onChange:o,required:!0}),K.jsx("label",{children:"Phone Number:"}),K.jsx("input",{name:"phone_number",value:r.phone_number,onChange:o,required:!0}),K.jsx("button",{type:"submit",style:{marginTop:"1rem"},children:"Register"})]}),n&&K.jsx("p",{style:{marginTop:"1rem"},children:n})]})}function eb({onSelectPatient:r,doctorId:e}){const[n,s]=G.useState(""),[o,u]=G.useState([]),h=async()=>{if(!n.trim())return alert("Enter a last name.");if(!e)return alert("You must be logged in as a doctor.");try{const m=Oo(gr,"Patients"),p=KS(m,QS("last_name","==",n.trim())),E=(await ag(p)).docs.map(S=>({id:S.id,...S.data()}));E.length===0&&alert("No patients found with that last name."),u(E),r(null)}catch(m){console.error("Error searching patients:",m),alert("Unable to search patients. Check your permissions.")}};return K.jsxs("div",{style:{marginBottom:"1rem"},children:[K.jsx("label",{htmlFor:"lastName",className:"block mb-1 font-medium",children:"Search Patient by Last Name:"}),K.jsx("input",{type:"text",id:"lastName",placeholder:"Enter last name",value:n,onChange:m=>s(m.target.value),className:"border p-1 rounded w-full mb-2"}),K.jsx("button",{onClick:h,className:"bg-gray-700 text-white px-3 py-1 rounded",disabled:!e,children:"Search"}),o.length>0&&K.jsxs("div",{style:{marginTop:"1rem"},children:[K.jsx("label",{className:"block mb-1 font-medium",children:"Select Patient:"}),K.jsxs("select",{className:"border p-1 rounded w-full",onChange:m=>r(o.find(p=>p.id===m.target.value)),defaultValue:"",children:[K.jsx("option",{value:"",children:"-- Choose Patient --"}),o.map(m=>K.jsxs("option",{value:m.id,children:[m.first_name," ",m.last_name,"  DOB:"," ",m.date_of_birth?.toDate?m.date_of_birth.toDate().toLocaleDateString():"N/A"]},m.id))]})]})]})}function qV(){const[r,e]=G.useState(null),[n,s]=G.useState(0),[o,u]=G.useState(!1),[h,m]=G.useState(null),[p,g]=G.useState(null);G.useEffect(()=>{_r.currentUser&&g(_r.currentUser.uid)},[]);const E=b=>e(b.target.files[0]),S=async()=>{if(!r)return alert("Please select a file first.");if(!h)return alert("Please select a patient first.");if(!p)return alert("You must be logged in as a doctor.");const b=h.id,P=`patients/${b}/${r.name}`,F=OV(kV,P),Y=DV(F,r);u(!0),Y.on("state_changed",L=>{const te=L.bytesTransferred/L.totalBytes*100;s(Math.round(te))},L=>{console.error("Upload error:",L),alert("Upload failed."),u(!1)},async()=>{try{const L=await NV(Y.snapshot.ref);await og(Oo(gr,`Patients/${b}/files`),{name:r.name,url:L,uploadedBy:p,uploadedAt:oN()}),alert("Upload complete!"),e(null),s(0)}catch(L){console.error("Error saving file metadata:",L),alert("Failed to save file information.")}finally{u(!1)}})};return K.jsxs("div",{style:{maxWidth:600,margin:"2rem auto",fontFamily:"sans-serif"},children:[K.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Upload File for Patient"}),K.jsx(eb,{doctorId:p,onSelectPatient:m}),K.jsxs("div",{children:[K.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:E}),o&&K.jsxs("p",{children:["Progress: ",n,"%"]})]}),K.jsx("button",{className:"mt-2 bg-blue-500 text-white px-4 py-1 rounded",onClick:S,disabled:o||!p||!h||!r,children:o?"Uploading...":"Upload"})]})}function HV(){const[r,e]=G.useState(null),[n,s]=G.useState(null),[o,u]=G.useState([]),[h,m]=G.useState(null);return G.useEffect(()=>{_r.currentUser&&e(_r.currentUser.uid)},[]),G.useEffect(()=>{(async()=>{if(n)try{const g=Oo(gr,`Patients/${n.id}/files`),S=(await ag(g)).docs.map(b=>({id:b.id,...b.data()}));u(S),m(null)}catch(g){console.error("Error fetching files:",g),alert("Failed to fetch files.")}})()},[n]),K.jsxs("div",{style:{maxWidth:600,margin:"2rem auto",fontFamily:"sans-serif"},children:[K.jsx("h2",{className:"text-lg font-semibold mb-3",children:"View Patient Files"}),K.jsx(eb,{doctorId:r,onSelectPatient:s}),o.length>0&&K.jsxs("div",{style:{marginBottom:"1rem"},children:[K.jsx("label",{className:"block mb-1 font-medium",children:"Select File:"}),K.jsxs("select",{className:"border p-1 rounded w-full",onChange:p=>m(o.find(g=>g.id===p.target.value)),defaultValue:"",children:[K.jsx("option",{value:"",children:"-- Choose File --"}),o.map(p=>K.jsxs("option",{value:p.id,children:[p.name,"  Uploaded:"," ",p.uploadedAt?.toDate?p.uploadedAt.toDate().toLocaleString():"N/A"]},p.id))]})]}),h&&K.jsx("div",{style:{marginTop:"1rem"},children:h.name.endsWith(".pdf")?K.jsx("iframe",{src:h.url,width:"100%",height:"600px",title:h.name}):K.jsx("img",{src:h.url,alt:h.name,style:{width:"100%",maxHeight:"600px",objectFit:"contain"}})})]})}function FV(){return K.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#e0f0ff",padding:"2rem",fontFamily:"sans-serif"},children:[K.jsxs("header",{style:{backgroundColor:"#0077cc",color:"white",padding:"1rem 2rem",borderRadius:"8px",marginBottom:"2rem"},children:[K.jsx("h1",{children:"Doctor Dashboard"}),K.jsx("p",{children:"Register new patients and manage records below:"})]}),K.jsx("main",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",marginBottom:"2rem"},children:K.jsx(BV,{})}),K.jsx("section",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",marginBottom:"2rem"},children:K.jsx(jV,{})}),K.jsx("section",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",marginBottom:"2rem"},children:K.jsx(qV,{})}),K.jsx("section",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:K.jsx(HV,{})})]})}function GV(){return K.jsxs(MR,{children:[K.jsx(mh,{path:"/",element:K.jsx(LV,{})}),K.jsx(mh,{path:"/patient",element:K.jsx(zV,{})}),K.jsx(mh,{path:"/doctor",element:K.jsx(FV,{})})]})}qw.createRoot(document.getElementById("root")).render(K.jsx(t1,{basename:"/~mballard7/medical-records-swe/medical-records-deploy",children:K.jsx(GV,{})}));
